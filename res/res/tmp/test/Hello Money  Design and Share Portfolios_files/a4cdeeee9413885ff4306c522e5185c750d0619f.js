!function(){var n,t;(function(){n={}}).call(this),function(){(function(){var t=this,r=t._,e={},u=Array.prototype,i=Object.prototype,a=Function.prototype,o=u.push,c=u.slice,l=u.concat,f=i.toString,s=i.hasOwnProperty,p=u.forEach,v=u.map,h=u.reduce,d=u.reduceRight,g=u.filter,m=u.every,y=u.some,b=u.indexOf,_=u.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};"undefined"!=typeof n?("undefined"!=typeof module&&module.exports&&(n=module.exports=A),n._=A):t._=A,A.VERSION="1.5.2";var k=function(n){return"[object Arguments]"===f.call(n)};k(arguments)||(k=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var O=function(n){return n.length===+n.length&&(k(n)||n.constructor!==Object)},E=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(O(n)){for(var u=0,i=n.length;i>u;u++)if(t.call(r,n[u],u,n)===e)return}else for(var a=A.keys(n),u=0,i=a.length;i>u;u++)if(t.call(r,n[a[u]],a[u],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:v&&n.map===v?n.map(t,r):(E(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=A.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(E(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),d&&n.reduceRight===d)return e&&(t=A.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(!O(n)){var a=A.keys(n);i=a.length}if(E(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(E(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},A.reject=function(n,t,r){return A.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var u=!0;return null==n?u:m&&n.every===m?n.every(t,r):(E(n,function(n,i,a){return(u=u&&t.call(r,n,i,a))?void 0:e}),!!u)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var u=!1;return null==n?u:y&&n.some===y?n.some(t,r):(E(n,function(n,i,a){return u||(u=t.call(r,n,i,a))?e:void 0}),!!u)};A.contains=A.include=function(n,t){return null==n?!1:b&&n.indexOf===b?-1!=n.indexOf(t):M(n,function(n){return n===t})},A.invoke=function(n,t){var r=c.call(arguments,2),e=A.isFunction(t);return A.map(n,function(n){return(e?t:n[t]).apply(n,r)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-(1/0);var e={computed:-(1/0),value:-(1/0)};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},A.shuffle=function(n){var t,r=0,e=[];return E(n,function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n}),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var S=function(n){return function(t,r,e){var u={},i=null==r?A.identity:R(r);return E(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};A.groupBy=S(function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)}),A.indexBy=S(function(n,t,r){n[t]=r}),A.countBy=S(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,r,e){r=null==r?A.identity:R(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},A.toArray=function(n){return n?A.isArray(n)?c.call(n):O(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:O(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:c.call(n,0,t)},A.initial=function(n,t,r){return c.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:c.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return c.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(E(n,function(n){A.isArray(n)||A.isArguments(n)?t?o.apply(r,n):I(n,t,r):r.push(n)}),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,c.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var u=r?A.map(n,r,e):n,i=[],a=[];return E(u,function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),i.push(n[e]))}),i},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=c.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=l.apply(u,c.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=A.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,c.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=c.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(c.call(arguments)));T.prototype=n.prototype;var u=new T;T.prototype=null;var i=n.apply(u,r.concat(c.call(arguments)));return Object(i)===i?i:u}},A.partial=function(n){var t=c.call(arguments,1);return function(){return n.apply(this,t.concat(c.call(arguments)))}},A.bindAll=function(n){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=c.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(c.call(arguments,1)))},A.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},A.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return o.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},A.pick=function(n){var t={},r=l.apply(u,c.call(arguments,1));return E(r,function(r){r in n&&(t[r]=n[r])}),t},A.omit=function(n){var t={},r=l.apply(u,c.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var u=f.call(n);if(u!=f.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,l=!0;if("[object Array]"==u){if(c=n.length,l=c==t.length)for(;c--&&(l=N(n[c],t[c],r,e)););}else{for(var s in n)if(A.has(n,s)&&(c++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!c--)break;l=!c}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},E(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return t._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],function(t){return q[n][t]})}}),A.result=function(n,t){if(null==n)return void 0;var r=n[t];return A.isFunction(r)?r.call(n):r},A.mixin=function(n){E(A.functions(n),function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),U.call(this,r.apply(A,n))}})};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var u=new RegExp([(r.escape||P).source,(r.interpolate||P).source,(r.evaluate||P).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(C,function(n){return"\\"+z[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}}),E(["concat","join","slice"],function(n){var t=u[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){t=n._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:t}}();

!function(){var t=Package.underscore._,e;(function(){e={isClient:!0,isServer:!1,isCordova:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){function n(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0}if(e.isServer)var r=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return void 0;t=t[arguments[e]]}return t},_ensure:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},_delete:function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in t)){n=!1;break}if(t=t[o],"object"!=typeof t)break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},wrapAsync:function(o,i){return function(){for(var a=i||this,s=t.toArray(arguments),u,c=s.length-1;c>=0;--c){var l=s[c],f=typeof l;if("undefined"!==f){"function"===f&&(u=l);break}}if(!u){if(e.isClient)u=n;else{var _=new r;u=_.resolver()}++c}s[c]=e.bindEnvironment(u);var p=o.apply(a,s);return _?_.wait():p}},_inherits:function(e,n){for(var r in n)t.has(n,r)&&(e[r]=n[r]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}});var o=!1;e._wrapAsync=function(t,n){return o||(e._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),e.wrapAsync.apply(e,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var t=function(t){o.setImmediate(t)};return t.implementation="setImmediate",t}return null}function n(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===o&&t(e.data,s)){var n=e.data.substring(s.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var i=0,a={},s="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",e,!1):o.attachEvent("onmessage",e);var u=function(t){++i,a[i]=t,o.postMessage(s+i,"*")};return u.implementation="postMessage",u}function r(){var t=function(t){o.setTimeout(t,0)};return t.implementation="setTimeout",t}var o=this;e._setImmediate=t()||n()||r()}.call(this),function(){var n=function(t){if(Package.ddp){var e=Package.ddp.DDP._CurrentInvocation;if(e.get()&&e.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){e.withValue(null,t)}}return t},r=function(t,r){return e.bindEnvironment(n(r),t)};t.extend(e,{setTimeout:function(t,e){return setTimeout(r("setTimeout callback",t),e)},setInterval:function(t,e){return setInterval(r("setInterval callback",t),e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},defer:function(t){e._setImmediate(r("defer callback",t))}})}.call(this),function(){e.makeErrorType=function(t,n){var r=function(){var e=this;if(Error.captureStackTrace)Error.captureStackTrace(e,r);else{var o=new Error;o.__proto__=r.prototype,o instanceof r&&(e=o)}return n.apply(e,arguments),e.errorType=t,e};return e._inherits(r,Error),r},e.Error=e.makeErrorType("Meteor.Error",function(t,e,n){var r=this;r.error=t,r.reason=e,r.details=n,r.reason?r.message=r.reason+" ["+r.error+"]":r.message="["+r.error+"]"}),e.Error.prototype.clone=function(){var t=this;return new e.Error(t.error,t.reason,t.details)}}.call(this),function(){e._noYieldsAllowed=function(t){return t()},e._SynchronousQueue=function(){var t=this;t._tasks=[],t._running=!1,t._runTimeout=null},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var r=this;if(!r.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");r._tasks.push(n);var o=r._tasks;r._tasks=[],r._running=!0,r._runTimeout&&(clearTimeout(r._runTimeout),r._runTimeout=null);try{for(;!t.isEmpty(o);){var i=o.shift();try{i()}catch(a){if(t.isEmpty(o))throw a;e._debug("Exception in queued task: "+(a.stack||a))}}}finally{r._running=!1}},queueTask:function(e){var n=this;n._tasks.push(e),n._runTimeout||(n._runTimeout=setTimeout(t.bind(n.flush,n),0))},flush:function(){var t=this;t.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var t=this;return!t._running}})}.call(this),function(){var t=[],n=!e.isCordova&&("loaded"===document.readyState||"complete"==document.readyState),r=1,o=function(){if(r--,!(r>0)){n=!0;var o=function(){if(e.isCordova&&(!cordova.plugins||!cordova.plugins.CordovaUpdate))return void e.setTimeout(o,20);for(;t.length;)t.shift()()};o()}};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),e.isCordova&&(r++,document.addEventListener("deviceready",o,!1)),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&o()}),window.attachEvent("load",o)),e.startup=function(r){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(i){return void setTimeout(function(){e.startup(r)},50)}r()}else n?r():t.push(r)}}.call(this),function(){var t=0;e._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e},e._suppressed_log_expected=function(){return 0!==t}}.call(this),function(){e._escapeRegExp=function(t){return String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}.call(this),function(){var n=0,r=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return r[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(t,e){var n=r[this.slot];try{r[this.slot]=t;var o=e()}finally{r[this.slot]=n}return o}}),e.bindEnvironment=function(n,o,i){var a=t.clone(r);if(!o||"string"==typeof o){var s=o||"callback of async function";o=function(t){e._debug("Exception in "+s+":",t&&t.stack||t)}}return function(){var e=r;try{r=a;var s=n.apply(i,t.toArray(arguments))}catch(u){o(u)}finally{r=e}return s}},e._nodeCodeMustBeInFiber=function(){}}.call(this),function(){e.absoluteUrl=function(n,r){r||"object"!=typeof n||(r=n,n=void 0),r=t.extend({},e.absoluteUrl.defaultOptions,r||{});var o=r.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),n&&(o+=n),r.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),r.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.coffeescript={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.less={}}();

!function(){var e=Package.meteor.Meteor;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["npm-bcrypt"]={}}();

!function(){var n=Package.meteor.Meteor,r;(function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={},a=0;a<n.length;a++)e[n.charAt(a)]=a;r={},r.encode=function(n){if("string"==typeof n){var e=n;n=r.newBinary(e.length);for(var a=0;a<e.length;a++){var l=e.charCodeAt(a);if(l>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");n[a]=l}}for(var u=[],i=null,o=null,c=null,s=null,a=0;a<n.length;a++)switch(a%3){case 0:i=n[a]>>2&63,o=(3&n[a])<<4;break;case 1:o|=n[a]>>4&15,c=(15&n[a])<<2;break;case 2:c|=n[a]>>6&3,s=63&n[a],u.push(t(i)),u.push(t(o)),u.push(t(c)),u.push(t(s)),i=null,o=null,c=null,s=null}return null!=i&&(u.push(t(i)),u.push(t(o)),u.push(null==c?"=":t(c)),null==s&&u.push("=")),u.join("")};var t=function(r){return n.charAt(r)},l=function(n){return"="===n?-1:e[n]};r.newBinary=function(n){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var r=[],e=0;n>e;e++)r.push(0);return r.$Uint8ArrayPolyfill=!0,r}return new Uint8Array(new ArrayBuffer(n))},r.decode=function(n){var e=Math.floor(3*n.length/4);"="==n.charAt(n.length-1)&&(e--,"="==n.charAt(n.length-2)&&e--);for(var a=r.newBinary(e),t=null,u=null,i=null,o=0,c=0;c<n.length;c++){var s=n.charAt(c),f=l(s);switch(c%4){case 0:if(0>f)throw new Error("invalid base64 string");t=f<<2;break;case 1:if(0>f)throw new Error("invalid base64 string");t|=f>>4,a[o++]=t,u=(15&f)<<4;break;case 2:f>=0&&(u|=f>>2,a[o++]=u,i=(3&f)<<6);break;case 3:f>=0&&(a[o++]=i|f)}}return a}}).call(this),"undefined"==typeof Package&&(Package={}),Package.base64={Base64:r}}();

!function(){var n=Package.meteor.Meteor,e=Package.underscore._,t=Package.base64.Base64,r,u;(function(){r={},u={};var a={};r.addType=function(n,t){if(e.has(a,n))throw new Error("Type "+n+" already present");a[n]=t};var i=function(n){return e.isNaN(n)||n===1/0||n===-(1/0)},o=[{matchJSONValue:function(n){return e.has(n,"$date")&&1===e.size(n)},matchObject:function(n){return n instanceof Date},toJSONValue:function(n){return{$date:n.getTime()}},fromJSONValue:function(n){return new Date(n.$date)}},{matchJSONValue:function(n){return e.has(n,"$InfNaN")&&1===e.size(n)},matchObject:i,toJSONValue:function(n){var t;return t=e.isNaN(n)?0:n===1/0?1:-1,{$InfNaN:t}},fromJSONValue:function(n){return n.$InfNaN/0}},{matchJSONValue:function(n){return e.has(n,"$binary")&&1===e.size(n)},matchObject:function(n){return"undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&e.has(n,"$Uint8ArrayPolyfill")},toJSONValue:function(n){return{$binary:t.encode(n)}},fromJSONValue:function(n){return t.decode(n.$binary)}},{matchJSONValue:function(n){return e.has(n,"$escape")&&1===e.size(n)},matchObject:function(n){return e.isEmpty(n)||e.size(n)>2?!1:e.any(o,function(e){return e.matchJSONValue(n)})},toJSONValue:function(n){var t={};return e.each(n,function(n,e){t[e]=r.toJSONValue(n)}),{$escape:t}},fromJSONValue:function(n){var t={};return e.each(n.$escape,function(n,e){t[e]=r.fromJSONValue(n)}),t}},{matchJSONValue:function(n){return e.has(n,"$type")&&e.has(n,"$value")&&2===e.size(n)},matchObject:function(n){return r._isCustomType(n)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(t){var r=t.$type;if(!e.has(a,r))throw new Error("Custom EJSON type "+r+" is not defined");var u=a[r];return n._noYieldsAllowed(function(){return u(t.$value)})}}];r._isCustomType=function(n){return n&&"function"==typeof n.toJSONValue&&"function"==typeof n.typeName&&e.has(a,n.typeName())},r._getTypes=function(){return a},r._getConverters=function(){return o};var f=r._adjustTypesToJSONValue=function(n){if(null===n)return null;var t=c(n);return void 0!==t?t:"object"!=typeof n?n:(e.each(n,function(e,t){if("object"==typeof e||void 0===e||i(e)){var r=c(e);return r?void(n[t]=r):void f(e)}}),n)},c=function(n){for(var e=0;e<o.length;e++){var t=o[e];if(t.matchObject(n))return t.toJSONValue(n)}return void 0};r.toJSONValue=function(n){var e=c(n);return void 0!==e?e:("object"==typeof n&&(n=r.clone(n),f(n)),n)};var l=r._adjustTypesFromJSONValue=function(n){if(null===n)return null;var t=s(n);return t!==n?t:"object"!=typeof n?n:(e.each(n,function(e,t){if("object"==typeof e){var r=s(e);if(e!==r)return void(n[t]=r);l(e)}}),n)},s=function(n){if("object"==typeof n&&null!==n&&e.size(n)<=2&&e.all(n,function(n,e){return"string"==typeof e&&"$"===e.substr(0,1)}))for(var t=0;t<o.length;t++){var r=o[t];if(r.matchJSONValue(n))return r.fromJSONValue(n)}return n};r.fromJSONValue=function(n){var e=s(n);return e===n&&"object"==typeof n?(n=r.clone(n),l(n),n):e},r.stringify=function(n,e){var t=r.toJSONValue(n);return e&&(e.canonical||e.indent)?r._canonicalStringify(t,e):JSON.stringify(t)},r.parse=function(n){if("string"!=typeof n)throw new Error("EJSON.parse argument should be a string");return r.fromJSONValue(JSON.parse(n))},r.isBinary=function(n){return!!("undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&n.$Uint8ArrayPolyfill)},r.equals=function(n,t,u){var a,i=!(!u||!u.keyOrderSensitive);if(n===t)return!0;if(e.isNaN(n)&&e.isNaN(t))return!0;if(!n||!t)return!1;if("object"!=typeof n||"object"!=typeof t)return!1;if(n instanceof Date&&t instanceof Date)return n.valueOf()===t.valueOf();if(r.isBinary(n)&&r.isBinary(t)){if(n.length!==t.length)return!1;for(a=0;a<n.length;a++)if(n[a]!==t[a])return!1;return!0}if("function"==typeof n.equals)return n.equals(t,u);if("function"==typeof t.equals)return t.equals(n,u);if(n instanceof Array){if(!(t instanceof Array))return!1;if(n.length!==t.length)return!1;for(a=0;a<n.length;a++)if(!r.equals(n[a],t[a],u))return!1;return!0}switch(r._isCustomType(n)+r._isCustomType(t)){case 1:return!1;case 2:return r.equals(r.toJSONValue(n),r.toJSONValue(t))}var o;if(i){var f=[];return e.each(t,function(n,e){f.push(e)}),a=0,o=e.all(n,function(n,e){return a>=f.length?!1:e!==f[a]?!1:r.equals(n,t[f[a]],u)?(a++,!0):!1}),o&&a===f.length}return a=0,o=e.all(n,function(n,i){return e.has(t,i)&&r.equals(n,t[i],u)?(a++,!0):!1}),o&&e.size(t)===a},r.clone=function(n){var t;if("object"!=typeof n)return n;if(null===n)return null;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return n;if(r.isBinary(n)){t=r.newBinary(n.length);for(var u=0;u<n.length;u++)t[u]=n[u];return t}if(e.isArray(n)||e.isArguments(n)){for(t=[],u=0;u<n.length;u++)t[u]=r.clone(n[u]);return t}return"function"==typeof n.clone?n.clone():r._isCustomType(n)?r.fromJSONValue(r.clone(r.toJSONValue(n)),!0):(t={},e.each(n,function(n,e){t[e]=r.clone(n)}),t)},r.newBinary=t.newBinary}).call(this),function(){function n(n){return JSON.stringify(n)}var t=function(r,u,a,i,o){var f,c,l,s,y=i,h,N=u[r];switch(typeof N){case"string":return n(N);case"number":return isFinite(N)?String(N):"null";case"boolean":return String(N);case"object":if(!N)return"null";if(y=i+a,h=[],e.isArray(N)||e.isArguments(N)){for(s=N.length,f=0;s>f;f+=1)h[f]=t(f,N,a,y,o)||"null";return l=0===h.length?"[]":y?"[\n"+y+h.join(",\n"+y)+"\n"+i+"]":"["+h.join(",")+"]"}var p=e.keys(N);return o&&(p=p.sort()),e.each(p,function(e){l=t(e,N,a,y,o),l&&h.push(n(e)+(y?": ":":")+l)}),l=0===h.length?"{}":y?"{\n"+y+h.join(",\n"+y)+"\n"+i+"}":"{"+h.join(",")+"}"}};r._canonicalStringify=function(n,r){if(r=e.extend({indent:"",canonical:!1},r),r.indent===!0)r.indent="  ";else if("number"==typeof r.indent){for(var u="",a=0;a<r.indent;a++)u+=" ";r.indent=u}return t("",{"":n},r.indent,"",r.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:r,EJSONTest:u}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n=Package.ejson.EJSON,r,a;(function(){var i=new e.EnvironmentVariable;r=function(e,t){var n=i.getOrNullIfOutsideFiber();n&&n.checking(e);var r=p(e,t);if(r){var o=new a.Error(r.message);throw r.path&&(o.message+=" in field "+r.path,o.path=r.path),o}},a={Optional:function(e){return new o(e)},OneOf:function(){return new s(t.toArray(arguments))},Any:["__any__"],Where:function(e){return new c(e)},ObjectIncluding:function(e){return new f(e)},ObjectWithValues:function(e){return new u(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")}),test:function(e,t){return!p(e,t)},_failIfArgumentsAreNotAllChecked:function(e,t,n,r){var a=new g(n,r),o=i.withValue(a,function(){return e.apply(t,n)});return a.throwUnlessAllArgumentsHaveBeenChecked(),o}};var o=function(e){this.pattern=e},s=function(e){if(t.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},c=function(e){this.condition=e},f=function(e){this.pattern=e},u=function(e){this.pattern=e},h=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],p=function(e,r){if(r===a.Any)return!1;for(var i=0;i<h.length;++i)if(r===h[i][0])return typeof e===h[i][1]?!1:{message:"Expected "+h[i][1]+", got "+typeof e,path:""};if(null===r)return null===e?!1:{message:"Expected null, got "+n.stringify(e),path:""};if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)return e===r?!1:{message:"Expected "+r+", got "+n.stringify(e),path:""};if(r===a.Integer)return"number"==typeof e&&(0|e)===e?!1:{message:"Expected Integer, got "+(e instanceof Object?n.stringify(e):e),path:""};if(r===Object&&(r=a.ObjectIncluding({})),r instanceof Array){if(1!==r.length)return{message:"Bad pattern: arrays must have one type element"+n.stringify(r),path:""};if(!t.isArray(e)&&!t.isArguments(e))return{message:"Expected array, got "+n.stringify(e),path:""};for(var i=0,g=e.length;g>i;i++){var l=p(e[i],r[0]);if(l)return l.path=d(i,l.path),l}return!1}if(r instanceof c){var l;try{l=r.condition(e)}catch(m){if(!(m instanceof a.Error))throw m;return{message:m.message,path:m.path}}return r.condition(e)?!1:{message:"Failed Match.Where validation",path:""}}if(r instanceof o&&(r=a.OneOf(void 0,r.pattern)),r instanceof s){for(var i=0;i<r.choices.length;++i){var l=p(e,r.choices[i]);if(!l)return!1}return{message:"Failed Match.OneOf or Match.Optional validation",path:""}}if(r instanceof Function)return e instanceof r?!1:{message:"Expected "+(r.name||"particular constructor"),path:""};var y=!1,v;if(r instanceof f&&(y=!0,r=r.pattern),r instanceof u&&(y=!0,v=[r.pattern],r={}),"object"!=typeof r)return{message:"Bad pattern: unknown pattern type",path:""};if("object"!=typeof e)return{message:"Expected object, got "+typeof e,path:""};if(null===e)return{message:"Expected object, got null",path:""};if(e.constructor!==Object)return{message:"Expected plain object",path:""};var k={},w={};t.each(r,function(e,t){e instanceof o?w[t]=e.pattern:k[t]=e});for(var b=t.keys(e),i=0,g=b.length;g>i;i++){var O=b[i],E=e[O];if(t.has(k,O)){var l=p(E,k[O]);if(l)return l.path=d(O,l.path),l;delete k[O]}else if(t.has(w,O)){var l=p(E,w[O]);if(l)return l.path=d(O,l.path),l}else{if(!y)return{message:"Unknown key",path:O};if(v){var l=p(E,v[0]);if(l)return l.path=d(O,l.path),l}}}var b=t.keys(k);return b.length?{message:"Missing key '"+b[0]+"'",path:""}:void 0},g=function(e,n){var r=this;r.args=t.clone(e),r.args.reverse(),r.description=n};t.extend(g.prototype,{checking:function(e){var n=this;n._checkingOneValue(e)||(t.isArray(e)||t.isArguments(e))&&t.each(e,t.bind(n._checkingOneValue,n))},_checkingOneValue:function(e){for(var n=this,r=0;r<n.args.length;++r)if(e===n.args[r]||t.isNaN(e)&&t.isNaN(n.args[r]))return n.args.splice(r,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!t.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var l=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],d=function(e,n){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||t.contains(l,e))&&(e=JSON.stringify([e])),n&&"["!==n[0]?e+"."+n:e+n}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:r,Match:a}}();

!function(){var e=Package.meteor.Meteor,a=Package.check.check,c=Package.check.Match;"undefined"==typeof Package&&(Package={}),Package["babel-compiler"]={}}();

!function(){var e=Package.meteor.Meteor,a;"undefined"==typeof Package&&(Package={}),Package.ecmascript={ECMAScript:a}}();

!function(){var t=Package.meteor.Meteor,r;(function(){function t(){var t={},r="t";try{Object.defineProperty(t,r,{enumerable:!1,value:t});for(var e in t)if(e===r)return!1}catch(n){return!1}return t[r]===t}var e=Object.prototype.hasOwnProperty;r={sanitizeForInObject:t()?function(t){return t}:function(t){if(Array.isArray(t)){for(var r={},e=Object.keys(t),n=e.length,o=0;n>o;++o){var a=e[o];r[a]=t[a]}return r}return t},taggedTemplateLiteralLoose:function(t,r){return t.raw=r,t},classCallCheck:function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},inherits:function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);if(r){if(Object.create)t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});else{var n=function(){this.constructor=t};n.prototype=r.prototype,t.prototype=new n}for(var o in r)e.call(r,o)&&(t[o]=r[o])}},createClass:function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=!1;try{Object.defineProperty({},"x",{}),r=!0}catch(e){}return function(e,n,o){if(!r)throw new Error("Your browser does not support this type of class property.  For example, Internet Explorer 8 does not support getters and setters.");return n&&t(e.prototype,n),o&&t(e,o),e}}(),_extends:Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)e.call(n,o)&&(t[o]=n[o])}return t},objectWithoutProperties:function(t,r){var n={};t:for(var o in t)if(e.call(t,o)){for(var a=0;a<r.length;a++)if(r[a]===o)continue t;n[o]=t[o]}return n},objectDestructuringEmpty:function(t){if(null==t)throw new TypeError("Cannot destructure undefined")},bind:Function.prototype.bind||function(){var t=function(t){return"function"==typeof t},r=Object,e=Object.prototype.toString,n=Array.prototype.slice,o=Array.prototype.concat,a=Array.prototype.push,i=Math.max,c=function u(){};return function p(e){var u=this;if(!t(u))throw new TypeError("Function.prototype.bind called on incompatible "+u);for(var p=n.call(arguments,1),l,f=function(){if(this instanceof l){var t=u.apply(this,o.call(p,n.call(arguments)));return r(t)===t?t:this}return u.apply(e,o.call(p,n.call(arguments)))},s=i(0,u.length-p.length),y=[],b=0;s>b;b++)a.call(y,"$"+b);return l=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this, arguments); }")(f),u.prototype&&(c.prototype=u.prototype,l.prototype=new c,c.prototype=null),l}}(),slice:Array.prototype.slice}}).call(this),"undefined"==typeof Package&&(Package={}),Package["babel-runtime"]={babelHelpers:r}}();

!function(){var t=Package.meteor.Meteor,n,r,e,o,i;!function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p="",n(0)}([function(t,o,i){i(1),i(50),i(77),i(96),n=o.Symbol=i(99),r=o.Map=i(100),e=o.Set=i(108)},function(t,n,r){r(2),r(28),r(31),r(33),r(37),r(39),r(41),r(42),r(43),r(44),r(45),r(46),r(47),r(48),r(49),t.exports=r(9).Object},function(t,n,r){"use strict";var e=r(3),o=r(4),i=r(5),u=r(6),c=r(8),f=r(12),s=r(7),a=r(14),p=r(15),l=r(13),v=r(16),h=r(17),g=r(22),y=r(23),d=r(24),m=r(25),x=r(26),S=r(18),b=r(11),_=e.getDesc,w=e.setDesc,O=e.create,P=g.get,j=o.Symbol,A=o.JSON,E=A&&A.stringify,F=!1,k=v("_hidden"),M=e.isEnum,D=a("symbol-registry"),N=a("symbols"),T="function"==typeof j,C=Object.prototype,W=u&&s(function(){return 7!=O(w({},"a",{get:function(){return w(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=_(C,n);e&&delete C[n],w(t,n,r),e&&t!==C&&w(C,n,e)}:w,I=function(t){var n=N[t]=O(j.prototype);return n._k=t,u&&F&&W(C,t,{configurable:!0,set:function(n){i(this,k)&&i(this[k],t)&&(this[k][t]=!1),W(this,t,b(1,n))}}),n},R=function(t){return"symbol"==typeof t},z=function Q(t,n,r){return r&&i(N,n)?(r.enumerable?(i(t,k)&&t[k][n]&&(t[k][n]=!1),r=O(r,{enumerable:b(0,!1)})):(i(t,k)||w(t,k,b(1,{})),t[k][n]=!0),W(t,n,r)):w(t,n,r)},G=function V(t,n){x(t);for(var r=y(n=S(n)),e=0,o=r.length,i;o>e;)z(t,i=r[e++],n[i]);return t},J=function X(t,n){return void 0===n?O(t):G(O(t),n)},L=function Y(t){var n=M.call(this,t);return n||!i(this,t)||!i(N,t)||i(this,k)&&this[k][t]?n:!0},K=function Z(t,n){var r=_(t=S(t),n);return!r||!i(N,n)||i(t,k)&&t[k][n]||(r.enumerable=!0),r},B=function tt(t){for(var n=P(S(t)),r=[],e=0,o;n.length>e;)i(N,o=n[e++])||o==k||r.push(o);return r},H=function nt(t){for(var n=P(S(t)),r=[],e=0,o;n.length>e;)i(N,o=n[e++])&&r.push(N[o]);return r},q=function rt(t){for(var n=[t],r=1,e,o;arguments.length>r;)n.push(arguments[r++]);return e=n[1],"function"==typeof e&&(o=e),(o||!d(e))&&(e=function(t,n){return o&&(n=o.call(this,t,n)),R(n)?void 0:n}),n[1]=e,E.apply(A,n)},U=s(function(){var t=j();return"[null]"!=E([t])||"{}"!=E({a:t})||"{}"!=E(Object(t))});T||(j=function et(){if(R(this))throw TypeError("Symbol is not a constructor");return I(l(arguments[0]))},f(j.prototype,"toString",function ot(){return this._k}),R=function(t){return t instanceof j},e.create=J,e.isEnum=L,e.getDesc=K,e.setDesc=z,e.setDescs=G,e.getNames=g.get=B,e.getSymbols=H,u&&!r(27)&&f(C,"propertyIsEnumerable",L,!0));var $={"for":function(t){return i(D,t+="")?D[t]:D[t]=j(t)},keyFor:function it(t){return h(D,t)},useSetter:function(){F=!0},useSimple:function(){F=!1}};e.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var n=v(t);$[t]=T?n:I(n)}),F=!0,c(c.G+c.W,{Symbol:j}),c(c.S,"Symbol",$),c(c.S+c.F*!T,"Object",{create:J,defineProperty:z,defineProperties:G,getOwnPropertyDescriptor:K,getOwnPropertyNames:B,getOwnPropertySymbols:H}),A&&c(c.S+c.F*(!T||U),"JSON",{stringify:q}),p(j,"Symbol"),p(Math,"Math",!0),p(o.JSON,"JSON",!0)},function(t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},function(t,n){var r="undefined",e=t.exports=typeof window!=r&&window.Math==Math?window:typeof self!=r&&self.Math==Math?self:Function("return this")();"number"==typeof o&&(o=e)},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){t.exports=!r(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},function(t,n,r){var e=r(4),o=r(9),i=r(10),u=r(12),c="prototype",f=function(t,n){return function(){return t.apply(n,arguments)}},s=function(t,n,r){var a,p,l,v,h=t&s.G,g=t&s.P,y=h?e:t&s.S?e[n]||(e[n]={}):(e[n]||{})[c],d=h?o:o[n]||(o[n]={});h&&(r=n);for(a in r)p=!(t&s.F)&&y&&a in y,l=(p?y:r)[a],v=t&s.B&&p?f(l,e):g&&"function"==typeof l?f(Function.call,l):l,y&&!p&&u(y,a,l),d[a]!=l&&i(d,a,v),g&&((d[c]||(d[c]={}))[a]=l)};e.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},function(t,n){var r=t.exports={version:"1.2.1"};"number"==typeof i&&(i=r)},function(t,n,r){var e=r(3),o=r(11);t.exports=r(6)?function(t,n,r){return e.setDesc(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,r){var e=r(4),o=r(10),i=r(13)("src"),u="toString",c=Function[u],f=(""+c).split(u);r(9).inspectSource=function(t){return c.call(t)},(t.exports=function(t,n,r,u){"function"==typeof r&&(o(r,i,t[n]?""+t[n]:f.join(String(n))),"name"in r||(r.name=n)),t===e?t[n]=r:(u||delete t[n],o(t,n,r))})(Function.prototype,u,function s(){return"function"==typeof this&&this[i]||c.call(this)})},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(4),o="__core-js_shared__",i=e[o]||(e[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n,r){var e=r(5),o=r(10),i=r(16)("toStringTag");t.exports=function(t,n,r){t&&!e(t=r?t:t.prototype,i)&&o(t,i,n)}},function(t,n,r){var e=r(14)("wks"),o=r(4).Symbol;t.exports=function(t){return e[t]||(e[t]=o&&o[t]||(o||r(13))("Symbol."+t))}},function(t,n,r){var e=r(3),o=r(18);t.exports=function(t,n){for(var r=o(t),i=e.getKeys(r),u=i.length,c=0,f;u>c;)if(r[f=i[c++]]===n)return f}},function(t,n,r){var e=r(19),o=r(21);t.exports=function(t){return e(o(t))}},function(t,n,r){var e=r(20);t.exports=0 in Object("z")?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,r){var e={}.toString,o=r(18),i=r(3).getNames,u="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(n){return u.slice()}};t.exports.get=function f(t){return u&&"[object Window]"==e.call(t)?c(t):i(o(t))}},function(t,n,r){var e=r(3);t.exports=function(t){var n=e.getKeys(t),r=e.getSymbols;if(r)for(var o=r(t),i=e.isEnum,u=0,c;o.length>u;)i.call(t,c=o[u++])&&n.push(c);return n}},function(t,n,r){var e=r(20);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(25);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=!1},function(t,n,r){var e=r(8);e(e.S+e.F,"Object",{assign:r(29)})},function(t,r,e){var o=e(30),i=e(19),u=e(23),c=e(5);t.exports=e(7)(function(){var t=Object.assign,r={},e={},o=n(),i="abcdefghijklmnopqrst";return r[o]=7,i.split("").forEach(function(t){e[t]=t}),7!=t({},r)[o]||Object.keys(t({},e)).join("")!=i})?function f(t,n){for(var r=o(t),e=arguments.length,f=1;e>f;)for(var s=i(arguments[f++]),a=u(s),p=a.length,l=0,v;p>l;)c(s,v=a[l++])&&(r[v]=s[v]);return r}:Object.assign},function(t,n,r){var e=r(21);t.exports=function(t){return Object(e(t))}},function(t,n,r){var e=r(8);e(e.S,"Object",{is:r(32)})},function(t,n){t.exports=Object.is||function r(t,n){return t===n?0!==t||1/t===1/n:t!=t&&n!=n}},function(t,n,r){var e=r(8);e(e.S,"Object",{setPrototypeOf:r(34).set})},function(t,n,r){var e=r(3).getDesc,o=r(25),i=r(26),u=function(t,n){if(i(t),!o(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,o){try{o=r(35)(Function.call,e(Object.prototype,"__proto__").set,2),o(t,[]),n=!(t instanceof Array)}catch(i){n=!0}return function c(t,r){return u(t,r),n?t.__proto__=r:o(t,r),t}}({},!1):void 0),check:u}},function(t,n,r){var e=r(36);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){"use strict";var e=r(38),o={};o[r(16)("toStringTag")]="z",o+""!="[object z]"&&r(12)(Object.prototype,"toString",function i(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(20),o=r(16)("toStringTag"),i="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=(n=Object(t))[o])?r:i?e(n):"Object"==(u=e(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,r){var e=r(25);r(40)("freeze",function(t){return function n(r){return t&&e(r)?t(r):r}})},function(t,n,r){t.exports=function(t,n){var e=r(8),o=(r(9).Object||{})[t]||Object[t],i={};i[t]=n(o),e(e.S+e.F*r(7)(function(){o(1)}),"Object",i)}},function(t,n,r){var e=r(25);r(40)("seal",function(t){return function n(r){return t&&e(r)?t(r):r}})},function(t,n,r){var e=r(25);r(40)("preventExtensions",function(t){return function n(r){return t&&e(r)?t(r):r}})},function(t,n,r){var e=r(25);r(40)("isFrozen",function(t){return function n(r){return e(r)?t?t(r):!1:!0}})},function(t,n,r){var e=r(25);r(40)("isSealed",function(t){return function n(r){return e(r)?t?t(r):!1:!0}})},function(t,n,r){var e=r(25);r(40)("isExtensible",function(t){return function n(r){return e(r)?t?t(r):!0:!1}})},function(t,n,r){var e=r(18);r(40)("getOwnPropertyDescriptor",function(t){return function n(r,o){return t(e(r),o)}})},function(t,n,r){var e=r(30);r(40)("getPrototypeOf",function(t){return function n(r){return t(e(r))}})},function(t,n,r){var e=r(30);r(40)("keys",function(t){return function n(r){return t(e(r))}})},function(t,n,r){r(40)("getOwnPropertyNames",function(){return r(22).get})},function(t,n,r){r(51),r(57),r(63),r(64),r(66),r(69),r(72),r(74),r(76),t.exports=r(9).Array},function(t,n,r){"use strict";var e=r(52)(!0);r(54)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,n=this._i,r;return n>=t.length?{value:void 0,done:!0}:(r=e(t,n),this._i+=r.length,{value:r,done:!1})})},function(t,n,r){var e=r(53),o=r(21);t.exports=function(t){return function(n,r){var i=String(o(n)),u=e(r),c=i.length,f,s;return 0>u||u>=c?t?"":void 0:(f=i.charCodeAt(u),55296>f||f>56319||u+1===c||(s=i.charCodeAt(u+1))<56320||s>57343?t?i.charAt(u):f:t?i.slice(u,u+2):(f-55296<<10)+(s-56320)+65536)}}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){"use strict";var e=r(27),o=r(8),i=r(12),u=r(10),c=r(5),f=r(16)("iterator"),s=r(55),a=!([].keys&&"next"in[].keys()),p="@@iterator",l="keys",v="values",h=function(){return this};t.exports=function(t,n,g,y,d,m,x){r(56)(g,n,y);var S=function(t){switch(t){case l:return function n(){return new g(this,t)};case v:return function r(){return new g(this,t)}}return function e(){return new g(this,t)}},b=n+" Iterator",_=t.prototype,w=_[f]||_[p]||d&&_[d],O=w||S(d),P,j;if(w){var A=r(3).getProto(O.call(new t));r(15)(A,b,!0),!e&&c(_,p)&&u(A,f,h)}if((!e||x)&&u(_,f,O),s[n]=O,s[b]=h,d)if(P={keys:m?O:S(l),values:d==v?O:S(v),entries:d!=v?O:S("entries")},x)for(j in P)j in _||i(_,j,P[j]);else o(o.P+o.F*a,n,P)}},function(t,n){t.exports={}},function(t,n,r){"use strict";var e=r(3),o={};r(10)(o,r(16)("iterator"),function(){return this}),t.exports=function(t,n,i){t.prototype=e.create(o,{next:r(11)(1,i)}),r(15)(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(35),o=r(8),i=r(30),u=r(58),c=r(59),f=r(60),s=r(61);o(o.S+o.F*!r(62)(function(t){Array.from(t)}),"Array",{from:function a(t){var n=i(t),r="function"==typeof this?this:Array,o=arguments[1],a=void 0!==o,p=0,l=s(n),v,h,g,y;if(a&&(o=e(o,arguments[2],2)),void 0==l||r==Array&&c(l))for(v=f(n.length),h=new r(v);v>p;p++)h[p]=a?o(n[p],p):n[p];else for(y=l.call(n),h=new r;!(g=y.next()).done;p++)h[p]=a?u(y,o,[g.value,p],!0):g.value;return h.length=p,h}})},function(t,n,r){var e=r(26);t.exports=function(t,n,r,o){try{return o?n(e(r)[0],r[1]):n(r)}catch(i){var u=t["return"];throw void 0!==u&&e(u.call(t)),i}}},function(t,n,r){var e=r(55),o=r(16)("iterator");t.exports=function(t){return(e.Array||Array.prototype[o])===t}},function(t,n,r){var e=r(53),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){var e=r(38),o=r(16)("iterator"),i=r(55);t.exports=r(9).getIteratorMethod=function(t){return void 0!=t?t[o]||t["@@iterator"]||i[e(t)]:void 0}},function(t,n,r){var e=r(16)("iterator"),o=!1;try{var i=[7][e]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(u){}t.exports=function(t){if(!o)return!1;var n=!1;try{var r=[7],i=r[e]();i.next=function(){n=!0},r[e]=function(){return i},t(r)}catch(u){}return n}},function(t,n,r){"use strict";var e=r(8);e(e.S+e.F*r(7)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function o(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)r[t]=arguments[t++];return r.length=n,r}})},function(t,n,r){r(65)(Array)},function(t,n,r){"use strict";var e=r(3),o=r(16)("species");t.exports=function(t){!r(6)||o in t||e.setDesc(t,o,{configurable:!0,get:function(){return this}})}},function(t,n,r){"use strict";var e=r(67),o=r(68),i=r(55),u=r(18);r(54)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):"keys"==n?o(0,r):"values"==n?o(0,t[r]):o(0,[r,t[r]])},"values"),i.Arguments=i.Array,e("keys"),e("values"),e("entries")},function(t,n,r){var e=r(16)("unscopables");void 0==[][e]&&r(10)(Array.prototype,e,{}),t.exports=function(t){[][e][t]=!0}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){"use strict";var e=r(8);e(e.P,"Array",{copyWithin:r(70)}),r(67)("copyWithin")},function(t,n,r){"use strict";var e=r(30),o=r(71),i=r(60);t.exports=[].copyWithin||function u(t,n){var r=e(this),u=i(r.length),c=o(t,u),f=o(n,u),s=arguments[2],a=Math.min((void 0===s?u:o(s,u))-f,u-c),p=1;for(c>f&&f+a>c&&(p=-1,f+=a-1,c+=a-1);a-->0;)f in r?r[c]=r[f]:delete r[c],c+=p,f+=p;return r}},function(t,n,r){var e=r(53),o=Math.max,i=Math.min;t.exports=function(t,n){return t=e(t),0>t?o(t+n,0):i(t,n)}},function(t,n,r){var e=r(8);e(e.P,"Array",{fill:r(73)}),r(67)("fill")},function(t,n,r){"use strict";var e=r(30),o=r(71),i=r(60);t.exports=[].fill||function u(t){for(var n=e(this,!0),r=i(n.length),u=o(arguments[1],r),c=arguments[2],f=void 0===c?r:o(c,r);f>u;)n[u++]=t;return n}},function(t,n,r){"use strict";var e="find",o=r(8),i=!0,u=r(75)(5);e in[]&&Array(1)[e](function(){i=!1}),o(o.P+o.F*i,"Array",{find:function c(t){return u(this,t,arguments[1])}}),r(67)(e)},function(t,n,r){var e=r(35),o=r(25),i=r(19),u=r(30),c=r(60),f=r(24),s=r(16)("species"),a=function(t,n){var r;return f(t)&&o(r=t.constructor)&&(r=r[s],null===r&&(r=void 0)),new(void 0===r?Array:r)(n)};t.exports=function(t){var n=1==t,r=2==t,o=3==t,f=4==t,s=6==t,p=5==t||s;return function(l,v,h){for(var g=u(l),y=i(g),d=e(v,h,3),m=c(y.length),x=0,S=n?a(l,m):r?a(l,0):void 0,b,_;m>x;x++)if((p||x in y)&&(b=y[x],_=d(b,x,g),t))if(n)S[x]=_;else if(_)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:S.push(b)}else if(f)return!1;return s?-1:o||f?f:S}}},function(t,n,r){"use strict";var e="findIndex",o=r(8),i=!0,u=r(75)(6);e in[]&&Array(1)[e](function(){i=!1}),o(o.P+o.F*i,"Array",{findIndex:function c(t){return u(this,t,arguments[1])}}),r(67)(e)},function(t,n,r){r(78),r(79),r(80),r(51),r(82),r(83),r(87),r(88),r(90),r(91),r(93),r(94),r(95),t.exports=r(9).String},function(t,n,r){var e=r(8),o=r(71),i=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function c(t){for(var n=[],r=arguments.length,e=0,u;r>e;){if(u=+arguments[e++],o(u,1114111)!==u)throw RangeError(u+" is not a valid code point");n.push(65536>u?i(u):i(((u-=65536)>>10)+55296,u%1024+56320))}return n.join("")}})},function(t,n,r){var e=r(8),o=r(18),i=r(60);e(e.S,"String",{raw:function u(t){for(var n=o(t.raw),r=i(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),e>c&&u.push(String(arguments[c]));return u.join("")}})},function(t,n,r){"use strict";r(81)("trim",function(t){return function n(){return t(this,3)}})},function(t,n,r){var e=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(s,"")),2&n&&(t=t.replace(a,"")),t},o=r(8),i=r(21),u="	\n\f\r   ᠎             　\u2028\u2029\ufeff",c="["+u+"]",f="​",s=RegExp("^"+c+c+"*"),a=RegExp(c+c+"*$");t.exports=function(t,n){var i={};i[t]=n(e),o(o.P+o.F*r(7)(function(){return!!u[t]()||f[t]()!=f}),"String",i)}},function(t,n,r){"use strict";var e=r(8),o=r(52)(!1);e(e.P,"String",{codePointAt:function i(t){return o(this,t)}})},function(t,n,r){"use strict";var e=r(8),o=r(60),i=r(84),u="endsWith",c=""[u];e(e.P+e.F*r(86)(u),"String",{endsWith:function f(t){var n=i(this,t,u),r=arguments[1],e=o(n.length),f=void 0===r?e:Math.min(o(r),e),s=String(t);return c?c.call(n,s,f):n.slice(f-s.length,f)===s}})},function(t,n,r){var e=r(85),o=r(21);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(t))}},function(t,n,r){var e=r(25),o=r(20),i=r(16)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[i])?!!n:"RegExp"==o(t))}},function(t,n,r){t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r(16)("match")]=!1,!"/./"[t](n)}catch(e){}}return!0}},function(t,n,r){"use strict";var e=r(8),o=r(84),i="includes";e(e.P+e.F*r(86)(i),"String",{includes:function u(t){return!!~o(this,t,i).indexOf(t,arguments[1])}})},function(t,n,r){var e=r(8);e(e.P,"String",{repeat:r(89)})},function(t,n,r){"use strict";var e=r(53),o=r(21);t.exports=function i(t){var n=String(o(this)),r="",i=e(t);if(0>i||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(n+=n))1&i&&(r+=n);return r}},function(t,n,r){"use strict";var e=r(8),o=r(60),i=r(84),u="startsWith",c=""[u];e(e.P+e.F*r(86)(u),"String",{startsWith:function f(t){var n=i(this,t,u),r=o(Math.min(arguments[1],n.length)),e=String(t);return c?c.call(n,e,r):n.slice(r,r+e.length)===e}})},function(t,n,r){r(92)("match",1,function(t,n){return function r(e){"use strict";var o=t(this),i=void 0==e?void 0:e[n];return void 0!==i?i.call(e,o):new RegExp(e)[n](String(o))}})},function(t,n,r){"use strict";t.exports=function(t,n,e){var o=r(21),i=r(16)(t),u=""[t];r(7)(function(){var n={};return n[i]=function(){return 7},7!=""[t](n)})&&(r(12)(String.prototype,t,e(o,i,u)),r(10)(RegExp.prototype,i,2==n?function(t,n){return u.call(t,this,n)}:function(t){return u.call(t,this)}))}},function(t,n,r){r(92)("replace",2,function(t,n,r){return function e(o,i){"use strict";var u=t(this),c=void 0==o?void 0:o[n];return void 0!==c?c.call(o,u,i):r.call(String(u),o,i)}})},function(t,n,r){r(92)("search",1,function(t,n){return function r(e){"use strict";var o=t(this),i=void 0==e?void 0:e[n];return void 0!==i?i.call(e,o):new RegExp(e)[n](String(o))}})},function(t,n,r){r(92)("split",2,function(t,n,r){return function e(o,i){"use strict";var u=t(this),c=void 0==o?void 0:o[n];return void 0!==c?c.call(o,u,i):r.call(String(u),o,i)}})},function(t,n,r){r(97),r(98),t.exports=r(9).Function},function(t,n,r){var e=r(3).setDesc,o=r(11),i=r(5),u=Function.prototype,c=/^\s*function ([^ (]*)/,f="name";f in u||r(6)&&e(u,f,{configurable:!0,get:function(){var t=(""+this).match(c),n=t?t[1]:"";return i(this,f)||e(this,f,o(5,n)),n}})},function(t,n,r){"use strict";var e=r(3),o=r(25),i=r(16)("hasInstance"),u=Function.prototype;i in u||e.setDesc(u,i,{value:function(t){if("function"!=typeof this||!o(t))return!1;if(!o(this.prototype))return t instanceof this;for(;t=e.getProto(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){r(2),t.exports=r(9).Symbol},function(t,n,r){r(37),r(51),r(101),r(102),t.exports=r(9).Map},function(t,n,r){r(66);var e=r(4),o=r(10),i=r(55),u=r(16)("iterator"),c=e.NodeList,f=e.HTMLCollection,s=c&&c.prototype,a=f&&f.prototype,p=i.NodeList=i.HTMLCollection=i.Array;!c||u in s||o(s,u,p),!f||u in a||o(a,u,p)},function(t,n,r){"use strict";var e=r(103);r(107)("Map",function(t){return function n(){return t(this,arguments[0])}},{get:function o(t){var n=e.getEntry(this,t);return n&&n.v},set:function i(t,n){return e.def(this,0===t?0:t,n)}},e,!0)},function(t,n,r){"use strict";var e=r(3),o=r(10),i=r(35),u=r(65),c=r(104),f=r(21),s=r(105),a=r(68),p=r(13)("id"),l=r(5),v=r(25),h=Object.isExtensible||v,g=r(6),y=g?"_s":"size",d=0,m=function(t,n){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!l(t,p)){if(!h(t))return"F";if(!n)return"E";o(t,p,++d)}return"O"+t[p]},x=function(t,n){var r=m(n),e;if("F"!==r)return t._i[r];for(e=t._f;e;e=e.n)if(e.k==n)return e};t.exports={getConstructor:function(t,n,o,u){var a=t(function(t,r){c(t,a,n),t._i=e.create(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=r&&s(r,o,t[u],t)});return r(106)(a.prototype,{clear:function p(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[y]=0},"delete":function(t){var n=this,r=x(n,t);if(r){var e=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=e),e&&(e.p=o),n._f==r&&(n._f=e),n._l==r&&(n._l=o),n[y]--}return!!r},forEach:function l(t){for(var n=i(t,arguments[1],3),r;r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function v(t){return!!x(this,t)}}),g&&e.setDesc(a.prototype,"size",{get:function(){return f(this[y])}}),a},def:function(t,n,r){var e=x(t,n),o,i;return e?e.v=r:(t._l=e={i:i=m(n,!0),k:n,v:r,p:o=t._l,n:void 0,r:!1},t._f||(t._f=e),o&&(o.n=e),t[y]++,"F"!==i&&(t._i[i]=e)),t},getEntry:x,setStrong:function(t,n,e){r(54)(t,n,function(t,n){this._t=t,this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?a(0,r.k):"values"==n?a(0,r.v):a(0,[r.k,r.v]):(t._t=void 0,a(1))},e?"entries":"values",!e,!0),u(t),u(r(9)[n])}}},function(t,n){t.exports=function(t,n,r){if(!(t instanceof n))throw TypeError(r+": use the 'new' operator!");return t}},function(t,n,r){var e=r(35),o=r(58),i=r(59),u=r(26),c=r(60),f=r(61);t.exports=function(t,n,r,s){var a=f(t),p=e(r,s,n?2:1),l=0,v,h,g;if("function"!=typeof a)throw TypeError(t+" is not iterable!");if(i(a))for(v=c(t.length);v>l;l++)n?p(u(h=t[l])[0],h[1]):p(t[l]);else for(g=a.call(t);!(h=g.next()).done;)o(g,p,h.value,n)}},function(t,n,r){var e=r(12);t.exports=function(t,n){for(var r in n)e(t,r,n[r]);return t}},function(t,n,r){"use strict";var e=r(4),o=r(8),i=r(105),u=r(104);t.exports=function(t,n,c,f,s,a){var p=e[t],l=p,v=s?"set":"add",h=l&&l.prototype,g={},y=function(t){var n=h[t];r(12)(h,t,"delete"==t?function(t){return n.call(this,0===t?0:t)}:"has"==t?function e(t){return n.call(this,0===t?0:t)}:"get"==t?function o(t){return n.call(this,0===t?0:t)}:"add"==t?function i(t){return n.call(this,0===t?0:t),this}:function u(t,r){return n.call(this,0===t?0:t,r),this})};if("function"==typeof l&&(a||h.forEach&&!r(7)(function(){(new l).entries().next()}))){var d=new l,m=d[v](a?{}:-0,1),x;r(62)(function(t){new l(t)})||(l=n(function(n,r){u(n,l,t);var e=new p;return void 0!=r&&i(r,s,e[v],e),e}),l.prototype=h,h.constructor=l),a||d.forEach(function(t,n){x=1/n===-(1/0)}),x&&(y("delete"),y("has"),s&&y("get")),(x||m!==d)&&y(v),a&&h.clear&&delete h.clear}else l=f.getConstructor(n,t,s,v),r(106)(l.prototype,c);return r(15)(l,t),g[t]=l,o(o.G+o.W+o.F*(l!=p),g),a||f.setStrong(l,t,s),l}},function(t,n,r){r(37),r(51),r(101),r(109),t.exports=r(9).Set},function(t,n,r){"use strict";var e=r(103);r(107)("Set",function(t){return function n(){return t(this,arguments[0])}},{add:function o(t){return e.def(this,t=0===t?0:t,t)}},e)}]),"undefined"==typeof Package&&(Package={}),Package["ecmascript-runtime"]={Symbol:n,Map:r,Set:e}}();

!function(){var t=Package.meteor.Meteor,n;(function(){!function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(e,o,r){function i(t){throw t}var u=r(1),c=u.prototype.then;u.prototype.then=function(n,e){return"object"==typeof t&&"function"==typeof t.bindEnvironment?c.call(this,n&&t.bindEnvironment(n,i),e&&t.bindEnvironment(e,i)):c.call(this,n,e)},n=u},function(t,n,e){(function(n){function o(t,n){Object.keys(n).forEach(function(e){var o=n[e];"function"!=typeof o||r.call(t,e)||(t[e]=o)})}var r=Object.prototype.hasOwnProperty,i="object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this,u=i.Promise,c=e(2);"function"==typeof u?(o(u,c),o(u.prototype,c.prototype),t.exports=u):t.exports=c}).call(n,function(){return this}())},function(t,n,e){"use strict";t.exports=e(3)},function(t,n,e){"use strict";t.exports=e(4),e(6),e(7),e(8),e(9)},function(t,n,e){"use strict";function o(){}function r(t){try{return t.then}catch(n){return d=n,w}}function i(t,n){try{return t(n)}catch(e){return d=e,w}}function u(t,n,e){try{t(n,e)}catch(o){return d=o,w}}function c(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._37=0,this._12=null,this._59=[],t!==o&&y(t,this)}function f(t,n,e){return new t.constructor(function(r,i){var u=new c(o);u.then(r,i),s(t,new h(n,e,u))})}function s(t,n){for(;3===t._37;)t=t._12;return 0===t._37?void t._59.push(n):void v(function(){var e=1===t._37?n.onFulfilled:n.onRejected;if(null===e)return void(1===t._37?a(n.promise,t._12):l(n.promise,t._12));var o=i(e,t._12);o===w?l(n.promise,d):a(n.promise,o)})}function a(t,n){if(n===t)return l(t,new TypeError("A promise cannot be resolved with itself."));if(n&&("object"==typeof n||"function"==typeof n)){var e=r(n);if(e===w)return l(t,d);if(e===t.then&&n instanceof c)return t._37=3,t._12=n,void p(t);if("function"==typeof e)return void y(e.bind(n),t)}t._37=1,t._12=n,p(t)}function l(t,n){t._37=2,t._12=n,p(t)}function p(t){for(var n=0;n<t._59.length;n++)s(t,t._59[n]);t._59=null}function h(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function y(t,n){var e=!1,o=u(t,function(t){e||(e=!0,a(n,t))},function(t){e||(e=!0,l(n,t))});e||o!==w||(e=!0,l(n,d))}var v=e(5),d=null,w={};t.exports=c,c._99=o,c.prototype.then=function(t,n){if(this.constructor!==c)return f(this,t,n);var e=new c(o);return s(this,new h(t,n,e)),e}},function(t,n){(function(n){"use strict";function e(t){u.length||(f(),c=!0),u[u.length]=t}function o(){for(;s<u.length;){var t=s;if(s+=1,u[t].call(),s>a){for(var n=0,e=u.length-s;e>n;n++)u[n]=u[n+s];u.length-=s,s=0}}u.length=0,s=0,c=!1}function r(t){var n=1,e=new l(t),o=document.createTextNode("");return e.observe(o,{characterData:!0}),function r(){n=-n,o.data=n}}function i(t){return function n(){function n(){clearTimeout(e),clearInterval(o),t()}var e=setTimeout(n,0),o=setInterval(n,50)}}t.exports=e;var u=[],c=!1,f,s=0,a=1024,l=n.MutationObserver||n.WebKitMutationObserver;f="function"==typeof l?r(o):i(o),e.requestFlush=f,e.makeRequestCallFromTimer=i}).call(n,function(){return this}())},function(t,n,e){"use strict";var o=e(4);t.exports=o,o.prototype.done=function(t,n){var e=arguments.length?this.then.apply(this,arguments):this;e.then(null,function(t){setTimeout(function(){throw t},0)})}},function(t,n,e){"use strict";var o=e(4);t.exports=o,o.prototype["finally"]=function(t){return this.then(function(n){return o.resolve(t()).then(function(){return n})},function(n){return o.resolve(t()).then(function(){throw n})})}},function(t,n,e){"use strict";function o(t){var n=new r(r._99);return n._37=1,n._12=t,n}var r=e(4);t.exports=r;var i=o(!0),u=o(!1),c=o(null),f=o(void 0),s=o(0),a=o("");r.resolve=function(t){if(t instanceof r)return t;if(null===t)return c;if(void 0===t)return f;if(t===!0)return i;if(t===!1)return u;if(0===t)return s;if(""===t)return a;if("object"==typeof t||"function"==typeof t)try{var n=t.then;if("function"==typeof n)return new r(n.bind(t))}catch(e){return new r(function(t,n){n(e)})}return o(t)},r.all=function(t){var n=Array.prototype.slice.call(t);return new r(function(t,e){function o(u,c){if(c&&("object"==typeof c||"function"==typeof c)){if(c instanceof r&&c.then===r.prototype.then){for(;3===c._37;)c=c._12;return 1===c._37?o(u,c._12):(2===c._37&&e(c._12),void c.then(function(t){o(u,t)},e))}var f=c.then;if("function"==typeof f){var s=new r(f.bind(c));return void s.then(function(t){o(u,t)},e)}}n[u]=c,0===--i&&t(n)}if(0===n.length)return t([]);for(var i=n.length,u=0;u<n.length;u++)o(u,n[u])})},r.reject=function(t){return new r(function(n,e){e(t)})},r.race=function(t){return new r(function(n,e){t.forEach(function(t){r.resolve(t).then(n,e)})})},r.prototype["catch"]=function(t){return this.then(null,t)}},function(t,n,e){"use strict";var o=e(4),r=e(10);t.exports=o,o.denodeify=function(t,n){return n=n||1/0,function(){var e=this,r=Array.prototype.slice.call(arguments,0,n>0?n:0);return new o(function(n,o){r.push(function(t,e){t?o(t):n(e)});var i=t.apply(e,r);!i||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then||n(i)})}},o.nodeify=function(t){return function(){var n=Array.prototype.slice.call(arguments),e="function"==typeof n[n.length-1]?n.pop():null,i=this;try{return t.apply(this,arguments).nodeify(e,i)}catch(u){if(null===e||"undefined"==typeof e)return new o(function(t,n){n(u)});r(function(){e.call(i,u)})}}},o.prototype.nodeify=function(t,n){return"function"!=typeof t?this:void this.then(function(e){r(function(){t.call(n,null,e)})},function(e){r(function(){t.call(n,e)})})}},function(t,n,e){"use strict";function o(){if(f.length)throw f.shift()}function r(t){var n;n=c.length?c.pop():new i,n.task=t,u(n)}function i(){this.task=null}var u=e(5),c=[],f=[],s=u.makeRequestCallFromTimer(o);t.exports=r,i.prototype.call=function(){try{this.task.call()}catch(t){r.onerror?r.onerror(t):(f.push(t),s())}finally{this.task=null,c[c.length]=this}}}])}).call(this),"undefined"==typeof Package&&(Package={}),Package.promise={Promise:n}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,t=Package.ecmascript.ECMAScript,r=Package["babel-runtime"].babelHelpers,o=Package["ecmascript-runtime"].Symbol,i=Package["ecmascript-runtime"].Map,a=Package["ecmascript-runtime"].Set,c=Package.promise.Promise,u;(function(){function n(){return new a(a.Type.ALEA,{seeds:[new Date,c,d,p,Math.random()]})}if(e.isServer)var t=Npm.require("crypto");var r=function(){function e(){var e=4022871197,n=function(n){n=n.toString();for(var t=0;t<n.length;t++){e+=n.charCodeAt(t);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return n.version="Mash 0.9",n}return function(n){var t=0,r=0,o=0,i=1;0==n.length&&(n=[+new Date]);var a=e();t=a(" "),r=a(" "),o=a(" ");for(var c=0;c<n.length;c++)t-=a(n[c]),0>t&&(t+=1),r-=a(n[c]),0>r&&(r+=1),o-=a(n[c]),0>o&&(o+=1);a=null;var u=function(){var e=2091639*t+2.3283064365386963e-10*i;return t=r,r=o,o=e-(i=0|e)};return u.uint32=function(){return 4294967296*u()},u.fract53=function(){return u()+1.1102230246251565e-16*(2097152*u()|0)},u.version="Alea 0.9",u.args=n,u}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",a=function(e,n){var t=this;if(t.type=e,!a.Type[e])throw new Error("Unknown random generator type: "+e);if(e===a.Type.ALEA){if(!n.seeds)throw new Error("No seeds were provided for Alea PRNG");t.alea=r.apply(null,n.seeds)}};a.Type={NODE_CRYPTO:"NODE_CRYPTO",BROWSER_CRYPTO:"BROWSER_CRYPTO",ALEA:"ALEA"},a.prototype.fraction=function(){var e=this;if(e.type===a.Type.ALEA)return e.alea();if(e.type===a.Type.NODE_CRYPTO){var n=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*n}if(e.type===a.Type.BROWSER_CRYPTO){var t=new Uint32Array(1);return window.crypto.getRandomValues(t),2.3283064365386963e-10*t[0]}throw new Error("Unknown random generator type: "+e.type)},a.prototype.hexString=function(e){var n=this;if(n.type===a.Type.NODE_CRYPTO){var r=Math.ceil(e/2),o;try{o=t.randomBytes(r)}catch(i){o=t.pseudoRandomBytes(r)}var c=o.toString("hex");return c.substring(0,e)}return this._randomString(e,"0123456789abcdef")},a.prototype._randomString=function(e,n){for(var t=this,r=[],o=0;e>o;o++)r[o]=t.choice(n);return r.join("")},a.prototype.id=function(e){var n=this;return void 0===e&&(e=17),n._randomString(e,o)},a.prototype.secret=function(e){var n=this;return void 0===e&&(e=43),n._randomString(e,i)},a.prototype.choice=function(e){var n=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(n,1):e[n]};var c="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,d="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,p="undefined"!=typeof navigator&&navigator.userAgent||"";u=e.isServer?new a(a.Type.NODE_CRYPTO):"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new a(a.Type.BROWSER_CRYPTO):n(),u.createWithSeeds=function(){for(var e=arguments.length,n=Array(e),t=0;e>t;t++)n[t]=arguments[t];if(0===n.length)throw new Error("No seeds were provided");return new a(a.Type.ALEA,{seeds:n})},u.insecure=n()}).call(this),function(){e.uuid=function(){for(var e="0123456789abcdef",n=[],t=0;36>t;t++)n[t]=u.choice(e);n[14]="4",n[19]=e.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var r=n.join("");return r}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:u}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n=Package.random.Random,i;(function(){var e=1e3,o=10,r=function(e,t){var i=this;i.id=n.id(),i.options=e,i._matchers=t,i._lastResetTime=(new Date).getTime(),i.counters={}};t.extend(r.prototype,{match:function(e){var n=this,i=!0;return t.every(n._matchers,function(n,i){if(null!==n){if(!t.has(e,i))return!1;if("function"==typeof n){if(!n(e[i]))return!1}else if(n!==e[i])return!1}return!0})},_generateKeyString:function(e){var n=this,i="";return t.each(n._matchers,function(t,n){null!==t&&("function"==typeof t?t(e[n])&&(i+=n+e[n]):i+=n+e[n])}),i},apply:function(e){var t=this,n=t._generateKeyString(e),i=(new Date).getTime()-t._lastResetTime,o=t.options.intervalTime-i;return{key:n,timeSinceLastReset:i,timeToNextReset:o}},resetCounter:function(){var e=this;e.counters={},e._lastResetTime=(new Date).getTime()}}),i=function(){var e=this;e.rules={}},i.prototype.check=function(e){var n=this,i={allowed:!0,timeToReset:0,numInvocationsLeft:1/0},o=n._findAllMatchingRules(e);return t.each(o,function(t){var n=t.apply(e),o=t.counters[n.key];n.timeToNextReset<0&&(t.resetCounter(),n.timeSinceLastReset=(new Date).getTime()-t._lastResetTime,n.timeToNextReset=t.options.intervalTime,o=0),o>t.options.numRequestsAllowed?(i.timeToReset<n.timeToNextReset&&(i.timeToReset=n.timeToNextReset),i.allowed=!1,i.numInvocationsLeft=0):t.options.numRequestsAllowed-o<i.numInvocationsLeft&&i.allowed&&(i.timeToReset=n.timeToNextReset,i.numInvocationsLeft=t.options.numRequestsAllowed-o)}),i},i.prototype.addRule=function(t,n,i){var s=this,a={numRequestsAllowed:n||o,intervalTime:i||e},u=new r(a,t);return this.rules[u.id]=u,u.id},i.prototype.increment=function(e){var n=this,i=n._findAllMatchingRules(e);t.each(i,function(n){var i=n.apply(e);i.timeSinceLastReset>n.options.intervalTime&&n.resetCounter(),t.has(n.counters,i.key)?n.counters[i.key]++:n.counters[i.key]=1})},i.prototype._findAllMatchingRules=function(e){var n=this;return t.filter(n.rules,function(t){return t.match(e)})},i.prototype.removeRule=function(e){var t=this;return t.rules[e]?(delete t.rules[e],!0):!1}}).call(this),"undefined"==typeof Package&&(Package={}),Package["rate-limit"]={RateLimiter:i}}();

!function(){var e=Package.meteor.Meteor,t=Package["rate-limit"].RateLimiter,n;(function(){n={};var e=function(e){return"Error, too many requests. Please slow down. You must wait "+Math.ceil(e.timeToReset/1e3)+" seconds before trying again."},r=new t;n.getErrorMessage=function(t){return"function"==typeof e?e(t):e},n.setErrorMessage=function(t){e=t},n.addRule=function(e,t,n){return r.addRule(e,t,n)},n.printRules=function(){return r.rules},n.removeRule=function(e){return r.removeRule(e)},n._increment=function(e){r.increment(e)},n._check=function(e){return r.check(e)}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ddp-rate-limiter"]={DDPRateLimiter:n}}();

!function(){var e=Package.meteor.Meteor,t=Package.random.Random;(function(){var o="_localstorage_test_"+t.id(),a;try{window.localStorage&&(window.localStorage.setItem(o,o),a=window.localStorage.getItem(o),window.localStorage.removeItem(o))}catch(n){}o===a&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}();

!function(){var n=Package.meteor.Meteor,t,e;(function(){t={},t.active=!1,t.currentComputation=null,t._computations={};var e=function(n){t.currentComputation=n,t.active=!!n},o=function(){return"undefined"!=typeof n?n._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},r=function(t){"undefined"!=typeof n&&n._suppressed_log_expected()&&n._suppress_log(t-1)},i=function(n,t){if(l)throw t;var e=["Exception from Tracker "+n+" function:"];if(t.stack&&t.message&&t.name){var i=t.stack.indexOf(t.message);if(0>i||i>t.name.length+2){var a=t.name+": "+t.message;e.push(a)}}e.push(t.stack),r(e.length);for(var u=0;u<e.length;u++)o()(e[u])},a=function(t){return"undefined"==typeof n||n.isClient?t:function(){var e=arguments;n._noYieldsAllowed(function(){t.apply(null,e)})}},u=1,c=[],s=!1,p=!1,f=!1,l=!1,d=[],h=function(){s||("undefined"!=typeof n?n._setImmediate(t._runFlush):setTimeout(t._runFlush,0),s=!0)},v=!1;t.Computation=function(n,e,o){if(!v)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");v=!1;var r=this;r.stopped=!1,r.invalidated=!1,r.firstRun=!0,r._id=u++,r._onInvalidateCallbacks=[],r._onStopCallbacks=[],r._parent=e,r._func=n,r._onError=o,r._recomputing=!1,t._computations[r._id]=r;var i=!0;try{r._compute(),i=!1}finally{r.firstRun=!1,i&&r.stop()}},t.Computation.prototype.onInvalidate=function(n){var e=this;if("function"!=typeof n)throw new Error("onInvalidate requires a function");e.invalidated?t.nonreactive(function(){a(n)(e)}):e._onInvalidateCallbacks.push(n)},t.Computation.prototype.onStop=function(n){var e=this;if("function"!=typeof n)throw new Error("onStop requires a function");e.stopped?t.nonreactive(function(){a(n)(e)}):e._onStopCallbacks.push(n)},t.Computation.prototype.invalidate=function(){var n=this;if(!n.invalidated){n._recomputing||n.stopped||(h(),c.push(this)),n.invalidated=!0;for(var e=0,o;o=n._onInvalidateCallbacks[e];e++)t.nonreactive(function(){a(o)(n)});n._onInvalidateCallbacks=[]}},t.Computation.prototype.stop=function(){var n=this;if(!n.stopped){n.stopped=!0,n.invalidate(),delete t._computations[n._id];for(var e=0,o;o=n._onStopCallbacks[e];e++)t.nonreactive(function(){a(o)(n)});n._onStopCallbacks=[]}},t.Computation.prototype._compute=function(){var n=this;n.invalidated=!1;var o=t.currentComputation;e(n);var r=f;f=!0;try{a(n._func)(n)}finally{e(o),f=r}},t.Computation.prototype._needsRecompute=function(){var n=this;return n.invalidated&&!n.stopped},t.Computation.prototype._recompute=function(){var n=this;n._recomputing=!0;try{if(n._needsRecompute())try{n._compute()}catch(t){n._onError?n._onError(t):i("recompute",t)}}finally{n._recomputing=!1}},t.Dependency=function(){this._dependentsById={}},t.Dependency.prototype.depend=function(n){if(!n){if(!t.active)return!1;n=t.currentComputation}var e=this,o=n._id;return o in e._dependentsById?!1:(e._dependentsById[o]=n,n.onInvalidate(function(){delete e._dependentsById[o]}),!0)},t.Dependency.prototype.changed=function(){var n=this;for(var t in n._dependentsById)n._dependentsById[t].invalidate()},t.Dependency.prototype.hasDependents=function(){var n=this;for(var t in n._dependentsById)return!0;return!1},t.flush=function(n){t._runFlush({finishSynchronously:!0,throwFirstError:n&&n._throwFirstError})},t._runFlush=function(n){if(p)throw new Error("Can't call Tracker.flush while flushing");if(f)throw new Error("Can't flush inside Tracker.autorun");n=n||{},p=!0,s=!0,l=!!n.throwFirstError;var e=0,o=!1;try{for(;c.length||d.length;){for(;c.length;){var r=c.shift();if(r._recompute(),r._needsRecompute()&&c.unshift(r),!n.finishSynchronously&&++e>1e3)return void(o=!0)}if(d.length){var a=d.shift();try{a()}catch(u){i("afterFlush",u)}}}o=!0}finally{if(o||(p=!1,t._runFlush({finishSynchronously:n.finishSynchronously,throwFirstError:!1})),s=!1,p=!1,c.length||d.length){if(n.finishSynchronously)throw new Error("still have more to do?");setTimeout(h,10)}}},t.autorun=function(n,e){if("function"!=typeof n)throw new Error("Tracker.autorun requires a function argument");e=e||{},v=!0;var o=new t.Computation(n,t.currentComputation,e.onError);return t.active&&t.onInvalidate(function(){o.stop()}),o},t.nonreactive=function(n){var o=t.currentComputation;e(null);try{return n()}finally{e(o)}},t.onInvalidate=function(n){if(!t.active)throw new Error("Tracker.onInvalidate requires a currentComputation");t.currentComputation.onInvalidate(n)},t.afterFlush=function(n){d.push(n),h()}}).call(this),function(){n.flush=t.flush,n.autorun=t.autorun,n.autosubscribe=t.autorun,t.depend=function(n){return n.depend()},e=t}.call(this),"undefined"==typeof Package&&(Package={}),Package.tracker={Tracker:t,Deps:e}}();

!function(){var n=Package.meteor.Meteor,e=Package.underscore._,t;(function(){t=function(n){var t=this;if(n=n||{},t.nextCallbackId=0,t.callbacks={},t.bindEnvironment=!0,n.bindEnvironment===!1&&(t.bindEnvironment=!1),n.exceptionHandler)t.exceptionHandler=n.exceptionHandler;else if(n.debugPrintExceptions){if(!e.isString(n.debugPrintExceptions))throw new Error("Hook option debugPrintExceptions should be a string");t.exceptionHandler=n.debugPrintExceptions}},e.extend(t.prototype,{register:function(e){var t=this,r=t.exceptionHandler||function(n){throw n};e=t.bindEnvironment?n.bindEnvironment(e,r):a(e,r);var i=t.nextCallbackId++;return t.callbacks[i]=e,{stop:function(){delete t.callbacks[i]}}},each:function(t){var a=this;n._nodeCodeMustBeInFiber();for(var r=e.keys(a.callbacks),i=0;i<r.length;++i){var c=r[i];if(e.has(a.callbacks,c)){var o=a.callbacks[c];if(!t(o))break}}}});var a=function(t,a,r){if(!a||"string"==typeof a){var i=a||"callback of async function";a=function(e){n._debug("Exception in "+i+":",e&&e.stack||e)}}return function(){var n=e.toArray(arguments),i=function(){try{var e=t.apply(r,n)}catch(i){a(i)}return e};return i()}}}).call(this),"undefined"==typeof Package&&(Package={}),Package["callback-hook"]={Hook:t}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.random.Random,i;(function(){i=function(e){var r=this;t.extend(r,t.defaults(t.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),r.retryTimer=null},t.extend(i.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var i=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return i*=r.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(t,r){var i=this,n=i._timeout(t);return i.retryTimer&&clearTimeout(i.retryTimer),i.retryTimer=e.setTimeout(r,n),n}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.retry={Retry:i}}();

!function(){var i=Package.meteor.Meteor,t=Package.underscore._,a=Package.ejson.EJSON,n;(function(){n=function(i,t){var a=this;a._map={},a._idStringify=i||JSON.stringify,a._idParse=t||JSON.parse},t.extend(n.prototype,{get:function(i){var t=this,a=t._idStringify(i);return t._map[a]},set:function(i,t){var a=this,n=a._idStringify(i);a._map[n]=t},remove:function(i){var t=this,a=t._idStringify(i);delete t._map[a]},has:function(i){var a=this,n=a._idStringify(i);return t.has(a._map,n)},empty:function(){var i=this;return t.isEmpty(i._map)},clear:function(){var i=this;i._map={}},forEach:function(i){for(var a=this,n=t.keys(a._map),e=0;e<n.length;e++){var r=i.call(null,a._map[n[e]],a._idParse(n[e]));if(r===!1)return}},size:function(){var i=this;return t.size(i._map)},setDefault:function(i,a){var n=this,e=n._idStringify(i);return t.has(n._map,e)?n._map[e]:(n._map[e]=a,a)},clone:function(){var i=this,t=new n(i._idStringify,i._idParse);return i.forEach(function(i,n){t.set(n,a.clone(i))}),t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["id-map"]={IdMap:n}}();

!function(){var e=Package.meteor.Meteor,t=Package.check.check,a=Package.check.Match,n=Package.random.Random,r=Package.ejson.EJSON,i=Package.underscore._,o=Package.tracker.Tracker,s=Package.tracker.Deps,c=Package.retry.Retry,l;(function(){l={}}).call(this),function(){l.Heartbeat=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._seenPacket=!1,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},i.extend(l.Heartbeat.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle=e.setInterval(i.bind(t._heartbeatIntervalFired,t),t.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle=e.setTimeout(i.bind(t._heartbeatTimeoutFired,t),t.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle&&(e.clearInterval(t._heartbeatIntervalHandle),t._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle&&(e.clearTimeout(t._heartbeatTimeoutHandle),t._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._seenPacket||e._heartbeatTimeoutHandle||(e._sendPing(),e._startHeartbeatTimeoutTimer()),e._seenPacket=!1},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},messageReceived:function(){var e=this;e._seenPacket=!0,e._heartbeatTimeoutHandle&&e._clearHeartbeatTimeoutTimer()}})}.call(this),function(){l.SUPPORTED_DDP_VERSIONS=["1","pre2","pre1"],l.parseDDP=function(t){try{var a=JSON.parse(t)}catch(n){return e._debug("Discarding message with invalid JSON",t),null}return null===a||"object"!=typeof a?(e._debug("Discarding non-object DDP message",t),null):(i.has(a,"cleared")&&(i.has(a,"fields")||(a.fields={}),i.each(a.cleared,function(e){a.fields[e]=void 0}),delete a.cleared),i.each(["fields","params","result"],function(e){i.has(a,e)&&(a[e]=r._adjustTypesFromJSONValue(a[e]))}),a)},l.stringifyDDP=function(e){var t=r.clone(e);if(i.has(e,"fields")){var a=[];i.each(e.fields,function(e,n){void 0===e&&(a.push(n),delete t.fields[n])}),i.isEmpty(a)||(t.cleared=a),i.isEmpty(t.fields)&&delete t.fields}if(i.each(["fields","params","result"],function(e){i.has(t,e)&&(t[e]=r._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return JSON.stringify(t)}}.call(this),function(){l.MethodInvocation=function(e){var t=this;this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},i.extend(l.MethodInvocation.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}})}.call(this),function(){function e(){return n.hexString(20)}l.RandomStream=function(t){var a=this;this.seed=[].concat(t.seed||e()),this.sequences={}},l.RandomStream.get=function(e,t){if(t||(t="default"),!e)return n.insecure;var a=e.randomStream;return a||(e.randomStream=a=new l.RandomStream({seed:e.randomSeed})),a._sequence(t)},l.makeRpcSeed=function(e,t){var a=l.RandomStream.get(e,"/rpc/"+t);return a.hexString(20)},i.extend(l.RandomStream.prototype,{_sequence:function(e){var t=this,a=t.sequences[e]||null;if(null===a){for(var r=t.seed.concat(e),o=0;o<r.length;o++)i.isFunction(r[o])&&(r[o]=r[o]());t.sequences[e]=a=n.createWithSeeds.apply(null,r)}return a}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["ddp-common"]={DDPCommon:l}}();

!function(){var a=Package.meteor.Meteor,t=Package.underscore._,e;(function(){e={};var o="Meteor_Reload",r={},n,i=null;try{i=window.sessionStorage,i?(i.setItem("__dummy__","1"),i.removeItem("__dummy__")):i=null}catch(l){i=null}e._getData=function(){return i&&i.getItem(o)},i&&(n=e._getData(),i.removeItem(o)),n||(n="{}");var d={};try{d=JSON.parse(n),"object"!=typeof d&&(a._debug("Got bad data on reload. Ignoring."),d={})}catch(c){a._debug("Got invalid JSON on reload. Ignoring.")}d.reload&&"object"==typeof d.data&&(r=d.data);var g=[];e._onMigrate=function(a,t){t||(t=a,a=void 0),g.push({name:a,callback:t})},e._migrationData=function(a){return r[a]};var u=function(a,e){a=a||function(){},e=e||{};for(var o={},r=t.clone(g),n=!0;r.length;){var i=r.shift(),l=i.callback(a,e);l[0]||(n=!1),l.length>1&&i.name&&(o[i.name]=l[1])}return n||e.immediateMigration?o:null};e._migrate=function(t,e){var r=u(t,e);if(null===r)return!1;try{var n=JSON.stringify({data:r,reload:!0})}catch(l){throw a._debug("Couldn't serialize data for migration",r),l}if(i)try{i.setItem(o,n)}catch(l){a._debug("Couldn't save data for migration to sessionStorage",l)}else a._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},e._withFreshProvidersForTest=function(a){var e=t.clone(g);g=[];try{a()}finally{g=e}};var s=!1;e._reload=function(a){if(a=a||{},!s){s=!0;var o=function(){t.defer(function(){e._migrate(o,a)&&window.location.reload()})};o()}}}).call(this),function(){a._reload={onMigrate:e._onMigrate,migrationData:e._migrationData,reload:e._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:e}}();

!function(){var e=Package.meteor.Meteor,d=Package.underscore._,n=Package.ejson.EJSON,i;(function(){i={},i.diffQueryChanges=function(e,d,n,a,r){e?i.diffQueryOrderedChanges(d,n,a,r):i.diffQueryUnorderedChanges(d,n,a,r)},i.diffQueryUnorderedChanges=function(e,a,r,o){o=o||{};var f=o.projectionFn||n.clone;if(r.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");a.forEach(function(a,o){var c=e.get(o);if(c){if(r.changed&&!n.equals(c,a)){var t=f(a),u=f(c),h=i.makeChangedFields(t,u);d.isEmpty(h)||r.changed(o,h)}}else if(r.added){var l=f(a);delete l._id,r.added(a._id,l)}}),r.removed&&e.forEach(function(e,d){a.has(d)||r.removed(d)})},i.diffQueryOrderedChanges=function(a,r,o,f){f=f||{};var c=f.projectionFn||n.clone,t={};d.each(r,function(d){t[d._id]&&e._debug("Duplicate _id in new_results"),t[d._id]=!0});var u={};d.each(a,function(d,n){d._id in u&&e._debug("Duplicate _id in old_results"),u[d._id]=n});for(var h=[],l=0,s=r.length,g=new Array(s),_=new Array(s),v=function(e){return u[r[e]._id]},y=0;s>y;y++)if(void 0!==u[r[y]._id]){for(var m=l;m>0&&!(v(g[m-1])<v(y));)m--;_[y]=0===m?-1:g[m-1],g[m]=y,m+1>l&&(l=m+1)}for(var p=0===l?-1:g[l-1];p>=0;)h.push(p),p=_[p];h.reverse(),h.push(r.length),d.each(a,function(e){t[e._id]||o.removed&&o.removed(e._id)});var O=0;d.each(h,function(e){for(var n=r[e]?r[e]._id:null,f,t,h,l,s,g=O;e>g;g++)t=r[g],d.has(u,t._id)?(f=a[u[t._id]],l=c(t),s=c(f),h=i.makeChangedFields(l,s),d.isEmpty(h)||o.changed&&o.changed(t._id,h),o.movedBefore&&o.movedBefore(t._id,n)):(h=c(t),delete h._id,o.addedBefore&&o.addedBefore(t._id,h,n),o.added&&o.added(t._id,h));n&&(t=r[e],f=a[u[t._id]],l=c(t),s=c(f),h=i.makeChangedFields(l,s),d.isEmpty(h)||o.changed&&o.changed(t._id,h)),O=e+1})},i.diffObjects=function(e,n,i){d.each(e,function(e,a){d.has(n,a)?i.both&&i.both(a,e,n[a]):i.leftOnly&&i.leftOnly(a,e)}),i.rightOnly&&d.each(n,function(n,a){d.has(e,a)||i.rightOnly(a,n)})},i.makeChangedFields=function(e,d){var a={};return i.diffObjects(d,e,{leftOnly:function(e,d){a[e]=void 0},rightOnly:function(e,d){a[e]=d},both:function(e,d,i){n.equals(d,i)||(a[e]=i)}}),a},i.applyChanges=function(e,n){d.each(n,function(d,n){void 0===d?delete e[n]:e[n]=d})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["diff-sequence"]={DiffSequence:i}}();

!function(){var t=Package.meteor.Meteor,e=Package.ejson.EJSON,r=Package["id-map"].IdMap,o=Package.random.Random,n;(function(){n={},n._looksLikeObjectID=function(t){return 24===t.length&&t.match(/^[0-9a-f]*$/)},n.ObjectID=function(t){var e=this;if(t){if(t=t.toLowerCase(),!n._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");e._str=t}else e._str=o.hexString(24)},n.ObjectID.prototype.toString=function(){var t=this;return'ObjectID("'+t._str+'")'},n.ObjectID.prototype.equals=function(t){var e=this;return t instanceof n.ObjectID&&e.valueOf()===t.valueOf()},n.ObjectID.prototype.clone=function(){var t=this;return new n.ObjectID(t._str)},n.ObjectID.prototype.typeName=function(){return"oid"},n.ObjectID.prototype.getTimestamp=function(){var t=this;return parseInt(t._str.substr(0,8),16)},n.ObjectID.prototype.valueOf=n.ObjectID.prototype.toJSONValue=n.ObjectID.prototype.toHexString=function(){return this._str},e.addType("oid",function(t){return new n.ObjectID(t)}),n.idStringify=function(t){if(t instanceof n.ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:"-"===t.substr(0,1)||"~"===t.substr(0,1)||n._looksLikeObjectID(t)||"{"===t.substr(0,1)?"-"+t:t;if(void 0===t)return"-";if("object"==typeof t&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+JSON.stringify(t)},n.idParse=function(t){return""===t?t:"-"===t?void 0:"-"===t.substr(0,1)?t.substr(1):"~"===t.substr(0,1)?JSON.parse(t.substr(1)):n._looksLikeObjectID(t)?new n.ObjectID(t):t}}).call(this),"undefined"==typeof Package&&(Package={}),Package["mongo-id"]={MongoID:n}}();

!function(){var e=Package.meteor.Meteor,t=Package.check.check,n=Package.check.Match,r=Package.random.Random,o=Package.ejson.EJSON,i=Package.underscore._,s=Package.tracker.Tracker,a=Package.tracker.Deps,u=Package.retry.Retry,c=Package["id-map"].IdMap,d=Package["ddp-common"].DDPCommon,l=Package["diff-sequence"].DiffSequence,f=Package["mongo-id"].MongoID,p,_,h,v,m,g,b;(function(){p={},_={}}).call(this),function(){h=function(){var e=this;c.call(e,f.idStringify,f.idParse)},e._inherits(h,c)}.call(this),function(){v=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return-1!==o?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var i=function(e){var t=this;t._events=e||[],t._listeners={}};i.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},i.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},i.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+JSON.stringify(e)+" not listed "+JSON.stringify(t._events)+" in "+t)},i.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,r=[];for(n=0;e>n;n++)r.push(s.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var a="_jp";n.polluteGlobalNamespace=function(){a in t||(t[a]={})},n.closeFrame=function(e,t){return"c"+JSON.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var s=i[0].toLowerCase(),a=r.substring(s.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(a);if(u)var c=u[0]}if(!s||!c)throw new Error("relativeTo must be an absolute url");o={protocol:s,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[/]+$/,"");var d=t.split("/");return("http:"===d[0]&&/:80$/.test(d[2])||"https:"===d[0]&&/:443$/.test(d[2]))&&(d[2]=d[2].replace(/:(80|443)$/,"")),t=d.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","\ufeff":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,l,f=JSON&&JSON.stringify||function(e){return u.lastIndex=0,u.test(e)&&(e=e.replace(u,function(e){return c[e]})),'"'+e+'"'},p=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=f(e);return d.lastIndex=0,d.test(t)?(l||(l=p(d)),t.replace(d,function(e){return l[e]})):t};var _=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<_.length;t++){var n=_[t];e[n]=C[n]&&C[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=_);for(var i=0;i<t.length;i++){var s=t[i];r[s]=e[s]}var a=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&a(e)};return n.websocket!==!1&&a(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?a(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?a(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var h="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(h in t)){var r={};t[h]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[h](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var v={},m=!1,g=function(){for(var e in v)v[e](),delete v[e]},b=function(){m||(m=!0,g())};n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return v[t]=e,m&&n.delay(g),t},n.unload_del=function(e){e in v&&delete v[e]},n.createIframe=function(t,r){var o=e.createElement("iframe"),i,s,a=function(){clearTimeout(i);try{o.onload=null}catch(e){}o.onerror=null},u=function(){o&&(a(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),n.unload_del(s))},c=function(e){o&&(u(),r(e))},d=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(n){}};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(o),i=setTimeout(function(){c("timeout")},15e3),s=n.unload_add(u),{post:d,cleanup:u,loaded:a}},n.createHtmlfile=function(e,r){var o=new ActiveXObject("htmlfile"),i,s,u,c=function(){clearTimeout(i)},d=function(){o&&(c(),n.unload_del(s),u.parentNode.removeChild(u),u=o=null,CollectGarbage())},l=function(e){o&&(d(),r(e))},f=function(e,t){try{u&&u.contentWindow&&u.contentWindow.postMessage(e,t)}catch(n){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";</script></html>'),o.close(),o.parentWindow[a]=t[a];var p=o.createElement("div");return o.body.appendChild(p),u=o.createElement("iframe"),p.appendChild(u),u.src=e,i=setTimeout(function(){l("timeout")},15e3),s=n.unload_add(d),{post:f,cleanup:d,loaded:c}};var y=function(){};y.prototype=new i(["chunk","finish"]),y.prototype._start=function(e,r,o,i){var s=this;try{s.xhr=new XMLHttpRequest}catch(a){}if(!s.xhr)try{s.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),s.unload_ref=n.unload_add(function(){s._cleanup(!0)});try{s.xhr.open(e,r,!0)}catch(u){return s.emit("finish",0,""),void s._cleanup()}if(i&&i.no_credentials||(s.xhr.withCredentials="true"),i&&i.headers)for(var c in i.headers)s.xhr.setRequestHeader(c,i.headers[c]);s.xhr.onreadystatechange=function(){if(s.xhr){var e=s.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&s.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),s.emit("finish",t,e.responseText),s._cleanup(!1)}}},s.xhr.send(o)},y.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},y.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var w=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};w.prototype=new y;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};S.prototype=new y;var k=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};k.prototype=new i(["chunk","finish"]),k.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var s=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(a){s()}},k.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},k.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:A.enabled()?3:4};var C=function(e,t,r){if(!(this instanceof C))return new C(e,t,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,i&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),o._protocols=[],o.protocol=null,o.readyState=C.CONNECTING,o._ir=V(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};C.prototype=new r,C.version="0.3.4",C.CONNECTING=0,C.OPEN=1,C.CLOSING=2,C.CLOSED=3,C.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},C.prototype._dispatchOpen=function(){var e=this;e.readyState===C.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=C.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},C.prototype._dispatchMessage=function(e){var t=this;t.readyState===C.OPEN&&t.dispatchEvent(new o("message",{data:e}))},C.prototype._dispatchHeartbeat=function(e){var t=this;t.readyState===C.OPEN&&t.dispatchEvent(new o("heartbeat",{}))},C.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==C.CONNECTING&&i.readyState!==C.OPEN&&i.readyState!==C.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var s=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===C.CONNECTING&&!r){if(i._try_next_protocol(s))return;s=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:s})}i.readyState=C.CLOSED,n.delay(function(){i.dispatchEvent(s)})},C.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=JSON.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=JSON.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=JSON.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},C.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(C[o]&&C[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(C[o]&&C[o].enabled(r._options)){var i=C[o].roundTrips||1,s=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(s,function(){r.readyState===C.CONNECTING&&r._didClose(2007,"Transport timeouted")});var a=n.random_string(8),u=r._base_url+"/"+r._server+"/"+a;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new C[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},C.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==C.CONNECTING&&r.readyState!==C.OPEN?!1:(r.readyState=C.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},C.prototype.send=function(e){var t=this;if(t.readyState===C.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===C.OPEN&&t._transport.doSend(n.quote(""+e)),!0},C.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain,t.base_url&&(i._base_url=n.amendUrl(t.base_url,i._base_url));var s=n.probeProtocols();i._protocols=n.detectProtocols(s,o,t),n.isSameOriginScheme(i._base_url)||2!==n.isXHRCorsCapable()||(i._protocols=["jsonp-polling"])};var E=C.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var s=t.WebSocket||t.MozWebSocket;o.ws=new s(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};E.prototype.doSend=function(e){this.ws.send("["+e+"]")},E.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},E.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},E.roundTrips=2;var O=function(){};O.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},O.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},O.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},O.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},O.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var T=function(t,r,o){var i=this;if(!("_send_form"in i)){var s=i._send_form=e.createElement("form"),a=i._send_area=e.createElement("textarea");a.name="d",s.style.display="none",s.style.position="absolute",s.method="POST",s.enctype="application/x-www-form-urlencoded",s.acceptCharset="UTF-8",s.appendChild(a),e.body.appendChild(s)}var s=i._send_form,a=i._send_area,u="a"+n.random_string(8);s.target=u,s.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(d){c=e.createElement("iframe"),c.name=u}c.id=u,s.appendChild(c),c.style.display="none";try{a.value=r}catch(l){n.log("Your browser is seriously broken. Go home! "+l.message)}s.submit();var f=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),a.value="",o(!0))};return c.onerror=c.onload=f,c.onreadystatechange=function(e){"complete"==c.readyState&&f()},f},D=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e,t){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},x=function(t,r){var o,i=e.createElement("script"),s,a=function(e){s&&(s.parentNode.removeChild(s),s=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(e){c||(c=setTimeout(function(){u||a(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(e){a(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(e){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(t){}}i&&a(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))s=e.createElement("script"),s.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=s.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(d){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0),o=setTimeout(function(){a(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var l=e.getElementsByTagName("head")[0];return l.insertBefore(i,l.firstChild),s&&l.insertBefore(s,l.firstChild),a},M=C["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(T),r._schedule_recv()};M.prototype=new O,M.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=R(e.trans_url+"/jsonp",x,t)},M.enabled=function(){return!0},M.need_body=!0,M.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var R=function(e,r,o){var i="a"+n.random_string(6),s=e+"?c="+escape(a+"."+i),u=0,c=function(e){switch(u){case 0:delete t[a][i],o(e);break;case 1:o(e),u=2;break;case 2:delete t[a][i]}},d=r(s,c);t[a][i]=d;var l=function(){t[a][i]&&(u=1,t[a][i](n.closeFrame(1e3,"JSONP user aborted read")))};return l},I=function(){};I.prototype=new O,I.prototype.run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(D(o)),i.poll=new K(e,r,t+n,o)},I.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var P=C["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",re,n.XHRCorsObject)};P.prototype=new I,P.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},P.roundTrips=2,P.need_body=!0;var N=C["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",re,n.XDRObject)};N.prototype=new I,N.enabled=function(){return!!t.XDomainRequest},N.roundTrips=2;var j=C["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XHRCorsObject)};j.prototype=new I,j.enabled=P.enabled,j.roundTrips=2;var U=C["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XDRObject)};U.prototype=new I,U.enabled=N.enabled,U.roundTrips=2;var A=function(){};A.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},A.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},A.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",JSON.stringify([C.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},A.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},A.prototype.doSend=function(e){this.postMessage("m",e)},A.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var B,L=function(e,r){parent!==t?parent.postMessage(B+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},F=function(){};F.prototype._didClose=function(e,t){L("t",n.closeFrame(e,t))},F.prototype._didMessage=function(e){L("t",e)},F.prototype._doSend=function(e){this._transport.doSend(e)},F.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,C.bootstrap_iframe=function(){var r;B=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),i=e.data.slice(8,9),s=e.data.slice(9);if(o===B)switch(i){case"s":var a=JSON.parse(s),u=a[0],c=a[1],d=a[2],l=a[3];if(u!==C.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+C.version+'".'),!n.flatUrl(d)||!n.flatUrl(l))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(l))return void n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([t.location.href,d,l])+")");r=new F,r._transport=new F[c](r,d,l);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),L("s")};var H=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};H.prototype=new i(["finish"]),H.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),i=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){i.ontimeout()});i.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,i=JSON.parse(t);"object"!=typeof i&&(i={}),r.emit("finish",i,n)}else r.emit("finish")},i.ontimeout=function(){i.close(),r.emit("finish")}};var X=function(t){var r=this,o=function(){var e=new A;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=JSON.parse(t.substr(1)),o=n[0],i=n[1];r.emit("finish",o,i)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};X.prototype=new i(["finish"]);var J=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};J.prototype=new i(["finish"]);var V=function(e){if(n.isSameOriginUrl(e))return new H(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new H(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new H(e,n.XDRObject):new J;case 3:return new X(e);default:return new J}},W=F["w-iframe-info-receiver"]=function(e,t,r){var o=new H(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+JSON.stringify([t,n])),e._didClose()}};W.prototype.doCleanup=function(){};var q=C["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};q.prototype=new A,q.enabled=function(){return"EventSource"in t&&A.enabled()},q.need_body=!0,q.roundTrips=3;var G=F["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",Z,n.XHRLocalObject)};G.prototype=new I;var Q=C["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};Q.prototype=new A,Q.enabled=function(){return t.XMLHttpRequest&&A.enabled()},Q.need_body=!0,Q.roundTrips=3;var z=F["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XHRLocalObject)};z.prototype=new I;var $=C["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};$.prototype=new A,$.enabled=function(){return A.enabled()},$.need_body=!0,$.roundTrips=3;var Y=F["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",ne,n.XHRLocalObject)};Y.prototype=new I;var K=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};K.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},K.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var Z=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var s=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:s}))})}};Z.prototype=new r,Z.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var ee,te=function(){if(void 0===ee)if("ActiveXObject"in t)try{ee=!!new ActiveXObject("htmlfile")}catch(e){}else ee=!1;return ee},ne=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(a+"."+r.id);var i=te()?n.createHtmlfile:n.createIframe,s;t[a][r.id]={start:function(){s.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){s.cleanup(),r.iframe_close=s=null,delete t[a][r.id],r.dispatchEvent(new o("close",{reason:n}))},s=i(e,function(e){r.iframe_close({},"permanent")})};ne.prototype=new r,ne.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var re=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),s=i.indexOf("\n");if(-1===s)break;r+=s+1;var a=i.slice(0,s);n.dispatchEvent(new o("message",{data:a}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return re.prototype=new r,re.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},C.getUtils=function(){return n},C.getIframeTransport=function(){return A},C}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return v})}.call(this),function(){_.ClientStream=function(e,t){var n=this;n.options=i.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",i.bind(n._online,n),!1),n._launchConnection()},i.extend(_.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),i.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(e){var t=this;t._clearConnectionAndHeartbeatTimers(),t.socket&&(t.socket.onmessage=t.socket.onclose=t.socket.onerror=t.socket.onheartbeat=function(){},t.socket.close(),t.socket=null),i.each(t.eventCallbacks.disconnect,function(t){t(e)})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No sockjs heartbeat received."),t._lostConnection(new p.ConnectionError("Heartbeat timed out"))},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(i.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){
var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup();var n=i.extend({protocols_whitelist:t._sockjsProtocolsWhitelist()},t.options._sockjsOptions);t.socket=new v(m(t.rawUrl),void 0,n),t.socket.onopen=function(e){t._connected()},t.socket.onmessage=function(e){t._heartbeat_received(),t.currentStatus.connected&&i.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",i.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(function(){t._lostConnection(new p.ConnectionError("DDP connection timed out"))},t.CONNECT_TIMEOUT)}})}.call(this),function(){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},o=function(o,i,s){i||(i="http");var a=o.match(/^ddp(i?)\+sockjs:\/\//),u=o.match(/^http(s?):\/\//),c;if(a){var d=o.substr(a[0].length);c="i"===a[1]?i:i+"s";var l=d.indexOf("/"),f=-1===l?d:d.substr(0,l),p=-1===l?"":d.substr(l);return f=f.replace(/\*/g,function(){return Math.floor(10*r.fraction())}),c+"://"+f+p}if(u){c=u[1]?i+"s":i;var _=o.substr(u[0].length);o=c+"://"+_}return-1!==o.indexOf("://")||t(o,"/")||(o=i+"://"+o),o=e._relativeToSiteRootUrl(o),n(o,"/")?o+s:o+"/"+s};m=function(e){return o(e,"http","sockjs")},g=function(e){var t=o(e,"ws","websocket");return t},_.toSockjsUrl=m,i.extend(_.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners="undefined"!=typeof s&&new s.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new u,t.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?void((e._force||e.url)&&t._lostConnection(new p.ForcedReconnectError)):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,void t._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,i.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),p.ConnectionError=e.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),p.ForcedReconnectError=e.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){_.SUPPORTED_DDP_VERSIONS=d.SUPPORTED_DDP_VERSIONS,p._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){p.randomStream=function(e){var t=p._CurrentInvocation.get();return d.RandomStream.get(t,e)}}.call(this),function(){if(e.isServer)var t=Npm.require("path"),n=Npm.require("fibers"),a=Npm.require(t.join("fibers","future"));var u=function(t,n){var r=this;n=i.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(t){e._debug(t)},heartbeatInterval:17500,heartbeatTimeout:15e3,reloadWithOutstanding:!1,supportedDDPVersions:d.SUPPORTED_DDP_VERSIONS,retry:!0,respondToPings:!0},n),r.onReconnect=null,"object"==typeof t?r._stream=t:r._stream=new _.ClientStream(t,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r._subscriptions={},r._userId=null,r._userIdDeps=new s.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(t){try{var o=d.parseDDP(t)}catch(s){return void e._debug("Exception while parsing DDP",s)}if(r._heartbeat&&r._heartbeat.messageReceived(),null===o||!o.msg)return void(o&&o.server_id||e._debug("discarding invalid livedata message",o));if("connected"===o.msg)r._version=r._versionSuggestion,r._livedata_connected(o),n.onConnected();else if("failed"===o.msg)if(i.contains(r._supportedDDPVersions,o.version))r._versionSuggestion=o.version,r._stream.reconnect({_force:!0});else{var a="DDP version negotiation failed; server requested version "+o.version;r._stream.disconnect({_permanent:!0,_error:a}),n.onDDPVersionNegotiationFailure(a)}else"ping"===o.msg&&n.respondToPings?r._send({msg:"pong",id:o.id}):"pong"===o.msg||(i.include(["added","changed","removed","ready","updated"],o.msg)?r._livedata_data(o):"nosub"===o.msg?r._livedata_nosub(o):"result"===o.msg?r._livedata_result(o):"error"===o.msg?r._livedata_error(o):e._debug("discarding unknown livedata message type",o))},a=function(){var e={msg:"connect"};r._lastSessionId&&(e.session=r._lastSessionId),e.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=e.version,e.support=r._supportedDDPVersions,r._send(e),!i.isEmpty(r._outstandingMethodBlocks)&&i.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),i.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),i.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},u=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};e.isServer?(r._stream.on("message",e.bindEnvironment(o,"handling DDP message")),r._stream.on("reset",e.bindEnvironment(a,"handling DDP reset")),r._stream.on("disconnect",e.bindEnvironment(u,"handling DDP disconnect"))):(r._stream.on("message",o),r._stream.on("reset",a),r._stream.on("disconnect",u))},c=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};i.extend(c.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),i.extend(u.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};i.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals","getDoc"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),i.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),a={};if(n.length){var u=n[n.length-1];i.isFunction(u)?a.onReady=n.pop():u&&i.any([u.onReady,u.onError,u.onStop],i.isFunction)&&(a=n.pop())}var c=i.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&o.equals(t.params,n)}),d;c?(d=c.id,c.inactive=!1,a.onReady&&(c.ready||(c.readyCallback=a.onReady)),a.onError&&(c.errorCallback=a.onError),a.onStop&&(c.stopCallback=a.onStop)):(d=r.id(),t._subscriptions[d]={id:d,name:e,params:o.clone(n),inactive:!1,ready:!1,readyDeps:new s.Dependency,readyCallback:a.onReady,errorCallback:a.onError,stopCallback:a.onStop,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:d}),this.remove(),a.onStop&&a.onStop()}},t._send({msg:"sub",id:d,name:e,params:n}));var l={stop:function(){i.has(t._subscriptions,d)&&t._subscriptions[d].stop()},ready:function(){if(!i.has(t._subscriptions,d))return!1;var e=t._subscriptions[d];return e.readyDeps.depend(),e.ready},subscriptionId:d};return s.active&&s.onInvalidate(function(e){i.has(t._subscriptions,d)&&(t._subscriptions[d].inactive=!0),s.afterFlush(function(){i.has(t._subscriptions,d)&&t._subscriptions[d].inactive&&l.stop()})}),l},_subscribeAndWait:function(e,t,n){var r=this,o=new a,i=!1,s;return t=t||[],t.push({onReady:function(){i=!0,o["return"]()},onError:function(e){i?n&&n.onLateError&&n.onLateError(e):o["throw"](e)}}),s=r.subscribe.apply(r,[e].concat(t)),o.wait(),s},methods:function(e){var t=this;i.each(e,function(e,n){if("function"!=typeof e)throw new Error("Method '"+n+"' must be a function");if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,r,s){var u=this;s||"function"!=typeof r||(s=r,r={}),r=r||{},s&&(s=e.bindEnvironment(s,"delivering result of invoking '"+t+"'")),n=o.clone(n);var l=function(){var e;return function(){return void 0===e&&(e=""+u._nextMethodId++),e}}(),f=p._CurrentInvocation.get(),_=f&&f.isSimulation,h=null,v=function(){return null===h&&(h=d.makeRpcSeed(f,t)),h},m=u._methodHandlers[t];if(m){var g=function(e){u.setUserId(e)},b=new d.MethodInvocation({isSimulation:!0,userId:u.userId(),setUserId:g,randomSeed:function(){return v()}});_||u._saveOriginals();try{var y=p._CurrentInvocation.withValue(b,function(){return e.isServer?e._noYieldsAllowed(function(){return m.apply(b,o.clone(n))}):m.apply(b,o.clone(n))})}catch(w){var S=w}_||u._retrieveAndStoreOriginals(l())}if(_){if(s)return void s(S,y);if(S)throw S;return y}if(S){if(r.throwStubExceptions)throw S;S.expected||e._debug("Exception while simulating the effect of invoking '"+t+"'",S,S.stack)}if(!s)if(e.isClient)s=function(n){n&&e._debug("Error invoking Method '"+t+"':",n.message)};else{var k=new a;s=k.resolver()}var C={msg:"method",method:t,params:n,id:l()};null!==h&&(C.randomSeed=h);var E=new c({methodId:l(),callback:s,connection:u,onResultReceived:r.onResultReceived,wait:!!r.wait,message:C});return r.wait?u._outstandingMethodBlocks.push({wait:!0,methods:[E]}):((i.isEmpty(u._outstandingMethodBlocks)||i.last(u._outstandingMethodBlocks).wait)&&u._outstandingMethodBlocks.push({wait:!1,methods:[]}),i.last(u._outstandingMethodBlocks).methods.push(E)),1===u._outstandingMethodBlocks.length&&E.sendMessage(),k?k.wait():r.returnStubValue?y:void 0},_saveOriginals:function(){var e=this;i.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];i.each(t._stores,function(r,o){var s=r.retrieveOriginals();s&&s.forEach(function(r,s){n.push({collection:o,id:s}),i.has(t._serverDocuments,o)||(t._serverDocuments[o]=new h);var a=t._serverDocuments[o].setDefault(s,{});a.writtenByStubs?a.writtenByStubs[e]=!0:(a.document=r,a.flushCallbacks=[],a.writtenByStubs={},a.writtenByStubs[e]=!0)})}),i.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;i.each(i.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(d.stringifyDDP(e))},_lostConnection:function(e){var t=this;t._stream._lostConnection(e)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!i.isEmpty(e._subsBeingRevived)||!i.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return i.any(i.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new d.Heartbeat({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new p.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},i.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&i.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(i.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(i.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],i.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),i.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;i.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!i.isEmpty(n))&&(i.each(t._stores,function(e,r){e.beginUpdate(i.has(n,r)?n[r].length:0,t._resetStores)}),t._resetStores=!1,i.each(n,function(e,n){var r=t._stores[n];r?i.each(e,function(e){r.update(e)}):(i.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),i.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],i.each(t,function(e){e()})},_pushUpdate:function(e,t,n){var r=this;i.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!i.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=f.idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){var i=void 0!==o.document;if(o.document=e.fields||{},o.document._id=r,n._resetStores){var s=n._stores[e.collection].getDoc(e.id);void 0!==s&&(e.fields=s),n._pushUpdate(t,e.collection,e)}else if(i)throw new Error("Server sent add for existing id: "+e.id)}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,f.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);l.applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,f.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;i.each(e.methods,function(e){i.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+JSON.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+JSON.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],i.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:f.idStringify(r.id),replace:o.document}),i.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(i.bind(r.dataVisible,r))})},_process_ready:function(e,t){var n=this;i.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){var t=n._subscriptions[e];t&&(t.ready||(t.ready=!0,t.readyCallback&&t.readyCallback(),t.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};i.each(t._serverDocuments,function(e){e.forEach(function(e){var n=i.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(t){var n=this;if(n._livedata_data(t),i.has(n._subscriptions,t.id)){var r=n._subscriptions[t.id].errorCallback,o=n._subscriptions[t.id].stopCallback;n._subscriptions[t.id].remove();var s=function(t){return t&&t.error&&new e.Error(t.error.error,t.error.reason,t.error.details)};r&&t.error&&r(s(t)),o&&o(s(t))}},_process_nosub:function(){},_livedata_result:function(t){var n=this;if(i.isEmpty(n._outstandingMethodBlocks))return void e._debug("Received method result but no methods outstanding");for(var r=n._outstandingMethodBlocks[0].methods,o,s=0;s<r.length&&(o=r[s],o.methodId!==t.id);s++);return o?(r.splice(s,1),void(i.has(t,"error")?o.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):o.receiveResult(void 0,t.result))):void e._debug("Can't match method response to original method call",t)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!i.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!i.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+JSON.stringify(t));i.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;i.isEmpty(e._outstandingMethodBlocks)||i.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!i.isEmpty(t)){if(i.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();i.last(e._outstandingMethodBlocks).wait||t[0].wait||(i.each(t[0].methods,function(t){i.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),i.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return i.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),_.Connection=u,p.connect=function(e,t){var n=new u(e,t);return b.push(n),n},b=[],p._allSubscriptionsReady=function(){return i.all(b,function(e){return i.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(e.refresh=function(e){},e.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new u,r=function(t){if(e._debug(t),Package.reload){var r=Package.reload.Reload._migrationData("livedata")||{},o=r.DDPVersionNegotiationFailures||0;++o,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:o}]}),n.retryLater(o,function(){Package.reload.Reload._reload()})}};e.connection=p.connect(t,{onDDPVersionNegotiationFailure:r}),i.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=i.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=p.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package["ddp-client"]={DDP:p,LivedataTest:_}}();

!function(){var e=Package.meteor.Meteor,a=Package["ddp-client"].DDP,a;"undefined"==typeof Package&&(Package={}),Package.ddp={DDP:a}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,r;(function(){var t=function(t,e,r,n){return{key:t,value:e,next:r,prev:n}};r=function(){var t=this;t._dict={},t._first=null,t._last=null,t._size=0;var r=e.toArray(arguments);t._stringify=function(t){return t},"function"==typeof r[0]&&(t._stringify=r.shift()),e.each(r,function(e){t.putBefore(e[0],e[1],null)})},e.extend(r.prototype,{_k:function(t){return" "+this._stringify(t)},empty:function(){var t=this;return!t._first},size:function(){var t=this;return t._size},_linkEltIn:function(t){var e=this;t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=e._last,e._last&&(e._last.next=t),e._last=t),(null===e._first||e._first===t.next)&&(e._first=t)},_linkEltOut:function(t){var e=this;t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===e._last&&(e._last=t.prev),t===e._first&&(e._first=t.next)},putBefore:function(e,r,n){var i=this;if(i._dict[i._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var o=n?t(e,r,i._dict[i._k(n)]):t(e,r,null);if(void 0===o.next)throw new Error("could not find item to put this one before");i._linkEltIn(o),i._dict[i._k(e)]=o,i._size++},append:function(t,e){var r=this;r.putBefore(t,e,null)},remove:function(t){var e=this,r=e._dict[e._k(t)];if(void 0===r)throw new Error("Item "+t+" not present in OrderedDict");return e._linkEltOut(r),e._size--,delete e._dict[e._k(t)],r.value},get:function(t){var e=this;return e.has(t)?e._dict[e._k(t)].value:void 0},has:function(t){var r=this;return e.has(r._dict,r._k(t))},forEach:function(t){for(var e=this,n=0,i=e._first;null!==i;){var o=t(i.value,i.key,n);if(o===r.BREAK)return;i=i.next,n++}},first:function(){var t=this;return t.empty()?void 0:t._first.key},firstValue:function(){var t=this;return t.empty()?void 0:t._first.value},last:function(){var t=this;return t.empty()?void 0:t._last.key},lastValue:function(){var t=this;return t.empty()?void 0:t._last.value},prev:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.prev)return r.prev.key}return null},next:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.next)return r.next.key}return null},moveBefore:function(t,e){var r=this,n=r._dict[r._k(t)],i=e?r._dict[r._k(e)]:null;if(void 0===n)throw new Error("Item to move is not present");if(void 0===i)throw new Error("Could not find element to move this one before");i!==n.next&&(r._linkEltOut(n),n.next=i,r._linkEltIn(n))},indexOf:function(t){var e=this,n=null;return e.forEach(function(i,o,u){return e._k(o)===e._k(t)?(n=u,r.BREAK):void 0}),n},_checkRep:function(){var t=this;e.each(t._dict,function(t,e){if(e.next===e)throw new Error("Next is a loop");if(e.prev===e)throw new Error("Prev is a loop")})}}),r.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:r}}();

!function(){var t=Package.meteor.Meteor,n,o;(function(){n={exports:{}}}).call(this),function(){!function(){function t(t){for(var n=[],o=[],a=0;a<t[0].length;a++)n.push(t[0][a][1]),o.push(t[0][a][0]);return n=n.sort(function(t,n){return t-n}),o=o.sort(function(t,n){return t-n}),[[n[0],o[0]],[n[n.length-1],o[o.length-1]]]}function o(t,n,o){for(var a=[[0,0]],r=0;r<o.length;r++){for(var e=0;e<o[r].length;e++)a.push(o[r][e]);a.push([0,0])}for(var i=!1,r=0,e=a.length-1;r<a.length;e=r++)a[r][0]>n!=a[e][0]>n&&t<(a[e][1]-a[r][1])*(n-a[r][0])/(a[e][0]-a[r][0])+a[r][1]&&(i=!i);return i}var a={};"undefined"!=typeof n&&n.exports&&(n.exports=a),a.lineStringsIntersect=function(t,n){for(var o=[],a=0;a<=t.coordinates.length-2;++a)for(var r=0;r<=n.coordinates.length-2;++r){var e={x:t.coordinates[a][1],y:t.coordinates[a][0]},i={x:t.coordinates[a+1][1],y:t.coordinates[a+1][0]},s={x:n.coordinates[r][1],y:n.coordinates[r][0]},c={x:n.coordinates[r+1][1],y:n.coordinates[r+1][0]},u=(c.x-s.x)*(e.y-s.y)-(c.y-s.y)*(e.x-s.x),h=(i.x-e.x)*(e.y-s.y)-(i.y-e.y)*(e.x-s.x),d=(c.y-s.y)*(i.x-e.x)-(c.x-s.x)*(i.y-e.y);if(0!=d){var l=u/d,y=h/d;l>=0&&1>=l&&y>=0&&1>=y&&o.push({type:"Point",coordinates:[e.x+l*(i.x-e.x),e.y+l*(i.y-e.y)]})}}return 0==o.length&&(o=!1),o},a.pointInBoundingBox=function(t,n){return!(t.coordinates[1]<n[0][0]||t.coordinates[1]>n[1][0]||t.coordinates[0]<n[0][1]||t.coordinates[0]>n[1][1])},a.pointInPolygon=function(n,r){for(var e="Polygon"==r.type?[r.coordinates]:r.coordinates,i=!1,s=0;s<e.length;s++)a.pointInBoundingBox(n,t(e[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<e.length;s++)o(n.coordinates[1],n.coordinates[0],e[s])&&(c=!0);return c},a.numberToRadius=function(t){return t*Math.PI/180},a.numberToDegree=function(t){return 180*t/Math.PI},a.drawCircle=function(t,n,o){for(var r=[n.coordinates[1],n.coordinates[0]],e=t/1e3/6371,i=[a.numberToRadius(r[0]),a.numberToRadius(r[1])],o=o||15,s=[[r[0],r[1]]],c=0;o>c;c++){var u=2*Math.PI*c/o,h=Math.asin(Math.sin(i[0])*Math.cos(e)+Math.cos(i[0])*Math.sin(e)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(e)*Math.cos(i[0]),Math.cos(e)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=a.numberToDegree(h),s[c][0]=a.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},a.rectangleCentroid=function(t){var n=t.coordinates[0],o=n[0][0],a=n[0][1],r=n[2][0],e=n[2][1],i=r-o,s=e-a;return{type:"Point",coordinates:[o+i/2,a+s/2]}},a.pointDistance=function(t,n){var o=t.coordinates[0],r=t.coordinates[1],e=n.coordinates[0],i=n.coordinates[1],s=a.numberToRadius(i-r),c=a.numberToRadius(e-o),u=Math.pow(Math.sin(s/2),2)+Math.cos(a.numberToRadius(r))*Math.cos(a.numberToRadius(i))*Math.pow(Math.sin(c/2),2),h=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*h*1e3},a.geometryWithinRadius=function(t,n,o){if("Point"==t.type)return a.pointDistance(t,n)<=o;if("LineString"==t.type||"Polygon"==t.type){var r={},e;e="Polygon"==t.type?t.coordinates[0]:t.coordinates;for(var i in e)if(r.coordinates=e[i],a.pointDistance(r,n)>o)return!1}return!0},a.area=function(t){for(var n=0,o=t.coordinates[0],a=o.length-1,r,e,i=0;i<o.length;a=i++){var r={x:o[i][1],y:o[i][0]},e={x:o[a][1],y:o[a][0]};n+=r.x*e.y,n-=r.y*e.x}return n/=2},a.centroid=function(t){for(var n,o=0,r=0,e=t.coordinates[0],i=e.length-1,s,c,u=0;u<e.length;i=u++){var s={x:e[u][1],y:e[u][0]},c={x:e[i][1],y:e[i][0]};n=s.x*c.y-c.x*s.y,o+=(s.x+c.x)*n,r+=(s.y+c.y)*n}return n=6*a.area(t),{type:"Point",coordinates:[r/n,o/n]}},a.simplify=function(t,n){n=n||20,t=t.map(function(t){return{lng:t.coordinates[0],lat:t.coordinates[1]}});var o,a,r,e,i,s,c,u,h,d,l,y,M,f,g,x,p,v,P,b=Math.PI/180*.5,m=new Array,T=new Array,I=new Array;if(t.length<3)return t;for(o=t.length,d=360*n/(2*Math.PI*6378137),d*=d,r=0,T[0]=0,I[0]=o-1,a=1;a>0;)if(e=T[a-1],i=I[a-1],a--,i-e>1){for(l=t[i].lng()-t[e].lng(),y=t[i].lat()-t[e].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),l*=Math.cos(b*(t[i].lat()+t[e].lat())),M=l*l+y*y,s=e+1,c=e,h=-1;i>s;s++)f=t[s].lng()-t[e].lng(),g=t[s].lat()-t[e].lat(),Math.abs(f)>180&&(f=360-Math.abs(f)),f*=Math.cos(b*(t[s].lat()+t[e].lat())),x=f*f+g*g,p=t[s].lng()-t[i].lng(),v=t[s].lat()-t[i].lat(),Math.abs(p)>180&&(p=360-Math.abs(p)),p*=Math.cos(b*(t[s].lat()+t[i].lat())),P=p*p+v*v,u=x>=M+P?P:P>=M+x?x:(f*y-g*l)*(f*y-g*l)/M,u>h&&(c=s,h=u);d>h?(m[r]=e,r++):(a++,T[a-1]=c,I[a-1]=i,a++,T[a-1]=e,I[a-1]=c)}else m[r]=e,r++;m[r]=o-1,r++;for(var R=new Array,s=0;r>s;s++)R.push(t[m[s]]);return R.map(function(t){return{type:"Point",coordinates:[t.lng,t.lat]}})},a.destinationPoint=function(t,n,o){o/=6371,n=a.numberToRadius(n);var r=a.numberToRadius(t.coordinates[0]),e=a.numberToRadius(t.coordinates[1]),i=Math.asin(Math.sin(r)*Math.cos(o)+Math.cos(r)*Math.sin(o)*Math.cos(n)),s=e+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(r),Math.cos(o)-Math.sin(r)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[a.numberToDegree(i),a.numberToDegree(s)]}}}()}.call(this),function(){o=n.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:o}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,t=Package.ejson.EJSON,n=Package["id-map"].IdMap,o=Package["ordered-dict"].OrderedDict,i=Package.tracker.Tracker,a=Package.tracker.Deps,s=Package["mongo-id"].MongoID,c=Package.random.Random,u=Package["diff-sequence"].DiffSequence,d=Package["geojson-utils"].GeoJSON,f,l,h,p,v,_,m,y,g,w,$,b,E,I,C,O;(function(){f=function(r){var t=this;t.name=r,t._docs=new f._IdMap,t._observeQueue=new e._SynchronousQueue,t.next_qid=1,t.queries={},t._savedOriginals=null,t.paused=!1},l={},h={},p=function(e){var r=new Error(e);return r.name="MinimongoError",r},f.prototype.find=function(e,r){return 0===arguments.length&&(e={}),new f.Cursor(this,e,r)},f.Cursor=function(e,r,t){var n=this;t||(t={}),n.collection=e,n.sorter=null,n.matcher=new l.Matcher(r),f._selectorIsId(r)?n._selectorId=r:f._selectorIsIdPerhapsAsObject(r)?n._selectorId=r._id:(n._selectorId=void 0,(n.matcher.hasGeoQuery()||t.sort)&&(n.sorter=new l.Sorter(t.sort||[],{matcher:n.matcher}))),n.skip=t.skip,n.limit=t.limit,n.fields=t.fields,n._projectionFn=f._compileProjection(n.fields||{}),n._transform=f.wrapTransform(t.transform),"undefined"!=typeof i&&(n.reactive=void 0===t.reactive?!0:t.reactive)},f.Cursor.prototype.rewind=function(){},f.prototype.findOne=function(e,r){return 0===arguments.length&&(e={}),r=r||{},r.limit=1,this.find(e,r).fetch()[0]},f.Cursor.prototype.forEach=function(e,t){var n=this,o=n._getRawObjects({ordered:!0});n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),r.each(o,function(r,o){r=n._projectionFn(r),n._transform&&(r=n._transform(r)),e.call(t,r,o,n)})},f.Cursor.prototype.getTransform=function(){return this._transform},f.Cursor.prototype.map=function(e,r){var t=this,n=[];return t.forEach(function(o,i){n.push(e.call(r,o,i,t))}),n},f.Cursor.prototype.fetch=function(){var e=this,r=[];return e.forEach(function(e){r.push(e)}),r},f.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},f.Cursor.prototype._publishCursor=function(e){var r=this;if(!r.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var t=r.collection.name;if(!Package.mongo)throw new Error("Can't publish from Minimongo without the `mongo` package.");return Package.mongo.Mongo.Collection._publishCursor(r,e,t)},f.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},f._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},f._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},f.ObserveHandle=function(){},r.extend(f.Cursor.prototype,{observe:function(e){var r=this;return f._observeFromObserveChanges(r,e)},observeChanges:function(e){var n=this,o=f._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!o&&(n.skip||n.limit))throw new Error("must use ordered observe (ie, 'addedBefore' instead of 'added') with skip or limit");if(n.fields&&(0===n.fields._id||n.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var a={matcher:n.matcher,sorter:o&&n.sorter,distances:n.matcher.hasGeoQuery()&&o&&new f._IdMap,resultsSnapshot:null,ordered:o,cursor:n,projectionFn:n._projectionFn},s;n.reactive&&(s=n.collection.next_qid++,n.collection.queries[s]=a),a.results=n._getRawObjects({ordered:o,distances:a.distances}),n.collection.paused&&(a.resultsSnapshot=o?[]:new f._IdMap);var c=function(e){return e?function(){var r=this,t=arguments;n.collection.paused||n.collection._observeQueue.queueTask(function(){e.apply(r,t)})}:function(){}};if(a.added=c(e.added),a.changed=c(e.changed),a.removed=c(e.removed),o&&(a.addedBefore=c(e.addedBefore),a.movedBefore=c(e.movedBefore)),!e._suppress_initial&&!n.collection.paused){var u=o?r.bind(r.each,null,a.results):r.bind(a.results.forEach,a.results);u(function(e){var r=t.clone(e);delete r._id,o&&a.addedBefore(e._id,n._projectionFn(r),null),a.added(e._id,n._projectionFn(r))})}var d=new f.ObserveHandle;return r.extend(d,{collection:n.collection,stop:function(){n.reactive&&delete n.collection.queries[s]}}),n.reactive&&i.active&&i.onInvalidate(function(){d.stop()}),n.collection._observeQueue.drain(),d}}),f.Cursor.prototype._getRawObjects=function(e){var r=this;e=e||{};var t=e.ordered?[]:new f._IdMap;if(void 0!==r._selectorId){if(r.skip)return t;var n=r.collection._docs.get(r._selectorId);return n&&(e.ordered?t.push(n):t.set(r._selectorId,n)),t}var o;if(r.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(o=e.distances,o.clear()):o=new f._IdMap),r.collection._docs.forEach(function(n,i){var a=r.matcher.documentMatches(n);return a.result&&(e.ordered?(t.push(n),o&&void 0!==a.distance&&o.set(i,a.distance)):t.set(i,n)),!r.limit||r.skip||r.sorter||t.length!==r.limit?!0:!1}),!e.ordered)return t;if(r.sorter){var i=r.sorter.getComparator({distances:o});t.sort(i)}var a=r.skip||0,s=r.limit?r.limit+a:t.length;return t.slice(a,s)},f.Cursor.prototype._depend=function(e,t){var n=this;if(i.active){var o=new i.Dependency;o.depend();var a=r.bind(o.changed,o),s={_suppress_initial:!0,_allow_unordered:t};r.each(["added","changed","removed","addedBefore","movedBefore"],function(r){e[r]&&(s[r]=a)}),n.observeChanges(s)}},f.prototype.insert=function(n,o){var i=this;n=t.clone(n),r.has(n,"_id")||(n._id=f._useOID?new s.ObjectID:c.id());var a=n._id;if(i._docs.has(a))throw p("Duplicate _id '"+a+"'");i._saveOriginal(a,void 0),i._docs.set(a,n);var u=[];for(var d in i.queries){var l=i.queries[d],h=l.matcher.documentMatches(n);h.result&&(l.distances&&void 0!==h.distance&&l.distances.set(a,h.distance),l.cursor.skip||l.cursor.limit?u.push(d):f._insertInResults(l,n))}return r.each(u,function(e){i.queries[e]&&i._recomputeResults(i.queries[e])}),i._observeQueue.drain(),o&&e.defer(function(){o(null,a)}),a},f.prototype._eachPossiblyMatchingDoc=function(e,r){var t=this,n=f._idsMatchedBySelector(e);if(n)for(var o=0;o<n.length;++o){var i=n[o],a=t._docs.get(i);if(a){var s=r(a,i);if(s===!1)break}}else t._docs.forEach(r)},f.prototype.remove=function(n,o){var i=this;if(i.paused&&!i._savedOriginals&&t.equals(n,{})){var a=i._docs.size();return i._docs.clear(),r.each(i.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),o&&e.defer(function(){o(null,a)}),a}var s=new l.Matcher(n),c=[];i._eachPossiblyMatchingDoc(n,function(e,r){s.documentMatches(e).result&&c.push(r)});for(var u=[],d=[],h=0;h<c.length;h++){var p=c[h],v=i._docs.get(p);r.each(i.queries,function(e,r){e.matcher.documentMatches(v).result&&(e.cursor.skip||e.cursor.limit?u.push(r):d.push({qid:r,doc:v}))}),i._saveOriginal(p,v),i._docs.remove(p)}return r.each(d,function(e){var r=i.queries[e.qid];r&&(r.distances&&r.distances.remove(e.doc._id),f._removeFromResults(r,e.doc))}),r.each(u,function(e){var r=i.queries[e];r&&i._recomputeResults(r)}),i._observeQueue.drain(),a=c.length,o&&e.defer(function(){o(null,a)}),a},f.prototype.update=function(n,o,i,a){var s=this;!a&&i instanceof Function&&(a=i,i=null),i||(i={});var c=new l.Matcher(n),u={};r.each(s.queries,function(e,r){!e.cursor.skip&&!e.cursor.limit||s.paused||(u[r]=t.clone(e.results))});var d={},h=0;s._eachPossiblyMatchingDoc(n,function(e,r){var t=c.documentMatches(e);return t.result&&(s._saveOriginal(r,e),s._modifyAndNotify(e,o,d,t.arrayIndices),++h,!i.multi)?!1:!0}),r.each(d,function(e,r){var t=s.queries[r];t&&s._recomputeResults(t,u[r])}),s._observeQueue.drain();var p;if(0===h&&i.upsert){var v=f._removeDollarOperators(n);f._modify(v,o,{isInsert:!0}),!v._id&&i.insertedId&&(v._id=i.insertedId),p=s.insert(v),h=1}var _;return i._returnObject?(_={numberAffected:h},void 0!==p&&(_.insertedId=p)):_=h,a&&e.defer(function(){a(null,_)}),_},f.prototype.upsert=function(e,t,n,o){var i=this;return o||"function"!=typeof n||(o=n,n={}),i.update(e,t,r.extend({},n,{upsert:!0,_returnObject:!0}),o)},f.prototype._modifyAndNotify=function(e,r,n,o){var i=this,a={};for(var s in i.queries){var c=i.queries[s];c.ordered?a[s]=c.matcher.documentMatches(e).result:a[s]=c.results.has(e._id)}var u=t.clone(e);f._modify(e,r,{arrayIndices:o});for(s in i.queries){c=i.queries[s];var d=a[s],l=c.matcher.documentMatches(e),h=l.result;h&&c.distances&&void 0!==l.distance&&c.distances.set(e._id,l.distance),c.cursor.skip||c.cursor.limit?(d||h)&&(n[s]=!0):d&&!h?f._removeFromResults(c,e):!d&&h?f._insertInResults(c,e):d&&h&&f._updateInResults(c,e,u)}},f._insertInResults=function(e,r){var n=t.clone(r);if(delete n._id,e.ordered){if(e.sorter){var o=f._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r),i=e.results[o+1];i=i?i._id:null,e.addedBefore(r._id,e.projectionFn(n),i)}else e.addedBefore(r._id,e.projectionFn(n),null),e.results.push(r);e.added(r._id,e.projectionFn(n))}else e.added(r._id,e.projectionFn(n)),e.results.set(r._id,r)},f._removeFromResults=function(e,r){if(e.ordered){var t=f._findInOrderedResults(e,r);e.removed(r._id),e.results.splice(t,1)}else{var n=r._id;e.removed(r._id),e.results.remove(n)}},f._updateInResults=function(e,n,o){if(!t.equals(n._id,o._id))throw new Error("Can't change a doc's _id while updating");var i=e.projectionFn,a=u.makeChangedFields(i(n),i(o));if(!e.ordered)return void(r.isEmpty(a)||(e.changed(n._id,a),e.results.set(n._id,n)));var s=f._findInOrderedResults(e,n);if(r.isEmpty(a)||e.changed(n._id,a),e.sorter){e.results.splice(s,1);var c=f._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,n);if(s!==c){var d=e.results[c+1];d=d?d._id:null,e.movedBefore&&e.movedBefore(n._id,d)}}},f.prototype._recomputeResults=function(e,r){var t=this;t.paused||r||(r=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({ordered:e.ordered,distances:e.distances}),t.paused||f._diffQueryChanges(e.ordered,r,e.results,e,{projectionFn:e.projectionFn})},f._findInOrderedResults=function(e,r){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var t=0;t<e.results.length;t++)if(e.results[t]===r)return t;throw Error("object missing from query")},f._binarySearch=function(e,r,t){for(var n=0,o=r.length;o>0;){var i=Math.floor(o/2);e(t,r[n+i])>=0?(n+=i+1,o-=i+1):o=i}return n},f._insertInSortedList=function(e,r,t){if(0===r.length)return r.push(t),0;var n=f._binarySearch(e,r,t);return r.splice(n,0,t),n},f.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals=new f._IdMap},f.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var r=e._savedOriginals;return e._savedOriginals=null,r},f.prototype._saveOriginal=function(e,r){var n=this;n._savedOriginals&&(n._savedOriginals.has(e)||n._savedOriginals.set(e,t.clone(r)))},f.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var r=this.queries[e];r.resultsSnapshot=t.clone(r.results)}}},f.prototype.resumeObservers=function(){var e=this;if(this.paused){this.paused=!1;for(var r in this.queries){var t=e.queries[r];f._diffQueryChanges(t.ordered,t.resultsSnapshot,t.results,t,{projectionFn:t.projectionFn}),t.resultsSnapshot=null}e._observeQueue.drain()}}}).call(this),function(){f.wrapTransform=function(e){if(!e)return null;if(e.__wrappedTransform__)return e;var n=function(n){if(!r.has(n,"_id"))throw new Error("can only transform documents with _id");var o=n._id,a=i.nonreactive(function(){return e(n)});if(!_(a))throw new Error("transform must return object");if(r.has(a,"_id")){if(!t.equals(a._id,o))throw new Error("transformed document can't have different _id")}else a._id=o;return a};return n.__wrappedTransform__=!0,n}}.call(this),function(){v=function(e){return r.isArray(e)&&!t.isBinary(e)},_=f._isPlainObject=function(e){return e&&3===f._f._type(e)},m=function(e){return v(e)||_(e)},y=function(e,t){if(!_(e))return!1;var n=void 0;return r.each(e,function(r,o){var i="$"===o.substr(0,1);if(void 0===n)n=i;else if(n!==i){if(!t)throw new Error("Inconsistent operator: "+JSON.stringify(e));n=!1}}),!!n},g=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){l.Matcher=function(e){var r=this;r._paths={},r._hasGeoQuery=!1,r._hasWhere=!1,r._isSimple=!0,r._matchingDocument=void 0,r._selector=null,r._docMatcher=r._compileSelector(e)},r.extend(l.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(r){var n=this;if(r instanceof Function)return n._isSimple=!1,n._selector=r,n._recordPathUsed(""),function(e){return{result:!!r.call(e)}};if(f._selectorIsId(r))return n._selector={_id:r},n._recordPathUsed("_id"),function(e){return{result:t.equals(e._id,r)}};if(!r||"_id"in r&&!r._id)return n._isSimple=!1,S;if("boolean"==typeof r||v(r)||t.isBinary(r))throw new Error("Invalid selector: "+r);return n._selector=t.clone(r),e(r,n,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return r.keys(this._paths)}});var e=function(e,t,o){o=o||{};var i=[];return r.each(e,function(e,a){if("$"===a.substr(0,1)){if(!r.has(c,a))throw new Error("Unrecognized logical operator: "+a);t._isSimple=!1,i.push(c[a](e,t,o.inElemMatch))}else{o.inElemMatch||t._recordPathUsed(a);var s=E(a),u=n(e,t,o.isRoot);i.push(function(e){var r=s(e);return u(r)})}}),M(i)},n=function(e,r,t){return e instanceof RegExp?(r._isSimple=!1,o(w(e))):y(e)?i(e,r,t):o($(e))},o=function(e,t){return t=t||{},function(n){var o=n;t.dontExpandLeafArrays||(o=I(n,t.dontIncludeLeafArrays));var i={};return i.result=r.any(o,function(r){var t=e(r.value);return"number"==typeof t&&(r.arrayIndices||(r.arrayIndices=[t]),t=!0),t&&r.arrayIndices&&(i.arrayIndices=r.arrayIndices),t}),i}};w=function(e){return function(t){return t instanceof RegExp?r.isEqual(t,e):"string"!=typeof t?!1:(e.lastIndex=0,e.test(t))}},$=function(e){if(y(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?function(e){return null==e}:function(r){return f._f._equal(e,r)}};var i=function(e,t,n){var i=[];return r.each(e,function(a,s){var c=r.contains(["$lt","$lte","$gt","$gte"],s)&&r.isNumber(a),u="$ne"===s&&!r.isObject(a),d=r.contains(["$in","$nin"],s)&&r.isArray(a)&&!r.any(a,r.isObject);if("$eq"===s||c||d||u||(t._isSimple=!1),r.has(p,s))i.push(p[s](a,e,t,n));else{if(!r.has(b,s))throw new Error("Unrecognized operator: "+s);var f=b[s];i.push(o(f.compileElementSelector(a,e,t),f))}}),P(i)},a=function(t,n,o){if(!v(t)||r.isEmpty(t))throw Error("$and/$or/$nor must be nonempty array");return r.map(t,function(r){if(!_(r))throw Error("$or/$and/$nor entries need to be full objects");return e(r,n,{inElemMatch:o})})},c={$and:function(e,r,t){var n=a(e,r,t);return M(n)},$or:function(e,t,n){var o=a(e,t,n);return 1===o.length?o[0]:function(e){var t=r.any(o,function(r){return r(e).result});return{result:t}}},$nor:function(e,t,n){var o=a(e,t,n);return function(e){var t=r.all(o,function(r){return!r(e).result});return{result:t}}},$where:function(e,r){return r._recordPathUsed(""),r._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(r){return{result:e.call(r,r)}}},$comment:function(){return function(){return{result:!0}}}},u=function(e){return function(r){var t=e(r);return{result:!t.result}}},p={$not:function(e,r,t){return u(n(e,t))},$ne:function(e){return u(o($(e)))},$nin:function(e){return u(o(b.$in.compileElementSelector(e)))},$exists:function(e){var r=o(function(e){return void 0!==e});return e?r:u(r)},$options:function(e,t){if(!r.has(t,"$regex"))throw Error("$options needs a $regex");return j},$maxDistance:function(e,r){if(!r.$near)throw Error("$maxDistance needs a $near");return j},$all:function(e,t,o){if(!v(e))throw Error("$all requires array");if(r.isEmpty(e))return S;var i=[];return r.each(e,function(e){if(y(e))throw Error("no $ expressions in $all");i.push(n(e,o))}),P(i)},$near:function(e,t,n,o){if(!o)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var i,a,s;if(_(e)&&r.has(e,"$geometry"))i=e.$maxDistance,a=e.$geometry,s=function(e){return e&&e.type?"Point"===e.type?d.pointDistance(a,e):d.geometryWithinRadius(e,a,i)?0:i+1:null};else{if(i=t.$maxDistance,!v(e)&&!_(e))throw Error("$near argument must be coordinate pair or GeoJSON");a=O(e),s=function(e){return v(e)||_(e)?C(a,e):null}}return function(e){e=I(e);var t={result:!1};return r.each(e,function(e){var r=s(e.value);null===r||r>i||void 0!==t.distance&&t.distance<=r||(t.result=!0,t.distance=r,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices)}),t}}},C=function(e,t){e=O(e),t=O(t);var n=e[0]-t[0],o=e[1]-t[1];return r.isNaN(n)||r.isNaN(o)?null:Math.sqrt(n*n+o*o)},O=function(e){return r.map(e,r.identity)},k=function(e){return{compileElementSelector:function(r){if(v(r))return function(){return!1};void 0===r&&(r=null);var t=f._f._type(r);return function(n){return void 0===n&&(n=null),f._f._type(n)!==t?!1:e(f._f._cmp(n,r))}}}};b={$lt:k(function(e){return 0>e}),$gt:k(function(e){return e>0}),$lte:k(function(e){return 0>=e}),$gte:k(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!v(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var r=e[0],t=e[1];return function(e){return"number"==typeof e&&e%r===t}}},$in:{compileElementSelector:function(e){if(!v(e))throw Error("$in needs an array");var t=[];return r.each(e,function(e){if(e instanceof RegExp)t.push(w(e));else{if(y(e))throw Error("cannot nest $ under $in");t.push($(e))}}),function(e){return void 0===e&&(e=null),r.any(t,function(r){return r(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(r){return v(r)&&r.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if("number"!=typeof e)throw Error("$type needs a number");return function(r){return void 0!==r&&f._f._type(r)===e}}},$regex:{compileElementSelector:function(e,r){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var t;if(void 0!==r.$options){if(/[^gim]/.test(r.$options))throw new Error("Only the i, m, and g regexp options are supported");var n=e instanceof RegExp?e.source:e;t=new RegExp(n,r.$options)}else t=e instanceof RegExp?e:new RegExp(e);return w(t)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(r,t,o){if(!_(r))throw Error("$elemMatch need an object");var i,a;return y(r,!0)?(i=n(r,o),a=!1):(i=e(r,o,{inElemMatch:!0}),a=!0),function(e){if(!v(e))return!1;for(var r=0;r<e.length;++r){var t=e[r],n;if(a){if(!_(t)&&!v(t))return!1;n=t}else n=[{value:t,dontIterate:!0}];if(i(n).result)return r}return!1}}}},E=function(e,t){t=t||{};var n=e.split("."),o=n.length?n[0]:"",i=g(o),a=n.length>=2&&g(n[1]),s;n.length>1&&(s=E(n.slice(1).join(".")));var c=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,n){if(n||(n=[]),v(e)){if(!(i&&o<e.length))return[];n=n.concat(+o,"x")}var u=e[o];if(!s)return[c({value:u,dontIterate:v(e)&&v(u),arrayIndices:n})];if(!m(u))return v(e)?[]:[c({value:void 0,arrayIndices:n})];var d=[],f=function(e){Array.prototype.push.apply(d,e)};return f(s(u,n)),!v(u)||a&&t.forSort||r.each(u,function(e,r){_(e)&&f(s(e,n.concat(r)))}),d}},h.makeLookupFunction=E,I=function(e,t){var n=[];return r.each(e,function(e){var o=v(e.value);t&&o&&!e.dontIterate||n.push({value:e.value,arrayIndices:e.arrayIndices}),o&&!e.dontIterate&&r.each(e.value,function(r,t){n.push({value:r,arrayIndices:(e.arrayIndices||[]).concat(t)})})}),n};var S=function(e){return{result:!1}},j=function(e){return{result:!0}},A=function(e){return 0===e.length?j:1===e.length?e[0]:function(t){var n={};return n.result=r.all(e,function(e){var r=e(t);return r.result&&void 0!==r.distance&&void 0===n.distance&&(n.distance=r.distance),r.result&&r.arrayIndices&&(n.arrayIndices=r.arrayIndices),r.result}),n.result||(delete n.distance,delete n.arrayIndices),n}},M=A,P=A;f._f={_type:function(e){return"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:v(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:t.isBinary(e)?5:e instanceof s.ObjectID?7:3},_equal:function(e,r){return t.equals(e,r,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,r){if(void 0===e)return void 0===r?0:-1;if(void 0===r)return 1;var t=f._f._type(e),n=f._f._type(r),o=f._f._typeorder(t),i=f._f._typeorder(n);if(o!==i)return i>o?-1:1;if(t!==n)throw Error("Missing type coercion logic in _cmp");if(7===t&&(t=n=2,e=e.toHexString(),r=r.toHexString()),9===t&&(t=n=1,e=e.getTime(),r=r.getTime()),1===t)return e-r;if(2===n)return r>e?-1:e===r?0:1;if(3===t){var a=function(e){var r=[];for(var t in e)r.push(t),r.push(e[t]);return r};return f._f._cmp(a(e),a(r))}if(4===t)for(var s=0;;s++){if(s===e.length)return s===r.length?0:-1;if(s===r.length)return 1;var c=f._f._cmp(e[s],r[s]);if(0!==c)return c}if(5===t){if(e.length!==r.length)return e.length-r.length;for(s=0;s<e.length;s++){if(e[s]<r[s])return-1;if(e[s]>r[s])return 1}return 0}if(8===t)return e?r?0:1:r?-1:0;if(10===t)return 0;if(11===t)throw Error("Sorting not supported on regular expression");if(13===t)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},f._removeDollarOperators=function(e){var r={};for(var t in e)"$"!==t.substr(0,1)&&(r[t]=e[t]);return r}}.call(this),function(){l.Sorter=function(t,n){var o=this;n=n||{},o._sortSpecParts=[];var i=function(e,r){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);o._sortSpecParts.push({path:e,lookup:E(e,{forSort:!0}),ascending:r})};if(t instanceof Array)for(var a=0;a<t.length;a++)"string"==typeof t[a]?i(t[a],!0):i(t[a][0],"desc"!==t[a][1]);else{if("object"!=typeof t)throw Error("Bad sort specification: "+JSON.stringify(t));r.each(t,function(e,r){i(r,e>=0)})}if(o.affectedByModifier){var s={};r.each(o._sortSpecParts,function(e){s[e.path]=1}),o._selectorForAffectedByModifier=new l.Matcher(s)}o._keyComparator=e(r.map(o._sortSpecParts,function(e,r){return o._keyFieldComparator(r)})),o._keyFilter=null,n.matcher&&o._useWithMatcher(n.matcher)},r.extend(l.Sorter.prototype,{getComparator:function(r){var t=this;if(!r||!r.distances)return t._getBaseComparator();var n=r.distances;return e([t._getBaseComparator(),function(e,r){if(!n.has(e._id))throw Error("Missing distance for "+e._id);if(!n.has(r._id))throw Error("Missing distance for "+r._id);return n.get(e._id)-n.get(r._id)}])},_getPaths:function(){var e=this;return r.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var r=this,t=null;if(r._generateKeysFromDoc(e,function(e){return r._keyCompatibleWithSelector(e)?null===t?void(t=e):void(r._compareKeys(e,t)<0&&(t=e)):void 0}),null===t)throw Error("sort selector found no keys in doc?");return t},_keyCompatibleWithSelector:function(e){var r=this;return!r._keyFilter||r._keyFilter(e)},_generateKeysFromDoc:function(e,t){var n=this;if(0===n._sortSpecParts.length)throw new Error("can't generate keys without a spec");var o=[],i=function(e){return e.join(",")+","},a=null;if(r.each(n._sortSpecParts,function(t,n){var s=I(t.lookup(e),!0);s.length||(s=[{value:null}]);var c=!1;if(o[n]={},r.each(s,function(e){if(!e.arrayIndices){if(s.length>1)throw Error("multiple branches but no array used?");return void(o[n][""]=e.value)}c=!0;var t=i(e.arrayIndices);if(r.has(o[n],t))throw Error("duplicate path: "+t);if(o[n][t]=e.value,a&&!r.has(a,t))throw Error("cannot index parallel arrays")}),a){if(!r.has(o[n],"")&&r.size(a)!==r.size(o[n]))throw Error("cannot index parallel arrays!")}else c&&(a={},r.each(o[n],function(e,r){a[r]=!0}))}),!a){var s=r.map(o,function(e){if(!r.has(e,""))throw Error("no value in sole key case?");return e[""]});return void t(s)}r.each(a,function(e,n){var i=r.map(o,function(e){if(r.has(e,""))return e[""];if(!r.has(e,n))throw Error("missing path?");return e[n]});t(i)})},_compareKeys:function(e,r){var t=this;if(e.length!==t._sortSpecParts.length||r.length!==t._sortSpecParts.length)throw Error("Key has wrong length");return t._keyComparator(e,r)},_keyFieldComparator:function(e){var r=this,t=!r._sortSpecParts[e].ascending;return function(r,n){var o=f._f._cmp(r[e],n[e]);return t&&(o=-o),o}},_getBaseComparator:function(){var e=this;return e._sortSpecParts.length?function(r,t){var n=e._getMinKeyFromDoc(r),o=e._getMinKeyFromDoc(t);return e._compareKeys(n,o)}:function(e,r){return 0}},_useWithMatcher:function(e){var t=this;if(t._keyFilter)throw Error("called _useWithMatcher twice?");if(!r.isEmpty(t._sortSpecParts)){var n=e._selector;if(!(n instanceof Function)){var o={};r.each(t._sortSpecParts,function(e,r){o[e.path]=[]}),r.each(n,function(e,t){var n=o[t];if(n){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void n.push(w(e))}return y(e)?void r.each(e,function(t,o){r.contains(["$lt","$lte","$gt","$gte"],o)&&n.push(b[o].compileElementSelector(t)),"$regex"!==o||e.$options||n.push(b.$regex.compileElementSelector(t,e))}):void n.push($(e))}}),r.isEmpty(o[t._sortSpecParts[0].path])||(t._keyFilter=function(e){return r.all(t._sortSpecParts,function(t,n){return r.all(o[t.path],function(r){return r(e[n])})})})}}}});var e=function(e){return function(r,t){for(var n=0;n<e.length;++n){var o=e[n](r,t);if(0!==o)return o}return 0}}}.call(this),function(){f._compileProjection=function(e){f._checkSupportedProjection(e);var n=r.isUndefined(e._id)?!0:e._id,o=C(e),i=function(e,n){if(r.isArray(e))return r.map(e,function(e){return i(e,n)});var a=o.including?{}:t.clone(e);return r.each(n,function(n,s){r.has(e,s)&&(r.isObject(n)?r.isObject(e[s])&&(a[s]=i(e[s],n)):o.including?a[s]=t.clone(e[s]):delete a[s])}),a};return function(e){var t=i(e,o.tree);return n&&r.has(e,"_id")&&(t._id=e._id),!n&&r.has(t,"_id")&&delete t._id,t}},C=function(e){var t=r.keys(e).sort();!(t.length>0)||1===t.length&&"_id"===t[0]||r.contains(t,"_id")&&e._id||(t=r.reject(t,function(e){return"_id"===e}));var n=null;r.each(t,function(r){var t=!!e[r];if(null===n&&(n=t),n!==t)throw p("You cannot currently mix including and excluding fields.")});var o=O(t,function(e){return n},function(e,r,t){var n=t,o=r;throw p("both "+n+" and "+o+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:n}},O=function(e,t,n,o){return o=o||{},r.each(e,function(e){var i=o,a=e.split("."),s=r.all(a.slice(0,-1),function(t,o){if(r.has(i,t)){if(!r.isObject(i[t])&&(i[t]=n(i[t],a.slice(0,o+1).join("."),e),!r.isObject(i[t])))return!1}else i[t]={};return i=i[t],!0});if(s){var c=r.last(a);r.has(i,c)?i[c]=n(i[c],e,e):i[c]=t(e)}}),o},f._checkSupportedProjection=function(e){if(!r.isObject(e)||r.isArray(e))throw p("fields option must be an object");r.each(e,function(e,t){if(r.contains(t.split("."),"$"))throw p("Minimongo doesn't support $ operator in projections yet.");if("object"==typeof e&&r.intersection(["$elemMatch","$meta","$slice"],r.keys(e)).length>0)throw p("Minimongo doesn't support operators in projections yet.");if(-1===r.indexOf([1,0,!0,!1],e))throw p("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){f._modify=function(i,a,s){if(s=s||{},!_(a))throw p("Modifier must be an object");a=t.clone(a);var c=y(a),u;if(c)u=t.clone(i),r.each(a,function(t,i){var a=o[i];if(s.isInsert&&"$setOnInsert"===i&&(a=o.$set),!a)throw p("Invalid modifier specified "+i);r.each(t,function(t,o){if(""===o)throw p("An empty update path is not valid.");if("_id"===o)throw p("Mod on _id not allowed");var c=o.split(".");if(!r.all(c,r.identity))throw p("The update path '"+o+"' contains an empty field name, which is not allowed.");var d=r.has(n,i),f="$rename"===i,l=e(u,c,{noCreate:n[i],forbidArray:"$rename"===i,arrayIndices:s.arrayIndices}),h=c.pop();a(l,h,t,o,u)})});else{if(a._id&&!t.equals(i._id,a._id))throw p("Cannot change the _id of a document");for(var d in a)if(/\./.test(d))throw p("When replacing document, field name may not contain '.'");u=a}r.each(r.keys(i),function(e){"_id"!==e&&delete i[e]}),r.each(u,function(e,r){i[r]=e})};var e=function(e,r,t){t=t||{};for(var n=!1,o=0;o<r.length;o++){var i=o===r.length-1,a=r[o],s=m(e);if(!s){if(t.noCreate)return void 0;var c=p("cannot use the part '"+a+"' to traverse "+e);throw c.setPropertyError=!0,c}if(e instanceof Array){if(t.forbidArray)return null;if("$"===a){if(n)throw p("Too many positional (i.e. '$') elements");if(!t.arrayIndices||!t.arrayIndices.length)throw p("The positional operator did not find the match needed from the query");a=t.arrayIndices[0],n=!0}else{if(!g(a)){if(t.noCreate)return void 0;throw p("can't append to array using string field name ["+a+"]")}a=parseInt(a)}if(i&&(r[o]=a),t.noCreate&&a>=e.length)return void 0;for(;e.length<a;)e.push(null);if(!i)if(e.length===a)e.push({});else if("object"!=typeof e[a])throw p("can't modify field '"+r[o+1]+"' of list value "+JSON.stringify(e[a]))}else{if(a.length&&"$"===a.substr(0,1))throw p("can't set field named "+a);if(!(a in e)){if(t.noCreate)return void 0;i||(e[a]={})}}if(i)return e;e=e[a]}},n={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},o={$inc:function(e,r,t){if("number"!=typeof t)throw p("Modifier $inc allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw p("Cannot apply $inc modifier to non-number");e[r]+=t}else e[r]=t},$set:function(e,t,n){if(!r.isObject(e)){var o=p("Cannot set property on non-object field");throw o.setPropertyError=!0,o}if(null===e){var o=p("Cannot set property on null");throw o.setPropertyError=!0,o}e[t]=n},$setOnInsert:function(e,r,t){},$unset:function(e,r,t){void 0!==e&&(e instanceof Array?r in e&&(e[r]=null):delete e[r])},$push:function(e,r,t){if(void 0===e[r]&&(e[r]=[]),!(e[r]instanceof Array))throw p("Cannot apply $push modifier to non-array");if(!t||!t.$each)return void e[r].push(t);var n=t.$each;if(!(n instanceof Array))throw p("$each must be an array");var o=void 0;if("$position"in t){if("number"!=typeof t.$position)throw p("$position must be a numeric value");if(t.$position<0)throw p("$position in $push must be zero or positive");o=t.$position}var i=void 0;if("$slice"in t){if("number"!=typeof t.$slice)throw p("$slice must be a numeric value");if(t.$slice>0)throw p("$slice in $push must be zero or negative");i=t.$slice}var a=void 0;if(t.$sort){if(void 0===i)throw p("$sort requires $slice to be present");a=new l.Sorter(t.$sort).getComparator();for(var s=0;s<n.length;s++)if(3!==f._f._type(n[s]))throw p("$push like modifiers using $sort require all elements to be objects")}if(void 0===o)for(var c=0;c<n.length;c++)e[r].push(n[c]);else{for(var u=[o,0],c=0;c<n.length;c++)u.push(n[c]);Array.prototype.splice.apply(e[r],u)}a&&e[r].sort(a),void 0!==i&&(0===i?e[r]=[]:e[r]=e[r].slice(i))},$pushAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw p("Modifier $pushAll/pullAll allowed for arrays only");var n=e[r];if(void 0===n)e[r]=t;else{if(!(n instanceof Array))throw p("Cannot apply $pushAll modifier to non-array");for(var o=0;o<t.length;o++)n.push(t[o])}},$addToSet:function(e,t,n){var o=!1;if("object"==typeof n)for(var i in n){"$each"===i&&(o=!0);break}var a=o?n.$each:[n],s=e[t];if(void 0===s)e[t]=a;else{if(!(s instanceof Array))throw p("Cannot apply $addToSet modifier to non-array");

r.each(a,function(e){for(var r=0;r<s.length;r++)if(f._f._equal(e,s[r]))return;s.push(e)})}},$pop:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw p("Cannot apply $pop modifier to non-array");"number"==typeof t&&0>t?n.splice(0,1):n.pop()}}},$pull:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw p("Cannot apply $pull/pullAll modifier to non-array");var o=[];if(null==t||"object"!=typeof t||t instanceof Array)for(var i=0;i<n.length;i++)f._f._equal(n[i],t)||o.push(n[i]);else for(var a=new l.Matcher(t),i=0;i<n.length;i++)a.documentMatches(n[i]).result||o.push(n[i]);e[r]=o}}},$pullAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw p("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw p("Cannot apply $pull/pullAll modifier to non-array");for(var o=[],i=0;i<n.length;i++){for(var a=!1,s=0;s<t.length;s++)if(f._f._equal(n[i],t[s])){a=!0;break}a||o.push(n[i])}e[r]=o}}},$rename:function(r,t,n,o,i){if(o===n)throw p("$rename source must differ from target");if(null===r)throw p("$rename source field invalid");if("string"!=typeof n)throw p("$rename target must be a string");if(void 0!==r){var a=r[t];delete r[t];var s=n.split("."),c=e(i,s,{forbidArray:!0});if(null===c)throw p("$rename target field invalid");var u=s.pop();c[u]=a}},$bit:function(e,r,t){throw p("$bit is not supported")}}}.call(this),function(){f._diffQueryChanges=function(e,r,t,n,o){return u.diffQueryChanges(e,r,t,n,o)},f._diffQueryUnorderedChanges=function(e,r,t,n){return u.diffQueryUnorderedChanges(e,r,t,n)},f._diffQueryOrderedChanges=function(e,r,t,n){return u.diffQueryOrderedChanges(e,r,t,n)},f._diffObjects=function(e,r,t){return u.diffObjects(e,r,t)}}.call(this),function(){f._IdMap=function(){var e=this;n.call(e,s.idStringify,s.idParse)},e._inherits(f._IdMap,n)}.call(this),function(){f._CachingChangeObserver=function(e){var n=this;e=e||{};var i=e.callbacks&&f._observeChangesCallbacksAreOrdered(e.callbacks);if(r.has(e,"ordered")){if(n.ordered=e.ordered,e.callbacks&&e.ordered!==i)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");n.ordered=i}var a=e.callbacks||{};n.ordered?(n.docs=new o(s.idStringify),n.applyChange={addedBefore:function(e,r,o){var i=t.clone(r);i._id=e,a.addedBefore&&a.addedBefore.call(n,e,r,o),a.added&&a.added.call(n,e,r),n.docs.putBefore(e,i,o||null)},movedBefore:function(e,r){var t=n.docs.get(e);a.movedBefore&&a.movedBefore.call(n,e,r),n.docs.moveBefore(e,r||null)}}):(n.docs=new f._IdMap,n.applyChange={added:function(e,r){var o=t.clone(r);a.added&&a.added.call(n,e,r),o._id=e,n.docs.set(e,o)}}),n.applyChange.changed=function(e,r){var o=n.docs.get(e);if(!o)throw new Error("Unknown id for changed: "+e);a.changed&&a.changed.call(n,e,t.clone(r)),u.applyChanges(o,r)},n.applyChange.removed=function(e){a.removed&&a.removed.call(n,e),n.docs.remove(e)}},f._observeFromObserveChanges=function(e,n){var o=e.getTransform()||function(e){return e},i=!!n._suppress_initial,a;if(f._observeCallbacksAreOrdered(n)){var s=!n._no_indices;a={addedBefore:function(e,t,a){var c=this;if(!i&&(n.addedAt||n.added)){var u=o(r.extend(t,{_id:e}));if(n.addedAt){var d=s?a?c.docs.indexOf(a):c.docs.size():-1;n.addedAt(u,d,a)}else n.added(u)}},changed:function(e,r){var i=this;if(n.changedAt||n.changed){var a=t.clone(i.docs.get(e));if(!a)throw new Error("Unknown id for changed: "+e);var c=o(t.clone(a));if(u.applyChanges(a,r),a=o(a),n.changedAt){var d=s?i.docs.indexOf(e):-1;n.changedAt(a,c,d)}else n.changed(a,c)}},movedBefore:function(e,r){var i=this;if(n.movedTo){var a=s?i.docs.indexOf(e):-1,c=s?r?i.docs.indexOf(r):i.docs.size():-1;c>a&&--c,n.movedTo(o(t.clone(i.docs.get(e))),a,c,r||null)}},removed:function(e){var r=this;if(n.removedAt||n.removed){var t=o(r.docs.get(e));if(n.removedAt){var i=s?r.docs.indexOf(e):-1;n.removedAt(t,i)}else n.removed(t)}}}}else a={added:function(e,t){if(!i&&n.added){var a=r.extend(t,{_id:e});n.added(o(a))}},changed:function(e,r){var i=this;if(n.changed){var a=i.docs.get(e),s=t.clone(a);u.applyChanges(s,r),n.changed(o(s),o(t.clone(a)))}},removed:function(e){var r=this;n.removed&&n.removed(o(r.docs.get(e)))}};var c=new f._CachingChangeObserver({callbacks:a}),d=e.observeChanges(c.applyChange);return i=!1,d}}.call(this),function(){f._selectorIsId=function(e){return"string"==typeof e||"number"==typeof e||e instanceof s.ObjectID},f._selectorIsIdPerhapsAsObject=function(e){return f._selectorIsId(e)||e&&"object"==typeof e&&e._id&&f._selectorIsId(e._id)&&1===r.size(e)},f._idsMatchedBySelector=function(e){if(f._selectorIsId(e))return[e];if(!e)return null;if(r.has(e,"_id"))return f._selectorIsId(e._id)?[e._id]:e._id&&e._id.$in&&r.isArray(e._id.$in)&&!r.isEmpty(e._id.$in)&&r.all(e._id.$in,f._selectorIsId)?e._id.$in:null;if(e.$and&&r.isArray(e.$and))for(var t=0;t<e.$and.length;++t){var n=f._idsMatchedBySelector(e.$and[t]);if(n)return n}return null}}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:f,Minimongo:l,MinimongoTest:h}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["ddp-server"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.random.Random,o=Package.ejson.EJSON,t=Package.underscore._,r=Package.minimongo.LocalCollection,i=Package.minimongo.Minimongo,c=Package["ddp-client"].DDP,l=Package.tracker.Tracker,a=Package.tracker.Deps,s=Package["diff-sequence"].DiffSequence,d=Package["mongo-id"].MongoID,u=Package.check.check,f=Package.check.Match,_,p;(function(){_=function(){var e=this;e.noConnCollections={}};var e=function(e,n){return e in n||(n[e]=new r(e)),n[e]};t.extend(_.prototype,{open:function(n,o){var t=this;return n?o?(o._mongo_livedata_collections||(o._mongo_livedata_collections={}),e(n,o._mongo_livedata_collections)):e(n,t.noConnCollections):new r}}),_=new _}).call(this),function(){p={},p.Collection=function(o,i){var l=this;if(!(l instanceof p.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(o||null===o||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),o=null),null!==o&&"string"!=typeof o)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(i&&i.methods&&(i={connection:i}),i&&i.manager&&!i.connection&&(i.connection=i.manager),i=t.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},i),i.idGeneration){case"MONGO":l._makeNewID=function(){var e=o?c.randomStream("/collection/"+o):n.insecure;return new p.ObjectID(e.hexString(24))};break;case"STRING":default:l._makeNewID=function(){var e=o?c.randomStream("/collection/"+o):n.insecure;return e.id()}}if(l._transform=r.wrapTransform(i.transform),o&&null!==i.connection?i.connection?l._connection=i.connection:e.isClient?l._connection=e.connection:l._connection=e.server:l._connection=null,i._driver||(o&&l._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?i._driver=MongoInternals.defaultRemoteCollectionDriver():i._driver=_),l._collection=i._driver.open(o,l._connection),l._name=o,l._driver=i._driver,l._connection&&l._connection.registerStore){var a=l._connection.registerStore(o,{beginUpdate:function(e,n){(e>1||n)&&l._collection.pauseObservers(),n&&l._collection.remove({})},update:function(e){var n=d.idParse(e.id),o=l._collection.findOne(n);if("replace"===e.msg){var r=e.replace;return void(r?o?l._collection.update(n,r):l._collection.insert(r):o&&l._collection.remove(n))}if("added"===e.msg){if(o)throw new Error("Expected not to find a document already present for an add");l._collection.insert(t.extend({_id:n},e.fields))}else if("removed"===e.msg){if(!o)throw new Error("Expected to find a document already present for removed");l._collection.remove(n)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!o)throw new Error("Expected to find a document to change");if(!t.isEmpty(e.fields)){var i={};t.each(e.fields,function(e,n){void 0===e?(i.$unset||(i.$unset={}),i.$unset[n]=1):(i.$set||(i.$set={}),i.$set[n]=e)}),l._collection.update(n,i)}}},endUpdate:function(){l._collection.resumeObservers()},saveOriginals:function(){l._collection.saveOriginals()},retrieveOriginals:function(){return l._collection.retrieveOriginals()},getDoc:function(e){return l.findOne(e)}});if(!a)throw new Error("There is already a collection named '"+o+"'")}l._defineMutationMethods(),Package.autopublish&&!i._preventAutopublish&&l._connection&&l._connection.publish&&l._connection.publish(null,function(){return l.find()},{is_auto:!0})},t.extend(p.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var n=this;return e.length<2?{transform:n._transform}:(u(e[1],f.Optional(f.ObjectIncluding({fields:f.Optional(f.OneOf(Object,void 0)),sort:f.Optional(f.OneOf(Object,Array,void 0)),limit:f.Optional(f.OneOf(Number,void 0)),skip:f.Optional(f.OneOf(Number,void 0))}))),t.extend({transform:n._transform},e[1]))},find:function(){var e=this,n=t.toArray(arguments);return e._collection.find(e._getFindSelector(n),e._getFindOptions(n))},findOne:function(){var e=this,n=t.toArray(arguments);return e._collection.findOne(e._getFindSelector(n),e._getFindOptions(n))}}),p.Collection._publishCursor=function(e,n,o){var t=e.observeChanges({added:function(e,t){n.added(o,e,t)},changed:function(e,t){n.changed(o,e,t)},removed:function(e){n.removed(o,e)}});n.onStop(function(){t.stop()})},p.Collection._rewriteSelector=function(e){if(r._selectorIsId(e)&&(e={_id:e}),t.isArray(e))throw new Error("Mongo selector can't be an array.");if(!e||"_id"in e&&!e._id)return{_id:n.id()};var o={};return t.each(e,function(e,n){e instanceof RegExp?o[n]=i(e):e&&e.$regex instanceof RegExp?(o[n]=i(e.$regex),void 0!==e.$options&&(o[n].$options=e.$options)):t.contains(["$or","$and","$nor"],n)?o[n]=t.map(e,function(e){return p.Collection._rewriteSelector(e)}):o[n]=e}),o};var i=function(e){u(e,RegExp);var n={$regex:e.source},o="";return e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),o&&(n.$options=o),n},l=function(n,o){if(!r._selectorIsIdPerhapsAsObject(n))throw new e.Error(403,"Not permitted. Untrusted code may only "+o+" documents by ID.")};t.each(["insert","update","remove"],function(n){p.Collection.prototype[n]=function(){var o=this,r=t.toArray(arguments),i,a,s;if(r.length&&(void 0===r[r.length-1]||r[r.length-1]instanceof Function)&&(i=r.pop()),"insert"===n){if(!r.length)throw new Error("insert requires an argument");if(r[0]=t.extend({},r[0]),"_id"in r[0]){if(a=r[0]._id,!a||!("string"==typeof a||a instanceof p.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var d=!0;if(o._connection&&o._connection!==e.server){var u=c._CurrentInvocation.get();u||(d=!1)}d&&(a=r[0]._id=o._makeNewID())}}else if(r[0]=p.Collection._rewriteSelector(r[0]),"update"===n){var f=r[2]=t.clone(r[2])||{};if(f&&"function"!=typeof f&&f.upsert)if(f.insertedId){if(!("string"==typeof f.insertedId||f.insertedId instanceof p.ObjectID))throw new Error("insertedId must be string or ObjectID")}else r[0]._id||(f.insertedId=o._makeNewID())}var _=function(e){return"insert"===n?(!a&&e&&(a=e),a):e},v;if(i&&(v=function(e,n){i(e,!e&&_(n))}),o._connection&&o._connection!==e.server){var u=c._CurrentInvocation.get(),h=u&&u.isSimulation;!e.isClient||v||h||(v=function(o){o&&e._debug(n+" failed: "+(o.reason||o.stack))}),h||"insert"===n||l(r[0],n),s=_(o._connection.apply(o._prefix+n,r,{returnStubValue:!0},v))}else{r.push(v);try{var m=o._collection[n].apply(o._collection,r);s=_(m)}catch(w){if(i)return i(w),null;throw w}}return s}}),p.Collection.prototype.upsert=function(e,n,o,r){var i=this;return r||"function"!=typeof o||(r=o,o={}),i.update(e,n,t.extend({},o,{_returnObject:!0,upsert:!0}),r)},p.Collection.prototype._ensureIndex=function(e,n){var o=this;if(!o._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");o._collection._ensureIndex(e,n)},p.Collection.prototype._dropIndex=function(e){var n=this;if(!n._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");n._collection._dropIndex(e)},p.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},p.Collection.prototype._createCappedCollection=function(e,n){var o=this;if(!o._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");o._collection._createCappedCollection(e,n)},p.Collection.prototype.rawCollection=function(){var e=this;if(!e._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return e._collection.rawCollection()},p.Collection.prototype.rawDatabase=function(){var e=this;if(!e._driver.mongo||!e._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return e._driver.mongo.db},p.ObjectID=d.ObjectID,p.Cursor=r.Cursor,p.Collection.Cursor=p.Cursor,p.Collection.ObjectID=p.ObjectID,function(){var e=function(e,n){var o=["insert","update","remove","fetch","transform"];t.each(t.keys(n),function(n){if(!t.contains(o,n))throw new Error(e+": Invalid key: "+n)});var i=this;if(i._restricted=!0,t.each(["insert","update","remove"],function(o){if(n.hasOwnProperty(o)){if(!(n[o]instanceof Function))throw new Error(e+": Value for `"+o+"` must be a function");void 0===n.transform?n[o].transform=i._transform:n[o].transform=r.wrapTransform(n.transform),i._validators[o][e].push(n[o])}}),n.update||n.remove||n.fetch){if(n.fetch&&!(n.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");i._updateFetch(n.fetch)}};p.Collection.prototype.allow=function(n){e.call(this,"allow",n)},p.Collection.prototype.deny=function(n){e.call(this,"deny",n)}}(),p.Collection.prototype._defineMutationMethods=function(){var n=this;if(n._restricted=!1,n._insecure=void 0,n._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},n._name&&(n._prefix="/"+n._name+"/",n._connection)){var o={};t.each(["insert","update","remove"],function(r){o[n._prefix+r]=function(){u(arguments,[f.Any]);var o=t.toArray(arguments);try{var i=null;if("insert"!==r||t.has(o[0],"_id")||(i=n._makeNewID()),this.isSimulation)return null!==i&&(o[0]._id=i),n._collection[r].apply(n._collection,o);if("insert"!==r&&l(o[0],r),n._restricted){if(0===n._validators[r].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+r+"'.");var c="_validated"+r.charAt(0).toUpperCase()+r.slice(1);return o.unshift(this.userId),"insert"===r&&o.push(i),n[c].apply(n,o)}if(n._isInsecure())return null!==i&&(o[0]._id=i),n._collection[r].apply(n._collection,o);throw new e.Error(403,"Access denied")}catch(a){throw"MongoError"===a.name||"MinimongoError"===a.name?new e.Error(409,a.toString()):a}}}),(e.isClient||n._connection===e.server)&&n._connection.methods(o)}},p.Collection.prototype._updateFetch=function(e){var n=this;n._validators.fetchAllFields||(e?n._validators.fetch=t.union(n._validators.fetch,e):(n._validators.fetchAllFields=!0,n._validators.fetch=null))},p.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var a=function(e,n,t){var r=n;return e.transform&&(r=o.clone(n),null!==t&&(r._id=t),r=e.transform(r)),r};p.Collection.prototype._validatedInsert=function(n,o,r){var i=this;if(t.any(i._validators.insert.deny,function(e){return e(n,a(e,o,r))}))throw new e.Error(403,"Access denied");if(t.all(i._validators.insert.allow,function(e){return!e(n,a(e,o,r))}))throw new e.Error(403,"Access denied");null!==r&&(o._id=r),i._collection.insert.call(i._collection,o)};var s=function(e,n){return e.transform?e.transform(n):n};p.Collection.prototype._validatedUpdate=function(n,o,i,c){var l=this;if(u(i,Object),c=t.clone(c)||{},!r._selectorIsIdPerhapsAsObject(o))throw new Error("validated update should be of a single ID");if(c.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var a="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",d=[];if(t.isEmpty(i))throw new e.Error(403,a);t.each(i,function(n,o){if("$"!==o.charAt(0))throw new e.Error(403,a);if(!t.has(v,o))throw new e.Error(403,"Access denied. Operator "+o+" not allowed in a restricted collection.");t.each(t.keys(n),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),t.contains(d,e)||d.push(e)})});var f={transform:null};l._validators.fetchAllFields||(f.fields={},t.each(l._validators.fetch,function(e){f.fields[e]=1}));var _=l._collection.findOne(o,f);if(!_)return 0;if(t.any(l._validators.update.deny,function(e){var o=s(e,_);return e(n,o,d,i)}))throw new e.Error(403,"Access denied");if(t.all(l._validators.update.allow,function(e){var o=s(e,_);return!e(n,o,d,i)}))throw new e.Error(403,"Access denied");return c._forbidReplace=!0,l._collection.update.call(l._collection,o,i,c)};var v={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};p.Collection.prototype._validatedRemove=function(n,o){var r=this,i={transform:null};r._validators.fetchAllFields||(i.fields={},t.each(r._validators.fetch,function(e){i.fields[e]=1}));var c=r._collection.findOne(o,i);if(!c)return 0;if(t.any(r._validators.remove.deny,function(e){return e(n,s(e,c))}))throw new e.Error(403,"Access denied");if(t.all(r._validators.remove.allow,function(e){return!e(n,s(e,c))}))throw new e.Error(403,"Access denied");return r._collection.remove.call(r._collection,o)},e.Collection=p.Collection}.call(this),"undefined"==typeof Package&&(Package={}),Package.mongo={Mongo:p}}();

!function(){var e=Package.meteor.Meteor,t,n;(function(){!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(fe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,u=s?ie.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=J.pop()||ie.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[l]=ie.extend(u[l],t):u[l].data=ie.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function d(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Te?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Te?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function v(e){je.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&je.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ze[e];return n||(n=N(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Ke.detach()),Ze[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ft.length;i--;)if(t=ft[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ae(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=Ae(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=ut.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ie.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Se[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=nt(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=rt(e,t,o),(0>i||null==i)&&(i=e.style[t]),tt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){pt=void 0}),pt=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Se[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(bt[t]||[]).concat(bt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&Ae(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=ie.css(e,"display"),c="none"===l?ie._data(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||ie.style(e,r)}else l=void 0;if(ie.isEmptyObject(f))"inline"===("none"===l?E(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ie._removeData(e,"fxshow");for(t in f)ie.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=yt.length,s=ie.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=pt||q(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>o;o++)if(r=yt[o].call(l,e,c,l.opts))return r;return ie.map(c,M,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var u;return o[s]=!0,ie.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Vt.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,Q=J.concat,G=J.push,K=J.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:J.sort,splice:J.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return Q.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var le=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=d=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(d=t.getAttribute("id"))?p=d.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=be.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[P]||(t[P]={}),(s=u[r])&&s[0]===W&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?ee(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&T.find.TAG("*",l),x=W+=null==y?1:Math.random()||.1,w=b.length;for(l&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=Q.call(u));v=g(v)}K.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=x,A=y),m};return i?r(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],Q=Y.pop,G=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Ne){K={apply:Y.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ve.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(q.compareDocumentPosition),B=t||ve.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&B(R,e)?-1:t===r||t.ownerDocument===R&&B(R,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?ee(D,e)-ee(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),l=c[e]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(l=(t[P]||(t[P]={}))[e])&&l[0]===W)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ue,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));

for(a in T.filter)!(i=he[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||k(e,d))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=le,ie.expr=le.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=le.uniqueSort,ie.text=le.getText,ie.isXMLDoc=le.isXML,ie.contains=le.contains;var ce=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,pe=ie(he);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[e]||(i=ie.unique(i)),ve.test(e)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):ie.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(t){ie.each(t,function(t,n){var r=ie.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,u,r))>-1;)u.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?ie.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=Y.call(arguments),r=n.length,i=1!==r||e&&ie.isFunction(e.promise)?r:0,o=1===i?e:ie.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?Y.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=new Array(r),u=new Array(r),l=new Array(r);r>t;t++)n[t]&&ie.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),ie.ready()}}()}return we.promise(t)};var Te="undefined",Ce;for(Ce in ie(ne))break;ne.ownLast="0"!==Ce,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),u(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?u(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ie._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},De=ie.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ie(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},je=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(r){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Le=/^(?:input|select|textarea)$/i,He=/^key/,qe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Te||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=ie.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=ie.event.special[p]||{},d=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],l=t.length;l--;)if(s=Me.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ie.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[l],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),l=ie.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!ie.isWindow(r)){for(u=l.delegateType||p,_e.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||he)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(m){}ie.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),u=(ie._data(this,"events")||{})[e.type]||[],l=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(u)>=0:ie.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qe.test(i)?this.mouseHooks:He.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Te&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ie().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Pe=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,$e=/<tbody/i,ze=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=m(he),Ge=Qe.appendChild(he.createElement("div"));Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,u=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Be.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(We.exec(o)||["",""])[1].toLowerCase(),c=Ye[u]||Ye._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Pe.test(o)&&p.push(t.createTextNode(Pe.exec(o)[0])),!ne.tbody)for(o="table"!==u||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===ie.inArray(o,r))&&(a=ie.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ue.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,u=ie.cache,l=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Te?n.removeAttribute(s):n[s]=null,J.push(i))}}}),ie.fn.extend({text:function(e){return De(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return De(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Oe,""):void 0;if(!("string"!=typeof e||Ie.test(e)||!ne.htmlSerialize&&Be.test(e)||!ne.leadingWhitespace&&Pe.test(e)||Ye[(We.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Re,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=ie.isFunction(f);if(p||l>1&&"string"==typeof f&&!ne.checkClone&&Xe.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;l>u;u++)r=s,u!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),u=0;i>u;u++)r=o[u],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Je,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Ke,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et=/^margin/,tt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),nt,rt,it=/^(top|right|bottom|left)$/;e.getComputedStyle?(nt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),
tt.test(a)&&et.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(nt=function(e){return e.currentStyle},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,ut=new RegExp("^("+ke+")(.*)$","i"),lt=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=rt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),u=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(u,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=lt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=rt(e,t,r)),"normal"===o&&t in dt&&(o=dt[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&nt(e);return D(e,n,r?j(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},rt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},et.test(e)||(ie.cssHooks[e+t].set=D)}),ie.fn.extend({css:function(e,t){return De(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=nt(e),i=t.length;i>a;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[F],bt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(B,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=B(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&vt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(pt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),pt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,Ct=ie.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return De(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Te?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:wt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&Et||!Nt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&Et||!Nt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&Et||!Nt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Et||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return De(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Dt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var jt=ie.now(),Lt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ht,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var qt,_t,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},It="*/".concat("*");try{_t=location.href}catch(Xt){_t=he.createElement("a"),_t.href="",_t=_t.href}qt=Wt.exec(_t.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:Bt.test(qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:P($t),ajaxTransport:P(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=ie.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ie(f):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ot.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||_t)+"").replace(Mt,"").replace(Rt,qt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(r=Wt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===qt[1]&&r[2]===qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(qt[3]||("http:"===qt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),R($t,d,t,w),2===b)return w;u=ie.event&&d.global,u&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Lt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ft.test(o)?o.replace(Ft,"$1_="+jt++):o+(Lt.test(o)?"&":"?")+"_="+jt++)),d.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+It+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=R(zt,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Ut=/%20/g,Vt=/\[\]$/,Jt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Ut,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Qt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Jt,"\r\n")}}):{name:t.name,value:n.replace(Jt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Gt=0,Kt={},Zt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Kt)Kt[e](void 0,!0)}),ne.cors=!!Zt&&"withCredentials"in Zt,Zt=ne.ajax=!!Zt,Zt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Gt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Kt[a],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Kt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+jt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=de.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=ie.css(e,"position"),d=ie(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=ie.css(e,"top"),u=ie.css(e,"left"),l=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Te&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||rn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return De(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){return n?(n=rt(e,t),tt.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");

return De(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var on=e.jQuery,an=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=an),t&&e.jQuery===ie&&(e.jQuery=on),ie},typeof t===Te&&(e.jQuery=e.$=ie),ie})}).call(this),function(){t=n=window.jQuery.noConflict()}.call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={$:t,jQuery:n}}();

!function(){var e=Package.meteor.Meteor,a=Package.tracker.Tracker,c=Package.tracker.Deps,a,c;"undefined"==typeof Package&&(Package={}),Package.deps={Tracker:a,Deps:c}}();

!function(){var t=Package.meteor.Meteor,e=Package.tracker.Tracker,r=Package.tracker.Deps,i,n,o;(function(){i={},n=function(t){return t},o=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,r){for(var i in r)t.call(r,i)&&(e[i]=r[i]);return e};i.Visitor=function(t){e(this,t)},i.Visitor.def=function(t){e(this.prototype,t)},i.Visitor.extend=function(t){var r=this,n=function o(){i.Visitor.apply(this,arguments)};return n.prototype=new r,n.extend=r.extend,n.def=r.def,t&&e(n.prototype,t),n},i.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case i.Tag.htmljsType:return this.visitTag.apply(this,arguments);case i.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case i.Comment.htmljsType:return this.visitComment.apply(this,arguments);case i.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return i.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+obj)}}),i.TransformingVisitor=i.Visitor.extend(),i.TransformingVisitor.def({visitNull:n,visitPrimitive:n,visitArray:function(t){for(var e=o.call(arguments),r=t,i=0;i<t.length;i++){var n=t[i];e[0]=n;var a=this.visit.apply(this,e);a!==n&&(r===t&&(r=t.slice()),r[i]=a)}return r},visitComment:n,visitCharRef:n,visitRaw:n,visitObject:n,visitFunction:n,visitTag:function(t){var e=t.children,r=o.call(arguments);r[0]=e;var n=this.visitChildren.apply(this,r),a=t.attrs;r[0]=a;var s=this.visitAttributes.apply(this,r);if(s===a&&n===e)return t;var u=i.getTag(t.tagName).apply(null,n);return u.attrs=s,u},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(i.isArray(t)){for(var r=o.call(arguments),n=t,a=0;a<t.length;a++){var s=t[a];r[0]=s;var u=this.visitAttributes.apply(this,r);u!==s&&(n===t&&(n=t.slice()),n[a]=u)}return n}if(t&&i.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var l=t,f=l;if(l){var c=[null,null];c.push.apply(c,arguments);for(var h in l){var p=l[h];c[0]=h,c[1]=p;var m=this.visitAttribute.apply(this,c);m!==p&&(f===l&&(f=e({},l)),f[h]=m)}}return f},visitAttribute:function(t,e,r){var i=o.call(arguments,2);return i[0]=e,this.visit.apply(this,i)}}),i.ToTextVisitor=i.Visitor.extend(),i.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===i.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===i.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===i.TEXTMODE.RCDATA||this.textMode===i.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return i.toHTML(t)}}),i.ToHTMLVisitor=i.Visitor.extend(),i.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){return"<!--"+t.sanitizedValue+"-->"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],r=t.tagName,n=t.children,o=t.attrs;if(o){o=i.flattenAttributes(o);for(var a in o)if("value"===a&&"textarea"===r)n=[o[a],n];else{var s=this.toText(o[a],i.TEXTMODE.ATTRIBUTE);e.push(" "+a+'="'+s+'"')}}var u="<"+r+e.join("")+">",l=[],f;if("textarea"===r){for(var c=0;c<n.length;c++)l.push(this.toText(n[c],i.TEXTMODE.RCDATA));f=l.join(""),"\n"===f.slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<n.length;c++)l.push(this.visit(n[c]));f=l.join("")}var h=u+f;return(n.length||!i.isVoidElement(r))&&(h+="</"+r+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return i.toText(t,e)}})}.call(this),function(){i.Tag=function(){},i.Tag.prototype.tagName="",i.Tag.prototype.attrs=null,i.Tag.prototype.children=Object.freeze?Object.freeze([]):[],i.Tag.prototype.htmljsType=i.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof i.Tag?this:new e,r=0,n=arguments.length&&arguments[0];if(n&&"object"==typeof n)if(i.isConstructedObject(n)){if(n instanceof i.Attrs){var a=n.value;1===a.length?t.attrs=a[0]:a.length>1&&(t.attrs=a),r++}}else t.attrs=n,r++;return r<arguments.length&&(t.children=o.call(arguments,r)),t};return e.prototype=new i.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=i.Attrs=function(){var t=this instanceof e?this:new e;return t.value=o.call(arguments),t};i.getTag=function(e){var r=i.getSymbolName(e);if(r===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return i[r]||(i[r]=t(e)),i[r]},i.ensureTag=function(t){i.getTag(t)},i.isTagEnsured=function(t){return i.isKnownElement(t)},i.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},i.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),i.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),i.knownElementNames=i.knownElementNames.concat(i.knownSVGElementNames),i.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var r={yes:!0},n=function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=r;return e},a=n(i.voidElementNames),s=n(i.knownElementNames),u=n(i.knownSVGElementNames);i.isKnownElement=function(t){return s[t]===r},i.isKnownSVGElement=function(t){return u[t]===r},i.isVoidElement=function(t){return a[t]===r};for(var l=0;l<i.knownElementNames.length;l++)i.ensureTag(i.knownElementNames[l]);var f=i.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=i.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=i.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],i.isArray=function(t){return t instanceof Array},i.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&"function"==typeof t.constructor&&t instanceof t.constructor},i.isNully=function(t){if(null==t)return!0;if(i.isArray(t)){for(var e=0;e<t.length;e++)if(!i.isNully(t[e]))return!1;return!0}return!1},i.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},i.flattenAttributes=function(t){if(!t)return t;var e=i.isArray(t);if(e&&0===t.length)return null;for(var r={},n=0,o=e?t.length:1;o>n;n++){var a=e?t[n]:t;if("object"!=typeof a||i.isConstructedObject(a))throw new Error("Expected plain JS object as attrs, found: "+a);for(var s in a){if(!i.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var u=a[s];i.isNully(u)||(r[s]=u)}}return r},i.toHTML=function(t){return(new i.ToHTMLVisitor).visit(t)},i.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},i.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==i.TEXTMODE.STRING&&e!==i.TEXTMODE.RCDATA&&e!==i.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);var r=new i.ToTextVisitor({textMode:e});return r.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.htmljs={HTML:i}}();

!function(){var e=Package.meteor.Meteor,n=Package.tracker.Tracker,r=Package.tracker.Deps,t=Package["mongo-id"].MongoID,i=Package["diff-sequence"].DiffSequence,o=Package.underscore._,a=Package.random.Random,c,f,u,d;(function(){var e=function(){c._suppressWarnings?c._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),c._loggedWarnings++)},r=t.idStringify,i=t.idParse;c={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,r){var t=null,i=null,a=[],c=n.autorun(function(){var c=e();n.nonreactive(function(){var e;if(i&&(a=o.map(t.fetch(),function(e){return{_id:e._id,item:e}}),i.stop(),i=null),c)if(c instanceof Array)e=u(a,c,r);else{if(!v(c))throw s();var n=d(a,c,r);e=n[0],i=n[1]}else e=f(a,r);p(a,e,r),t=c,a=e})});return{stop:function(){c.stop(),i&&i.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(v(e))return e.fetch();throw s()}return[]}};var s=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},v=function(e){return e&&o.isObject(e)&&o.isFunction(e.observe)&&o.isFunction(e.fetch)},p=function(e,n,t){var a=Package["diff-sequence"].DiffSequence.diffQueryOrderedChanges,c=[],f=[],u={},d={},s={},v=e.length;o.each(n,function(e,n){f.push({_id:e._id}),d[r(e._id)]=n}),o.each(e,function(e,n){c.push({_id:e._id}),u[r(e._id)]=n,s[r(e._id)]=n}),a(c,f,{addedBefore:function(e,i,a){var c=a?s[r(a)]:v;a&&o.each(s,function(e,n){e>=c&&s[n]++}),v++,s[r(e)]=c,t.addedAt(e,n[d[r(e)]].item,c,a)},movedBefore:function(e,i){if(e!==i){var a=s[r(e)],c=i?s[r(i)]:v;c>a&&c--,o.each(s,function(e,n){e>a&&c>e?s[n]--:e>=c&&a>e&&s[n]++}),s[r(e)]=c,t.movedTo(e,n[d[r(e)]].item,a,c,i)}},removed:function(n){var i=s[r(n)];o.each(s,function(e,n){e>=i&&s[n]--}),delete s[r(n)],v--,t.removedAt(n,e[u[r(n)]].item,i)}}),o.each(d,function(r,a){var c=i(a);if(o.has(u,a)){var f=n[r].item,d=e[u[a]].item;("object"==typeof f||f!==d)&&t.changedAt(c,f,d,r)}})};f=function(e,n){return[]},u=function(n,t,i){var c={},f=o.map(t,function(n,i){var f;if("string"==typeof n)f="-"+n;else if("number"==typeof n||"boolean"==typeof n||void 0===n)f=n;else{if("object"!=typeof n)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof n);f=n&&o.has(n,"_id")?n._id:i}var u=r(f);return c[u]?("object"==typeof n&&"_id"in n&&e("duplicate id "+f+" in",t),f=a.id()):c[u]=!0,{_id:f,item:n}});return f},d=function(e,n,r){var t=!0,i=[],o=n.observe({addedAt:function(e,n,o){if(t){if(null!==o)throw new Error("Expected initial data from observe in order");i.push({_id:e._id,item:e})}else r.addedAt(e._id,e,n,o)},changedAt:function(e,n,t){r.changedAt(e._id,e,n,t)},removedAt:function(e,n){r.removedAt(e._id,e,n)},movedTo:function(e,n,t,i){r.movedTo(e._id,e,n,t,i)}});return t=!1,[i,o]}}).call(this),"undefined"==typeof Package&&(Package={}),Package["observe-sequence"]={ObserveSequence:c}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,r;(function(){r=function(e,n){return this instanceof r?(this.curValue=e,this.equalsFunc=n,void(this.dep=new t.Dependency)):new r(e,n)},r._isEqual=function(e,t){var n=e,r=t;return n!==r?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},r.prototype.get=function(){return t.active&&this.dep.depend(),this.curValue},r.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||r._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},r.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},r.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-var"]={ReactiveVar:r}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,n=Package.jquery.jQuery,r=Package.tracker.Tracker,a=Package.tracker.Deps,i=Package.check.check,o=Package.check.Match,s=Package.underscore._,u=Package.htmljs.HTML,l=Package["observe-sequence"].ObserveSequence,c=Package["reactive-var"].ReactiveVar,d,p,h,f,m,w;(function(){d={},d._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),d._warn=function(e){e="Warning: "+e,"undefined"!=typeof console&&console.warn&&console.warn(e)}}).call(this),function(){var e={};d._DOMBackend=e;var t="undefined"!=typeof n?n:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!t)throw new Error("jQuery not found");e._$jq=t,e.parseHTML=function(e){return t.parseHTML(e)||[]},e.Events={delegateEvents:function(e,n,r,a){t(e).on(n,r,a)},undelegateEvents:function(e,n,r){t(e).off(n,"**",r)},bindEventCapturer:function(n,r,a,i){var o=t(n),s=function(e){e=t.event.fix(e),e.currentTarget=e.target;var r=t(e.currentTarget);r.is(o.find(a))&&i.call(n,e)};i._meteorui_wrapper=s,r=e.Events.parseEventType(r),n.addEventListener(r,s,!0)},unbindEventCapturer:function(t,n,r){n=e.Events.parseEventType(n),t.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var r=function(){},a=function(e){this.next=this,this.prev=this,this.func=e};a.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},a.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},a.prototype.go=function(){var e=this.func;e&&e()},a.prototype.stop=a.prototype.unlink,e.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(n,i){var o=new a(i),s=e.Teardown._CB_PROP;return n[s]||(n[s]=new a,t(n).on(e.Teardown._JQUERY_EVENT_NAME,r)),o.linkBefore(n[s]),o},tearDownElement:function(e){for(var n=[],r=e.getElementsByTagName("*"),a=0;a<r.length;a++)n.push(r[a]);n.push(e),t.cleanData(n)}},t.event.special[e.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var t=this,n=t[e.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),t[e.Teardown._CB_PROP]=null}}},e.findBySelector=function(e,n){return t(e,n)}}.call(this),function(){var e=Object.freeze?Object.freeze([]):[];d._DOMRange=function(n){if(!(this instanceof t))return new t(n);var r=n||e;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var a=0;a<r.length;a++)this._memberIn(r[a]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=e};var t=d._DOMRange;t._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),t._insert=function(e,n,r,a){var i=e;i instanceof t?i.attach(n,r,a):a?t._moveNodeWithHooks(i,n,r):t._insertNodeWithHooks(i,n,r)},t._remove=function(e){var n=e;n instanceof t?n.detach():t._removeNodeWithHooks(n)},t._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},t._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},t._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},t.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},t.prototype.attach=function(e,n,r,a){if((r||a)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var i=this.members;if(i.length){this.emptyRangePlaceholder=null;for(var o=0;o<i.length;o++)t._insert(i[o],e,n,r)}else{var s=t._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,n||null)}if(this.attached=!0,this.parentElement=e,!r&&!a)for(var o=0;o<this.attachedCallbacks.length;o++){var u=this.attachedCallbacks[o];u.attached&&u.attached(this,e)}},t.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var a=this.lastNode().nextSibling,i=this.parentElement;this.detach(!0),this.members=t,this.attach(i,a,!1,!0)}}else this.members=t},t.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof t?e.firstNode():e},t.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof t?e.lastNode():e},t.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var n=this.parentElement,r=this.members;if(r.length)for(var a=0;a<r.length;a++)t._remove(r[a]);else{var i=this.emptyRangePlaceholder;this.parentElement.removeChild(i),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var a=0;a<this.attachedCallbacks.length;a++){var o=this.attachedCallbacks[a];o.detached&&o.detached(this,n)}}},t.prototype.addMember=function(e,n,r){var a=this.members;if(!(n>=0&&n<=a.length))throw new Error("Bad index in range.addMember: "+n);if(r||this._memberIn(e),this.attached)if(0===a.length)this.setMembers([e]);else{var i;if(n===a.length)i=this.lastNode().nextSibling;else{var o=a[n];i=o instanceof t?o.firstNode():o}a.splice(n,0,e),t._insert(e,this.parentElement,i,r)}else a.splice(n,0,e)},t.prototype.removeMember=function(n,r){var a=this.members;if(!(n>=0&&n<a.length))throw new Error("Bad index in range.removeMember: "+n);if(r)a.splice(n,1);else{var i=a[n];this._memberOut(i),1===a.length?this.setMembers(e):(a.splice(n,1),this.attached&&t._remove(i))}},t.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},t.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},t.prototype._memberIn=function(e){e instanceof t?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},t._destroy=function(e,n){e instanceof t?e.view&&d._destroyView(e.view,n):n||1!==e.nodeType||e.$blaze_range&&(d._destroyNode(e),e.$blaze_range=null)},t.prototype._memberOut=t._destroy,t.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},t.prototype.destroy=function(e){t._destroy(this,e)},t.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!d._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},t.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},t.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},t.prototype.onAttachedDetached=function(t){this.attachedCallbacks===e&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(t)},t.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=d._DOMBackend.findBySelector(e,n),a=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(a);else{for(var i=[],o=0;o<r.length;o++){var s=r[o];a(s)&&i.push(s)}r=i}return r},d._elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)}}.call(this),function(){var e=d._EventSupport={},t=d._DOMBackend,n=e.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},r=e.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},a=1,i=function(e,i,o,u,l){this.elem=e,this.type=i,this.selector=o,this.handler=u,this.recipient=l,this.id=a++,this.mode=r.TBD,this.delegatedHandler=function(e){return function(t){return e.selector||t.currentTarget===t.target?e.handler.apply(e.recipient,arguments):void 0}}(this);var c=e.addEventListener&&!s.has(n,t.Events.parseEventType(i));c?this.capturingHandler=function(e){return function(n){if(e.mode===r.TBD){if(n.bubbles)return e.mode=r.BUBBLING,void t.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=r.CAPTURING,t.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=r.BUBBLING};e.HandlerRec=i,i.prototype.bind=function(){this.mode!==r.BUBBLING&&t.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},i.prototype.unbind=function(){this.mode!==r.BUBBLING&&t.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},e.listen=function(e,t,n,r,a,o){try{e=e}finally{}var s=[];t.replace(/[^ /]+/g,function(e){s.push(e)});for(var u=[],l=0,c=s.length;c>l;l++){var d=s[l],p=e.$blaze_events;p||(p=e.$blaze_events={});var h=p[d];h||(h=p[d]={},h.handlers=[]);var f=h.handlers,m=new i(e,d,n,r,a);if(u.push(m),m.bind(),f.push(m),o)for(var w=o(a);w;w=o(w))for(var v=0,_=f.length;_>v;v++){var g=f[v];g.recipient===w&&(g.unbind(),g.bind(),f.splice(v,1),f.push(g),v--,_--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<u.length;n++){var r=u[n],a=t[r.type];if(a)for(var i=a.handlers,o=i.length-1;o>=0;o--)i[o]===r&&(r.unbind(),i.splice(o,1))}u.length=0}}}}}.call(this),function(){var n=!1;d._allowJavascriptUrls=function(){n=!0},d._javascriptUrlsAllowed=function(){return n},p=function(e,t){this.name=e,this.value=t},d._AttributeHandler=p,p.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},p.extend=function(e){var t=this,n=function r(){p.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&s.extend(n.prototype,e),n};var r=p.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},a=n?this.parseValue(n):{},i=this.getCurrentValue(e),o=i?this.parseValue(i):{};s.each(s.keys(r),function(e){e in a||delete o[e]}),s.each(s.keys(a),function(e){o[e]=a[e]}),this.setValue(e,s.values(o).join(" "))}}),a=r.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return s.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),i=a.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),o=r.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var n={},r=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,a=r.exec(e);a;)n[" "+a[1]]=a[0].trim?a[0].trim():t.trim(a[0]),a=r.exec(e);return n}}),u=p.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),l=p.extend({update:function(e,t,n){var r=this.name;n!==e[r]&&(e[r]=n)}}),c=p.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),m=function(e){return"ownerSVGElement"in e},w=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return s.contains(r,t)};if(e.isClient)var v=document.createElement("A");var _=function(t){if(e.isClient)return v.href=t,(v.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},g=p.prototype.update,y=p.extend({update:function(e,t,n){var r=this,a=arguments;if(d._javascriptUrlsAllowed())g.apply(r,a);else{var i="javascript:"===_(n);i?(d._warn("URLs that use the 'javascript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),g.apply(r,[e,t,null])):g.apply(r,a)}}});h=function(e,t,n){return"class"===t?m(e)?new i(t,n):new a(t,n):"style"===t?new o(t,n):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new u(t,n):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new c(t.substring(6),n):w(e.tagName,t)?new y(t,n):new p(t,n):new l(t,n)},f=function(e){this.elem=e,this.handlers={}},f.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!s.has(e,r)){var a=n[r],i=a.value;a.value=null,a.update(t,i,null),delete n[r]}for(var r in e){var a=null,i,o=e[r];s.has(n,r)?(a=n[r],i=a.value):null!==o&&(a=h(t,r,o),n[r]=a,i=null),i!==o&&(a.value=o,a.update(t,i,o),null===o&&delete n[r])}}}.call(this),function(){d._materializeDOM=function(t,n,r,a){var i=a||[];if(e(t,n,r,i),!a)for(;i.length;){var o=i.pop();o()}return n};var e=function(e,n,r,a){if(null!=e){switch(typeof e){case"string":case"boolean":case"number":return void n.push(document.createTextNode(String(e)));case"object":if(e.htmljsType)switch(e.htmljsType){case u.Tag.htmljsType:return void n.push(t(e,r,a));case u.CharRef.htmljsType:return void n.push(document.createTextNode(e.str));case u.Comment.htmljsType:return void n.push(document.createComment(e.sanitizedValue));case u.Raw.htmljsType:for(var i=d._DOMBackend.parseHTML(e.value),o=0;o<i.length;o++)n.push(i[o]);return}else{if(u.isArray(e)){for(var o=e.length-1;o>=0;o--)a.push(s.bind(d._materializeDOM,null,e[o],n,r,a));return}if(e instanceof d.Template&&(e=e.constructView()),e instanceof d.View)return void d._materializeView(e,r,a,n)}}throw new Error("Unexpected object in htmljs: "+e)}},t=function(e,t,a){var i=e.tagName,o;o=(u.isKnownSVGElement(i)||n(e))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i);var l=e.attrs,c=e.children;if("textarea"===i&&e.children.length&&!(l&&"value"in l)){if("function"==typeof l||u.isArray(l))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");l=s.extend({},l||null),l.value=d._expand(c,t),c=[]}if(l){var p=new f(o),h=function(){var e=d._expandAttributes(l,t),n=u.flattenAttributes(e),r={};for(var a in n)r[a]=d._toText(n[a],t,u.TEXTMODE.STRING);p.update(r)},m;m=t?t.autorun(h,void 0,"updater"):r.nonreactive(function(){return r.autorun(function(){r._withCurrentView(t,h)})}),d._DOMBackend.Teardown.onElementTeardown(o,function v(){m.stop()})}if(c.length){var w=[];a.push(function(){for(var e=0;e<w.length;e++){var t=w[e];t instanceof d._DOMRange?t.attach(o):o.appendChild(t)}}),a.push(s.bind(d._materializeDOM,null,c,w,t,a))}return o},n=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;d._throwNextException=!1,d._reportException=function(n,r){if(d._throwNextException)throw d._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message||n)},d._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(n){d._reportException(n,"Exception in "+t+":")}}}}.call(this),function(){d.View=function(e,t){return this instanceof d.View?("function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,this._hasGeneratedParent=!1,this._scopeBindings={},void(this.renderCount=0)):new d.View(e,t)},d.View.prototype._render=function(){return null},d.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},d.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},d.View.prototype.onViewReady=function(e){var t=this,n=function(){r.afterFlush(function(){t.isDestroyed||d._withCurrentView(t,function(){e.call(t)})})};t._onViewRendered(function a(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))})},d.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},d.View.prototype.removeViewDestroyedListener=function(e){var t=this._callbacks.destroyed;if(t){var n=s.lastIndexOf(t,e);-1!==n&&(t[n]=null)}},d.View.prototype.autorun=function(e,t,n){var a=this;if(!a.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");if(r.active)throw new Error("Can't call View#autorun from a Tracker Computation; try calling it from the created or rendered callback");var i=d.Template._currentTemplateInstanceFunc,o=function l(n){return d._withCurrentView(t||a,function(){return d.Template._withTemplateInstanceFunc(i,function(){return e.call(a,n)})})};o.displayName=(a.name||"anonymous")+":"+(n||"anonymous");var s=r.autorun(o),u=function(){s.stop()};return a.onViewDestroyed(u),s.onStop(function(){a.removeViewDestroyedListener(u)}),s},d.View.prototype._errorIfShouldntCallSubscribe=function(){var e=this;if(!e.isCreated)throw new Error("View#subscribe must be called from the created callback at the earliest");if(e._isInRender)throw new Error("Can't call View#subscribe from inside render(); try calling it from the created or rendered callback");if(e.isDestroyed)throw new Error("Can't call View#subscribe from inside the destroyed callback, try calling it inside created or rendered.")},d.View.prototype.subscribe=function(t,n){var r=this;n=n||{},r._errorIfShouldntCallSubscribe();var a;return a=n.connection?n.connection.subscribe.apply(n.connection,t):e.subscribe.apply(e,t),r.onViewDestroyed(function(){a.stop()}),a},d.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},d.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},d._fireCallbacks=function(e,t){d._withCurrentView(e,function(){r.nonreactive(function n(){for(var n=e._callbacks[t],r=0,a=n&&n.length;a>r;r++)n[r]&&n[r].call(e)})})},d._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),d._fireCallbacks(e,"created")};var t=function(e,t){var n=new d._DOMRange(t);e._domrange=n,n.view=e,e.isRendered=!0,d._fireCallbacks(e,"rendered");var r=null;return n.onAttached(function a(t,n){e._isAttached=!0,r=d._DOMBackend.Teardown.onElementTeardown(n,function a(){d._destroyView(e,!0)})}),e.onViewDestroyed(function(){r&&r.stop(),r=null}),n};d._materializeView=function(e,n,a,i){d._createView(e,n);var o,u;return r.nonreactive(function(){e.autorun(function l(t){e.renderCount++,e._isInRender=!0;var n=e._render();e._isInRender=!1,t.firstRun||r.nonreactive(function a(){var t=d._materializeDOM(n,[],e);d._isContentEqual(u,n)||(o.setMembers(t),d._fireCallbacks(e,"rendered"))}),u=n,r.onInvalidate(function(){o&&o.destroyMembers()})},void 0,"materialize");var n;a?(n=[],a.push(function(){o=t(e,n),n=null,i.push(o)}),a.push(s.bind(d._materializeDOM,null,u,n,e,a))):(n=d._materializeDOM(u,[],e),o=t(e,n),n=null)}),a?null:o},d._expandView=function(e,t){d._createView(e,t,!0),e._isInRender=!0;var n=d._withCurrentView(e,function(){return e._render()});e._isInRender=!1;var a=d._expand(n,e);return r.active?r.onInvalidate(function(){d._destroyView(e)}):d._destroyView(e),a},d._HTMLJSExpander=u.TransformingVisitor.extend(),d._HTMLJSExpander.def({visitObject:function(e){return e instanceof d.Template&&(e=e.constructView()),e instanceof d.View?d._expandView(e,this.parentView):u.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=d._withCurrentView(this.parentView,e)),u.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=d._withCurrentView(this.parentView,t)),u.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var n=function(){var e=d.currentView;return e&&e._isInRender?e:null};d._expand=function(e,t){return t=t||n(),new d._HTMLJSExpander({parentView:t}).visit(e)},d._expandAttributes=function(e,t){return t=t||n(),new d._HTMLJSExpander({parentView:t}).visitAttributes(e)},d._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,d._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},d._destroyNode=function(e){1===e.nodeType&&d._DOMBackend.Teardown.tearDownElement(e)},d._isContentEqual=function(e,t){return e instanceof u.Raw?t instanceof u.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},d.currentView=null,d._withCurrentView=function(e,t){var n=d.currentView;try{return d.currentView=e,t()}finally{d.currentView=n}};var a=function(e){if(null===e)throw new Error("Can't render null");if("undefined"==typeof e)throw new Error("Can't render undefined");if(!(e instanceof d.View||e instanceof d.Template||"function"==typeof e))try{(new u.Visitor).visit(e)}catch(t){throw new Error("Expected Template or View")}},i=function(e){if(a(e),e instanceof d.Template)return e.constructView();if(e instanceof d.View)return e;var t=e;return"function"!=typeof t&&(t=function(){return e}),d.View("render",t)},o=function(e){return a(e),"function"!=typeof e?function(){return e}:e};d.render=function(e,t,r,a){if(t||d._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),r instanceof d.View&&(a=r,r=null),t&&"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");a=a||n();var o=i(e);return d._materializeView(o,a),t&&o._domrange.attach(t,r),o},d.insert=function(e,t,n){if(d._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof d._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},d.renderWithData=function(e,t,n,r,a){return d.render(d._TemplateWith(t,o(e)),n,r,a)},d.remove=function(e){if(!(e&&e._domrange instanceof d._DOMRange))throw new Error("Expected template rendered with Blaze.render");for(;e;){if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}e=e._hasGeneratedParent&&e.parentView}},d.toHTML=function(e,t){return t=t||n(),u.toHTML(d._expandView(i(e),t))},d.toHTMLWithData=function(e,t,r){return r=r||n(),u.toHTML(d._expandView(d._TemplateWith(t,o(e)),r))},d._toText=function(e,t,r){if("function"==typeof e)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==t||t instanceof d.View||(r=t,t=null),t=t||n(),!r)throw new Error("textMode required");if(r!==u.TEXTMODE.STRING&&r!==u.TEXTMODE.RCDATA&&r!==u.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+r);return u.toText(d._expand(e,t),r)},d.getData=function(e){var t;if(e)if(e instanceof d.View){var n=e;t="with"===n.name?n:d.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=d.getView(e,"with")}else t=d.getView("with");return t?t.dataVar.get():null},d.getElementData=function(e){if(d._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return d.getData(e)},d.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof d.View)return d._getParentView(e,n);if("number"==typeof e.nodeType)return d._getElementView(e,n);throw new Error("Expected DOM element or View")}return d._getCurrentView(n)},d._getCurrentView=function(e){var t=d.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},d._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},d._getElementView=function(e,t){for(var n=d._DOMRange.forElement(e),r=null;n&&!r;)r=n.view||null,r||(n=n.parentRange?n.parentRange:d._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},d._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached(function a(i,o){s.each(t,function(t,a){var u=a.split(/,\s+/);s.each(u,function(a){var s=a.split(/\s+/);if(0!==s.length){var u=s.shift(),l=s.join(" ");r.push(d._EventSupport.listen(o,u,l,function(r){if(!i.containsElement(r.currentTarget))return null;var a=n||this,o=arguments;return d._withCurrentView(e,function(){return t.apply(a,o)})},i,function(e){return e.parentRange}))}})})}),e.onViewDestroyed(function(){s.each(r,function(e){e.stop()}),r.length=0})}}.call(this),function(){d._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},d.With=function(e,t){var n=d.View("with",t);return n.dataVar=new c,n.onViewCreated(function(){"function"==typeof e?n.autorun(function(){n.dataVar.set(e())},n.parentView,"setData"):n.dataVar.set(e)}),n},d._attachBindingsToView=function(e,t){t.onViewCreated(function(){s.each(e,function(e,n){t._scopeBindings[n]=new c,"function"==typeof e?t.autorun(function(){t._scopeBindings[n].set(e())},t.parentView):t._scopeBindings[n].set(e)})})},d.Let=function(e,t){var n=d.View("let",t);return d._attachBindingsToView(e,n),n},d.If=function(e,t,n,r){var a=new c,i=d.View(r?"unless":"if",function(){return a.get()?t():n?n():null});return i.__conditionVar=a,i.onViewCreated(function(){this.autorun(function(){var t=d._calculateCondition(e());a.set(r?!t:t)},this.parentView,"condition")}),i},d.Unless=function(e,t,n){return d.If(e,t,n,!0)},d.Each=function(e,t,n){var a=d.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new r.Dependency,this.expandedValueDep.depend()),e});a.initialSubviews=[],a.numItems=0,a.inElseMode=!1,a.stopHandle=null,a.contentFunc=t,a.elseFunc=n,a.argVar=new c,a.variableName=null;var i=function(e,t){void 0===t&&(t=a.numItems-1);for(var n=e;t>=n;n++){var r=a._domrange.members[n].view;r._scopeBindings["@index"].set(n)}};return a.onViewCreated(function(){a.autorun(function(){var t=e();s.isObject(t)&&s.has(t,"_sequence")&&(a.variableName=t._variable||null,t=t._sequence),a.argVar.set(t)},a.parentView,"collection"),a.stopHandle=l.observe(function(){return a.argVar.get()},{addedAt:function(e,t,n){r.nonreactive(function(){var e;e=a.variableName?d.View("item",a.contentFunc):d.With(t,a.contentFunc),a.numItems++;var r={};if(r["@index"]=n,a.variableName&&(r[a.variableName]=t),d._attachBindingsToView(r,e),a.expandedValueDep)a.expandedValueDep.changed();else if(a._domrange){a.inElseMode&&(a._domrange.removeMember(0),a.inElseMode=!1);var o=d._materializeView(e,a);a._domrange.addMember(o,n),i(n)}else a.initialSubviews.splice(n,0,e)})},removedAt:function(e,t,n){r.nonreactive(function(){a.numItems--,a.expandedValueDep?a.expandedValueDep.changed():a._domrange?(a._domrange.removeMember(n),i(n),a.elseFunc&&0===a.numItems&&(a.inElseMode=!0,a._domrange.addMember(d._materializeView(d.View("each_else",a.elseFunc),a),0))):a.initialSubviews.splice(n,1)})},changedAt:function(e,t,n,i){r.nonreactive(function(){if(a.expandedValueDep)a.expandedValueDep.changed();else{var e;e=a._domrange?a._domrange.getMember(i).view:a.initialSubviews[i],a.variableName?e._scopeBindings[a.variableName].set(t):e.dataVar.set(t)}})},movedTo:function(e,t,n,o){r.nonreactive(function(){if(a.expandedValueDep)a.expandedValueDep.changed();else if(a._domrange)a._domrange.moveMember(n,o),i(Math.min(n,o),Math.max(n,o));else{var e=a.initialSubviews,t=e[n];e.splice(n,1),e.splice(o,0,t)}})}}),a.elseFunc&&0===a.numItems&&(a.inElseMode=!0,a.initialSubviews[0]=d.View("each_else",a.elseFunc))}),a.onViewDestroyed(function(){a.stopHandle&&a.stopHandle.stop()}),a},d._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var a=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?d._withCurrentView(e,r):r()},i=function(){var e=t.call(this);return e instanceof d.Template&&(e=e.constructView()),e instanceof d.View&&(e._hasGeneratedParent=!0),e};return n=d.With(a,i),n.__isTemplateWith=!0,n},d._InOuterTemplateScope=function(e,t){var n=d.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=r,this.__childDoesntStartNewLexicalScope=!0}),n},d.InOuterTemplateScope=d._InOuterTemplateScope}.call(this),function(){d._globalHelpers={},d.registerHelper=function(e,t){d._globalHelpers[e]=t};var e=function(e,t){return"function"!=typeof e?e:s.bind(e,t)},t=function(e){return"function"==typeof e?function(){var t=d.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};d._OLDSTYLE_HELPER={},d._getTemplateHelper=function(e,r,a){var i=!1;if(e.__helpers.has(r)){var o=e.__helpers.get(r);if(o!==d._OLDSTYLE_HELPER)return null!=o?n(t(o),a):null;i=!0}return r in e&&(i||(e.__helpers.set(r,d._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||d._warn("Assigning helper with `"+e.viewName+"."+r+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),null!=e[r])?n(t(e[r]),a):null};var n=function(e,t){return"function"!=typeof e?e:function(){var n=this,r=arguments;return d.Template._withTemplateInstanceFunc(t,function(){return d._wrapCatchingExceptions(e,"template helper").apply(n,r)})}};d._lexicalBindingLookup=function(e,t){var n=e,r=[];do if(s.has(n._scopeBindings,t)){var a=n._scopeBindings[t];return function(){return a.get()}}while((!n.__startsNewLexicalScope||n.parentView&&n.parentView.__childDoesntStartNewLexicalScope)&&(n=n.parentView));return null},d._getTemplate=function(e,t){return e in d.Template&&d.Template[e]instanceof d.Template?d.Template[e]:null},d._getGlobalHelper=function(e,r){return null!=d._globalHelpers[e]?n(t(d._globalHelpers[e]),r):null},d.View.prototype.lookup=function(e,t){var n=this.template,r=t&&t.template,a,i,o,u;if(this.templateInstance&&(o=s.bind(this.templateInstance,this)),
/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return d._parentData(e.length-1,!0)}return n&&null!=(a=d._getTemplateHelper(n,e,o))?a:n&&null!=(i=d._lexicalBindingLookup(d.currentView,e))?i:r&&null!=(u=d._getTemplate(e,o))?u:null!=(a=d._getGlobalHelper(e,o))?a:function(){var t=arguments.length>0,n=d.getData(),a=n&&n[e];if(!a){if(r)throw new Error("No such template: "+e);if(t)throw new Error("No such function: "+e);if("@"===e.charAt(0)&&(null===a||void 0===a))throw new Error("Unsupported directive: "+e)}if(!n)return null;if("function"!=typeof a){if(t)throw new Error("Can't call non-function: "+a);return a}return a.apply(n,arguments)}},d._parentData=function(e,t){null==e&&(e=1);for(var n=d.getView("with"),r=0;e>r&&n;r++)n=d.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},d.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){d.Template=function(e,n){if(!(this instanceof d.Template))return new d.Template(e,n);if("function"==typeof e&&(n=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=n,this.__helpers=new t,this.__eventMaps=[],this._callbacks={created:[],rendered:[],destroyed:[]}};var e=d.Template,t=function(){};t.prototype.get=function(e){return this[" "+e]},t.prototype.set=function(e,t){this[" "+e]=t},t.prototype.has=function(e){return" "+e in this},d.isTemplate=function(e){return e instanceof d.Template},e.prototype.onCreated=function(e){this._callbacks.created.push(e)},e.prototype.onRendered=function(e){this._callbacks.rendered.push(e)},e.prototype.onDestroyed=function(e){this._callbacks.destroyed.push(e)},e.prototype._getCallbacks=function(e){var t=this,n=t[e]?[t[e]]:[];return n=n.concat(t._callbacks[e])};var n=function(t,n){e._withTemplateInstanceFunc(function(){return n},function(){for(var e=0,r=t.length;r>e;e++)t[e].call(n)})};e.prototype.constructView=function(t,r){var a=this,i=d.View(a.viewName,a.renderFunction);i.template=a,i.templateContentBlock=t?new e("(contentBlock)",t):null,i.templateElseBlock=r?new e("(elseBlock)",r):null,(a.__eventMaps||"object"==typeof a.events)&&i._onViewRendered(function(){1===i.renderCount&&(a.__eventMaps.length||"object"!=typeof a.events||e.prototype.events.call(a,a.events),s.each(a.__eventMaps,function(e){d._addEventMap(i,e,i)}))}),i._templateInstance=new d.TemplateInstance(i),i.templateInstance=function(){var e=i._templateInstance;return e.data=d.getData(i),i._domrange&&!i.isDestroyed?(e.firstNode=i._domrange.firstNode(),e.lastNode=i._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e};var o=a._getCallbacks("created");i.onViewCreated(function(){n(o,i.templateInstance())});var u=a._getCallbacks("rendered");i.onViewReady(function(){n(u,i.templateInstance())});var l=a._getCallbacks("destroyed");return i.onViewDestroyed(function(){n(l,i.templateInstance())}),i},d.TemplateInstance=function(e){if(!(this instanceof d.TemplateInstance))return new d.TemplateInstance(e);if(!(e instanceof d.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null,this._allSubsReadyDep=new r.Dependency,this._allSubsReady=!1,this._subscriptionHandles={}},d.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},d.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},d.TemplateInstance.prototype.find=function(e){var t=this.$(e);return t[0]||null},d.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},d.TemplateInstance.prototype.subscribe=function(){var e=this,t=e._subscriptionHandles,n=s.toArray(arguments),r={};if(n.length){var a=s.last(n),i={onReady:o.Optional(Function),onError:o.Optional(Function),onStop:o.Optional(Function),connection:o.Optional(o.Any)};s.isFunction(a)?r.onReady=n.pop():a&&o.test(a,i)&&(r=n.pop())}var u,l=r.onStop;r.onStop=function(n){delete t[u.subscriptionId],e._allSubsReady||e._allSubsReadyDep.changed(),l&&l(n)};var c=r.connection,d=s.pick(r,["onReady","onError","onStop"]);return n.push(d),u=e.view.subscribe.call(e.view,n,{connection:c}),s.has(t,u.subscriptionId)||(t[u.subscriptionId]=u,e._allSubsReady&&e._allSubsReadyDep.changed()),u},d.TemplateInstance.prototype.subscriptionsReady=function(){return this._allSubsReadyDep.depend(),this._allSubsReady=s.all(this._subscriptionHandles,function(e){return e.ready()}),this._allSubsReady},e.prototype.helpers=function(e){for(var t in e)this.__helpers.set(t,e[t])},e._currentTemplateInstanceFunc=null,e._withTemplateInstanceFunc=function(t,n){if("function"!=typeof n)throw new Error("Expected function, got: "+n);var r=e._currentTemplateInstanceFunc;try{return e._currentTemplateInstanceFunc=t,n()}finally{e._currentTemplateInstanceFunc=r}},e.prototype.events=function(t){var n=this,r={};for(var a in t)r[a]=function(t,n){return function(t){var r=this,a=d.getData(t.currentTarget);null==a&&(a={});var i=Array.prototype.slice.call(arguments),o=s.bind(r.templateInstance,r);return i.splice(1,0,o()),e._withTemplateInstanceFunc(o,function(){return n.apply(a,i)})}}(a,t[a]);n.__eventMaps.push(r)},e.instance=function(){return e._currentTemplateInstanceFunc&&e._currentTemplateInstanceFunc()},e.currentData=d.getData,e.parentData=d._parentData,e.registerHelper=d.registerHelper}.call(this),function(){m=d,d.ReactiveVar=c,m._templateInstance=d.Template.instance,w={},w.registerHelper=d.registerHelper,w._escape=d._escape,w.SafeString=function(e){this.string=e},w.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.blaze={Blaze:d,UI:m,Handlebars:w}}();

!function(){var n=Package.meteor.Meteor,e=Package.underscore._,o=Package.ecmascript.ECMAScript,t=Package["ddp-rate-limiter"].DDPRateLimiter,i=Package.tracker.Tracker,r=Package.tracker.Deps,a=Package.random.Random,c=Package["callback-hook"].Hook,s=Package["ddp-client"].DDP,l=Package.mongo.Mongo,u=Package["babel-runtime"].babelHelpers,g=Package["ecmascript-runtime"].Symbol,_=Package["ecmascript-runtime"].Map,h=Package["ecmascript-runtime"].Set,d=Package.promise.Promise,f,p,k,m,L,E;(function(){f=function(){function o(n){u.classCallCheck(this,o),this._options={},this.connection=void 0,this._initConnection(n||{}),this.users=new l.Collection("users",{_preventAutopublish:!0,connection:this.connection}),this._onLoginHook=new c({bindEnvironment:!1,debugPrintExceptions:"onLogin callback"}),this._onLoginFailureHook=new c({bindEnvironment:!1,debugPrintExceptions:"onLoginFailure callback"})}return o.prototype.userId=function(){function n(){throw new Error("userId method not implemented")}return n}(),o.prototype.user=function(){function n(){var n=this.userId();return n?this.users.findOne(n):null}return n}(),o.prototype.config=function(){function o(o){var t=this;if(n.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||n._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),e.has(o,"oauthSecretKey")){if(n.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(o.oauthSecretKey),o=e.omit(o,"oauthSecretKey")}var i=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays"];e.each(e.keys(o),function(n){if(!e.contains(i,n))throw new Error("Accounts.config: Invalid key: "+n)}),e.each(i,function(n){if(n in o){if(n in t._options)throw new Error("Can't set `"+n+"` more than once");t._options[n]=o[n]}})}return o}(),o.prototype.onLogin=function(){function n(n){return this._onLoginHook.register(n)}return n}(),o.prototype.onLoginFailure=function(){function n(n){return this._onLoginFailureHook.register(n)}return n}(),o.prototype._initConnection=function(){function e(e){n.isClient&&(e.connection?this.connection=e.connection:e.ddpUrl?this.connection=s.connect(e.ddpUrl):"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL?this.connection=s.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL):this.connection=n.connection)}return e}(),o.prototype._getTokenLifetimeMs=function(){function n(){return 24*(this._options.loginExpirationInDays||t)*60*60*1e3}return n}(),o.prototype._tokenExpiration=function(){function n(n){return new Date(new Date(n).getTime()+this._getTokenLifetimeMs())}return n}(),o.prototype._tokenExpiresSoon=function(){function n(n){var e=.1*this._getTokenLifetimeMs(),o=1e3*i;return e>o&&(e=o),new Date>new Date(n)-e}return n}(),o}();var o=f.prototype;n.userId=function(){return E.userId()},n.user=function(){return E.user()};var t=90,i=3600;p=6e5,k=1e4,n.startup(function(){var n=Package["service-configuration"].ServiceConfiguration;o.loginServiceConfiguration=n.configurations,o.ConfigError=n.ConfigError});var r="Accounts.LoginCancelledError";o.LoginCancelledError=n.makeErrorType(r,function(n){this.message=n}),o.LoginCancelledError.prototype.name=r,o.LoginCancelledError.numericError=145546287}).call(this),function(){var n=f.prototype,o;n.removeDefaultRateLimit=function(){var n=t.removeRule(o);return o=null,n},n.addDefaultRateLimit=function(){o||(o=t.addRule({userId:null,clientAddress:null,type:"method",name:function(n){return e.contains(["login","createUser","resetPassword","forgotPassword"],n)},connectionId:function(n){return!0}},5,1e4))},n.addDefaultRateLimit()}.call(this),function(){m=function(n){function e(o){u.classCallCheck(this,e),n.call(this,o),this._loggingIn=!1,this._loggingInDeps=new i.Dependency,this._loginServicesHandle=this.connection.subscribe("meteor.loginServiceConfiguration"),this._pageLoadLoginCallbacks=[],this._pageLoadLoginAttemptInfo=null,this._initUrlMatching(),this._initLocalStorage()}return u.inherits(e,n),e.prototype.userId=function(){function n(){return this.connection.userId()}return n}(),e.prototype._setLoggingIn=function(){function n(n){this._loggingIn!==n&&(this._loggingIn=n,this._loggingInDeps.changed())}return n}(),e.prototype.loggingIn=function(){function n(){return this._loggingInDeps.depend(),this._loggingIn}return n}(),e.prototype.logout=function(){function n(n){var e=this;e.connection.apply("logout",[],{wait:!0},function(o,t){o?n&&n(o):(e.makeClientLoggedOut(),n&&n())})}return n}(),e.prototype.logoutOtherClients=function(){function n(n){var e=this;e.connection.apply("getNewToken",[],{wait:!0},function(n,o){n||e._storeLoginToken(e.userId(),o.token,o.tokenExpires)}),e.connection.apply("removeOtherTokens",[],{wait:!0},function(e){n&&n(e)})}return n}(),e}(f);var o=m.prototype;n.loggingIn=function(){return E.loggingIn()},o.callLoginMethod=function(n){var o=this;n=e.extend({methodName:"login",methodArguments:[{}],_suppressLoggingIn:!1},n),e.each(["validateResult","userCallback"],function(e){n[e]||(n[e]=function(){})});var t=e.once(function(e){e?o._onLoginFailureHook.each(function(n){return n(),!0}):o._onLoginHook.each(function(n){return n(),!0}),n.userCallback.apply(this,arguments)}),i=!1,r=function(n,e){!n&&e&&e.token&&(o.connection.onReconnect=function(){i=!0;var n=o._storedLoginToken();n&&(e={token:n,tokenExpires:o._storedLoginTokenExpires()}),e.tokenExpires||(e.tokenExpires=o._tokenExpiration(new Date)),o._tokenExpiresSoon(e.tokenExpires)?o.makeClientLoggedOut():o.callLoginMethod({methodArguments:[{resume:e.token}],_suppressLoggingIn:!0,userCallback:function(n){var i=o._storedLoginToken();n&&i&&i===e.token&&o.makeClientLoggedOut(),t(n)}})})},a=function(e,r){if(!i){if(o._setLoggingIn(!1),e||!r)return e=e||new Error("No result from call to "+n.methodName),void t(e);try{n.validateResult(r)}catch(a){return void t(a)}o.makeClientLoggedIn(r.id,r.token,r.tokenExpires),t()}};n._suppressLoggingIn||o._setLoggingIn(!0),o.connection.apply(n.methodName,n.methodArguments,{wait:!0,onResultReceived:r},a)},o.makeClientLoggedOut=function(){this._unstoreLoginToken(),this.connection.setUserId(null),this.connection.onReconnect=null},o.makeClientLoggedIn=function(n,e,o){this._storeLoginToken(n,e,o),this.connection.setUserId(n)},n.logout=function(n){return E.logout(n)},n.logoutOtherClients=function(n){return E.logoutOtherClients(n)},o.loginServicesConfigured=function(){return this._loginServicesHandle.ready()},o.onPageLoadLogin=function(n){this._pageLoadLoginAttemptInfo?n(this._pageLoadLoginAttemptInfo):this._pageLoadLoginCallbacks.push(n)},o._pageLoadLogin=function(o){return this._pageLoadLoginAttemptInfo?void n._debug("Ignoring unexpected duplicate page load login attempt info"):(e.each(this._pageLoadLoginCallbacks,function(n){n(o)}),this._pageLoadLoginCallbacks=[],void(this._pageLoadLoginAttemptInfo=o))},Package.blaze&&(Package.blaze.Blaze.Template.registerHelper("currentUser",function(){return n.user()}),Package.blaze.Blaze.Template.registerHelper("loggingIn",function(){return n.loggingIn()}))}.call(this),function(){function o(n,o,t){e.each(r,function(e){var i,r=new RegExp("^\\#\\/"+e+"\\/(.*)$"),a=o.match(r);a&&(i=a[1],"reset-password"===e?n._resetPasswordToken=i:"verify-email"===e?n._verifyEmailToken=i:"enroll-account"===e&&(n._enrollAccountToken=i),window.location.hash="",t.call(n,i,e))})}function t(e,o){var t=this;t._autoLoginEnabled=!1,n.startup(function(){t._accountsCallbacks[o]&&t._accountsCallbacks[o](e,function(){t._enableAutoLogin()})})}var i=m.prototype,r=["reset-password","verify-email","enroll-account"],a=window.location.hash;i._initUrlMatching=function(){this._autoLoginEnabled=!0,this._accountsCallbacks={},this._attemptToMatchHash()},i._attemptToMatchHash=function(){o(this,a,t)},L={attemptToMatchHash:function(n,e){return o(E,n,e)}},i.onResetPasswordLink=function(e){this._accountsCallbacks["reset-password"]&&n._debug("Accounts.onResetPasswordLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["reset-password"]=e},i.onEmailVerificationLink=function(e){this._accountsCallbacks["verify-email"]&&n._debug("Accounts.onEmailVerificationLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["verify-email"]=e},i.onEnrollmentLink=function(e){this._accountsCallbacks["enroll-account"]&&n._debug("Accounts.onEnrollmentLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["enroll-account"]=e}}.call(this),function(){var e=m.prototype;n.loginWithToken=function(n,e){return E.loginWithToken(n,e)},e.loginWithToken=function(n,e){this.callLoginMethod({methodArguments:[{resume:n}],userCallback:e})},e._enableAutoLogin=function(){this._autoLoginEnabled=!0,this._pollStoredLoginToken()},e._isolateLoginTokenForTest=function(){this.LOGIN_TOKEN_KEY=this.LOGIN_TOKEN_KEY+a.id(),this.USER_ID_KEY=this.USER_ID_KEY+a.id()},e._storeLoginToken=function(e,o,t){n._localStorage.setItem(this.USER_ID_KEY,e),n._localStorage.setItem(this.LOGIN_TOKEN_KEY,o),t||(t=this._tokenExpiration(new Date)),n._localStorage.setItem(this.LOGIN_TOKEN_EXPIRES_KEY,t),this._lastLoginTokenWhenPolled=o},e._unstoreLoginToken=function(){n._localStorage.removeItem(this.USER_ID_KEY),n._localStorage.removeItem(this.LOGIN_TOKEN_KEY),n._localStorage.removeItem(this.LOGIN_TOKEN_EXPIRES_KEY),this._lastLoginTokenWhenPolled=null},e._storedLoginToken=function(){return n._localStorage.getItem(this.LOGIN_TOKEN_KEY)},e._storedLoginTokenExpires=function(){return n._localStorage.getItem(this.LOGIN_TOKEN_EXPIRES_KEY)},e._storedUserId=function(){return n._localStorage.getItem(this.USER_ID_KEY)},e._unstoreLoginTokenIfExpiresSoon=function(){var n=this._storedLoginTokenExpires();n&&this._tokenExpiresSoon(new Date(n))&&this._unstoreLoginToken()},e._initLocalStorage=function(){var e=this;e.LOGIN_TOKEN_KEY="Meteor.loginToken",e.LOGIN_TOKEN_EXPIRES_KEY="Meteor.loginTokenExpires",e.USER_ID_KEY="Meteor.userId";var o=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX;if(o||this.connection!==n.connection){var t=":"+this.connection._stream.rawUrl;o&&(t+=":"+o),e.LOGIN_TOKEN_KEY+=t,e.LOGIN_TOKEN_EXPIRES_KEY+=t,e.USER_ID_KEY+=t}if(e._autoLoginEnabled){e._unstoreLoginTokenIfExpiresSoon();var i=e._storedLoginToken();if(i){var r=e._storedUserId();r&&e.connection.setUserId(r),e.loginWithToken(i,function(o){o&&(n._debug("Error logging in with token: "+o),e.makeClientLoggedOut()),e._pageLoadLogin({type:"resume",allowed:!o,error:o,methodName:"login",methodArguments:[{resume:i}]})})}}e._lastLoginTokenWhenPolled=i,e._pollIntervalTimer&&clearInterval(e._pollIntervalTimer),e._pollIntervalTimer=setInterval(function(){e._pollStoredLoginToken()},3e3)},e._pollStoredLoginToken=function(){var n=this;if(n._autoLoginEnabled){var e=n._storedLoginToken();n._lastLoginTokenWhenPolled!=e&&(e?n.loginWithToken(e,function(e){e&&n.makeClientLoggedOut()}):n.logout()),n._lastLoginTokenWhenPolled=e}}}.call(this),function(){E=new m,n.users=E.users}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-base"]={Accounts:E,AccountsClient:m,AccountsTest:L}}();

!function(){var r=Package.meteor.Meteor,n;(function(){n=function(){function r(r){function n(r,n){var t=(65535&r)+(65535&n),e=(r>>16)+(n>>16)+(t>>16);return e<<16|65535&t}function t(r,n){return r>>>n|r<<32-n}function e(r,n){return r>>>n}function o(r,n,t){return r&n^~r&t}function a(r,n,t){return r&n^r&t^n&t}function u(r){return t(r,2)^t(r,13)^t(r,22)}function f(r){return t(r,6)^t(r,11)^t(r,25)}function c(r){return t(r,7)^t(r,18)^e(r,3)}function i(r){return t(r,17)^t(r,19)^e(r,10)}function h(r,t){var e=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),h=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),g=new Array(64),C,d,v,A,l,m,S,y,k,P,w,s;r[t>>5]|=128<<24-t%32,r[(t+64>>9<<4)+15]=t;for(var k=0;k<r.length;k+=16){C=h[0],d=h[1],v=h[2],A=h[3],l=h[4],m=h[5],S=h[6],y=h[7];for(var P=0;64>P;P++)16>P?g[P]=r[P+k]:g[P]=n(n(n(i(g[P-2]),g[P-7]),c(g[P-15])),g[P-16]),w=n(n(n(n(y,f(l)),o(l,m,S)),e[P]),g[P]),s=n(u(C),a(C,d,v)),y=S,S=m,m=l,l=n(A,w),A=v,v=d,d=C,C=n(w,s);h[0]=n(C,h[0]),h[1]=n(d,h[1]),h[2]=n(v,h[2]),h[3]=n(A,h[3]),h[4]=n(l,h[4]),h[5]=n(m,h[5]),h[6]=n(S,h[6]),h[7]=n(y,h[7])}return h}function g(r){for(var n=Array(),t=(1<<v)-1,e=0;e<r.length*v;e+=v)n[e>>5]|=(r.charCodeAt(e/v)&t)<<24-e%32;return n}function C(r){for(var n="",t=0;t<r.length;t++){var e=r.charCodeAt(t);128>e?n+=String.fromCharCode(e):e>127&&2048>e?(n+=String.fromCharCode(e>>6|192),n+=String.fromCharCode(63&e|128)):(n+=String.fromCharCode(e>>12|224),n+=String.fromCharCode(e>>6&63|128),n+=String.fromCharCode(63&e|128))}return n}function d(r){for(var n=A?"0123456789ABCDEF":"0123456789abcdef",t="",e=0;e<4*r.length;e++)t+=n.charAt(r[e>>2]>>8*(3-e%4)+4&15)+n.charAt(r[e>>2]>>8*(3-e%4)&15);return t}var v=8,A=0;return r=C(r),d(h(g(r),r.length*v))}return r}()}).call(this),"undefined"==typeof Package&&(Package={}),Package.sha={SHA256:n}}();

!function(){var t=Package.meteor.Meteor,i=Package.random.Random,r=Package.check.check,o=Package.check.Match,s=Package.sha.SHA256,e=Package.underscore._,h,n;(function(){h=function(){function t(t,i,r){null!=t&&("number"==typeof t?this.fromNumber(t,i,r):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function i(){return new t(null)}function r(t,i,r,o,s,e){for(;--e>=0;){var h=i*this[t++]+r[o]+s;s=Math.floor(h/67108864),r[o++]=67108863&h}return s}function o(t,i,r,o,s,e){for(var h=32767&i,n=i>>15;--e>=0;){var u=32767&this[t],f=this[t++]>>15,a=n*u+f*h;u=h*u+((32767&a)<<15)+r[o]+(1073741823&s),s=(u>>>30)+(a>>>15)+n*f+(s>>>30),r[o++]=1073741823&u}return s}function s(t,i,r,o,s,e){for(var h=16383&i,n=i>>14;--e>=0;){var u=16383&this[t],f=this[t++]>>14,a=n*u+f*h;u=h*u+((16383&a)<<14)+r[o]+s,s=(u>>28)+(a>>14)+n*f,r[o++]=268435455&u}return s}function e(t){return ii.charAt(t)}function h(t,i){var r=ri[t.charCodeAt(i)];return null==r?-1:r}function n(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function u(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function f(t){var r=i();return r.fromInt(t),r}function a(i,r){var o;if(16==r)o=4;else if(8==r)o=3;else if(256==r)o=8;else if(2==r)o=1;else if(32==r)o=5;else{if(4!=r)return void this.fromRadix(i,r);o=2}this.t=0,this.s=0;for(var s=i.length,e=!1,n=0;--s>=0;){var u=8==o?255&i[s]:h(i,s);0>u?"-"==i.charAt(s)&&(e=!0):(e=!1,0==n?this[this.t++]=u:n+o>this.DB?(this[this.t-1]|=(u&(1<<this.DB-n)-1)<<n,this[this.t++]=u>>this.DB-n):this[this.t-1]|=u<<n,n+=o,n>=this.DB&&(n-=this.DB))}8==o&&0!=(128&i[0])&&(this.s=-1,n>0&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),e&&t.ZERO.subTo(this,this)}function p(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function c(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var r=(1<<i)-1,o,s=!1,h="",n=this.t,u=this.DB-n*this.DB%i;if(n-->0)for(u<this.DB&&(o=this[n]>>u)>0&&(s=!0,h=e(o));n>=0;)i>u?(o=(this[n]&(1<<u)-1)<<i-u,o|=this[--n]>>(u+=this.DB-i)):(o=this[n]>>(u-=i)&r,0>=u&&(u+=this.DB,--n)),o>0&&(s=!0),s&&(h+=e(o));return s?h:"0"}function m(){var r=i();return t.ZERO.subTo(this,r),r}function l(){return this.s<0?this.negate():this}function v(t){var i=this.s-t.s;if(0!=i)return i;var r=this.t;if(i=r-t.t,0!=i)return i;for(;--r>=0;)if(0!=(i=this[r]-t[r]))return i;return 0}function T(t){var i=1,r;return 0!=(r=t>>>16)&&(t=r,i+=16),0!=(r=t>>8)&&(t=r,i+=8),0!=(r=t>>4)&&(t=r,i+=4),0!=(r=t>>2)&&(t=r,i+=2),0!=(r=t>>1)&&(t=r,i+=1),i}function y(){return this.t<=0?0:this.DB*(this.t-1)+T(this[this.t-1]^this.s&this.DM)}function d(t,i){var r;for(r=this.t-1;r>=0;--r)i[r+t]=this[r];for(r=t-1;r>=0;--r)i[r]=0;i.t=this.t+t,i.s=this.s}function D(t,i){for(var r=t;r<this.t;++r)i[r-t]=this[r];i.t=Math.max(this.t-t,0),i.s=this.s}function g(t,i){var r=t%this.DB,o=this.DB-r,s=(1<<o)-1,e=Math.floor(t/this.DB),h=this.s<<r&this.DM,n;for(n=this.t-1;n>=0;--n)i[n+e+1]=this[n]>>o|h,h=(this[n]&s)<<r;for(n=e-1;n>=0;--n)i[n]=0;i[e]=h,i.t=this.t+e+1,i.s=this.s,i.clamp()}function B(t,i){i.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)return void(i.t=0);var o=t%this.DB,s=this.DB-o,e=(1<<o)-1;i[0]=this[r]>>o;for(var h=r+1;h<this.t;++h)i[h-r-1]|=(this[h]&e)<<s,i[h-r]=this[h]>>o;o>0&&(i[this.t-r-1]|=(this.s&e)<<s),i.t=this.t-r,i.clamp()}function b(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);s>r;)o+=this[r]-t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o-=t[r],i[r++]=o&this.DM,o>>=this.DB;o-=t.s}i.s=0>o?-1:0,-1>o?i[r++]=this.DV+o:o>0&&(i[r++]=o),i.t=r,i.clamp()}function S(i,r){var o=this.abs(),s=i.abs(),e=o.t;for(r.t=e+s.t;--e>=0;)r[e]=0;for(e=0;e<s.t;++e)r[e+o.t]=o.am(0,s[e],r,e,0,o.t);r.s=0,r.clamp(),this.s!=i.s&&t.ZERO.subTo(r,r)}function E(t){for(var i=this.abs(),r=t.t=2*i.t;--r>=0;)t[r]=0;for(r=0;r<i.t-1;++r){var o=i.am(r,i[r],t,2*r,0,1);(t[r+i.t]+=i.am(r+1,2*i[r],t,2*r+1,o,i.t-r-1))>=i.DV&&(t[r+i.t]-=i.DV,t[r+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(r,i[r],t,2*r,0,1)),t.s=0,t.clamp()}function w(r,o,s){var e=r.abs();if(!(e.t<=0)){var h=this.abs();if(h.t<e.t)return null!=o&&o.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=i());var n=i(),u=this.s,f=r.s,a=this.DB-T(e[e.t-1]);a>0?(e.lShiftTo(a,n),h.lShiftTo(a,s)):(e.copyTo(n),h.copyTo(s));var p=n.t,c=n[p-1];if(0!=c){var m=c*(1<<this.F1)+(p>1?n[p-2]>>this.F2:0),l=this.FV/m,v=(1<<this.F1)/m,y=1<<this.F2,d=s.t,D=d-p,g=null==o?i():o;for(n.dlShiftTo(D,g),s.compareTo(g)>=0&&(s[s.t++]=1,s.subTo(g,s)),t.ONE.dlShiftTo(p,g),g.subTo(n,n);n.t<p;)n[n.t++]=0;for(;--D>=0;){var B=s[--d]==c?this.DM:Math.floor(s[d]*l+(s[d-1]+y)*v);if((s[d]+=n.am(0,B,s,D,0,p))<B)for(n.dlShiftTo(D,g),s.subTo(g,s);s[d]<--B;)s.subTo(g,s)}null!=o&&(s.drShiftTo(p,o),u!=f&&t.ZERO.subTo(o,o)),s.t=p,s.clamp(),a>0&&s.rShiftTo(a,s),0>u&&t.ZERO.subTo(s,s)}}}function M(r){var o=i();return this.abs().divRemTo(r,null,o),this.s<0&&o.compareTo(t.ZERO)>0&&r.subTo(o,o),o}function A(t){this.m=t}function R(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function O(t){return t}function C(t){t.divRemTo(this.m,null,t)}function F(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function V(t,i){t.squareTo(i),this.reduce(i)}function N(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return i=i*(2-(15&t)*i)&15,i=i*(2-(255&t)*i)&255,i=i*(2-((65535&t)*i&65535))&65535,i=i*(2-t*i%this.DV)%this.DV,i>0?this.DV-i:-i}function k(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function q(r){var o=i();return r.abs().dlShiftTo(this.m.t,o),o.divRemTo(this.m,null,o),r.s<0&&o.compareTo(t.ZERO)>0&&this.m.subTo(o,o),o}function P(t){var r=i();return t.copyTo(r),this.reduce(r),r}function L(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var r=32767&t[i],o=r*this.mpl+((r*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=i+this.m.t,t[r]+=this.m.am(0,o,t,i,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function x(t,i){t.squareTo(i),this.reduce(i)}function I(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function Z(){return 0==(this.t>0?1&this[0]:this.s)}function z(r,o){if(r>4294967295||1>r)return t.ONE;var s=i(),e=i(),h=o.convert(this),n=T(r)-1;for(h.copyTo(s);--n>=0;)if(o.sqrTo(s,e),(r&1<<n)>0)o.mulTo(e,h,s);else{var u=s;s=e,e=u}return o.revert(s)}function U(t,i){var r;return r=256>t||i.isEven()?new A(i):new k(i),this.exp(t,r)}function j(){var t=i();return this.copyTo(t),t}function H(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function _(){return 0==this.t?this.s:this[0]<<24>>24}function G(){return 0==this.t?this.s:this[0]<<16>>16}function J(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function K(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Q(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var r=this.chunkSize(t),o=Math.pow(t,r),s=f(o),e=i(),h=i(),n="";for(this.divRemTo(s,e,h);e.signum()>0;)n=(o+h.intValue()).toString(t).substr(1)+n,e.divRemTo(s,e,h);return h.intValue().toString(t)+n}function W(i,r){this.fromInt(0),null==r&&(r=10);for(var o=this.chunkSize(r),s=Math.pow(r,o),e=!1,n=0,u=0,f=0;f<i.length;++f){var a=h(i,f);0>a?"-"==i.charAt(f)&&0==this.signum()&&(e=!0):(u=r*u+a,++n>=o&&(this.dMultiply(s),this.dAddOffset(u,0),n=0,u=0))}n>0&&(this.dMultiply(Math.pow(r,n)),this.dAddOffset(u,0)),e&&t.ZERO.subTo(this,this)}function X(i,r,o){if("number"==typeof r)if(2>i)this.fromInt(1);else for(this.fromNumber(i,o),this.testBit(i-1)||this.bitwiseTo(t.ONE.shiftLeft(i-1),et,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(t.ONE.shiftLeft(i-1),this);else{var s=new Array,e=7&i;s.length=(i>>3)+1,r.nextBytes(s),e>0?s[0]&=(1<<e)-1:s[0]=0,this.fromString(s,256)}}function Y(){var t=this.t,i=new Array;i[0]=this.s;var r=this.DB-t*this.DB%8,o,s=0;if(t-->0)for(r<this.DB&&(o=this[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)8>r?(o=(this[t]&(1<<r)-1)<<8-r,o|=this[--t]>>(r+=this.DB-8)):(o=this[t]>>(r-=8)&255,0>=r&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function $(t){return 0==this.compareTo(t)}function tt(t){return this.compareTo(t)<0?this:t}function it(t){return this.compareTo(t)>0?this:t}function rt(t,i,r){var o,s,e=Math.min(t.t,this.t);for(o=0;e>o;++o)r[o]=i(this[o],t[o]);if(t.t<this.t){for(s=t.s&this.DM,o=e;o<this.t;++o)r[o]=i(this[o],s);r.t=this.t}else{for(s=this.s&this.DM,o=e;o<t.t;++o)r[o]=i(s,t[o]);r.t=t.t}r.s=i(this.s,t.s),r.clamp()}function ot(t,i){return t&i}function st(t){var r=i();return this.bitwiseTo(t,ot,r),r}function et(t,i){return t|i}function ht(t){var r=i();return this.bitwiseTo(t,et,r),r}function nt(t,i){return t^i}function ut(t){var r=i();return this.bitwiseTo(t,nt,r),r}function ft(t,i){return t&~i}function at(t){var r=i();return this.bitwiseTo(t,ft,r),r}function pt(){for(var t=i(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t}function ct(t){var r=i();return 0>t?this.rShiftTo(-t,r):this.lShiftTo(t,r),r}function mt(t){var r=i();return 0>t?this.lShiftTo(-t,r):this.rShiftTo(t,r),r}function lt(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function vt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+lt(this[t]);return this.s<0?this.t*this.DB:-1}function Tt(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function yt(){for(var t=0,i=this.s&this.DM,r=0;r<this.t;++r)t+=Tt(this[r]^i);return t}function dt(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)}function Dt(i,r){var o=t.ONE.shiftLeft(i);return this.bitwiseTo(o,r,o),o}function gt(t){return this.changeBit(t,et)}function Bt(t){return this.changeBit(t,ft)}function bt(t){return this.changeBit(t,nt)}function St(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);s>r;)o+=this[r]+t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o+=t[r],i[r++]=o&this.DM,o>>=this.DB;o+=t.s}i.s=0>o?-1:0,o>0?i[r++]=o:-1>o&&(i[r++]=this.DV+o),i.t=r,i.clamp()}function Et(t){var r=i();return this.addTo(t,r),r}function wt(t){var r=i();return this.subTo(t,r),r}function Mt(t){var r=i();return this.multiplyTo(t,r),r}function At(t){var r=i();return this.divRemTo(t,r,null),r}function Rt(t){var r=i();return this.divRemTo(t,null,r),r}function Ot(t){var r=i(),o=i();return this.divRemTo(t,r,o),new Array(r,o)}function Ct(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Ft(t,i){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}function Vt(){}function Nt(t){return t}function kt(t,i,r){t.multiplyTo(i,r)}function qt(t,i){t.squareTo(i)}function Pt(t){return this.exp(t,new Vt)}function Lt(t,i,r){var o=Math.min(this.t+t.t,i);for(r.s=0,r.t=o;o>0;)r[--o]=0;var s;for(s=r.t-this.t;s>o;++o)r[o+this.t]=this.am(0,t[o],r,o,0,this.t);for(s=Math.min(t.t,i);s>o;++o)this.am(0,t[o],r,o,0,i-o);r.clamp()}function xt(t,i,r){--i;var o=r.t=this.t+t.t-i;for(r.s=0;--o>=0;)r[o]=0;for(o=Math.max(i-this.t,0);o<t.t;++o)r[this.t+o-i]=this.am(i-o,t[o],r,0,0,this.t+o-i);r.clamp(),r.drShiftTo(1,r)}function It(r){this.r2=i(),this.q3=i(),t.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}function Zt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=i();return t.copyTo(r),this.reduce(r),r}function zt(t){return t}function Ut(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function jt(t,i){t.squareTo(i),this.reduce(i)}function Ht(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function _t(t,r){var o=t.bitLength(),s,e=f(1),h;if(0>=o)return e;s=18>o?1:48>o?3:144>o?4:768>o?5:6,h=8>o?new A(r):r.isEven()?new It(r):new k(r);var n=new Array,u=3,a=s-1,p=(1<<s)-1;if(n[1]=h.convert(this),s>1){var c=i();for(h.sqrTo(n[1],c);p>=u;)n[u]=i(),h.mulTo(c,n[u-2],n[u]),u+=2}var m=t.t-1,l,v=!0,y=i(),d;for(o=T(t[m])-1;m>=0;){for(o>=a?l=t[m]>>o-a&p:(l=(t[m]&(1<<o+1)-1)<<a-o,m>0&&(l|=t[m-1]>>this.DB+o-a)),u=s;0==(1&l);)l>>=1,--u;if((o-=u)<0&&(o+=this.DB,--m),v)n[l].copyTo(e),v=!1;else{for(;u>1;)h.sqrTo(e,y),h.sqrTo(y,e),u-=2;u>0?h.sqrTo(e,y):(d=e,e=y,y=d),h.mulTo(y,n[l],e)}for(;m>=0&&0==(t[m]&1<<o);)h.sqrTo(e,y),d=e,e=y,y=d,--o<0&&(o=this.DB-1,--m)}return h.revert(e)}function Gt(t){var i=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(i.compareTo(r)<0){var o=i;i=r,r=o}var s=i.getLowestSetBit(),e=r.getLowestSetBit();if(0>e)return i;for(e>s&&(e=s),e>0&&(i.rShiftTo(e,i),r.rShiftTo(e,r));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),i.compareTo(r)>=0?(i.subTo(r,i),i.rShiftTo(1,i)):(r.subTo(i,r),r.rShiftTo(1,r));return e>0&&r.lShiftTo(e,r),r}function Jt(t){if(0>=t)return 0;var i=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==i)r=this[0]%t;else for(var o=this.t-1;o>=0;--o)r=(i*r+this[o])%t;return r}function Kt(i){var r=i.isEven();if(this.isEven()&&r||0==i.signum())return t.ZERO;for(var o=i.clone(),s=this.clone(),e=f(1),h=f(0),n=f(0),u=f(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),r?(e.isEven()&&h.isEven()||(e.addTo(this,e),h.subTo(i,h)),e.rShiftTo(1,e)):h.isEven()||h.subTo(i,h),h.rShiftTo(1,h);for(;s.isEven();)s.rShiftTo(1,s),r?(n.isEven()&&u.isEven()||(n.addTo(this,n),u.subTo(i,u)),n.rShiftTo(1,n)):u.isEven()||u.subTo(i,u),u.rShiftTo(1,u);o.compareTo(s)>=0?(o.subTo(s,o),r&&e.subTo(n,e),h.subTo(u,h)):(s.subTo(o,s),r&&n.subTo(e,n),u.subTo(h,u))}return 0!=s.compareTo(t.ONE)?t.ZERO:u.compareTo(i)>=0?u.subtract(i):u.signum()<0?(u.addTo(i,u),u.signum()<0?u.add(i):u):u}function Qt(t){var i,r=this.abs();if(1==r.t&&r[0]<=ei[ei.length-1]){for(i=0;i<ei.length;++i)if(r[0]==ei[i])return!0;return!1}if(r.isEven())return!1;for(i=1;i<ei.length;){for(var o=ei[i],s=i+1;s<ei.length&&hi>o;)o*=ei[s++];for(o=r.modInt(o);s>i;)if(o%ei[i++]==0)return!1}return r.millerRabin(t)}function Wt(r){var o=this.subtract(t.ONE),s=o.getLowestSetBit();if(0>=s)return!1;var e=o.shiftRight(s);r=r+1>>1,r>ei.length&&(r=ei.length);for(var h=i(),n=0;r>n;++n){h.fromInt(ei[n]);var u=h.modPow(e,this);if(0!=u.compareTo(t.ONE)&&0!=u.compareTo(o)){for(var f=1;f++<s&&0!=u.compareTo(o);)if(u=u.modPowInt(2,this),0==u.compareTo(t.ONE))return!1;if(0!=u.compareTo(o))return!1}}return!0}var Xt,Yt=0xdeadbeefcafe,$t=15715070==(16777215&Yt);t.prototype.am=s,Xt=28,t.prototype.DB=Xt,t.prototype.DM=(1<<Xt)-1,t.prototype.DV=1<<Xt;var ti=52;t.prototype.FV=Math.pow(2,ti),t.prototype.F1=ti-Xt,t.prototype.F2=2*Xt-ti;var ii="0123456789abcdefghijklmnopqrstuvwxyz",ri=new Array,oi,si;for(oi="0".charCodeAt(0),si=0;9>=si;++si)ri[oi++]=si;for(oi="a".charCodeAt(0),si=10;36>si;++si)ri[oi++]=si;for(oi="A".charCodeAt(0),si=10;36>si;++si)ri[oi++]=si;A.prototype.convert=R,A.prototype.revert=O,A.prototype.reduce=C,A.prototype.mulTo=F,A.prototype.sqrTo=V,k.prototype.convert=q,k.prototype.revert=P,k.prototype.reduce=L,k.prototype.mulTo=I,k.prototype.sqrTo=x,t.prototype.copyTo=n,t.prototype.fromInt=u,t.prototype.fromString=a,t.prototype.clamp=p,t.prototype.dlShiftTo=d,t.prototype.drShiftTo=D,t.prototype.lShiftTo=g,t.prototype.rShiftTo=B,t.prototype.subTo=b,t.prototype.multiplyTo=S,t.prototype.squareTo=E,t.prototype.divRemTo=w,t.prototype.invDigit=N,t.prototype.isEven=Z,t.prototype.exp=z,t.prototype.toString=c,t.prototype.negate=m,t.prototype.abs=l,t.prototype.compareTo=v,t.prototype.bitLength=y,t.prototype.mod=M,t.prototype.modPowInt=U,t.ZERO=f(0),t.ONE=f(1),Vt.prototype.convert=Nt,Vt.prototype.revert=Nt,Vt.prototype.mulTo=kt,Vt.prototype.sqrTo=qt,It.prototype.convert=Zt,It.prototype.revert=zt,It.prototype.reduce=Ut,It.prototype.mulTo=Ht,It.prototype.sqrTo=jt;var ei=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],hi=(1<<26)/ei[ei.length-1];return t.prototype.chunkSize=J,t.prototype.toRadix=Q,t.prototype.fromRadix=W,t.prototype.fromNumber=X,t.prototype.bitwiseTo=rt,t.prototype.changeBit=Dt,t.prototype.addTo=St,t.prototype.dMultiply=Ct,t.prototype.dAddOffset=Ft,t.prototype.multiplyLowerTo=Lt,t.prototype.multiplyUpperTo=xt,t.prototype.modInt=Jt,t.prototype.millerRabin=Wt,t.prototype.clone=j,t.prototype.intValue=H,t.prototype.byteValue=_,t.prototype.shortValue=G,t.prototype.signum=K,t.prototype.toByteArray=Y,t.prototype.equals=$,t.prototype.min=tt,t.prototype.max=it,t.prototype.and=st,t.prototype.or=ht,t.prototype.xor=ut,t.prototype.andNot=at,t.prototype.not=pt,t.prototype.shiftLeft=ct,t.prototype.shiftRight=mt,t.prototype.getLowestSetBit=vt,t.prototype.bitCount=yt,t.prototype.testBit=dt,t.prototype.setBit=gt,t.prototype.clearBit=Bt,t.prototype.flipBit=bt,t.prototype.add=Et,t.prototype.subtract=wt,t.prototype.multiply=Mt,t.prototype.divide=At,t.prototype.remainder=Rt,t.prototype.divideAndRemainder=Ot,t.prototype.modPow=_t,t.prototype.modInverse=Kt,t.prototype.pow=Pt,t.prototype.gcd=Gt,t.prototype.isProbablePrime=Qt,t}()}).call(this),function(){n={},n.generateVerifier=function(t,o){var s=r(o),e=o&&o.salt||i.secret(),n,u=o&&o.hashedIdentityAndPassword;u||(n=o&&o.identity||i.secret(),u=s.hash(n+":"+t));var f=s.hash(e+u),a=new h(f,16),p=s.g.modPow(a,s.N);return{identity:n,salt:e,verifier:p.toString(16)}},n.matchVerifier={identity:String,salt:String,verifier:String};var t={hash:function(t){return s(t).toLowerCase()},N:new h("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new h("2")};t.k=new h(t.hash(t.N.toString(16)+t.g.toString(16)),16);var r=function(i){if(!i)return t;var r=e.extend({},t);return e.each(["N","g","k"],function(t){if(i[t])if("string"==typeof i[t])r[t]=new h(i[t],16);else{if(!(i[t]instanceof h))throw new Error("Invalid parameter: "+t);r[t]=i[t]}}),i.hash&&(r.hash=function(t){return i.hash(t).toLowerCase()}),!i.k&&(i.N||i.g||i.hash)&&(r.k=r.hash(r.N.toString(16)+r.g.toString(16))),r}}.call(this),"undefined"==typeof Package&&(Package={}),Package.srp={SRP:n}}();

!function(){var e=Package.meteor.Meteor,r=Package["accounts-base"].Accounts,a=Package["accounts-base"].AccountsClient,s=Package.srp.SRP,o=Package.sha.SHA256,t=Package.ejson.EJSON,n=Package["ddp-client"].DDP,c=Package.check.check,d=Package.check.Match,i=Package.underscore._,l=Package.ecmascript.ECMAScript,u=Package["babel-runtime"].babelHelpers,g=Package["ecmascript-runtime"].Symbol,w=Package["ecmascript-runtime"].Map,P=Package["ecmascript-runtime"].Set,m=Package.promise.Promise;(function(){e.loginWithPassword=function(e,s,o){"string"==typeof e&&(e=-1===e.indexOf("@")?{username:e}:{email:e}),r.callLoginMethod({methodArguments:[{user:e,password:r._hashPassword(s)}],userCallback:function(r,t){r&&400===r.error&&"old password format"===r.reason?a({upgradeError:r,userSelector:e,plaintextPassword:s},o):r?o&&o(r):o&&o()}})},r._hashPassword=function(e){return{digest:o(e),algorithm:"sha-256"}};var a=function(a,s){var n;try{n=t.parse(a.upgradeError.details)}catch(c){}n&&"srp"===n.format?r.callLoginMethod({methodArguments:[{user:a.userSelector,srp:o(n.identity+":"+a.plaintextPassword),password:r._hashPassword(a.plaintextPassword)}],userCallback:s}):s&&s(new e.Error(400,"Password is old. Please reset your password."))};r.createUser=function(a,s){if(a=i.clone(a),"string"!=typeof a.password)throw new Error("options.password must be a string");return a.password?(a.password=r._hashPassword(a.password),void r.callLoginMethod({methodName:"createUser",methodArguments:[a],userCallback:s})):void s(new e.Error(400,"Password may not be empty"))},r.changePassword=function(s,o,t){return e.user()?(c(o,String),o?void r.connection.apply("changePassword",[s?r._hashPassword(s):null,r._hashPassword(o)],function(n,c){n||!c?n&&400===n.error&&"old password format"===n.reason?a({upgradeError:n,userSelector:{id:e.userId()},plaintextPassword:s},function(e){e?t&&t(e):r.changePassword(s,o,t)}):t&&t(n||new Error("No result from changePassword.")):t&&t()}):void t(new e.Error(400,"Password may not be empty"))):void(t&&t(new Error("Must be logged in to change password.")))},r.forgotPassword=function(e,a){if(!e.email)throw new Error("Must pass options.email");r.connection.call("forgotPassword",e,a)},r.resetPassword=function(a,s,o){return c(a,String),c(s,String),s?void r.callLoginMethod({methodName:"resetPassword",methodArguments:[a,r._hashPassword(s)],userCallback:o}):void o(new e.Error(400,"Password may not be empty"))},r.verifyEmail=function(e,a){if(!e)throw new Error("Need to pass token");r.callLoginMethod({methodName:"verifyEmail",methodArguments:[e],userCallback:a})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.underscore._,t=Package.tracker.Tracker,i=Package.tracker.Deps,n=Package.ejson.EJSON,s=Package.ecmascript.ECMAScript,r=Package["babel-runtime"].babelHelpers,c=Package["ecmascript-runtime"].Symbol,o=Package["ecmascript-runtime"].Map,u=Package["ecmascript-runtime"].Set,l=Package.promise.Promise,d;(function(){var e=function(e){return void 0===e?"undefined":n.stringify(e)},i=function(e){return void 0===e||"undefined"===e?void 0:n.parse(e)},s=function(e){e&&e.changed()};d=function(e){if(e)if("string"==typeof e)d._registerDictForMigrate(e,this),this.keys=d._loadMigratedDict(e)||{},this.name=e;else{if("object"!=typeof e)throw new Error("Invalid ReactiveDict argument: "+e);this.keys=e}else this.keys={};this.allDeps=new t.Dependency,this.keyDeps={},this.keyValueDeps={}},a.extend(d.prototype,{set:function(t,i){var n=this;if("object"==typeof t&&void 0===i)return void n._setObject(t);var r=t;i=e(i);var c=a.has(n.keys,r),o=c?n.keys[r]:"undefined",u=i!==o;n.keys[r]=i,(u||!c)&&n.allDeps.changed(),u&&(s(n.keyDeps[r]),n.keyValueDeps[r]&&(s(n.keyValueDeps[r][o]),s(n.keyValueDeps[r][i])))},setDefault:function(e,t){var i=this;a.has(i.keys,e)||i.set(e,t)},get:function(e){var a=this;return a._ensureKey(e),a.keyDeps[e].depend(),i(a.keys[e])},equals:function(s,r){var c=this,o=null;if(Package.mongo&&(o=Package.mongo.Mongo.ObjectID),!("string"==typeof r||"number"==typeof r||"boolean"==typeof r||"undefined"==typeof r||r instanceof Date||o&&r instanceof o||null===r))throw new Error("ReactiveDict.equals: value must be scalar");var u=e(r);if(t.active){c._ensureKey(s),a.has(c.keyValueDeps[s],u)||(c.keyValueDeps[s][u]=new t.Dependency);var l=c.keyValueDeps[s][u].depend();l&&t.onInvalidate(function(){c.keyValueDeps[s][u].hasDependents()||delete c.keyValueDeps[s][u]})}var d=void 0;return a.has(c.keys,s)&&(d=i(c.keys[s])),n.equals(d,r)},all:function(){this.allDeps.depend();var e={};return a.each(this.keys,function(a,t){e[t]=i(a)}),e},clear:function(){var e=this,t=e.keys;e.keys={},e.allDeps.changed(),a.each(t,function(a,t){s(e.keyDeps[t]),s(e.keyValueDeps[t][a]),s(e.keyValueDeps[t].undefined)})},"delete":function(e){var t=this,i=!1;if(a.has(t.keys,e)){var n=t.keys[e];delete t.keys[e],s(t.keyDeps[e]),t.keyValueDeps[e]&&(s(t.keyValueDeps[e][n]),s(t.keyValueDeps[e].undefined)),t.allDeps.changed(),i=!0}return i},_setObject:function(e){var t=this;a.each(e,function(e,a){t.set(a,e)})},_ensureKey:function(e){var a=this;e in a.keyDeps||(a.keyDeps[e]=new t.Dependency,a.keyValueDeps[e]={})},_getMigrationData:function(){return this.keys}})}).call(this),function(){if(d._migratedDictData={},d._dictsToMigrate={},d._loadMigratedDict=function(e){return a.has(d._migratedDictData,e)?d._migratedDictData[e]:null},d._registerDictForMigrate=function(e,t){if(a.has(d._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);d._dictsToMigrate[e]=t},e.isClient&&Package.reload){var t=Package.reload.Reload._migrationData("reactive-dict");t&&t.dicts&&(d._migratedDictData=t.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var e=d._dictsToMigrate,a={};for(var t in r.sanitizeForInObject(e))a[t]=e[t]._getMigrationData();return[!0,{dicts:a}]})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:d}}();

!function(){var e=Package.meteor.Meteor,t,r,n,o,a,s,i,l,d,c,f,u,h,m,g,p,b,v,_,E,y,N,T,w,$,B,C,x;(function(){function e(t,r,n){if(t.addEventListener)t.addEventListener(r,n,!1);else{n.$$guid||(n.$$guid=e.guid++),t.events||(t.events={});var o=t.events[r];o||(o=t.events[r]={},t["on"+r]&&(o[0]=t["on"+r])),o[n.$$guid]=n,t["on"+r]=A}}function k(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.events&&e.events[t]&&delete e.events[t][r.$$guid]}function A(e){var t=!0;e=e||D(((this.ownerDocument||this.document||this).parentWindow||window).event);var r=this.events[e.type];for(var n in r)this.$$handleEvent=r[n],this.$$handleEvent(e)===!1&&(t=!1);return t}function D(e){return e.preventDefault=D.preventDefault,e.stopPropagation=D.stopPropagation,e}var I=!1;t={init:function(){arguments.callee.done||(arguments.callee.done=!0,_timer&&clearInterval(_timer),document.createElement&&document.getElementsByTagName&&(t.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,F(document.getElementsByTagName("table"),function(e){-1!=e.className.search(/\bsortable\b/)&&t.makeSortable(e)})))},makeSortable:function(g){if(0==g.getElementsByTagName("thead").length&&(r=document.createElement("thead"),r.appendChild(g.rows[0]),g.insertBefore(r,g.firstChild)),null==g.tHead&&(g.tHead=g.getElementsByTagName("thead")[0]),1==g.tHead.rows.length){n=[];for(var p=0;p<g.rows.length;p++)-1!=g.rows[p].className.search(/\bsortbottom\b/)&&(n[n.length]=g.rows[p]);if(n){null==g.tFoot&&(o=document.createElement("tfoot"),g.appendChild(o));for(var p=0;p<n.length;p++)o.appendChild(n[p]);delete n}a=g.tHead.rows[0].cells;for(var p=0;p<a.length;p++)a[p].className.match(/\bsorttable_nosort\b/)||(s=a[p].className.match(/\bsorttable_([a-z0-9]+)\b/),s&&(i=s[1]),s&&"function"==typeof t["sort_"+i]?a[p].sorttable_sortfunction=t["sort_"+i]:a[p].sorttable_sortfunction=t.guessType(g,p),a[p].sorttable_columnindex=p,a[p].sorttable_tbody=g.tBodies[0],e(a[p],"click",t.innerSortFunction=function(e){if(-1!=this.className.search(/\bsorttable_sorted\b/))return t.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse"),this.removeChild(document.getElementById("sorttable_sortfwdind")),l=document.createElement("span"),l.id="sorttable_sortrevind",l.innerHTML=I?'<font face="webdings">6</font>':"&#x25BD;",void this.appendChild(l);if(-1!=this.className.search(/\bsorttable_sorted_reverse\b/))return t.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted"),this.removeChild(document.getElementById("sorttable_sortrevind")),d=document.createElement("span"),d.id="sorttable_sortfwdind",d.innerHTML=I?'<font face="webdings">5</font>':"&#x25B3;",void this.appendChild(d);c=this.parentNode,F(c.childNodes,function(e){1==e.nodeType&&(e.className=e.className.replace("sorttable_sorted_reverse",""),e.className=e.className.replace("sorttable_sorted",""))}),d=document.getElementById("sorttable_sortfwdind"),d&&d.parentNode.removeChild(d),l=document.getElementById("sorttable_sortrevind"),l&&l.parentNode.removeChild(l),this.className+=" sorttable_sorted_reverse",d=document.createElement("span"),d.id="sorttable_sortrevind",d.innerHTML=I?'<font face="webdings">6</font>':"&#x25BD;",this.appendChild(d),f=[],u=this.sorttable_columnindex,h=this.sorttable_tbody.rows;for(var r=0;r<h.length;r++)f[f.length]=[t.getInnerText(h[r].cells[u]),h[r]];f.sort(this.sorttable_sortfunction),f.reverse(),m=this.sorttable_tbody;for(var r=0;r<f.length;r++)m.appendChild(f[r][1]);delete f}))}},guessType:function(e,r){g=t.sort_alpha;for(var n=0;n<e.tBodies[0].rows.length;n++)if(p=t.getInnerText(e.tBodies[0].rows[n].cells[r]),""!=p){if(p.match(/^-?[$]?[\d,.]+%?$/))return t.sort_numeric;if(b=p.match(t.DATE_RE)){if(v=parseInt(b[1]),_=parseInt(b[2]),v>12)return t.sort_ddmm;if(_>12)return t.sort_mmdd;g=t.sort_ddmm}}return g},getInnerText:function(e){if(!e)return"";if(E="function"==typeof e.getElementsByTagName&&e.getElementsByTagName("input").length,null!=e.getAttribute("sorttable_customkey"))return e.getAttribute("sorttable_customkey");if("undefined"!=typeof e.textContent&&!E)return e.textContent.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof e.innerText&&!E)return e.innerText.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof e.text&&!E)return e.text.replace(/^\s+|\s+$/g,"");switch(e.nodeType){case 3:if("input"==e.nodeName.toLowerCase())return e.value.replace(/^\s+|\s+$/g,"");case 4:return e.nodeValue.replace(/^\s+|\s+$/g,"");break;case 1:case 11:for(var r="",n=0;n<e.childNodes.length;n++)r+=t.getInnerText(e.childNodes[n]);return r.replace(/^\s+|\s+$/g,"");break;default:return""}},reverse:function(e){y=[];for(var t=0;t<e.rows.length;t++)y[y.length]=e.rows[t];for(var t=y.length-1;t>=0;t--)e.appendChild(y[t]);delete y},sort_numeric:function(e,t){return N=parseFloat(e[0].replace(/[^0-9.-]/g,"")),isNaN(N)&&(N=0),T=parseFloat(t[0].replace(/[^0-9.-]/g,"")),isNaN(T)&&(T=0),N-T},sort_alpha:function(e,t){return e[0]==t[0]?0:e[0]<t[0]?-1:1},sort_ddmm:function(e,r){return s=e[0].match(t.DATE_RE),w=s[3],$=s[2],B=s[1],1==$.length&&($="0"+$),1==B.length&&(B="0"+B),C=w+$+B,s=r[0].match(t.DATE_RE),w=s[3],$=s[2],B=s[1],1==$.length&&($="0"+$),1==B.length&&(B="0"+B),x=w+$+B,C==x?0:x>C?-1:1},sort_mmdd:function(e,r){return s=e[0].match(t.DATE_RE),w=s[3],B=s[2],$=s[1],1==$.length&&($="0"+$),1==B.length&&(B="0"+B),C=w+$+B,s=r[0].match(t.DATE_RE),w=s[3],B=s[2],$=s[1],1==$.length&&($="0"+$),1==B.length&&(B="0"+B),x=w+$+B,C==x?0:x>C?-1:1},shaker_sort:function(e,t){for(var r=0,n=e.length-1,o=!0;o;){o=!1;for(var a=r;n>a;++a)if(t(e[a],e[a+1])>0){var s=e[a];e[a]=e[a+1],e[a+1]=s,o=!0}if(n--,!o)break;for(var a=n;a>r;--a)if(t(e[a],e[a-1])<0){var s=e[a];e[a]=e[a-1],e[a-1]=s,o=!0}r++}}},e.guid=1,D.preventDefault=function(){this.returnValue=!1},D.stopPropagation=function(){this.cancelBubble=!0},Array.forEach||(Array.forEach=function(e,t,r){for(var n=0;n<e.length;n++)t.call(r,e[n],n,e)}),Function.prototype.forEach=function(e,t,r){for(var n in e)"undefined"==typeof this.prototype[n]&&t.call(r,e[n],n,e)},String.forEach=function(e,t,r){Array.forEach(e.split(""),function(n,o){t.call(r,n,o,e)})};var F=function(e,t,r){if(e){var n=Object;if(e instanceof Function)n=Function;else{if(e.forEach instanceof Function)return void e.forEach(t,r);"string"==typeof e?n=String:"number"==typeof e.length&&(n=Array)}n.forEach(e,t,r)}}}).call(this),"undefined"==typeof Package&&(Package={}),Package["shilman:sorttable"]={sorttable:t}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,n=Package.random.Random,t=Package.jquery.$,o=Package.jquery.jQuery,i,a,s,c,u,l,f,p,d,m,y,v;(function(){if(i={},i.options={},e.wrapAsync?i._wrapAsync=e.wrapAsync:i._wrapAsync=e._wrapAsync,e.isServer){var n=Npm.require("events").EventEmitter,t=new n;t.setMaxListeners(0);var o=function(e){e=r.toArray(e);var n=e[0]+"-"+e[1],e=e.slice(2);return e.unshift(n),e};i.EventBus={},r.each(["on","emit","removeListener","removeAllListeners"],function(e){i.EventBus[e]=function(){var r=o(arguments);return t[e].apply(t,r)}})}}).call(this),function(){a=function(e){this._filters=[]},a.prototype.addFilter=function(e){if("function"!=typeof e)throw new Error("Error filter must be a function");this._filters.push(e)},a.prototype.removeFilter=function(e){var r=this._filters.indexOf(e);r>=0&&this._filters.splice(r,1)},a.prototype.applyFilters=function(e,r,n,t){for(var o=0;o<this._filters.length;o++){var i=this._filters[o];try{var a=i(e,r,n,t);if(!a)return!1}catch(s){throw this._filters.splice(o,1),new Error("an error thrown from a filter you've suplied",s.message)}}return!0}}.call(this),function(){s=function(e){var n=this;r.extend(n,r.defaults(r.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),n.retryTimer=null},r.extend(s.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var r=this;if(e<r.minCount)return r.minTimeout;var t=Math.min(r.maxTimeout,r.baseTimeout*Math.pow(r.exponent,e));return t*=n.fraction()*r.fuzz+(1-r.fuzz/2),Math.ceil(t)},retryLater:function(e,r){var n=this,t=n._timeout(e);return n.retryTimer&&clearTimeout(n.retryTimer),n.retryTimer=setTimeout(r,t),t}})}.call(this),function(){function r(){return e.isServer?Npm.require("debug")("kadira:ntp"):function(r){var n=null!==e._localStorage.getItem("LOG_KADIRA")&&"undefined"!=typeof console;n&&(r&&(r="kadira:ntp "+r,arguments[0]=r),console.log.apply(console,arguments))}}var n=r();c=function(e){this.setEndpoint(e),this.diff=0,this.synced=!1,this.reSyncCount=0,this.reSync=new s({baseTimeout:6e4,maxTimeout:6e5,minCount:0})},c._now=function(){var e=Date.now();return"number"==typeof e?e:e instanceof Date?e.getTime():(new Date).getTime()},c.prototype.setEndpoint=function(e){this.endpoint=e+"/simplentp/sync"},c.prototype.getTime=function(){return c._now()+Math.round(this.diff)},c.prototype.syncTime=function(e){return e+Math.ceil(this.diff)},c.prototype.sync=function(){function e(){5>i?(n("attempt time sync with server",i),a.retryLater(i++,r)):(n("maximum retries reached"),o.reSync.retryLater(o.reSyncCount++,function(){var e=[].slice.call(arguments);o.sync.apply(o,e)}))}function r(){o.getServerTime(function(r){r?e():t()})}function t(){var r=(new Date).getTime();o.getServerTime(function(t,i){if(!t&&i){var a=((new Date).getTime()-r)/2,s=i-a;o.diff=s-r,o.synced=!0,o.reSync.retryLater(o.reSyncCount++,function(){var e=[].slice.call(arguments);o.sync.apply(o,e)}),n("successfully updated diff value",o.diff)}else e()})}n("init sync");var o=this,i=0,a=new s({baseTimeout:2e4,maxTimeout:6e4,minCount:1,minTimeout:0});e()},c.prototype.getServerTime=function(r){var n=this;if(e.isServer){var o=Npm.require("fibers");new o(function(){HTTP.get(n.endpoint,function(e,n){if(e)r(e);else{var t=parseInt(n.content);r(null,t)}})}).run()}else t.ajax({type:"GET",url:n.endpoint,success:function(e){r(null,parseInt(e))},error:function(e){r(e)}})}}.call(this),function(){u=function(){return{browser:window.navigator.userAgent,userId:e.userId&&e.userId(),url:location.href,resolution:l()}},l=function(){if(screen&&screen.width&&screen.height){var e=screen.width+"x"+screen.height;return e}},f=function(e,n){function t(){if(e&&e.depth>2){var s="";e.currentStack&&(s=e.currentStack.get());var c=i[e.id],u=p(a[e.id]),l=c&&c[0]&&"owner-args"==c[0].type&&c.shift(),f=l?l.at:e.runAt,d=l?r.toArray(l.args):[];c=r.map(r.last(c,5),m(100)),u=r.map(r.last(u,5),m(100)),d=m(200)(r.first(d,5)),e.owner&&delete e.owner.zoneId,o.push({createdAt:e.createdAt,runAt:f,stack:s,owner:e.owner,ownerArgs:d,events:c,info:u,zoneId:e.id}),e=e.parent,setTimeout(t,0)}else n(o)}var o=[],i=e.eventMap||{},a=e.infoMap||{};o.push({at:(new Date).getTime(),stack:e.erroredStack.get()}),t()},p=function(e){return r(e||{}).map(function(e,r){return e.type=r,e})},d=function(){return i&&i.syncedDate?i.syncedDate.getTime():(new Date).getTime()},m=function(e){return function(r){e=e||100;for(var n in r){var t=r[n];try{var o=JSON.stringify(t);o.length>e?r[n]=o.substr(0,e)+" ...":r[n]=t}catch(i){r[n]="Error: cannot stringify value"}}return r}},y=function(){function e(e){var r=e.substr(e.indexOf(":")+1);return window.location.protocol+r}window.XDomainRequest&&t.ajaxTransport(function(r){return{send:function(n,t){var o=new XDomainRequest,i=r.data||null,a=e(r.url);o.onload=function(){var e={"Content-Type":o.contentType};t(200,"OK",{text:o.responseText},e)},o.onerror=function(){t(404)},o.open(r.type,a),o.send(i)}}})}}.call(this),function(){v=function(e){a.call(this),e=e||{},e.maxErrorsPerInterval=e.maxErrorsPerInterval||10,e.intervalInMillis=e.intervalInMillis||12e4,e.waitForNtpSyncInterval=e.waitForNtpSyncInterval||0;var r=this;r.options=e,r.errorsSentCount=0,r.errorsSent={},r.intervalTimeoutHandler=setInterval(function(){r.errorsSentCount=0,r._flushErrors()},r.options.intervalInMillis)},r.extend(v.prototype,a.prototype),v.prototype.sendError=function(e,n,t){function o(){s.sendError(e,n,!0)}function a(){if(s.errorsSent[e.name])s.increamentErrorCount(e.name);else{e.startTime&&(e.startTime=i.syncedDate.syncTime(e.startTime)),e.count=1;var n={host:i.options.hostname,errors:[e]};i.send(n,"/errors"),s.errorsSent[e.name]=r.clone(e),s.errorsSent[e.name].count=0,s.errorsSentCount++}}var s=this;this.applyFilters("client",e.name,n,e.subType)&&this.canSendErrors()&&(t?a():i.syncedDate.synced||0==s.options.waitForNtpSyncInterval?a():setTimeout(o,s.options.waitForNtpSyncInterval))},v.prototype._flushErrors=function(){var e=this,n=r.values(e.errorsSent);n=r.filter(n,function(e){return e.count>0}),n.length>0&&i.send({errors:n},"/errors"),e.errorsSent={}},v.prototype.isErrorExists=function(e){return!!this.errorsSent[e]},v.prototype.increamentErrorCount=function(e){var r=this.errorsSent[e];r&&r.count++},v.prototype.canSendErrors=function(){return this.errorsSentCount<this.options.maxErrorsPerInterval},v.prototype.close=function(){clearTimeout(this.intervalTimeoutHandler)}}.call(this),function(){function e(e){if(i.options.enableErrorTracking){var r=Zone.Reporters.getErrorMessage(e.erroredStack._e);i.errors.isErrorExists(r)?i.errors.increamentErrorCount(r):i.errors.canSendErrors()&&f(e,function(n){i.errors.sendError({appId:i.options.appId,name:r,type:"client",startTime:e.runAt,subType:"zone",info:u(),stacks:JSON.stringify(n)})})}}window.Zone&&Zone.inited&&Zone.Reporters.add("kadira",e)}.call(this),function(){var e=window.onerror||Function.prototype;window.onerror=function(r,n,t,o,a){if(!i.options.enableErrorTracking)return e(r,n,t,o,a);if(n=n||"<anonymous>",t=t||0,o=o||0,a)var s=a.stack;else var s="Error:\n    at window.onerror ("+n+":"+t+":"+o+")";var c=(new Date).getTime();return i.errors.sendError({appId:i.options.appId,name:r,type:"client",startTime:c,subType:"window.onerror",info:u(),stacks:JSON.stringify([{at:c,events:[],stack:s}])}),e(r,n,t,o,a)}}.call(this),function(){function r(e){for(var r=[""],n;n=o.exec(e);)r.push(n[0]);return r.join("\n")}function n(e){return e.split("\n")[0]}var t=e._debug;e._debug=function(e,o){var a=e,s=o;if(!i.options.enableErrorTracking)return t(a,s);if(window.zone)return t(a,s);a instanceof Error?(s=a.stack,a=a.message):"string"==typeof a&&void 0===s&&(s=r(a),a=n(a)),a&&void 0===s&&(s=r(a),a=n(a));var c=(new Date).getTime();return i.errors.sendError({appId:i.options.appId,name:a,type:"client",startTime:c,subType:"meteor._debug",info:u(),stacks:JSON.stringify([{at:c,events:[],stack:s}])}),t.apply(this,arguments)};var o=/^\s+at\s.+$/gm}.call(this),function(){function n(n){i.options=n||{},r.defaults(i.options,{errorDumpInterval:6e4,maxErrorsPerInterval:10,collectAllStacks:!1,enableErrorTracking:!1}),i.options.appId&&i.options.endpoint&&(i.syncedDate.setEndpoint(i.options.endpoint),i.connected=!0,e.startup(function(){setTimeout(function(){i.syncedDate.sync()},i.options.clientEngineSyncDelay)})),i.connected&&i.options.enableErrorTracking&&i.enableErrorTracking(),window.Zone&&Zone.inited&&(Zone.collectAllStacks=i.options.collectAllStacks)}if(i.enableErrorTracking=function(){i.options.enableErrorTracking=!0},i.disableErrorTracking=function(){i.options.enableErrorTracking=!1},i.trackError=function(e,n,t){if(i.options.enableErrorTracking&&e&&n){var o=(new Date).getTime();t=t||{},r.defaults(t,{subType:"client",stacks:""}),i.errors.sendError({appId:i.options.appId,name:n,source:"client",startTime:o,type:e,subType:t.subType,info:u(),stacks:JSON.stringify([{at:o,events:[],stack:t.stacks}])})}},i.syncedDate=new c(null),i.errors=new v({waitForNtpSyncInterval:5e3,intervalInMillis:6e4,maxErrorsPerInterval:5}),e.isCordova){var t=new e.Collection("kadira_settings");t.find().observe({added:r.once(n)})}else n(__meteor_runtime_config__.kadira);window.XDomainRequest&&y()}.call(this),function(){i.profileCpu=function e(){var e="Please install meteorhacks:kadira-profiler to take a CPU profile.";console.log(e)}}.call(this),function(){var r=[/connection timeout\. no (\w*) heartbeat received/i,/INVALID_STATE_ERR/i];i.errorFilters={filterValidationErrors:function(r,n,t){return t&&t instanceof e.Error?!1:!0},filterCommonMeteorErrors:function(e,n){for(var t=0;t<r.length;t++){var o=r[t];if(o.test(n))return!1}return!0}}}.call(this),function(){i.send=function(r,n,t){function o(e){5>u?l.retryLater(u++,a):(console.warn("Error sending error traces to kadira server"),t&&t(e))}function a(){f(c,r,function(r,n,i){r?o(r):200==i?t&&t(null,n):t&&t(new e.Error(i,n))})}if(!i.connected)throw new Error("You need to connect with Kadira first, before sending messages!");n="/"!=n.substr(0,1)?"/"+n:n;var c=i.options.endpoint+n,u=0,l=new s({minCount:1,minTimeout:0,baseTimeout:5e3,maxTimeout:6e4}),f=i._getSendFunction();o()},i._getSendFunction=function(){return e.isServer?i._serverSend:i._clientSend},i._clientSend=function(e,r,n){t.ajax({type:"POST",url:e,contentType:"application/json",data:JSON.stringify(r),error:function(e){n(e)},success:function(e){n(null,e,200)}})},i._serverSend=function(e,r,n){n=n||function(){};var t=Npm.require("fibers");new t(function(){var t={data:r,headers:i.options.authHeaders};HTTP.call("POST",e,t,function(e,r){if(r){var t=200==r.statusCode?r.data:r.content;n(null,t,r.statusCode)}else n(e)})}).run()}}.call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:kadira"]={Kadira:i}}();

!function(){var e=Package.meteor.Meteor,n,r;(function(){(function(){!function(e,t){function u(e,n){var r,t,u=e.toLowerCase();for(n=[].concat(n),r=0;r<n.length;r+=1)if(t=n[r]){if(t.test&&t.test(e))return!0;if(t.toLowerCase()===u)return!0}}var i=t.prototype.trim,l=t.prototype.trimRight,a=t.prototype.trimLeft,o=function(e){return 1*e||0},c=function(e,n){if(1>n)return"";for(var r="";n>0;)1&n&&(r+=e),n>>=1,e+=e;return r},s=[].slice,f=function(e){return null==e?"\\s":e.source?e.source:"["+n.escapeRegExp(e)+"]"},p={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},h={};for(var g in p)h[p[g]]=g;h["'"]="#39";var d=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var n=c,r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,u){var i=1,l=r.length,a="",o,c=[],s,f,p,h,g,m;for(s=0;l>s;s++)if(a=e(r[s]),"string"===a)c.push(r[s]);else if("array"===a){if(p=r[s],p[2])for(o=u[i],f=0;f<p[2].length;f++){if(!o.hasOwnProperty(p[2][f]))throw new Error(d('[_.sprintf] property "%s" does not exist',p[2][f]));o=o[p[2][f]]}else o=p[1]?u[p[1]]:u[i++];if(/[^s]/.test(p[8])&&"number"!=e(o))throw new Error(d("[_.sprintf] expecting number but found %s",e(o)));switch(p[8]){case"b":o=o.toString(2);break;case"c":o=t.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=p[7]?o.toExponential(p[7]):o.toExponential();break;case"f":o=p[7]?parseFloat(o).toFixed(p[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=t(o))&&p[7]?o.substring(0,p[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(p[8])&&p[3]&&o>=0?"+"+o:o,g=p[4]?"0"==p[4]?"0":p[4].charAt(1):" ",m=p[6]-t(o).length,h=p[6]?n(g,m):"",c.push(p[5]?o+h:h+o)}return c.join("")},r.cache={},r.parse=function(e){for(var n=e,r=[],t=[],u=0;n;){if(null!==(r=/^[^\x25]+/.exec(n)))t.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(n)))t.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)))throw new Error("[_.sprintf] huh?");if(r[2]){u|=1;var i=[],l=r[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(l)))throw new Error("[_.sprintf] huh?");for(i.push(a[1]);""!==(l=l.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(l)))i.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(l)))throw new Error("[_.sprintf] huh?");i.push(a[1])}r[2]=i}else u|=2;if(3===u)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");t.push(r)}n=n.substring(r[0].length)}return t},r}();n={VERSION:"2.3.0",isBlank:function(e){return null==e&&(e=""),/^\s*$/.test(e)},stripTags:function(e){return null==e?"":t(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){return e=null==e?"":t(e),e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,n){return null==e?[]:(e=t(e),n=~~n,n>0?e.match(new RegExp(".{1,"+n+"}","g")):[e])},clean:function(e){return n.strip(e).replace(/\s+/g," ")},count:function(e,n){if(null==e||null==n)return 0;e=t(e),n=t(n);for(var r=0,u=0,i=n.length;;){if(u=e.indexOf(n,u),-1===u)break;r++,u+=i}return r},chars:function(e){return null==e?[]:t(e).split("")},swapCase:function(e){return null==e?"":t(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){return null==e?"":t(e).replace(/[&<>"']/g,function(e){return"&"+h[e]+";"})},unescapeHTML:function(e){return null==e?"":t(e).replace(/\&([^;]+);/g,function(e,n){var r;return n in p?p[n]:(r=n.match(/^#x([\da-fA-F]+)$/))?t.fromCharCode(parseInt(r[1],16)):(r=n.match(/^#(\d+)$/))?t.fromCharCode(~~r[1]):e})},escapeRegExp:function(e){return null==e?"":t(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,r,t,u){var i=n.chars(e);return i.splice(~~r,~~t,u),i.join("")},insert:function(e,r,t){return n.splice(e,r,0,t)},include:function(e,n){return""===n?!0:null==e?!1:-1!==t(e).indexOf(n)},join:function(){var e=s.call(arguments),n=e.shift();return null==n&&(n=""),e.join(n)},lines:function(e){return null==e?[]:t(e).split("\n")},reverse:function(e){return n.chars(e).reverse().join("")},startsWith:function(e,n){return""===n?!0:null==e||null==n?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(0,n.length)===n)},endsWith:function(e,n){return""===n?!0:null==e||null==n?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(e.length-n.length)===n)},succ:function(e){return null==e?"":(e=t(e),e.slice(0,-1)+t.fromCharCode(e.charCodeAt(e.length-1)+1))},titleize:function(e){return null==e?"":(e=t(e).toLowerCase(),e.replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()}))},camelize:function(e){return n.trim(e).replace(/[-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""})},underscored:function(e){return n.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},environmentalize:function(e){return n.underscored(e).toUpperCase()},dasherize:function(e){return n.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return n.titleize(t(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(e){return n.capitalize(n.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,n){return null==e?"":!n&&i?i.call(e):(n=f(n),t(e).replace(new RegExp("^"+n+"+|"+n+"+$","g"),""))},ltrim:function(e,n){return null==e?"":!n&&a?a.call(e):(n=f(n),t(e).replace(new RegExp("^"+n+"+"),""))},rtrim:function(e,n){return null==e?"":!n&&l?l.call(e):(n=f(n),t(e).replace(new RegExp(n+"+$"),""))},truncate:function(e,n,r){return null==e?"":(e=t(e),r=r||"...",n=~~n,e.length>n?e.slice(0,n)+r:e)},prune:function(e,r,u){if(null==e)return"";if(e=t(e),r=~~r,u=null!=u?t(u):"...",e.length<=r)return e;var i=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},l=e.slice(0,r+1).replace(/.(?=\W*\w*$)/g,i);return l=l.slice(l.length-2).match(/\w\w/)?l.replace(/\s*\S+$/,""):n.rtrim(l.slice(0,l.length-1)),(l+u).length>e.length?e:e.slice(0,l.length)+u},words:function(e,r){return n.isBlank(e)?[]:n.trim(e,r).split(r||/\s+/)},pad:function(e,n,r,u){e=null==e?"":t(e),n=~~n;var i=0;switch(r?r.length>1&&(r=r.charAt(0)):r=" ",u){case"right":return i=n-e.length,e+c(r,i);case"both":return i=n-e.length,c(r,Math.ceil(i/2))+e+c(r,Math.floor(i/2));default:return i=n-e.length,c(r,i)+e}},lpad:function(e,r,t){return n.pad(e,r,t)},rpad:function(e,r,t){return n.pad(e,r,t,"right")},lrpad:function(e,r,t){return n.pad(e,r,t,"both")},sprintf:d,vsprintf:function(e,n){return n.unshift(e),d.apply(null,n)},toNumber:function(e,r){return e?(e=n.trim(e),e.match(/^-?\d+(?:\.\d+)?$/)?o(o(e).toFixed(~~r)):0/0):0},numberFormat:function(e,n,r,t){if(isNaN(e)||null==e)return"";e=e.toFixed(~~n),t="string"==typeof t?t:",";var u=e.split("."),i=u[0],l=u[1]?(r||".")+u[1]:"";return i.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+t)+l},strRight:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strRightBack:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var r=n?e.lastIndexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strLeft:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(0,r):e},strLeftBack:function(e,n){if(null==e)return"";e+="",n=null!=n?""+n:n;var r=e.lastIndexOf(n);return~r?e.slice(0,r):e},toSentence:function(e,r,t,u){r=r||", ",t=t||" and ";var i=e.slice(),l=i.pop();return e.length>2&&u&&(t=n.rtrim(r)+t),i.length?i.join(r)+t+l:l},toSentenceSerial:function(){var e=s.call(arguments);return e[3]=!0,n.toSentence.apply(n,e)},slugify:function(e){if(null==e)return"";var r="ąàáäâãåæăćęèéëêìíïîłńòóöôõøśșțùúüûñçżź",u="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",i=new RegExp(f(r),"g");return e=t(e).toLowerCase().replace(i,function(e){var n=r.indexOf(e);return u.charAt(n)||"-"}),n.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,n){return[n,e,n].join("")},quote:function(e,r){return n.surround(e,r||'"')},unquote:function(e,n){return n=n||'"',e[0]===n&&e[e.length-1]===n?e.slice(1,e.length-1):e},exports:function(){var e={};for(var n in this)this.hasOwnProperty(n)&&!n.match(/^(?:include|contains|reverse)$/)&&(e[n]=this[n]);return e},repeat:function(e,n,r){if(null==e)return"";if(n=~~n,null==r)return c(t(e),n);for(var u=[];n>0;u[--n]=e);return u.join(r)},naturalCmp:function(e,n){if(e==n)return 0;if(!e)return-1;if(!n)return 1;for(var r=/(\.\d+)|(\d+)|(\D+)/g,u=t(e).toLowerCase().match(r),i=t(n).toLowerCase().match(r),l=Math.min(u.length,i.length),a=0;l>a;a++){var o=u[a],c=i[a];if(o!==c){var s=parseInt(o,10);if(!isNaN(s)){var f=parseInt(c,10);if(!isNaN(f)&&s-f)return s-f}return c>o?-1:1}}return u.length===i.length?u.length-i.length:n>e?-1:1},levenshtein:function(e,n){if(null==e&&null==n)return 0;if(null==e)return t(n).length;if(null==n)return t(e).length;e=t(e),n=t(n);for(var r=[],u,i,l=0;l<=n.length;l++)for(var a=0;a<=e.length;a++)i=l&&a?e.charAt(a-1)===n.charAt(l-1)?u:Math.min(r[a],r[a-1],u)+1:l+a,u=r[a],r[a]=i;return r.pop()},toBoolean:function(e,r,t){return"number"==typeof e&&(e=""+e),"string"!=typeof e?!!e:(e=n.trim(e),u(e,r||["true","1"])?!0:u(e,t||["false","0"])?!1:void 0)}},n.strip=n.trim,n.lstrip=n.ltrim,n.rstrip=n.rtrim,n.center=n.lrpad,n.rjust=n.lpad,n.ljust=n.rpad,n.contains=n.include,n.q=n.quote,n.toBool=n.toBoolean,r=r||{},r.string=r.str=n}(this,String)}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["practicalmeteor:underscore.string"]={_s:n}}();

!function(){var n=Package.meteor.Meteor;(function(){(function(){!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return t>n?-1:n>t?1:n>=t?0:0/0}function r(n){return null===n?0/0:+n}function u(n){return!isNaN(n)}function i(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)<0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)>0?u=i:r=i+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function l(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function c(){this._=Object.create(null)}function s(n){return(n+="")===bo||n[0]===_o?_o+n:n}function f(n){return(n+="")[0]===_o?n.slice(1):n}function h(n){return s(n)in this._}function g(n){return(n=s(n))in this._&&delete this._[n]}function p(){var n=[];for(var t in this._)n.push(f(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function m(){this._=Object.create(null)}function y(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=wo.length;r>e;++e){var u=wo[e]+t;if(u in n)return u}}function b(){}function _(){}function w(n){function t(){for(var t=e,r=-1,u=t.length,i;++r<u;)(i=t[r].on)&&i.apply(this,arguments);return n}var e=[],r=new c;return t.on=function(t,u){var i=r.get(t),o;return arguments.length<2?i&&i.on:(i&&(i.on=null,e=e.slice(0,o=e.indexOf(i)).concat(e.slice(o+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function k(){ao.event.preventDefault()}function S(){for(var n=ao.event,t;t=n.sourceEvent;)n=t;return n}function E(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=ao.event;u.target=n,ao.event=u,t[u.type].apply(e,r)}finally{ao.event=i}}},t}function A(n){return So(n,Co),n}function N(n){return"function"==typeof n?n:function(){return Eo(n,this)}}function C(n){return"function"==typeof n?n:function(){return Ao(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ao.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?i:u}function L(n){return n.trim().replace(/\s+/g," ")}function q(n){return new RegExp("(?:^|\\s+)"+ao.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=T(n).map(D);var u=n.length;return"function"==typeof t?r:e}function D(n){var t=q(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",L(u+" "+n))):e.setAttribute("class",L(u.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function j(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function U(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ao.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return No(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;r>e;e++)for(var u=n[e],i=0,o=u.length,a;o>i;i++)(a=u[i])&&t(a,i,e);return n}function Z(n){return So(n,Lo),n}function V(n){var t,e;return function(r,u,i){var o=n[i].update,a=o.length,l;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(l=o[t])&&++t<a;);return l}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function u(){var u=l(t,co(arguments));r.call(this),this.addEventListener(n,this[o]=u,u.$=e),u._=t}function i(){var t=new RegExp("^__on([^.]+)"+ao.requote(n)+"$"),e;for(var r in this)if(e=r.match(t)){var u=this[r];this.removeEventListener(e[1],u,u.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),l=$;a>0&&(n=n.slice(0,a));var c=qo.get(n);return c&&(n=c,l=B),a?t?u:r:t?b:i}function $(n,t){return function(e){var r=ao.event;ao.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ao.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++Ro,u="click"+r,i=ao.select(t(e)).on("touchmove"+r,k).on("dragstart"+r,k).on("selectstart"+r,k);if(null==To&&(To="onselectstart"in e?!1:x(e.style,"userSelect")),To){var o=n(e).style,a=o[To];o[To]="none"}return function(n){if(i.on(r,null),To&&(o[To]=a),n){var t=function(){i.on(u,null)};i.on(u,function(){k(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var u=r.createSVGPoint();if(0>Do){var i=t(n);if(i.scrollX||i.scrollY){r=ao.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Do=!(o.f||o.e),r.remove()}}return Do?(u.x=e.pageX,u.y=e.pageY):(u.x=e.clientX,u.y=e.clientY),u=u.matrixTransform(n.getScreenCTM().inverse()),[u.x,u.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return ao.event.changedTouches[0].identifier}function K(n){return n>0?1:0>n?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nn(n){return n>1?0:-1>n?Uo:Math.acos(n)}function tn(n){return n>1?Oo:-1>n?-Oo:Math.asin(n)}function en(n){return((n=Math.exp(n))-1/n)/2}function rn(n){return((n=Math.exp(n))+1/n)/2}function un(n){return((n=Math.exp(2*n))-1)/(n+1)}function on(n){return(n=Math.sin(n/2))*n}function an(){}function ln(n,t,e){return this instanceof ln?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof ln?new ln(n.h,n.s,n.l):_n(""+n,wn,ln):new ln(n,t,e)}function cn(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(o-i)*n/60:180>n?o:240>n?i+(o-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+t):e+t-e*t,i=2*e-o,new yn(u(n+120),u(n),u(n-120))}function sn(n,t,e){return this instanceof sn?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof sn?new sn(n.h,n.c,n.l):n instanceof hn?pn(n.l,n.a,n.b):pn((n=kn((n=ao.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new sn(n,t,e)}function fn(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new hn(e,Math.cos(n*=Io)*t,Math.sin(n)*t)}function hn(n,t,e){return this instanceof hn?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof hn?new hn(n.l,n.a,n.b):n instanceof sn?fn(n.h,n.c,n.l):kn((n=yn(n)).r,n.g,n.b):new hn(n,t,e)}function gn(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=vn(u)*Qo,r=vn(r)*na,i=vn(i)*ta,new yn(mn(3.2404542*u-1.5371385*r-.4985314*i),mn(-.969266*u+1.8760108*r+.041556*i),mn(.0556434*u-.2040259*r+1.0572252*i))}function pn(n,t,e){return n>0?new sn(Math.atan2(e,t)*Yo,Math.sqrt(t*t+e*e),n):new sn(0/0,0/0,n)}function vn(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function dn(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function mn(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function yn(n,t,e){return this instanceof yn?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof yn?new yn(n.r,n.g,n.b):_n(""+n,yn,cn):new yn(n,t,e)}function Mn(n){return new yn(n>>16,n>>8&255,255&n)}function xn(n){return Mn(n)+""}function bn(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function _n(n,t,e){var r=0,u=0,i=0,o,a,l;if(o=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(a=o[2].split(","),o[1]){case"hsl":return e(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return t(En(a[0]),En(a[1]),En(a[2]))}return(l=ua.get(n))?t(l.r,l.g,l.b):(null==n||"#"!==n.charAt(0)||isNaN(l=parseInt(n.slice(1),16))||(4===n.length?(r=(3840&l)>>4,r=r>>4|r,u=240&l,u=u>>4|u,i=15&l,i=i<<4|i):7===n.length&&(r=(16711680&l)>>16,u=(65280&l)>>8,i=255&l)),t(r,u,i))}function wn(n,t,e){var r=Math.min(n/=255,t/=255,e/=255),u=Math.max(n,t,e),i=u-r,o,a,l=(u+r)/2;return i?(a=.5>l?i/(u+r):i/(2-u-r),o=n==u?(t-e)/i+(e>t?6:0):t==u?(e-n)/i+2:(n-t)/i+4,o*=60):(o=0/0,a=l>0&&1>l?0:o),new ln(o,a,l)}function kn(n,t,e){n=Sn(n),t=Sn(t),e=Sn(e);var r=dn((.4124564*n+.3575761*t+.1804375*e)/Qo),u=dn((.2126729*n+.7151522*t+.072175*e)/na),i=dn((.0193339*n+.119192*t+.9503041*e)/ta);return hn(116*u-16,500*(r-u),200*(u-i))}function Sn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function En(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function An(n){return"function"==typeof n?n:function(){return n}}function Nn(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Cn(t,e,n,r)}}function Cn(n,t,e,r){function u(){var n=l.status,t;if(!n&&Ln(l)||n>=200&&300>n||304===n){try{t=e.call(i,l)}catch(r){return void o.error.call(i,r)}o.load.call(i,t)}else o.error.call(i,l)}var i={},o=ao.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(n)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=u:l.onreadystatechange=function(){l.readyState>3&&u()},l.onprogress=function(n){var t=ao.event;ao.event=n;try{o.progress.call(i,l)}finally{ao.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(c=n,i):c},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(co(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),l.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),l.setRequestHeader)for(var s in a)l.setRequestHeader(s,a[s]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),o.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},ao.rebind(i,o,"on"),null==r?i:i.get(zn(r))}function zn(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Ln(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qn(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var u=e+t,i={c:n,t:u,n:null};return oa?oa.n=i:ia=i,oa=i,aa||(la=clearTimeout(la),aa=1,ca(Tn)),i}function Tn(){var n=Rn(),t=Dn()-n;t>24?(isFinite(t)&&(clearTimeout(la),la=setTimeout(Tn,t)),aa=0):(aa=1,ca(Tn))}function Rn(){for(var n=Date.now(),t=ia;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function Dn(){for(var n,t=ia,e=1/0;t;)t.c?(t.t<e&&(e=t.t),t=(n=t).n):t=n?n.n=t.n:ia=t.n;return oa=n,e}function Pn(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function jn(n,t){var e=Math.pow(10,3*xo(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Un(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r&&e?function(n,t){for(var u=n.length,i=[],o=0,a=r[0],l=0;u>0&&a>0&&(l+a+1>t&&(a=Math.max(1,t-l)),i.push(n.substring(u-=a,u+a)),!((l+=a+1)>t));)a=r[o=(o+1)%r.length];return i.reverse().join(e)}:y;return function(n){var e=fa.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",l=e[4]||"",c=e[5],s=+e[6],f=e[7],h=e[8],g=e[9],p=1,v="",d="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+g.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===l&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=ha.get(g)||Fn;var M=c&&f;return function(n){var e=d;if(m&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):"-"===a?"":a;if(0>p){var l=ao.formatPrefix(n,h);n=l.scale(n),e=l.symbol+d}else n*=p;n=g(n,h);var x=n.lastIndexOf("."),b,_;if(0>x){var w=y?n.lastIndexOf("e"):-1;0>w?(b=n,_=""):(b=n.substring(0,w),_=n.substring(w))}else b=n.substring(0,x),_=t+n.substring(x+1);!c&&f&&(b=i(b,1/0));var k=v.length+b.length+_.length+(M?0:u.length),S=s>k?new Array(k=s-k+1).join(r):"";return M&&(b=i(S+b,S.length?s-_.length:1/0)),u+=v,n=b+_,("<"===o?u+n+S:">"===o?S+u+n:"^"===o?S.substring(0,k>>=1)+u+n+S.substring(k):u+(M?n:S+n))+e}}}function Fn(n){return n+""}function Hn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function On(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new pa(e-1)),1),e}function i(n,e){return t(n=new pa(+n),e),n}function o(n,r,i){var o=u(n),a=[];if(i>1)for(;r>o;)e(o)%i||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{pa=Hn;var r=new Hn;return r._=n,o(r,t,e)}finally{pa=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=o;var l=n.utc=In(n);return l.floor=l,l.round=In(r),l.ceil=In(u),l.offset=In(i),l.range=a,n}function In(n){return function(t,e){try{pa=Hn;var r=new Hn;return r._=t,n(r,e)._}finally{pa=Date}}}function Yn(n){function t(n){function t(t){for(var e=[],u=-1,i=0,o,a,l;++u<r;)37===n.charCodeAt(u)&&(e.push(n.slice(i,u)),null!=(a=da[o=n.charAt(++u)])&&(o=n.charAt(++u)),(l=N[o])&&(o=l(t,null==a?"e"===o?" ":"0":a)),e.push(o),i=u+1);return e.push(n.slice(i,u)),e.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&pa!==Hn,o=new(i?Hn:pa);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,o,a=0,l=t.length,c=e.length;l>a;){if(r>=c)return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=C[o in da?t.charAt(a++):o],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){E.lastIndex=0;var r=E.exec(t.slice(e));return r?(n.m=A.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){k.lastIndex=0;var r=k.exec(t.slice(e));return r?(n.m=S.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,N.c.toString(),t,r)}function l(n,t,r){return e(n,N.x.toString(),t,r)}function c(n,t,r){return e(n,N.X.toString(),t,r)}function s(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{pa=Hn;var t=new pa;return t._=n,r(t)}finally{pa=Date}}var r=t(n);return e.parse=function(n){try{pa=Hn;var t=r.parse(n);return t&&t._}finally{pa=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ct;var M=ao.map(),x=Vn(v),b=Xn(v),_=Vn(d),w=Xn(d),k=Vn(m),S=Xn(m),E=Vn(y),A=Xn(y);p.forEach(function(n,t){M.set(n.toLowerCase(),t)});var N={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return Zn(n.getDate(),t,2)},e:function(n,t){return Zn(n.getDate(),t,2)},H:function(n,t){return Zn(n.getHours(),t,2)},I:function(n,t){return Zn(n.getHours()%12||12,t,2)},j:function(n,t){return Zn(1+ga.dayOfYear(n),t,3)},L:function(n,t){return Zn(n.getMilliseconds(),t,3)},m:function(n,t){return Zn(n.getMonth()+1,t,2)},M:function(n,t){return Zn(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return Zn(n.getSeconds(),t,2)},U:function(n,t){return Zn(ga.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Zn(ga.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return Zn(n.getFullYear()%100,t,2)},Y:function(n,t){return Zn(n.getFullYear()%1e4,t,4)},Z:at,"%":function(){return"%"}},C={a:r,A:u,b:i,B:o,c:a,d:tt,e:tt,H:rt,I:rt,j:et,L:ot,m:nt,M:ut,p:s,S:it,U:Bn,w:$n,W:Wn,x:l,X:c,y:Gn,Y:Jn,Z:Kn,"%":lt};return t}function Zn(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function Vn(n){return new RegExp("^(?:"+n.map(ao.requote).join("|")+")","i")}function Xn(n){for(var t=new c,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function $n(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Bn(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function Wn(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Jn(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Gn(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.y=Qn(+r[0]),e+r[0].length):-1}function Kn(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Qn(n){return n+(n>68?1900:2e3)}function nt(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function tt(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function et(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function rt(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ut(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function it(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ot(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function at(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=xo(t)/60|0,u=xo(t)%60;return e+Zn(r,"0",2)+Zn(u,"0",2)}function lt(n,t,e){ya.lastIndex=0;var r=ya.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ct(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function st(){}function ft(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function ht(n,t){n&&_a.hasOwnProperty(n.type)&&_a[n.type](n,t)}function gt(n,t,e){var r=-1,u=n.length-e,i;for(t.lineStart();++r<u;)i=n[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function pt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)gt(n[e],t,1);t.polygonEnd()}function vt(){function n(n,t){n*=Io,t=t*Io/2+Uo/4;var e=n-r,o=e>=0?1:-1,a=o*e,l=Math.cos(t),c=Math.sin(t),s=i*c,f=u*l+s*Math.cos(a),h=s*o*Math.sin(a);ka.add(Math.atan2(h,f)),r=n,u=l,i=c}var t,e,r,u,i;Sa.point=function(o,a){Sa.point=n,r=(t=o)*Io,u=Math.cos(a=(e=a)*Io/2+Uo/4),i=Math.sin(a)},Sa.lineEnd=function(){n(t,e)}}function dt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function mt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function yt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Mt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function xt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function bt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function _t(n){return[Math.atan2(n[1],n[0]),tn(n[2])]}function wt(n,t){return xo(n[0]-t[0])<Po&&xo(n[1]-t[1])<Po}function kt(n,t){n*=Io;var e=Math.cos(t*=Io);St(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function St(n,t,e){++Ea,Na+=(n-Na)/Ea,Ca+=(t-Ca)/Ea,za+=(e-za)/Ea}function Et(){function n(n,u){n*=Io;var i=Math.cos(u*=Io),o=i*Math.cos(n),a=i*Math.sin(n),l=Math.sin(u),c=Math.atan2(Math.sqrt((c=e*l-r*a)*c+(c=r*o-t*l)*c+(c=t*a-e*o)*c),t*o+e*a+r*l);Aa+=c,La+=c*(t+(t=o)),qa+=c*(e+(e=a)),Ta+=c*(r+(r=l)),St(t,e,r)}var t,e,r;ja.point=function(u,i){u*=Io;var o=Math.cos(i*=Io);t=o*Math.cos(u),e=o*Math.sin(u),r=Math.sin(i),ja.point=n,St(t,e,r)}}function At(){ja.point=kt}function Nt(){function n(n,t){n*=Io;var e=Math.cos(t*=Io),o=e*Math.cos(n),a=e*Math.sin(n),l=Math.sin(t),c=u*l-i*a,s=i*o-r*l,f=r*a-u*o,h=Math.sqrt(c*c+s*s+f*f),g=r*o+u*a+i*l,p=h&&-nn(g)/h,v=Math.atan2(h,g);Ra+=p*c,Da+=p*s,Pa+=p*f,Aa+=v,La+=v*(r+(r=o)),qa+=v*(u+(u=a)),Ta+=v*(i+(i=l)),St(r,u,i)}var t,e,r,u,i;ja.point=function(o,a){t=o,e=a,ja.point=n,o*=Io;var l=Math.cos(a*=Io);r=l*Math.cos(o),u=l*Math.sin(o),i=Math.sin(a),St(r,u,i)},ja.lineEnd=function(){n(t,e),ja.lineEnd=At,ja.point=kt}}function Ct(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function zt(){return!0}function Lt(n,t,e,r,u){var i=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(wt(e,r)){u.lineStart();for(var a=0;t>a;++a)u.point((e=n[a])[0],e[1]);return void u.lineEnd()}var l=new Tt(e,n,null,!0),c=new Tt(e,null,l,!1);l.o=c,i.push(l),o.push(c),l=new Tt(r,n,null,!1),c=new Tt(r,null,l,!0),l.o=c,i.push(l),o.push(c)}}),o.sort(t),qt(i),qt(o),i.length){for(var a=0,l=e,c=o.length;c>a;++a)o[a].e=l=!l;for(var s=i[0],f,h;;){for(var g=s,p=!0;g.v;)if((g=g.n)===s)return;f=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var a=0,c=f.length;c>a;++a)u.point((h=f[a])[0],h[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){f=g.p.z;for(var a=f.length-1;a>=0;--a)u.point((h=f[a])[0],h[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,f=g.z,p=!p}while(!g.v);u.lineEnd()}}}function qt(n){if(t=n.length){for(var t,e=0,r=n[0],u;++e<t;)r.n=u=n[e],u.p=r,r=u;r.n=u=n[0],u.p=r}}function Tt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Rt(n,t,e,r){return function(u,i){function o(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function a(n,t){var e=u(n,t);g.point(e[0],e[1])}function l(){v.point=a,g.lineStart()}function c(){v.point=o,g.lineEnd()}function s(n,t){b.push([n,t]);var e=u(n,t);y.point(e[0],e[1])}function f(){y.lineStart(),b=[]}function h(){s(b[0][0],b[0][1]),y.lineEnd();var n=y.clean(),t=m.buffer(),e,r=t.length;if(b.pop(),x.push(b),b=null,r)if(1&n){e=t[0];var r=e.length-1,u=-1,o;if(r>0){for(M||(i.polygonStart(),M=!0),i.lineStart();++u<r;)i.point((o=e[u])[0],o[1]);i.lineEnd()}}else r>1&&2&n&&t.push(t.pop().concat(t.shift())),d.push(t.filter(Dt))}var g=t(i),p=u.invert(r[0],r[1]),v={point:o,lineStart:l,lineEnd:c,polygonStart:function(){v.point=s,v.lineStart=f,v.lineEnd=h,d=[],x=[]},polygonEnd:function(){v.point=o,v.lineStart=l,v.lineEnd=c,d=ao.merge(d);var n=Ot(p,x);d.length?(M||(i.polygonStart(),M=!0),Lt(d,jt,n,e,i)):n&&(M||(i.polygonStart(),M=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),M&&(i.polygonEnd(),M=!1),d=x=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},d,m=Pt(),y=t(m),M=!1,x,b;return v}}function Dt(n){return n.length>1}function Pt(){var n=[],t;return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:b,buffer:function(){var e=n;return n=[],t=null,e},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function jt(n,t){return((n=n.x)[0]<0?n[1]-Oo-Po:Oo-n[1])-((t=t.x)[0]<0?t[1]-Oo-Po:Oo-t[1])}function Ut(n){var t=0/0,e=0/0,r=0/0,u;return{lineStart:function(){n.lineStart(),u=1},point:function(i,o){var a=i>0?Uo:-Uo,l=xo(i-t);xo(l-Uo)<Po?(n.point(t,e=(e+o)/2>0?Oo:-Oo),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(a,e),n.point(i,e),u=0):r!==a&&l>=Uo&&(xo(t-r)<Po&&(t-=r*Po),xo(i-a)<Po&&(i-=a*Po),e=Ft(t,e,i,o),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(a,e),u=0),n.point(t=i,e=o),r=a},lineEnd:function(){n.lineEnd(),t=e=0/0},clean:function(){return 2-u}}}function Ft(n,t,e,r){var u,i,o=Math.sin(n-e);return xo(o)>Po?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*o)):(t+r)/2}function Ht(n,t,e,r){var u;if(null==n)u=e*Oo,r.point(-Uo,u),r.point(0,u),r.point(Uo,u),r.point(Uo,0),r.point(Uo,-u),r.point(0,-u),r.point(-Uo,-u),r.point(-Uo,0),r.point(-Uo,u);else if(xo(n[0]-t[0])>Po){var i=n[0]<t[0]?Uo:-Uo;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function Ot(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,o=0;ka.reset();for(var a=0,l=t.length;l>a;++a){var c=t[a],s=c.length;if(s)for(var f=c[0],h=f[0],g=f[1]/2+Uo/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===s&&(d=0),n=c[d];var m=n[0],y=n[1]/2+Uo/4,M=Math.sin(y),x=Math.cos(y),b=m-h,_=b>=0?1:-1,w=_*b,k=w>Uo,S=p*M;if(ka.add(Math.atan2(S*_*Math.sin(w),v*x+S*Math.cos(w))),i+=k?b+_*Fo:b,k^h>=e^m>=e){var E=yt(dt(f),dt(n));bt(E);var A=yt(u,E);bt(A);var N=(k^b>=0?-1:1)*tn(A[2]);(r>N||r===N&&(E[0]||E[1]))&&(o+=k^b>=0?1:-1)}if(!d++)break;h=m,p=M,v=x,f=n}}return(-Po>i||Po>i&&0>ka)^1&o}function It(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,l,c,s;return{lineStart:function(){c=l=!1,s=1},point:function(f,h){var g=[f,h],p,v=t(f,h),d=o?v?0:u(f,h):v?u(f+(0>f?Uo:-Uo),h):0;if(!e&&(c=l=v)&&n.lineStart(),v!==l&&(p=r(e,g),(wt(e,p)||wt(g,p))&&(g[0]+=Po,g[1]+=Po,v=t(g[0],g[1]))),v!==l)s=0,v?(n.lineStart(),p=r(g,e),n.point(p[0],p[1])):(p=r(e,g),n.point(p[0],p[1]),n.lineEnd()),e=p;else if(a&&e&&o^v){var m;d&i||!(m=r(g,e,!0))||(s=0,o?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&&wt(e,g)||n.point(g[0],g[1]),e=g,l=v,i=d},lineEnd:function(){l&&n.lineEnd(),e=null},clean:function(){return s|(c&&l)<<1}}}function r(n,t,e){var r=dt(n),u=dt(t),o=[1,0,0],a=yt(r,u),l=mt(a,a),c=a[0],s=l-c*c;if(!s)return!e&&n;var f=i*l/s,h=-i*c/s,g=yt(o,a),p=xt(o,f),v=xt(a,h);Mt(p,v);var d=g,m=mt(p,d),y=mt(d,d),M=m*m-y*(mt(p,p)-1);if(!(0>M)){var x=Math.sqrt(M),b=xt(d,(-m-x)/y);if(Mt(b,p),b=_t(b),!e)return b;var _=n[0],w=t[0],k=n[1],S=t[1],E;_>w&&(E=_,_=w,w=E);var A=w-_,N=xo(A-Uo)<Po,C=N||Po>A;if(!N&&k>S&&(E=k,k=S,S=E),C?N?k+S>0^b[1]<(xo(b[0]-_)<Po?k:S):k<=b[1]&&b[1]<=S:A>Uo^(_<=b[0]&&b[0]<=w)){var z=xt(d,(-m+x)/y);return Mt(z,p),[b,_t(z)]}}}function u(t,e){var r=o?n:Uo-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),o=i>0,a=xo(i)>Po,l=ve(n,6*Io);return Rt(t,e,l,o?[0,-n]:[-Uo,n-Uo])}function Yt(n,t,e,r){return function(u){var i=u.a,o=u.b,a=i.x,l=i.y,c=o.x,s=o.y,f=0,h=1,g=c-a,p=s-l,v;if(v=n-a,g||!(v>0)){if(v/=g,0>g){if(f>v)return;h>v&&(h=v)}else if(g>0){if(v>h)return;v>f&&(f=v)}if(v=e-a,g||!(0>v)){if(v/=g,0>g){if(v>h)return;v>f&&(f=v)}else if(g>0){if(f>v)return;h>v&&(h=v)}if(v=t-l,p||!(v>0)){if(v/=p,0>p){if(f>v)return;h>v&&(h=v)}else if(p>0){if(v>h)return;v>f&&(f=v)}if(v=r-l,p||!(0>v)){if(v/=p,0>p){if(v>h)return;v>f&&(f=v)}else if(p>0){if(f>v)return;h>v&&(h=v)}return f>0&&(u.a={x:a+f*g,y:l+f*p}),1>h&&(u.b={x:a+h*g,y:l+h*p}),u}}}}}}function Zt(n,t,e,r){function u(r,u){return xo(r[0]-n)<Po?u>0?0:3:xo(r[0]-e)<Po?u>0?2:1:xo(r[1]-t)<Po?u>0?1:0:u>0?3:2}function i(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function l(n){for(var t=0,e=M.length,r=n[1],u=0;e>u;++u)for(var i=1,o=M[u],a=o.length,l=o[0],c;a>i;++i)c=o[i],l[1]<=r?c[1]>r&&Q(l,c,n)>0&&++t:c[1]<=r&&Q(l,c,n)<0&&--t,l=c;return 0!==t}function c(i,a,l,c){var s=0,f=0;if(null==i||(s=u(i,l))!==(f=u(a,l))||o(i,a)<0^l>0){do c.point(0===s||3===s?n:e,s>1?r:t);while((s=(s+l+4)%4)!==f)}else c.point(a[0],a[1])}function s(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function f(n,t){s(n,t)&&a.point(n,t)}function h(){b.point=p,M&&M.push(x=[]),N=!0,A=!1,S=E=0/0}function g(){y&&(p(_,w),k&&A&&d.rejoin(),y.push(d.buffer())),b.point=f,A&&a.lineEnd()}function p(n,t){n=Math.max(-Fa,Math.min(Fa,n)),t=Math.max(-Fa,Math.min(Fa,t));var e=s(n,t);if(M&&x.push([n,t]),N)_=n,w=t,k=e,N=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&A)a.point(n,t);else{var r={a:{x:S,y:E},b:{x:n,y:t}};m(r)?(A||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),C=!1):e&&(a.lineStart(),a.point(n,t),C=!1)}S=n,E=t,A=e}var v=a,d=Pt(),m=Yt(n,t,e,r),y,M,x,b={point:f,lineStart:h,lineEnd:g,polygonStart:function(){a=d,y=[],M=[],C=!0},polygonEnd:function(){a=v,y=ao.merge(y);var t=l([n,r]),e=C&&t,u=y.length;(e||u)&&(a.polygonStart(),e&&(a.lineStart(),c(null,null,1,a),a.lineEnd()),u&&Lt(y,i,t,c,a),a.polygonEnd()),y=M=x=null}},_,w,k,S,E,A,N,C;return b}}function Vt(n){var t=0,e=Uo/3,r=ae(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*Uo/180,e=n[1]*Uo/180):[t/Uo*180,e/Uo*180]},u}function Xt(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),o-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),o=Math.sqrt(i)/u;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/u,tn((i-(n*n+e*e)*u*u)/(2*u))]},e}function $t(){function n(n,t){Oa+=u*n-r*t,r=n,u=t}var t,e,r,u;Ia.point=function(i,o){Ia.point=n,t=r=i,e=u=o},Ia.lineEnd=function(){n(t,e)}}function Bt(n,t){Ya>n&&(Ya=n),n>Va&&(Va=n),Za>t&&(Za=t),t>Xa&&(Xa=t)}function Wt(){function n(n,t){o.push("M",n,",",t,i)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function u(){o.push("Z")}var i=Jt(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return i=Jt(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Jt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Gt(n,t){Na+=n,Ca+=t,++za}function Kt(){function n(n,r){var u=n-t,i=r-e,o=Math.sqrt(u*u+i*i);La+=o*(t+n)/2,qa+=o*(e+r)/2,Ta+=o,Gt(t=n,e=r)}var t,e;Ba.point=function(r,u){Ba.point=n,Gt(t=r,e=u)}}function Qt(){Ba.point=Gt}function ne(){function n(n,t){var e=n-r,i=t-u,o=Math.sqrt(e*e+i*i);La+=o*(r+n)/2,qa+=o*(u+t)/2,Ta+=o,o=u*n-r*t,Ra+=o*(r+n),Da+=o*(u+t),Pa+=3*o,Gt(r=n,u=t)}var t,e,r,u;Ba.point=function(i,o){Ba.point=n,Gt(t=r=i,e=u=o)},Ba.lineEnd=function(){n(t,e)}}function te(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,Fo)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function u(){a.point=t}function i(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:u,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function ee(n){function t(n){return(a?r:e)(n)}function e(t){return ie(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=0/0,k.point=i,t.lineStart()}function i(e,r){var i=dt([e,r]),o=n(e,r);u(M,x,y,b,_,w,M=o[0],x=o[1],y=e,b=i[0],_=i[1],w=i[2],a,t),t.point(M,x)}function o(){k.point=e,
t.lineEnd()}function l(){r(),k.point=c,k.lineEnd=s}function c(n,t){i(f=n,h=t),g=M,p=x,v=b,d=_,m=w,k.point=i}function s(){u(M,x,y,b,_,w,g,p,f,v,d,m,a,t),k.lineEnd=o,o()}var f,h,g,p,v,d,m,y,M,x,b,_,w,k={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),k.lineStart=l},polygonEnd:function(){t.polygonEnd(),k.lineStart=r}};return k}function u(t,e,r,a,l,c,s,f,h,g,p,v,d,m){var y=s-t,M=f-e,x=y*y+M*M;if(x>4*i&&d--){var b=a+g,_=l+p,w=c+v,k=Math.sqrt(b*b+_*_+w*w),S=Math.asin(w/=k),E=xo(xo(w)-1)<Po||xo(r-h)<Po?(r+h)/2:Math.atan2(_,b),A=n(E,S),N=A[0],C=A[1],z=N-t,L=C-e,q=M*z-y*L;(q*q/x>i||xo((y*z+M*L)/x-.5)>.3||o>a*g+l*p+c*v)&&(u(t,e,r,a,l,c,N,C,E,b/=k,_/=k,w,d,m),m.point(N,C),u(N,C,E,b,_,w,s,f,h,g,p,v,d,m))}}var i=.5,o=Math.cos(30*Io),a=16;return t.precision=function(n){return arguments.length?(a=(i=n*n)>0&&16,t):Math.sqrt(i)},t}function re(n){var t=ee(function(t,e){return n([t*Yo,e*Yo])});return function(n){return le(t(n))}}function ue(n){this.stream=n}function ie(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function oe(n){return ae(function(){return n})()}function ae(n){function t(n){return n=a(n[0]*Io,n[1]*Io),[n[0]*c+m,M-n[1]*c]}function e(n){return n=a.invert((n[0]-m)/c,(M-n[1])/c),n&&[n[0]*Yo,n[1]*Yo]}function r(){a=Ct(o=fe(p,v,d),i);var n=i(h,g);return m=s-n[0]*c,M=f+n[1]*c,u()}function u(){return k&&(k.valid=!1,k=null),t}var i,o,a,l=ee(function(n,t){return n=i(n,t),[n[0]*c+m,M-n[1]*c]}),c=150,s=480,f=250,h=0,g=0,p=0,v=0,d=0,m,M,x=Ua,b=y,_=null,w=null,k;return t.stream=function(n){return k&&(k.valid=!1),k=le(x(o,l(b(n)))),k.valid=!0,k},t.clipAngle=function(n){return arguments.length?(x=null==n?(_=n,Ua):It((_=+n)*Io),u()):_},t.clipExtent=function(n){return arguments.length?(w=n,b=n?Zt(n[0][0],n[0][1],n[1][0],n[1][1]):y,u()):w},t.scale=function(n){return arguments.length?(c=+n,r()):c},t.translate=function(n){return arguments.length?(s=+n[0],f=+n[1],r()):[s,f]},t.center=function(n){return arguments.length?(h=n[0]%360*Io,g=n[1]%360*Io,r()):[h*Yo,g*Yo]},t.rotate=function(n){return arguments.length?(p=n[0]%360*Io,v=n[1]%360*Io,d=n.length>2?n[2]%360*Io:0,r()):[p*Yo,v*Yo,d*Yo]},ao.rebind(t,l,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function le(n){return ie(n,function(t,e){n.point(t*Io,e*Io)})}function ce(n,t){return[n,t]}function se(n,t){return[n>Uo?n-Fo:-Uo>n?n+Fo:n,t]}function fe(n,t,e){return n?t||e?Ct(ge(n),pe(t,e)):ge(n):t||e?pe(t,e):se}function he(n){return function(t,e){return t+=n,[t>Uo?t-Fo:-Uo>t?t+Fo:t,e]}}function ge(n){var t=he(n);return t.invert=he(-n),t}function pe(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),s=c*r+a*u;return[Math.atan2(l*i-s*o,a*r-c*u),tn(s*i+l*o)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),s=c*i-l*o;return[Math.atan2(l*i+c*o,a*r+s*u),tn(s*r-a*u)]},e}function ve(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,o,a){var l=o*t;null!=u?(u=de(e,u),i=de(e,i),(o>0?i>u:u>i)&&(u+=o*Fo)):(u=n+o*Fo,i=n-.5*l);for(var c,s=u;o>0?s>i:i>s;s-=l)a.point((c=_t([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],c[1])}}function de(n,t){var e=dt(t);e[0]-=n,bt(e);var r=nn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Po)%(2*Math.PI)}function me(n,t,e){var r=ao.range(n,t-Po,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function ye(n,t,e){var r=ao.range(n,t-Po,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function Me(n){return n.source}function xe(n){return n.target}function be(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(r),a=Math.sin(r),l=u*Math.cos(n),c=u*Math.sin(n),s=o*Math.cos(e),f=o*Math.sin(e),h=2*Math.asin(Math.sqrt(on(r-t)+u*o*on(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*l+t*s,u=e*c+t*f,o=e*i+t*a;return[Math.atan2(u,r)*Yo,Math.atan2(o,Math.sqrt(r*r+u*u))*Yo]}:function(){return[n*Yo,t*Yo]};return p.distance=h,p}function _e(){function n(n,u){var i=Math.sin(u*=Io),o=Math.cos(u),a=xo((n*=Io)-t),l=Math.cos(a);Wa+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*i-e*o*l)*a),e*i+r*o*l),t=n,e=i,r=o}var t,e,r;Ja.point=function(u,i){t=u*Io,e=Math.sin(i*=Io),r=Math.cos(i),Ja.point=n},Ja.lineEnd=function(){Ja.point=Ja.lineEnd=b}}function we(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(n*i,r*o),Math.asin(r&&e*i/r)]},e}function ke(n,t){function e(n,t){o>0?-Oo+Po>t&&(t=-Oo+Po):t>Oo-Po&&(t=Oo-Po);var e=o/Math.pow(u(t),i);return[e*Math.sin(i*n),o-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(Uo/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),o=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=K(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(o/r,1/i))-Oo]},e):Ee}function Se(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return xo(u)<Po?ce:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-K(u)*Math.sqrt(n*n+e*e)]},e)}function Ee(n,t){return[n,Math.log(Math.tan(Uo/4+t/2))]}function Ae(n){var t=oe(n),e=t.scale,r=t.translate,u=t.clipExtent,i;return t.scale=function(){var n=e.apply(t,arguments);return n===t?i?t.clipExtent(null):t:n},t.translate=function(){var n=r.apply(t,arguments);return n===t?i?t.clipExtent(null):t:n},t.clipExtent=function(n){var o=u.apply(t,arguments);if(o===t){if(i=null==n){var a=Uo*e(),l=r();u([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else i&&(o=null);return o},t.clipExtent(null)}function Ne(n,t){return[Math.log(Math.tan(Uo/4+t/2)),-n]}function Ce(n){return n[0]}function ze(n){return n[1]}function Le(n){for(var t=n.length,e=[0,1],r=2,u=2;t>u;u++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[u])<=0;)--r;e[r++]=u}return e.slice(0,r)}function qe(n,t){return n[0]-t[0]||n[1]-t[1]}function Te(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Re(n,t,e,r){var u=n[0],i=e[0],o=t[0]-u,a=r[0]-i,l=n[1],c=e[1],s=t[1]-l,f=r[1]-c,h=(a*(l-c)-f*(u-i))/(f*o-a*s);return[u+h*o,l+h*s]}function De(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Pe(){rr(this),this.edge=this.site=this.circle=null}function je(n){var t=ol.pop()||new Pe;return t.site=n,t}function Ue(n){Be(n),il.remove(n),ol.push(n),rr(n)}function Fe(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,o=n.N,a=[n];Ue(n);for(var l=i;l.circle&&xo(e-l.circle.x)<Po&&xo(r-l.circle.cy)<Po;)i=l.P,a.unshift(l),Ue(l),l=i;a.unshift(l),Be(l);for(var c=o;c.circle&&xo(e-c.circle.x)<Po&&xo(r-c.circle.cy)<Po;)o=c.N,a.push(c),Ue(c),c=o;a.push(c),Be(c);var s=a.length,f;for(f=1;s>f;++f)c=a[f],l=a[f-1],nr(c.edge,l.site,c.site,u);l=a[0],c=a[s-1],c.edge=Ke(l.site,c.site,null,u),$e(l),$e(c)}function He(n){for(var t=n.x,e=n.y,r,u,i,o,a=il._;a;)if(i=Oe(a,e)-t,i>Po)a=a.L;else{if(o=t-Ie(a,e),!(o>Po)){i>-Po?(r=a.P,u=a):o>-Po?(r=a,u=a.N):r=u=a;break}if(!a.R){r=a;break}a=a.R}var l=je(n);if(il.insert(r,l),r||u){if(r===u)return Be(r),u=je(r.site),il.insert(l,u),l.edge=u.edge=Ke(r.site,l.site),$e(r),void $e(u);if(!u)return void(l.edge=Ke(r.site,l.site));Be(r),Be(u);var c=r.site,s=c.x,f=c.y,h=n.x-s,g=n.y-f,p=u.site,v=p.x-s,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,M=v*v+d*d,x={x:(d*y-g*M)/m+s,y:(h*M-v*y)/m+f};nr(u.edge,c,p,x),l.edge=Ke(c,n,null,x),u.edge=Ke(n,p,null,x),$e(r),$e(u)}}function Oe(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var o=n.P;if(!o)return-(1/0);e=o.site;var a=e.x,l=e.y,c=l-t;if(!c)return a;var s=a-r,f=1/i-1/c,h=s/c;return f?(-h+Math.sqrt(h*h-2*f*(s*s/(-2*c)-l+c/2+u-i/2)))/f+r:(r+a)/2}function Ie(n,t){var e=n.N;if(e)return Oe(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ye(n){this.site=n,this.edges=[]}function Ze(n){for(var t=n[0][0],e=n[1][0],r=n[0][1],u=n[1][1],i,o,a,l,c=ul,s=c.length,f,h,g,p,v,d;s--;)if(f=c[s],f&&f.prepare())for(g=f.edges,p=g.length,h=0;p>h;)d=g[h].end(),a=d.x,l=d.y,v=g[++h%p].start(),i=v.x,o=v.y,(xo(a-i)>Po||xo(l-o)>Po)&&(g.splice(h,0,new tr(Qe(f.site,d,xo(a-t)<Po&&u-l>Po?{x:t,y:xo(i-t)<Po?o:u}:xo(l-u)<Po&&e-a>Po?{x:xo(o-u)<Po?i:e,y:u}:xo(a-e)<Po&&l-r>Po?{x:e,y:xo(i-e)<Po?o:r}:xo(l-r)<Po&&a-t>Po?{x:xo(o-r)<Po?i:t,y:r}:null),f.site,null)),++p)}function Ve(n,t){return t.angle-n.angle}function Xe(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function $e(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var o=u.x,a=u.y,l=r.x-o,c=r.y-a,s=i.x-o,f=i.y-a,h=2*(l*f-c*s);if(!(h>=-jo)){var g=l*l+c*c,p=s*s+f*f,v=(f*g-c*p)/h,d=(l*p-s*g)/h,f=d+a,m=cl.pop()||new Xe;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,M=ll._;M;)if(m.y<M.y||m.y===M.y&&m.x<=M.x){if(!M.L){y=M.P;break}M=M.L}else{if(!M.R){y=M;break}M=M.R}ll.insert(y,m),y||(al=m)}}}}function Be(n){var t=n.circle;t&&(t.P||(al=t.N),ll.remove(t),cl.push(t),rr(t),n.circle=null)}function We(n){for(var t=rl,e=Yt(n[0][0],n[0][1],n[1][0],n[1][1]),r=t.length,u;r--;)u=t[r],(!Je(u,n)||!e(u)||xo(u.a.x-u.b.x)<Po&&xo(u.a.y-u.b.y)<Po)&&(u.a=u.b=null,t.splice(r,1))}function Je(n,t){var e=n.b;if(e)return!0;var r=n.a,u=t[0][0],i=t[1][0],o=t[0][1],a=t[1][1],l=n.l,c=n.r,s=l.x,f=l.y,h=c.x,g=c.y,p=(s+h)/2,v=(f+g)/2,d,m;if(g===f){if(u>p||p>=i)return;if(s>h){if(r){if(r.y>=a)return}else r={x:p,y:o};e={x:p,y:a}}else{if(r){if(r.y<o)return}else r={x:p,y:a};e={x:p,y:o}}}else if(d=(s-h)/(g-f),m=v-d*p,-1>d||d>1)if(s>h){if(r){if(r.y>=a)return}else r={x:(o-m)/d,y:o};e={x:(a-m)/d,y:a}}else{if(r){if(r.y<o)return}else r={x:(a-m)/d,y:a};e={x:(o-m)/d,y:o}}else if(g>f){if(r){if(r.x>=i)return}else r={x:u,y:d*u+m};e={x:i,y:d*i+m}}else{if(r){if(r.x<u)return}else r={x:i,y:d*i+m};e={x:u,y:d*u+m}}return n.a=r,n.b=e,!0}function Ge(n,t){this.l=n,this.r=t,this.a=this.b=null}function Ke(n,t,e,r){var u=new Ge(n,t);return rl.push(u),e&&nr(u,n,t,e),r&&nr(u,t,n,r),ul[n.i].edges.push(new tr(u,n,t)),ul[t.i].edges.push(new tr(u,t,n)),u}function Qe(n,t,e){var r=new Ge(n,null);return r.a=t,r.b=e,rl.push(r),r}function nr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function tr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function er(){this._=null}function rr(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function ur(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ir(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function or(n){for(;n.L;)n=n.L;return n}function ar(n,t){var e=n.sort(lr).pop(),r,u,i;for(rl=[],ul=new Array(n.length),il=new er,ll=new er;;)if(i=al,e&&(!i||e.y<i.y||e.y===i.y&&e.x<i.x))(e.x!==r||e.y!==u)&&(ul[e.i]=new Ye(e),He(e),r=e.x,u=e.y),e=n.pop();else{if(!i)break;Fe(i.arc)}t&&(We(t),Ze(t));var o={cells:ul,edges:rl};return il=ll=rl=ul=null,o}function lr(n,t){return t.y-n.y||t.x-n.x}function cr(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function sr(n){return n.x}function fr(n){return n.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gr(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var o=.5*(e+u),a=.5*(r+i),l=t.nodes;l[0]&&gr(n,l[0],e,r,o,a),l[1]&&gr(n,l[1],o,r,u,a),l[2]&&gr(n,l[2],e,a,o,i),l[3]&&gr(n,l[3],o,a,u,i)}}function pr(n,t,e,r,u,i,o){var a=1/0,l;return function c(n,s,f,h,g){if(!(s>i||f>o||r>h||u>g)){if(p=n.point){var p,v=t-n.x,d=e-n.y,m=v*v+d*d;if(a>m){var y=Math.sqrt(a=m);r=t-y,u=e-y,i=t+y,o=e+y,l=p}}for(var M=n.nodes,x=.5*(s+h),b=.5*(f+g),_=t>=x,w=e>=b,k=w<<1|_,S=k+4;S>k;++k)if(n=M[3&k])switch(3&k){case 0:c(n,s,f,x,b);break;case 1:c(n,x,f,h,b);break;case 2:c(n,s,b,x,g);break;case 3:c(n,x,b,h,g)}}}(n,r,u,i,o),l}function vr(n,t){n=ao.rgb(n),t=ao.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,o=t.g-r,a=t.b-u;return function(n){return"#"+bn(Math.round(e+i*n))+bn(Math.round(r+o*n))+bn(Math.round(u+a*n))}}function dr(n,t){var e={},r={},u;for(u in n)u in t?e[u]=Mr(n[u],t[u]):r[u]=n[u];for(u in t)u in n||(r[u]=t[u]);return function(n){for(u in e)r[u]=e[u](n);return r}}function mr(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function yr(n,t){var e=fl.lastIndex=hl.lastIndex=0,r,u,i,o=-1,a=[],l=[];for(n+="",t+="";(r=fl.exec(n))&&(u=hl.exec(t));)(i=u.index)>e&&(i=t.slice(e,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(u=u[0])?a[o]?a[o]+=u:a[++o]=u:(a[++o]=null,l.push({i:o,x:mr(r,u)})),e=hl.lastIndex;return e<t.length&&(i=t.slice(e),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?(t=l[0].x,function(n){return t(n)+""}):function(){return t}:(t=l.length,function(n){for(var e=0,r;t>e;++e)a[(r=l[e]).i]=r.x(n);return a.join("")})}function Mr(n,t){for(var e=ao.interpolators.length,r;--e>=0&&!(r=ao.interpolators[e](n,t)););return r}function xr(n,t){var e=[],r=[],u=n.length,i=t.length,o=Math.min(n.length,t.length),a;for(a=0;o>a;++a)e.push(Mr(n[a],t[a]));for(;u>a;++a)r[a]=n[a];for(;i>a;++a)r[a]=t[a];return function(n){for(a=0;o>a;++a)r[a]=e[a](n);return r}}function br(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function _r(n){return function(t){return 1-n(1-t)}}function wr(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function kr(n){return n*n}function Sr(n){return n*n*n}function Er(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function Ar(n){return function(t){return Math.pow(t,n)}}function Nr(n){return 1-Math.cos(n*Oo)}function Cr(n){return Math.pow(2,10*(n-1))}function zr(n){return 1-Math.sqrt(1-n*n)}function Lr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/Fo*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*Fo/t)}}function qr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Tr(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Rr(n,t){n=ao.hcl(n),t=ao.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,o=t.c-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return fn(e+i*n,r+o*n,u+a*n)+""}}function Dr(n,t){n=ao.hsl(n),t=ao.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,o=t.s-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return cn(e+i*n,r+o*n,u+a*n)+""}}function Pr(n,t){n=ao.lab(n),t=ao.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,o=t.a-r,a=t.b-u;return function(n){return gn(e+i*n,r+o*n,u+a*n)+""}}function jr(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Ur(n){var t=[n.a,n.b],e=[n.c,n.d],r=Hr(t),u=Fr(t,e),i=Hr(Or(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Yo,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Yo:0}function Fr(n,t){return n[0]*t[0]+n[1]*t[1]}function Hr(n){var t=Math.sqrt(Fr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Or(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Ir(n){return n.length?n.pop()+",":""}function Yr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var u=e.push("translate(",null,",",null,")");r.push({i:u-4,x:mr(n[0],t[0])},{i:u-2,x:mr(n[1],t[1])})}else(t[0]||t[1])&&e.push("translate("+t+")")}function Zr(n,t,e,r){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),r.push({i:e.push(Ir(e)+"rotate(",null,")")-2,x:mr(n,t)})):t&&e.push(Ir(e)+"rotate("+t+")")}function Vr(n,t,e,r){n!==t?r.push({i:e.push(Ir(e)+"skewX(",null,")")-2,x:mr(n,t)}):t&&e.push(Ir(e)+"skewX("+t+")")}function Xr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var u=e.push(Ir(e)+"scale(",null,",",null,")");r.push({i:u-4,x:mr(n[0],t[0])},{i:u-2,x:mr(n[1],t[1])})}else(1!==t[0]||1!==t[1])&&e.push(Ir(e)+"scale("+t+")")}function $r(n,t){var e=[],r=[];return n=ao.transform(n),t=ao.transform(t),Yr(n.translate,t.translate,e,r),Zr(n.rotate,t.rotate,e,r),Vr(n.skew,t.skew,e,r),Xr(n.scale,t.scale,e,r),n=t=null,function(n){for(var t=-1,u=r.length,i;++t<u;)e[(i=r[t]).i]=i.x(n);return e.join("")}}function Br(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Wr(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Jr(n){for(var t=n.source,e=n.target,r=Kr(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Gr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Kr(n,t){if(n===t)return n;for(var e=Gr(n),r=Gr(t),u=e.pop(),i=r.pop(),o=null;u===i;)o=u,u=e.pop(),i=r.pop();return o}function Qr(n){n.fixed|=2}function nu(n){n.fixed&=-7}function tu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function eu(n){n.fixed&=-5}function ru(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i=n.nodes,o=i.length,a=-1,l;++a<o;)l=i[a],null!=l&&(ru(l,t,e),n.charge+=l.charge,r+=l.charge*l.cx,u+=l.charge*l.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var c=t*e[n.point.index];n.charge+=n.pointCharge=c,r+=c*n.point.x,u+=c*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function uu(n,t){return ao.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=su,n}function iu(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(u=n.children)&&(r=u.length))for(var r,u;--r>=0;)e.push(u[r])}function ou(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(o=n.children)&&(i=o.length))for(var u=-1,i,o;++u<i;)e.push(o[u]);for(;null!=(n=r.pop());)t(n)}function au(n){return n.children}function lu(n){return n.value}function cu(n,t){return t.value-n.value}function su(n){return ao.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function fu(n){return n.x}function hu(n){return n.y}function gu(n,t,e){n.y0=t,n.y=e}function pu(n){return ao.range(n.length)}function vu(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function du(n){for(var t=1,e=0,r=n[0][1],u,i=n.length;i>t;++t)(u=n[t][1])>r&&(e=t,r=u);return e}function mu(n){return n.reduce(yu,0)}function yu(n,t){return n+t[1]}function Mu(n,t){return xu(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function xu(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function bu(n){return[ao.min(n),ao.max(n)]}function _u(n,t){return n.value-t.value}function wu(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function ku(n,t){n._pack_next=t,t._pack_prev=n}function Su(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function Eu(n){function t(n){r=Math.min(n.x-n.r,r),u=Math.max(n.x+n.r,u),i=Math.min(n.y-n.r,i),o=Math.max(n.y+n.r,o)}if((e=n.children)&&(g=e.length)){var e,r=1/0,u=-(1/0),i=1/0,o=-(1/0),a,l,c,s,f,h,g;if(e.forEach(Au),a=e[0],a.x=-a.r,a.y=0,t(a),g>1&&(l=e[1],l.x=l.r,l.y=0,t(l),g>2))for(c=e[2],zu(a,l,c),t(c),wu(a,c),a._pack_prev=c,wu(c,l),l=a._pack_next,s=3;g>s;s++){zu(a,l,c=e[s]);var p=0,v=1,d=1;for(f=l._pack_next;f!==l;f=f._pack_next,v++)if(Su(f,c)){p=1;break}if(1==p)for(h=a._pack_prev;h!==f._pack_prev&&!Su(h,c);h=h._pack_prev,d++);p?(d>v||v==d&&l.r<a.r?ku(a,l=f):ku(a=h,l),s--):(wu(a,c),l=c,t(c))}var m=(r+u)/2,y=(i+o)/2,M=0;for(s=0;g>s;s++)c=e[s],c.x-=m,c.y-=y,M=Math.max(M,c.r+Math.sqrt(c.x*c.x+c.y*c.y));n.r=M,e.forEach(Nu)}}function Au(n){n._pack_next=n._pack_prev=n}function Nu(n){delete n._pack_next,delete n._pack_prev}function Cu(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,o=u.length;++i<o;)Cu(u[i],t,e,r)}function zu(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){var o=t.r+e.r,a=u*u+i*i;o*=o,r*=r;var l=.5+(r-o)/(2*a),c=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+l*u+c*i,e.y=n.y+l*i-c*u}else e.x=n.x+r,e.y=n.y}function Lu(n,t){return n.parent==t.parent?1:2}function qu(n){var t=n.children;return t.length?t[0]:n.t}function Tu(n){var t=n.children,e;return(e=t.length)?t[e-1]:n.t}function Ru(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Du(n){for(var t=0,e=0,r=n.children,u=r.length,i;--u>=0;)i=r[u],i.z+=t,i.m+=t,t+=i.s+(e+=i.c)}function Pu(n,t,e){return n.a.parent===t.parent?n.a:e}function ju(n){return 1+ao.max(n,function(n){return n.y})}function Uu(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Fu(n){var t=n.children;return t&&t.length?Fu(t[0]):n}function Hu(n){var t=n.children,e;return t&&(e=t.length)?Hu(t[e-1]):n}function Ou(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Iu(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function Yu(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Zu(n){return n.rangeExtent?n.rangeExtent():Yu(n.range())}function Vu(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Xu(n,t){var e=0,r=n.length-1,u=n[e],i=n[r],o;return u>i&&(o=e,e=r,r=o,o=u,u=i,i=o),n[e]=t.floor(u),n[r]=t.ceil(i),n}function $u(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:wl}function Bu(n,t,e,r){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)u.push(e(n[o-1],n[o])),i.push(r(t[o-1],t[o]));return function(t){var e=ao.bisect(n,t,1,a)-1;return i[e](u[e](t))}}function Wu(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Bu:Vu,l=r?Wr:Br;return o=u(n,t,l,e),a=u(t,n,l,Mr),i}function i(n){return o(n)}var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(jr)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Qu(n,t)},i.tickFormat=function(t,e){return ni(n,t,e)},i.nice=function(t){return Gu(n,t),u()},i.copy=function(){return Wu(n,t,e,r)},u()}function Ju(n,t){return ao.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Gu(n,t){return Xu(n,$u(Ku(n,t)[2]))}function Ku(n,t){null==t&&(t=10);var e=Yu(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Qu(n,t){return ao.range.apply(ao,Ku(n,t))}function ni(n,t,e){var r=Ku(n,t);if(e){var u=fa.exec(e);if(u.shift(),"s"===u[8]){var i=ao.formatPrefix(Math.max(xo(r[0]),xo(r[1])));return u[7]||(u[7]="."+ti(i.scale(r[2]))),u[8]="f",e=ao.format(u.join("")),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]="."+ei(u[8],r)),e=u.join("")}else e=",."+ti(r[2])+"f";return ao.format(e)}function ti(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function ei(n,t){var e=ti(t[2]);return n in kl?Math.abs(e-ti(Math.max(xo(t[0]),xo(t[1]))))+ +("e"!==n):e-2*("%"===n)}function ri(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(u(t))}return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),o):t},o.nice=function(){var t=Xu(r.map(u),e?Math:El);return n.domain(t),r=t.map(i),o},o.ticks=function(){var n=Yu(r),o=[],a=n[0],l=n[1],c=Math.floor(u(a)),s=Math.ceil(u(l)),f=t%1?2:t;if(isFinite(s-c)){if(e){for(;s>c;c++)for(var h=1;f>h;h++)o.push(i(c)*h);o.push(i(c))}else for(o.push(i(c));c++<s;)for(var h=f-1;h>0;h--)o.push(i(c)*h);for(c=0;o[c]<a;c++);for(s=o.length;o[s-1]>l;s--);o=o.slice(c,s)}return o},o.tickFormat=function(n,t){if(!arguments.length)return Sl;arguments.length<2?t=Sl:"function"!=typeof t&&(t=ao.format(t));var r=Math.max(.1,n/o.ticks().length),a=e?(l=1e-12,Math.ceil):(l=-1e-12,Math.floor),l;return function(n){return n/i(a(u(n)+l))<=r?t(n):""}},o.copy=function(){return ri(n.copy(),t,e,r)},Ju(o,n)}function ui(n,t,e){function r(t){return n(u(t))}var u=ii(t),i=ii(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Qu(e,n)},r.tickFormat=function(n,t){return ni(e,n,t)},r.nice=function(n){return r.domain(Gu(e,n))},r.exponent=function(o){return arguments.length?(u=ii(t=o),i=ii(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return ui(n.copy(),t,e)},Ju(r,n)}function ii(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function oi(n,t){function e(e){return i[((u.get(e)||("range"===t.t?u.set(e,n.push(e)):0/0))-1)%i.length]}function r(t,e){return ao.range(n.length).map(function(n){return t+e*n})}var u,i,o;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new c;for(var i=-1,o=r.length,a;++i<o;)u.has(a=r[i])||u.set(a,n.push(a));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,o=0,t={t:"range",a:arguments},e):i},e.rangePoints=function(u,a){arguments.length<2&&(a=0);var l=u[0],c=u[1],s=n.length<2?(l=(l+c)/2,0):(c-l)/(n.length-1+a);return i=r(l+s*a/2,s),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(u,a){arguments.length<2&&(a=0);var l=u[0],c=u[1],s=n.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(n.length-1+a)|0;return i=r(l+Math.round(s*a/2+(c-l-(n.length-1+a)*s)/2),s),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(u,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=u[1]<u[0],s=u[c-0],f=u[1-c],h=(f-s)/(n.length-a+2*l);return i=r(s+h*l,h),c&&i.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(u,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=u[1]<u[0],s=u[c-0],f=u[1-c],h=Math.floor((f-s)/(n.length-a+2*l));return i=r(s+Math.round((f-s-(n.length-a)*h)/2),h),c&&i.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Yu(t.a[0])},e.copy=function(){return oi(n,t)},e.domain(n)}function ai(n,t){function i(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=ao.quantile(n,e/r);return o}function o(n){return isNaN(n=+n)?void 0:t[ao.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(u).sort(e),i()):n},o.range=function(n){return arguments.length?(t=n,i()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),0>e?[0/0,0/0]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return ai(n,t)},i()}function li(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),o=e.length-1,r}var i,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?0/0:t/i+n,[t,t+1/i]},r.copy=function(){return li(n,t,e)},u()}function ci(n,t){function e(e){return e>=e?t[ao.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return ci(n,t)},e}function si(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Qu(n,t)},t.tickFormat=function(t,e){return ni(n,t,e)},t.copy=function(){return si(n)},t}function fi(){return 0}function hi(n){return n.innerRadius}function gi(n){return n.outerRadius}function pi(n){return n.startAngle}function vi(n){return n.endAngle}function di(n){return n&&n.padAngle}function mi(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function yi(n,t,e,r,u){var i=n[0]-t[0],o=n[1]-t[1],a=(u?r:-r)/Math.sqrt(i*i+o*o),l=a*o,c=-a*i,s=n[0]+l,f=n[1]+c,h=t[0]+l,g=t[1]+c,p=(s+h)/2,v=(f+g)/2,d=h-s,m=g-f,y=d*d+m*m,M=e-r,x=s*g-h*f,b=(0>m?-1:1)*Math.sqrt(Math.max(0,M*M*y-x*x)),_=(x*m-d*b)/y,w=(-x*d-m*b)/y,k=(x*m+d*b)/y,S=(-x*d+m*b)/y,E=_-p,A=w-v,N=k-p,C=S-v;return E*E+A*A>N*N+C*C&&(_=k,w=S),[[_-l,w-c],[_*e/M,w*e/M]]}function Mi(n){function t(t){function o(){l.push("M",i(n(c),a))}for(var l=[],c=[],s=-1,f=t.length,h,g=An(e),p=An(r);++s<f;)u.call(this,h=t[s],s)?c.push([+g.call(this,h,s),+p.call(this,h,s)]):c.length&&(o(),c=[]);return c.length&&o(),l.length?l.join(""):null}var e=Ce,r=ze,u=zt,i=xi,o=i.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?i=n:(i=ql.get(n)||xi).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function xi(n){return n.length>1?n.join("L"):n+"Z"}function bi(n){return n.join("L")+"Z"}function _i(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function wi(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function ki(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function Si(n,t){return n.length<4?xi(n):n[1]+Ni(n.slice(1,-1),Ci(n,t))}function Ei(n,t){return n.length<3?bi(n):n[0]+Ni((n.push(n[0]),n),Ci([n[n.length-2]].concat(n,[n[1]]),t))}function Ai(n,t){return n.length<3?xi(n):n[0]+Ni(n,Ci(n,t))}function Ni(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return xi(n);var e=n.length!=t.length,r="",u=n[0],i=n[1],o=t[0],a=o,l=1;if(e&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],u=n[1],l=2),t.length>1){a=t[1],i=n[l],l++,r+="C"+(u[0]+o[0])+","+(u[1]+o[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(var c=2;c<t.length;c++,l++)i=n[l],a=t[c],r+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}if(e){var s=n[l];r+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+s[0]+","+s[1]}return r}function Ci(n,t){for(var e=[],r=(1-t)/2,u,i=n[0],o=n[1],a=1,l=n.length;++a<l;)u=i,i=o,o=n[a],e.push([r*(o[0]-u[0]),r*(o[1]-u[1])]);return e}function zi(n){if(n.length<3)return xi(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],o=[u,u,u,(r=n[1])[0]],a=[i,i,i,r[1]],l=[u,",",i,"L",Ri(Dl,o),",",Ri(Dl,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Di(l,o,a);return n.pop(),l.push("L",r),l.join("")}function Li(n){if(n.length<4)return xi(n);for(var t=[],e=-1,r=n.length,u,i=[0],o=[0];++e<3;)u=n[e],i.push(u[0]),o.push(u[1]);for(t.push(Ri(Dl,i)+","+Ri(Dl,o)),--e;++e<r;)u=n[e],i.shift(),i.push(u[0]),o.shift(),o.push(u[1]),Di(t,i,o);return t.join("")}function qi(n){for(var t,e=-1,r=n.length,u=r+4,i,o=[],a=[];++e<4;)i=n[e%r],o.push(i[0]),a.push(i[1]);for(t=[Ri(Dl,o),",",Ri(Dl,a)],--e;++e<u;)i=n[e%r],o.shift(),o.push(i[0]),a.shift(),a.push(i[1]),Di(t,o,a);return t.join("")}function Ti(n,t){var e=n.length-1;if(e)for(var r=n[0][0],u=n[0][1],i=n[e][0]-r,o=n[e][1]-u,a=-1,l,c;++a<=e;)l=n[a],c=a/e,l[0]=t*l[0]+(1-t)*(r+c*i),l[1]=t*l[1]+(1-t)*(u+c*o);return zi(n)}function Ri(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Di(n,t,e){n.push("C",Ri(Tl,t),",",Ri(Tl,e),",",Ri(Rl,t),",",Ri(Rl,e),",",Ri(Dl,t),",",Ri(Dl,e))}function Pi(n,t){return(t[1]-n[1])/(t[0]-n[0])}function ji(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],o=r[0]=Pi(u,i);++t<e;)r[t]=(o+(o=Pi(u=i,i=n[t+1])))/2;return r[t]=o,r}function Ui(n){for(var t=[],e,r,u,i,o=ji(n),a=-1,l=n.length-1;++a<l;)e=Pi(n[a],n[a+1]),xo(e)<Po?o[a]=o[a+1]=0:(r=o[a]/e,u=o[a+1]/e,i=r*r+u*u,i>9&&(i=3*e/Math.sqrt(i),o[a]=i*r,o[a+1]=i*u));for(a=-1;++a<=l;)i=(n[Math.min(l,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),t.push([i||0,o[a]*i||0]);return t}function Fi(n){return n.length<3?xi(n):n[0]+Ni(n,Ui(n))}function Hi(n){for(var t,e=-1,r=n.length,u,i;++e<r;)t=n[e],u=t[0],i=t[1]-Oo,t[0]=u*Math.cos(i),t[1]=u*Math.sin(i);return n}function Oi(n){function t(t){function l(){h.push("M",a(n(p),f),s,c(n(g.reverse()),f),"Z")}for(var h=[],g=[],p=[],v=-1,d=t.length,m,y=An(e),M=An(u),x=e===r?function(){
return _}:An(r),b=u===i?function(){return w}:An(i),_,w;++v<d;)o.call(this,m=t[v],v)?(g.push([_=+y.call(this,m,v),w=+M.call(this,m,v)]),p.push([+x.call(this,m,v),+b.call(this,m,v)])):g.length&&(l(),g=[],p=[]);return g.length&&l(),h.length?h.join(""):null}var e=Ce,r=Ce,u=0,i=ze,o=zt,a=xi,l=a.key,c=a,s="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(l="function"==typeof n?a=n:(a=ql.get(n)||xi).key,c=a.reverse||a,s=a.closed?"M":"L",t):l},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Ii(n){return n.radius}function Yi(n){return[n.x,n.y]}function Zi(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Oo;return[e*Math.cos(r),e*Math.sin(r)]}}function Vi(){return 64}function Xi(){return"circle"}function $i(n){var t=Math.sqrt(n/Uo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Bi(n){return function(){var t,e,r;(t=this[n])&&(r=t[e=t.active])&&(r.timer.c=null,r.timer.t=0/0,--t.count?delete t[e]:delete this[n],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Wi(n,t,e){return So(n,Hl),n.namespace=t,n.id=e,n}function Ji(n,t,e,r){var u=n.id,i=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[i][u].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[i][u].tween.set(t,e)}))}function Gi(n){return null==n&&(n=""),function(){this.textContent=n}}function Ki(n){return null==n?"__transition__":"__transition_"+n+"__"}function Qi(n,t,e,r,u){function i(n){var t=s.delay;return h.t=t+f,n>=t?o(n-t):void(h.c=o)}function o(e){var u=l.active,i=l[u];i&&(i.timer.c=null,i.timer.t=0/0,--l.count,delete l[u],i.event&&i.event.interrupt.call(n,n.__data__,i.index));for(var o in l)if(r>+o){var c=l[o];c.timer.c=null,c.timer.t=0/0,--l.count,delete l[o]}l.active=r,s.event&&s.event.start.call(n,n.__data__,t),v=[],s.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&v.push(r)}),p=s.ease,g=s.duration,h.c=a,qn(function(){return h.c&&a(e||1)&&(h.c=null,h.t=0/0),1},0,f)}function a(u){for(var i=u/g,o=p(i),a=v.length;a>0;)v[--a].call(n,o);return i>=1?(s.event&&s.event.end.call(n,n.__data__,t),--l.count?delete l[r]:delete n[e],1):void 0}var l=n[e]||(n[e]={active:0,count:0}),s=l[r],f,h,g,p,v;s||(f=u.time,h=qn(i,0,f),s=l[r]={tween:new c,time:f,timer:h,delay:u.delay,duration:u.duration,ease:u.ease,index:t},u=null,++l.count)}function no(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function to(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function eo(n){return n.toISOString()}function ro(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=ao.bisect(Gl,u);return i==Gl.length?[t.year,Ku(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Gl[i-1]<Gl[i]/u?i-1:i]:[nc,Ku(n,e)[2]]}return r.invert=function(t){return uo(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(uo)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,uo(+e+1),t).length}var i=r.domain(),o=Yu(i),a=null==n?u(o,10):"number"==typeof n&&u(o,n);return a&&(n=a[0],t=a[1]),r.domain(Xu(i,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=uo(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=uo(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Yu(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],uo(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return ro(n.copy(),t,e)},Ju(r,n)}function uo(n){return new Date(n)}function io(n){return JSON.parse(n.responseText)}function oo(n){var t=so.createRange();return t.selectNode(so.body),t.createContextualFragment(n.responseText)}var ao={version:"3.5.8"},lo=[].slice,co=function(n){return lo.call(n)},so=this.document;if(so)try{co(so.documentElement.childNodes)[0].nodeType}catch(fo){co=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),so)try{so.createElement("DIV").style.setProperty("opacity",0,"")}catch(ho){var go=this.Element.prototype,po=go.setAttribute,vo=go.setAttributeNS,mo=this.CSSStyleDeclaration.prototype,yo=mo.setProperty;go.setAttribute=function(n,t){po.call(this,n,t+"")},go.setAttributeNS=function(n,t,e){vo.call(this,n,t,e+"")},mo.setProperty=function(n,t,e){yo.call(this,n,t+"",e)}}ao.ascending=e,ao.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:0/0},ao.min=function(n,t){var e=-1,r=n.length,u,i;if(1===arguments.length){for(;++e<r;)if(null!=(i=n[e])&&i>=i){u=i;break}for(;++e<r;)null!=(i=n[e])&&u>i&&(u=i)}else{for(;++e<r;)if(null!=(i=t.call(n,n[e],e))&&i>=i){u=i;break}for(;++e<r;)null!=(i=t.call(n,n[e],e))&&u>i&&(u=i)}return u},ao.max=function(n,t){var e=-1,r=n.length,u,i;if(1===arguments.length){for(;++e<r;)if(null!=(i=n[e])&&i>=i){u=i;break}for(;++e<r;)null!=(i=n[e])&&i>u&&(u=i)}else{for(;++e<r;)if(null!=(i=t.call(n,n[e],e))&&i>=i){u=i;break}for(;++e<r;)null!=(i=t.call(n,n[e],e))&&i>u&&(u=i)}return u},ao.extent=function(n,t){var e=-1,r=n.length,u,i,o;if(1===arguments.length){for(;++e<r;)if(null!=(i=n[e])&&i>=i){u=o=i;break}for(;++e<r;)null!=(i=n[e])&&(u>i&&(u=i),i>o&&(o=i))}else{for(;++e<r;)if(null!=(i=t.call(n,n[e],e))&&i>=i){u=o=i;break}for(;++e<r;)null!=(i=t.call(n,n[e],e))&&(u>i&&(u=i),i>o&&(o=i))}return[u,o]},ao.sum=function(n,t){var e=0,r=n.length,i,o=-1;if(1===arguments.length)for(;++o<r;)u(i=+n[o])&&(e+=i);else for(;++o<r;)u(i=+t.call(n,n[o],o))&&(e+=i);return e},ao.mean=function(n,t){var e=0,i=n.length,o,a=-1,l=i;if(1===arguments.length)for(;++a<i;)u(o=r(n[a]))?e+=o:--l;else for(;++a<i;)u(o=r(t.call(n,n[a],a)))?e+=o:--l;return l?e/l:void 0},ao.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},ao.median=function(n,t){var i=[],o=n.length,a,l=-1;if(1===arguments.length)for(;++l<o;)u(a=r(n[l]))&&i.push(a);else for(;++l<o;)u(a=r(t.call(n,n[l],l)))&&i.push(a);return i.length?ao.quantile(i.sort(e),.5):void 0},ao.variance=function(n,t){var e=n.length,i=0,o,a,l=0,c=-1,s=0;if(1===arguments.length)for(;++c<e;)u(o=r(n[c]))&&(a=o-i,i+=a/++s,l+=a*(o-i));else for(;++c<e;)u(o=r(t.call(n,n[c],c)))&&(a=o-i,i+=a/++s,l+=a*(o-i));return s>1?l/(s-1):void 0},ao.deviation=function(){var n=ao.variance.apply(this,arguments);return n?Math.sqrt(n):n};var Mo=i(e);ao.bisectLeft=Mo.left,ao.bisect=ao.bisectRight=Mo.right,ao.bisector=function(n){return i(1===n.length?function(t,r){return e(n(t),r)}:n)},ao.shuffle=function(n,t,e){(r=arguments.length)<3&&(e=n.length,2>r&&(t=0));for(var r=e-t,u,i;r;)i=Math.random()*r--|0,u=n[r+t],n[r+t]=n[i+t],n[i+t]=u;return n},ao.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},ao.pairs=function(n){for(var t=0,e=n.length-1,r,u=n[0],i=new Array(0>e?0:e);e>t;)i[t]=[r=u,u=n[++t]];return i},ao.zip=function(){if(!(u=arguments.length))return[];for(var n=-1,t=ao.min(arguments,o),e=new Array(t);++n<t;)for(var r=-1,u,i=e[n]=new Array(u);++r<u;)i[r]=arguments[r][n];return e},ao.transpose=function(n){return ao.zip.apply(ao,n)},ao.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ao.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ao.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ao.merge=function(n){for(var t=n.length,e,r=-1,u=0,i,o;++r<t;)u+=n[r].length;for(i=new Array(u);--t>=0;)for(o=n[t],e=o.length;--e>=0;)i[--u]=o[e];return i};var xo=Math.abs;ao.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r=[],u=a(xo(e)),i=-1,o;if(n*=u,t*=u,e*=u,0>e)for(;(o=n+e*++i)>t;)r.push(o/u);else for(;(o=n+e*++i)<t;)r.push(o/u);return r},ao.map=function(n,t){var e=new c;if(n instanceof c)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r=-1,u=n.length,i;if(1===arguments.length)for(;++r<u;)e.set(r,n[r]);else for(;++r<u;)e.set(t.call(n,i=n[r],r),i)}else for(var o in n)e.set(o,n[o]);return e};var bo="__proto__",_o="\x00";l(c,{has:h,get:function(n){return this._[s(n)]},set:function(n,t){return this._[s(n)]=t},remove:g,keys:p,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:f(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t),this._[t])}}),ao.nest=function(){function n(t,u,a){if(a>=r.length)return o?o.call(e,u):i?u.sort(i):u;for(var l=-1,s=u.length,f=r[a++],h,g,p,v=new c,d;++l<s;)(d=v.get(h=f(g=u[l])))?d.push(g):v.set(h,[g]);return t?(g=t(),p=function(e,r){g.set(e,n(t,r,a))}):(g={},p=function(e,r){g[e]=n(t,r,a)}),v.forEach(p),g}function t(n,e){if(e>=r.length)return n;var i=[],o=u[e++];return n.forEach(function(n,r){i.push({key:n,values:t(r,e)})}),o?i.sort(function(n,t){return o(n.key,t.key)}):i}var e={},r=[],u=[],i,o;return e.map=function(t,e){return n(e,t,0)},e.entries=function(e){return t(n(ao.map,e,0),0)},e.key=function(n){return r.push(n),e},e.sortKeys=function(n){return u[r.length-1]=n,e},e.sortValues=function(n){return i=n,e},e.rollup=function(n){return o=n,e},e},ao.set=function(n){var t=new m;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},l(m,{has:h,add:function(n){return this._[s(n+="")]=!0,n},remove:g,values:p,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t))}}),ao.behavior={},ao.rebind=function(n,t){for(var e=1,r=arguments.length,u;++e<r;)n[u=arguments[e]]=M(n,t,t[u]);return n};var wo=["webkit","ms","moz","Moz","o","O"];ao.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ao.event=null,ao.requote=function(n){return n.replace(ko,"\\$&")};var ko=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,So={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},Eo=function(n,t){return t.querySelector(n)},Ao=function(n,t){return t.querySelectorAll(n)},No=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(No=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(Eo=function(n,t){return Sizzle(n,t)[0]||null},Ao=Sizzle,No=Sizzle.matchesSelector),ao.selection=function(){return ao.select(so.documentElement)};var Co=ao.selection.prototype=[];Co.select=function(n){var t=[],e,r,u,i;n=N(n);for(var o=-1,a=this.length;++o<a;){t.push(e=[]),e.parentNode=(u=this[o]).parentNode;for(var l=-1,c=u.length;++l<c;)(i=u[l])?(e.push(r=n.call(i,i.__data__,l,o)),r&&"__data__"in i&&(r.__data__=i.__data__)):e.push(null)}return A(t)},Co.selectAll=function(n){var t=[],e,r;n=C(n);for(var u=-1,i=this.length;++u<i;)for(var o=this[u],a=-1,l=o.length;++a<l;)(r=o[a])&&(t.push(e=co(n.call(r,r.__data__,a,u))),e.parentNode=r);return A(t)};var zo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ao.ns={prefix:zo,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),zo.hasOwnProperty(e)?{space:zo[e],local:n}:n}},Co.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ao.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},Co.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!q(n[u]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},Co.style=function(n,e,r){var u=arguments.length;if(3>u){if("string"!=typeof n){2>u&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(2>u){var i=this.node();return t(i).getComputedStyle(i,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},Co.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(j(t,n[t]));return this}return this.each(j(n,t))},Co.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},Co.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},Co.append=function(n){return n=U(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},Co.insert=function(n,t){return n=U(n),t=N(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},Co.remove=function(){return this.each(F)},Co.data=function(n,t){function e(n,e){var r,u=n.length,i=e.length,o=Math.min(u,i),f=new Array(i),h=new Array(i),g=new Array(u),p,v;if(t){var d=new c,m=new Array(u),y;for(r=-1;++r<u;)(p=n[r])&&(d.has(y=t.call(p,p.__data__,r))?g[r]=p:d.set(y,p),m[r]=y);for(r=-1;++r<i;)(p=d.get(y=t.call(e,v=e[r],r)))?p!==!0&&(f[r]=p,p.__data__=v):h[r]=H(v),d.set(y,!0);for(r=-1;++r<u;)r in m&&d.get(m[r])!==!0&&(g[r]=n[r])}else{for(r=-1;++r<o;)p=n[r],v=e[r],p?(p.__data__=v,f[r]=p):h[r]=H(v);for(;i>r;++r)h[r]=H(e[r]);for(;u>r;++r)g[r]=n[r]}h.update=f,h.parentNode=f.parentNode=g.parentNode=n.parentNode,a.push(h),l.push(f),s.push(g)}var r=-1,u=this.length,i,o;if(!arguments.length){for(n=new Array(u=(i=this[0]).length);++r<u;)(o=i[r])&&(n[r]=o.__data__);return n}var a=Z([]),l=A([]),s=A([]);if("function"==typeof n)for(;++r<u;)e(i=this[r],n.call(i,i.parentNode.__data__,r));else for(;++r<u;)e(i=this[r],n);return l.enter=function(){return a},l.exit=function(){return s},l},Co.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},Co.filter=function(n){var t=[],e,r,u;"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){t.push(e=[]),e.parentNode=(r=this[i]).parentNode;for(var a=0,l=r.length;l>a;a++)(u=r[a])&&n.call(u,u.__data__,a,i)&&e.push(u)}return A(t)},Co.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e=this[n],r=e.length-1,u=e[r],i;--r>=0;)(i=e[r])&&(u&&u!==i.nextSibling&&u.parentNode.insertBefore(i,u),u=i);return this},Co.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},Co.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},Co.call=function(n){var t=co(arguments);return n.apply(t[0]=this,t),this},Co.empty=function(){return!this.node()},Co.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,u=e.length;u>r;r++){var i=e[r];if(i)return i}return null},Co.size=function(){var n=0;return Y(this,function(){++n}),n};var Lo=[];ao.selection.enter=Z,ao.selection.enter.prototype=Lo,Lo.append=Co.append,Lo.empty=Co.empty,Lo.node=Co.node,Lo.call=Co.call,Lo.size=Co.size,Lo.select=function(n){for(var t=[],e,r,u,i,o,a=-1,l=this.length;++a<l;){u=(i=this[a]).update,t.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,s=i.length;++c<s;)(o=i[c])?(e.push(u[c]=r=n.call(i.parentNode,o.__data__,c,a)),r.__data__=o.__data__):e.push(null)}return A(t)},Lo.insert=function(n,t){return arguments.length<2&&(t=V(this)),Co.insert.call(this,n,t)},ao.select=function(t){var e;return"string"==typeof t?(e=[Eo(t,so)],e.parentNode=so.documentElement):(e=[t],e.parentNode=n(t)),A([e])},ao.selectAll=function(n){var t;return"string"==typeof n?(t=co(Ao(n,so)),t.parentNode=so.documentElement):(t=co(n),t.parentNode=null),A([t])},Co.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var qo=ao.map({mouseenter:"mouseover",mouseleave:"mouseout"});so&&qo.forEach(function(n){"on"+n in so&&qo.remove(n)});var To,Ro=0;ao.mouse=function(n){return J(n,S())};var Do=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ao.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=S().changedTouches),t)for(var r=0,u=t.length,i;u>r;++r)if((i=t[r]).identifier===e)return J(n,i)},ao.behavior.drag=function(){function n(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(n,t,e,i,o){return function(){function a(){var n=t(f,p),e,r;n&&(e=n[0]-M[0],r=n[1]-M[1],g|=e|r,M=n,h({type:"drag",x:n[0]+d[0],y:n[1]+d[1],dx:e,dy:r}))}function l(){t(f,p)&&(m.on(i+v,null).on(o+v,null),y(g&&ao.event.target===s),h({type:"dragend"}))}var c=this,s=ao.event.target,f=c.parentNode,h=r.of(c,arguments),g=0,p=n(),v=".drag"+(null==p?"":"-"+p),d,m=ao.select(e(s)).on(i+v,a).on(o+v,l),y=W(s),M=t(f,p);u?(d=u.apply(c,arguments),d=[d.x-M[0],d.y-M[1]]):d=[0,0],h({type:"dragstart"})}}var r=E(n,"drag","dragstart","dragend"),u=null,i=e(b,ao.mouse,t,"mousemove","mouseup"),o=e(G,ao.touch,y,"touchmove","touchend");return n.origin=function(t){return arguments.length?(u=t,n):u},ao.rebind(n,r,"on")},ao.touches=function(n,t){return arguments.length<2&&(t=S().touches),t?co(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Po=1e-6,jo=Po*Po,Uo=Math.PI,Fo=2*Uo,Ho=Fo-Po,Oo=Uo/2,Io=Uo/180,Yo=180/Uo,Zo=Math.SQRT2,Vo=2,Xo=4;ao.interpolateZoom=function(n,t){var e=n[0],r=n[1],u=n[2],i=t[0],o=t[1],a=t[2],l=i-e,c=o-r,s=l*l+c*c,f,h;if(jo>s)h=Math.log(a/u)/Zo,f=function(n){return[e+n*l,r+n*c,u*Math.exp(Zo*n*h)]};else{var g=Math.sqrt(s),p=(a*a-u*u+Xo*s)/(2*u*Vo*g),v=(a*a-u*u-Xo*s)/(2*a*Vo*g),d=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(v*v+1)-v);h=(m-d)/Zo,f=function(n){var t=n*h,i=rn(d),o=u/(Vo*g)*(i*un(Zo*t+d)-en(d));return[e+o*l,r+o*c,u*i/rn(Zo*t+d)]}}return f.duration=1e3*h,f},ao.behavior.zoom=function(){function n(n){n.on(w,f).on(Wo+".zoom",g).on("dblclick.zoom",p).on(C,h)}function e(n){return[(n[0]-v.x)/v.k,(n[1]-v.y)/v.k]}function r(n){return[n[0]*v.k+v.x,n[1]*v.k+v.y]}function u(n){v.k=Math.max(x[0],Math.min(x[1],n))}function i(n,t){t=r(t),v.x+=n[0]-t[0],v.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:v.x,y:v.y,k:v.k},u(Math.pow(2,o)),i(m=e,r),t=ao.select(t),b>0&&(t=t.transition().duration(b)),t.call(n.event)}function a(){T&&T.domain(q.range().map(function(n){return(n-v.x)/v.k}).map(q.invert)),D&&D.domain(R.range().map(function(n){return(n-v.y)/v.k}).map(R.invert))}function l(n){_++||n({type:"zoomstart"})}function c(n){a(),n({type:"zoom",scale:v.k,translate:[v.x,v.y]})}function s(n){--_||(n({type:"zoomend"}),m=null)}function f(){function n(){f=1,i(ao.mouse(u),g),c(a)}function r(){h.on(S,null).on(A,null),p(f&&ao.event.target===o),s(a)}var u=this,o=ao.event.target,a=L.of(u,arguments),f=0,h=ao.select(t(u)).on(S,n).on(A,r),g=e(ao.mouse(u)),p=W(u);Fl.call(u),l(a)}function h(){function n(){var n=ao.touches(g);return y=v.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=ao.event.target;ao.select(t).on(x,r).on(b,a),_.push(t);for(var e=ao.event.changedTouches,u=0,i=e.length;i>u;++u)d[e[u].identifier]=null;var l=n(),c=Date.now();if(1===l.length){if(500>c-z){var s=l[0];o(g,s,d[s.identifier],Math.floor(Math.log(v.k)/Math.LN2)+1),k()}z=c}else if(l.length>1){var s=l[0],f=l[1],h=s[0]-f[0],p=s[1]-f[1];m=h*h+p*p}}function r(){var n=ao.touches(g),t,e,r,o;Fl.call(g);for(var a=0,l=n.length;l>a;++a,o=null)if(r=n[a],o=d[r.identifier]){if(e)break;t=r,e=o}if(o){var s=(s=r[0]-t[0])*s+(s=r[1]-t[1])*s,f=m&&Math.sqrt(s/m);t=[(t[0]+r[0])/2,(t[1]+r[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],u(f*y)}z=null,i(t,e),c(p)}function a(){if(ao.event.touches.length){for(var t=ao.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(var u in d)return void n()}ao.selectAll(_).on(M,null),S.on(w,f).on(C,h),E(),s(p)}var g=this,p=L.of(g,arguments),d={},m=0,y,M=".zoom-"+ao.event.changedTouches[0].identifier,x="touchmove"+M,b="touchend"+M,_=[],S=ao.select(g),E=W(g);t(),l(p),S.on(w,null).on(C,t)}function g(){var n=L.of(this,arguments);N?clearTimeout(N):(Fl.call(this),d=e(m=y||ao.mouse(this)),l(n)),N=setTimeout(function(){N=null,s(n)},50),k(),u(Math.pow(2,.002*Bo())*v.k),i(m,d),c(n)}function p(){var n=ao.mouse(this),t=Math.log(v.k)/Math.LN2;o(this,n,e(n),ao.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v={x:0,y:0,k:1},d,m,y,M=[960,500],x=$o,b=250,_=0,w="mousedown.zoom",S="mousemove.zoom",A="mouseup.zoom",N,C="touchstart.zoom",z,L=E(n,"zoomstart","zoom","zoomend"),q,T,R,D;return Wo||(Wo="onwheel"in so?(Bo=function(){return-ao.event.deltaY*(ao.event.deltaMode?120:1)},"wheel"):"onmousewheel"in so?(Bo=function(){return ao.event.wheelDelta},"mousewheel"):(Bo=function(){return-ao.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=L.of(this,arguments),t=v;Il?ao.select(this).transition().each("start.zoom",function(){v=this.__chart__||{x:0,y:0,k:1},l(n)}).tween("zoom:zoom",function(){var e=M[0],r=M[1],u=m?m[0]:e/2,i=m?m[1]:r/2,o=ao.interpolateZoom([(u-v.x)/v.k,(i-v.y)/v.k,e/v.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=v={x:u-r[0]*a,y:i-r[1]*a,k:a},c(n)}}).each("interrupt.zoom",function(){s(n)}).each("end.zoom",function(){s(n)}):(this.__chart__=v,l(n),c(n),s(n))})},n.translate=function(t){return arguments.length?(v={x:+t[0],y:+t[1],k:v.k},a(),n):[v.x,v.y]},n.scale=function(t){return arguments.length?(v={x:v.x,y:v.y,k:null},u(+t),a(),n):v.k},n.scaleExtent=function(t){return arguments.length?(x=null==t?$o:[+t[0],+t[1]],n):x},n.center=function(t){return arguments.length?(y=t&&[+t[0],+t[1]],n):y},n.size=function(t){return arguments.length?(M=t&&[+t[0],+t[1]],n):M},n.duration=function(t){return arguments.length?(b=+t,n):b},n.x=function(t){return arguments.length?(T=t,q=t.copy(),v={x:0,y:0,k:1},n):T},n.y=function(t){return arguments.length?(D=t,R=t.copy(),v={x:0,y:0,k:1},n):D},ao.rebind(n,L,"on")};var $o=[0,1/0],Bo,Wo;ao.color=an,an.prototype.toString=function(){return this.rgb()+""},ao.hsl=ln;var Jo=ln.prototype=new an;Jo.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,this.l/n)},Jo.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,n*this.l)},Jo.rgb=function(){return cn(this.h,this.s,this.l)},ao.hcl=sn;var Go=sn.prototype=new an;Go.brighter=function(n){return new sn(this.h,this.c,Math.min(100,this.l+Ko*(arguments.length?n:1)))},Go.darker=function(n){return new sn(this.h,this.c,Math.max(0,this.l-Ko*(arguments.length?n:1)))},Go.rgb=function(){return fn(this.h,this.c,this.l).rgb()},ao.lab=hn;var Ko=18,Qo=.95047,na=1,ta=1.08883,ea=hn.prototype=new an;ea.brighter=function(n){return new hn(Math.min(100,this.l+Ko*(arguments.length?n:1)),this.a,this.b)},ea.darker=function(n){return new hn(Math.max(0,this.l-Ko*(arguments.length?n:1)),this.a,this.b)},ea.rgb=function(){return gn(this.l,this.a,this.b)},ao.rgb=yn;var ra=yn.prototype=new an;ra.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),new yn(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new yn(u,u,u)},ra.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new yn(n*this.r,n*this.g,n*this.b)},ra.hsl=function(){return wn(this.r,this.g,this.b)},ra.toString=function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)};var ua=ao.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ua.forEach(function(n,t){ua.set(n,Mn(t))}),ao.functor=An,ao.xhr=Nn(y),ao.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var o=Cn(n,t,null==e?r:u(e),i);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:u(n)):e},o}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),l=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(a>=o)return u;if(f)return f=!1,r;var t=a;if(34===n.charCodeAt(t)){for(var e=t;e++<o;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}a=e+2;var i=n.charCodeAt(e+1);return 13===i?(f=!0,10===n.charCodeAt(e+2)&&++a):10===i&&(f=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;o>a;){var i=n.charCodeAt(a++),c=1;if(10===i)f=!0;else if(13===i)f=!0,10===n.charCodeAt(a)&&(++a,++c);else if(i!==l)continue;return n.slice(t,a-c)}return n.slice(t)}for(var r={},u={},i=[],o=n.length,a=0,c=0,s,f;(s=e())!==u;){for(var h=[];s!==r&&s!==u;)h.push(s),s=e();t&&null==(h=t(h,c++))||i.push(h)}return i},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new m,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(o).join(n)].concat(t.map(function(t){return u.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(i).join("\n")},e},ao.csv=ao.dsv(",","text/csv"),ao.tsv=ao.dsv("	","text/tab-separated-values");var ia,oa,aa,la,ca=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ao.timer=function(){qn.apply(this,arguments)},ao.timer.flush=function(){Rn(),Dn()},ao.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var sa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(jn);ao.formatPrefix=function(n,t){var e=0;return(n=+n)&&(0>n&&(n*=-1),t&&(n=ao.round(n,Pn(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),sa[8+e/3]};var fa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ha=ao.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ao.round(n,Pn(n,t))).toFixed(Math.max(0,Math.min(20,Pn(n*(1+1e-15),t))))}}),ga=ao.time={},pa=Date;Hn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){va.setUTCDate.apply(this._,arguments)},setDay:function(){va.setUTCDay.apply(this._,arguments)},setFullYear:function(){va.setUTCFullYear.apply(this._,arguments)},setHours:function(){va.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){va.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){va.setUTCMinutes.apply(this._,arguments)},setMonth:function(){va.setUTCMonth.apply(this._,arguments)},setSeconds:function(){va.setUTCSeconds.apply(this._,arguments)},setTime:function(){va.setTime.apply(this._,arguments)}};var va=Date.prototype;ga.year=On(function(n){return n=ga.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ga.years=ga.year.range,ga.years.utc=ga.year.utc.range,ga.day=On(function(n){var t=new pa(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ga.days=ga.day.range,ga.days.utc=ga.day.utc.range,ga.dayOfYear=function(n){var t=ga.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=ga[n]=On(function(n){return(n=ga.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ga.year(n).getDay();return Math.floor((ga.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ga[n+"s"]=e.range,ga[n+"s"].utc=e.utc.range,ga[n+"OfYear"]=function(n){var e=ga.year(n).getDay();return Math.floor((ga.dayOfYear(n)+(e+t)%7)/7)}}),ga.week=ga.sunday,ga.weeks=ga.sunday.range,ga.weeks.utc=ga.sunday.utc.range,ga.weekOfYear=ga.sundayOfYear;var da={"-":"",_:" ",0:"0"},ma=/^\s*\d+/,ya=/^%/;ao.locale=function(n){return{numberFormat:Un(n),timeFormat:Yn(n)}};var Ma=ao.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",
periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ao.format=Ma.numberFormat,ao.geo={},st.prototype={s:0,t:0,add:function(n){ft(n,this.t,xa),ft(xa.s,this.s,this),this.s?this.t+=xa.t:this.s=xa.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xa=new st;ao.geo.stream=function(n,t){n&&ba.hasOwnProperty(n.type)?ba[n.type](n,t):ht(n,t)};var ba={Feature:function(n,t){ht(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)ht(e[r].geometry,t)}},_a={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){gt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)gt(e[r],t,0)},Polygon:function(n,t){pt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)pt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)ht(e[r],t)}};ao.geo.area=function(n){return wa=0,ao.geo.stream(n,Sa),wa};var wa,ka=new st,Sa={sphere:function(){wa+=4*Uo},point:b,lineStart:b,lineEnd:b,polygonStart:function(){ka.reset(),Sa.lineStart=vt},polygonEnd:function(){var n=2*ka;wa+=0>n?4*Uo+n:n,Sa.lineStart=Sa.lineEnd=Sa.point=b}};ao.geo.bounds=function(){function n(n,t){M.push(x=[s=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=dt([t*Io,e*Io]);if(m){var u=yt(m,r),i=[u[1],-u[0],0],o=yt(i,u);bt(o),o=_t(o);var l=t-p,c=l>0?1:-1,v=o[0]*Yo*c,d=xo(l)>180;if(d^(v>c*p&&c*t>v)){var y=o[1]*Yo;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>c*p&&c*t>v)){var y=-o[1]*Yo;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t):h>=s?(s>t&&(s=t),t>h&&(h=t)):t>p?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t)}else n(t,e);m=r,p=t}function e(){b.point=t}function r(){x[0]=s,x[1]=h,b.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=xo(r)>180?r+(r>0?360:-360):r}else v=n,d=e;Sa.point(n,e),t(n,e)}function i(){Sa.lineStart()}function o(){u(v,d),Sa.lineEnd(),xo(y)>Po&&(s=-(h=180)),x[0]=s,x[1]=h,m=null}function a(n,t){return(t-=n)<0?t+360:t}function l(n,t){return n[0]-t[0]}function c(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var s,f,h,g,p,v,d,m,y,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=u,b.lineStart=i,b.lineEnd=o,y=0,Sa.polygonStart()},polygonEnd:function(){Sa.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>ka?(s=-(h=180),f=-(g=90)):y>Po?g=90:-Po>y&&(f=-90),x[0]=s,x[1]=h}};return function(n){g=h=-(s=f=1/0),M=[],ao.geo.stream(n,b);var t=M.length;if(t){M.sort(l);for(var e=1,r=M[0],u,i=[r];t>e;++e)u=M[e],c(u[0],r)||c(u[1],r)?(a(r[0],u[1])>a(r[0],r[1])&&(r[1]=u[1]),a(u[0],r[1])>a(r[0],r[1])&&(r[0]=u[0])):i.push(r=u);for(var o=-(1/0),p,t=i.length-1,e=0,r=i[t],u;t>=e;r=u,++e)u=i[e],(p=a(r[1],u[0]))>o&&(o=p,s=u[0],h=r[1])}return M=x=null,s===1/0||f===1/0?[[0/0,0/0],[0/0,0/0]]:[[s,f],[h,g]]}}(),ao.geo.centroid=function(n){Ea=Aa=Na=Ca=za=La=qa=Ta=Ra=Da=Pa=0,ao.geo.stream(n,ja);var t=Ra,e=Da,r=Pa,u=t*t+e*e+r*r;return jo>u&&(t=La,e=qa,r=Ta,Po>Aa&&(t=Na,e=Ca,r=za),u=t*t+e*e+r*r,jo>u)?[0/0,0/0]:[Math.atan2(e,t)*Yo,tn(r/Math.sqrt(u))*Yo]};var Ea,Aa,Na,Ca,za,La,qa,Ta,Ra,Da,Pa,ja={sphere:b,point:kt,lineStart:Et,lineEnd:At,polygonStart:function(){ja.lineStart=Nt},polygonEnd:function(){ja.lineStart=Et}},Ua=Rt(zt,Ut,Ht,[-Uo,-Uo/2]),Fa=1e9;ao.geo.clipExtent=function(){var n,t,e,r,u,i,o={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(a){return arguments.length?(i=Zt(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),u&&(u.valid=!1,u=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(ao.geo.conicEqualArea=function(){return Vt(Xt)}).raw=Xt,ao.geo.albers=function(){return ao.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ao.geo.albersUsa=function(){function n(n){var t=n[0],e=n[1];return u=null,o(t,e),u||(a(t,e),u)||l(t,e),u}var t=ao.geo.albers(),e=ao.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),r=ao.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,i={point:function(n,t){u=[n,t]}},o,a,l;return n.invert=function(n){var u=t.scale(),i=t.translate(),o=(n[0]-i[0])/u,a=(n[1]-i[1])/u;return(a>=.12&&.234>a&&o>=-.425&&-.214>o?e:a>=.166&&.234>a&&o>=-.214&&-.115>o?r:t).invert(n)},n.stream=function(n){var u=t.stream(n),i=e.stream(n),o=r.stream(n);return{point:function(n,t){u.point(n,t),i.point(n,t),o.point(n,t)},sphere:function(){u.sphere(),i.sphere(),o.sphere()},lineStart:function(){u.lineStart(),i.lineStart(),o.lineStart()},lineEnd:function(){u.lineEnd(),i.lineEnd(),o.lineEnd()},polygonStart:function(){u.polygonStart(),i.polygonStart(),o.polygonStart()},polygonEnd:function(){u.polygonEnd(),i.polygonEnd(),o.polygonEnd()}}},n.precision=function(u){return arguments.length?(t.precision(u),e.precision(u),r.precision(u),n):t.precision()},n.scale=function(u){return arguments.length?(t.scale(u),e.scale(.35*u),r.scale(u),n.translate(t.translate())):t.scale()},n.translate=function(u){if(!arguments.length)return t.translate();var c=t.scale(),s=+u[0],f=+u[1];return o=t.translate(u).clipExtent([[s-.455*c,f-.238*c],[s+.455*c,f+.238*c]]).stream(i).point,a=e.translate([s-.307*c,f+.201*c]).clipExtent([[s-.425*c+Po,f+.12*c+Po],[s-.214*c-Po,f+.234*c-Po]]).stream(i).point,l=r.translate([s-.205*c,f+.212*c]).clipExtent([[s-.214*c+Po,f+.166*c+Po],[s-.115*c-Po,f+.234*c-Po]]).stream(i).point,n},n.scale(1070)};var Ha,Oa,Ia={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Oa=0,Ia.lineStart=$t},polygonEnd:function(){Ia.lineStart=Ia.lineEnd=Ia.point=b,Ha+=xo(Oa/2)}},Ya,Za,Va,Xa,$a={point:Bt,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Ba={point:Gt,lineStart:Kt,lineEnd:Qt,polygonStart:function(){Ba.lineStart=ne},polygonEnd:function(){Ba.point=Gt,Ba.lineStart=Kt,Ba.lineEnd=Qt}};ao.geo.path=function(){function n(n){return n&&("function"==typeof e&&o.pointRadius(+e.apply(this,arguments)),a&&a.valid||(a=i(o)),ao.geo.stream(n,a)),o.result()}function t(){return a=null,n}var e=4.5,r,u,i,o,a;return n.area=function(n){return Ha=0,ao.geo.stream(n,i(Ia)),Ha},n.centroid=function(n){return Na=Ca=za=La=qa=Ta=Ra=Da=Pa=0,ao.geo.stream(n,i(Ba)),Pa?[Ra/Pa,Da/Pa]:Ta?[La/Ta,qa/Ta]:za?[Na/za,Ca/za]:[0/0,0/0]},n.bounds=function(n){return Va=Xa=-(Ya=Za=1/0),ao.geo.stream(n,i($a)),[[Ya,Za],[Va,Xa]]},n.projection=function(n){return arguments.length?(i=(r=n)?n.stream||re(n):y,t()):r},n.context=function(n){return arguments.length?(o=null==(u=n)?new Wt:new te(n),"function"!=typeof e&&o.pointRadius(e),t()):u},n.pointRadius=function(t){return arguments.length?(e="function"==typeof t?t:(o.pointRadius(+t),+t),n):e},n.projection(ao.geo.albersUsa()).context(null)},ao.geo.transform=function(n){return{stream:function(t){var e=new ue(t);for(var r in n)e[r]=n[r];return e}}},ue.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ao.geo.projection=oe,ao.geo.projectionMutator=ae,(ao.geo.equirectangular=function(){return oe(ce)}).raw=ce.invert=ce,ao.geo.rotation=function(n){function t(t){return t=n(t[0]*Io,t[1]*Io),t[0]*=Yo,t[1]*=Yo,t}return n=fe(n[0]%360*Io,n[1]*Io,n.length>2?n[2]*Io:0),t.invert=function(t){return t=n.invert(t[0]*Io,t[1]*Io),t[0]*=Yo,t[1]*=Yo,t},t},se.invert=ce,ao.geo.circle=function(){function n(){var n="function"==typeof t?t.apply(this,arguments):t,e=fe(-n[0]*Io,-n[1]*Io,0).invert,r=[];return u(null,null,1,{point:function(n,t){r.push(n=e(n,t)),n[0]*=Yo,n[1]*=Yo}}),{type:"Polygon",coordinates:[r]}}var t=[0,0],e,r=6,u;return n.origin=function(e){return arguments.length?(t=e,n):t},n.angle=function(t){return arguments.length?(u=ve((e=+t)*Io,r*Io),n):e},n.precision=function(t){return arguments.length?(u=ve(e*Io,(r=+t)*Io),n):r},n.angle(90)},ao.geo.distance=function(n,t){var e=(t[0]-n[0])*Io,r=n[1]*Io,u=t[1]*Io,i=Math.sin(e),o=Math.cos(e),a=Math.sin(r),l=Math.cos(r),c=Math.sin(u),s=Math.cos(u),f;return Math.atan2(Math.sqrt((f=s*i)*f+(f=l*c-a*s*o)*f),a*c+l*s*o)},ao.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ao.range(Math.ceil(i/h)*h,u,h).map(d).concat(ao.range(Math.ceil(c/g)*g,l,g).map(m)).concat(ao.range(Math.ceil(r/s)*s,e,s).filter(function(n){return xo(n%h)>Po}).map(p)).concat(ao.range(Math.ceil(a/f)*f,o,f).filter(function(n){return xo(n%g)>Po}).map(v))}var e,r,u,i,o,a,l,c,s=10,f=s,h=90,g=360,p,v,d,m,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(m(l).slice(1),d(u).reverse().slice(1),m(c).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],c=+t[0][1],l=+t[1][1],i>u&&(t=i,i=u,u=t),c>l&&(t=c,c=l,l=t),n.precision(y)):[[i,c],[u,l]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(y)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(h=+t[0],g=+t[1],n):[h,g]},n.minorStep=function(t){return arguments.length?(s=+t[0],f=+t[1],n):[s,f]},n.precision=function(t){return arguments.length?(y=+t,p=me(a,o,90),v=ye(r,e,y),d=me(c,l,90),m=ye(i,u,y),n):y},n.majorExtent([[-180,-90+Po],[180,90-Po]]).minorExtent([[-180,-80-Po],[180,80+Po]])},ao.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[e||t.apply(this,arguments),u||r.apply(this,arguments)]}}var t=Me,e,r=xe,u;return n.distance=function(){return ao.geo.distance(e||t.apply(this,arguments),u||r.apply(this,arguments))},n.source=function(r){return arguments.length?(t=r,e="function"==typeof r?null:r,n):t},n.target=function(t){return arguments.length?(r=t,u="function"==typeof t?null:t,n):r},n.precision=function(){return arguments.length?n:0},n},ao.geo.interpolate=function(n,t){return be(n[0]*Io,n[1]*Io,t[0]*Io,t[1]*Io)},ao.geo.length=function(n){return Wa=0,ao.geo.stream(n,Ja),Wa};var Wa,Ja={sphere:b,point:b,lineStart:_e,lineEnd:b,polygonStart:b,polygonEnd:b},Ga=we(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ao.geo.azimuthalEqualArea=function(){return oe(Ga)}).raw=Ga;var Ka=we(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},y);(ao.geo.azimuthalEquidistant=function(){return oe(Ka)}).raw=Ka,(ao.geo.conicConformal=function(){return Vt(ke)}).raw=ke,(ao.geo.conicEquidistant=function(){return Vt(Se)}).raw=Se;var Qa=we(function(n){return 1/n},Math.atan);(ao.geo.gnomonic=function(){return oe(Qa)}).raw=Qa,Ee.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Oo]},(ao.geo.mercator=function(){return Ae(Ee)}).raw=Ee;var nl=we(function(){return 1},Math.asin);(ao.geo.orthographic=function(){return oe(nl)}).raw=nl;var tl=we(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ao.geo.stereographic=function(){return oe(tl)}).raw=tl,Ne.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Oo]},(ao.geo.transverseMercator=function(){var n=Ae(Ne),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Ne,ao.geom={},ao.geom.hull=function(n){function t(n){if(n.length<3)return[];var t=An(e),u=An(r),i,o=n.length,a=[],l=[];for(i=0;o>i;i++)a.push([+t.call(this,n[i],i),+u.call(this,n[i],i),i]);for(a.sort(qe),i=0;o>i;i++)l.push([a[i][0],-a[i][1]]);var c=Le(a),s=Le(l),f=s[0]===c[0],h=s[s.length-1]===c[c.length-1],g=[];for(i=c.length-1;i>=0;--i)g.push(n[a[c[i]][2]]);for(i=+f;i<s.length-h;++i)g.push(n[a[s[i]][2]]);return g}var e=Ce,r=ze;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},ao.geom.polygon=function(n){return So(n,el),n};var el=ao.geom.polygon.prototype=[];el.area=function(){for(var n=-1,t=this.length,e,r=this[t-1],u=0;++n<t;)e=r,r=this[n],u+=e[1]*r[0]-e[0]*r[1];return.5*u},el.centroid=function(n){var t=-1,e=this.length,r=0,u=0,i,o=this[e-1],a;for(arguments.length||(n=-1/(6*this.area()));++t<e;)i=o,o=this[t],a=i[0]*o[1]-o[0]*i[1],r+=(i[0]+o[0])*a,u+=(i[1]+o[1])*a;return[r*n,u*n]},el.clip=function(n){for(var t,e=De(n),r=-1,u=this.length-De(this),i,o,a=this[u-1],l,c,s;++r<u;){for(t=n.slice(),n.length=0,l=this[r],c=t[(o=t.length-e)-1],i=-1;++i<o;)s=t[i],Te(s,a,l)?(Te(c,a,l)||n.push(Re(c,s,a,l)),n.push(s)):Te(c,a,l)&&n.push(Re(c,s,a,l)),c=s;e&&n.push(n[0]),a=l}return n};var rl,ul,il,ol=[],al,ll,cl=[];Ye.prototype.prepare=function(){for(var n=this.edges,t=n.length,e;t--;)e=n[t].edge,e.b&&e.a||n.splice(t,1);return n.sort(Ve),n.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=or(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(ur(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ir(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(ir(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ur(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t=n.U,e,r=n.L,u=n.R,i,o;if(i=r?u?or(u):r:u,t?t.L===n?t.L=i:t.R=i:this._=i,r&&u?(o=i.C,i.C=n.C,i.L=r,r.U=i,i!==u?(t=i.U,i.U=n.U,n=i.R,t.L=n,i.R=u,u.U=i):(i.U=t,t=i,n=i.R)):(o=n.C,n=i),n&&(n.U=t),!o){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===t.L){if(e=t.R,e.C&&(e.C=!1,t.C=!0,ur(this,t),e=t.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ir(this,e),e=t.R),e.C=t.C,t.C=e.R.C=!1,ur(this,t),n=this._;break}}else if(e=t.L,e.C&&(e.C=!1,t.C=!0,ir(this,t),e=t.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ur(this,e),e=t.L),e.C=t.C,t.C=e.L.C=!1,ir(this,t),n=this._;break}e.C=!0,n=t,t=t.U}while(!n.C);n&&(n.C=!1)}}},ao.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return ar(e(n),a).cells.forEach(function(e,a){var l=e.edges,c=e.site,s=t[a]=l.length?l.map(function(n){var t=n.start();return[t.x,t.y]}):c.x>=r&&c.x<=i&&c.y>=u&&c.y<=o?[[r,o],[i,o],[i,u],[r,u]]:[];s.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Po)*Po,y:Math.round(o(n,t)/Po)*Po,i:t}})}var r=Ce,u=ze,i=r,o=u,a=sl;return n?t(n):(t.links=function(n){return ar(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return ar(e(n)).cells.forEach(function(e,r){for(var u=e.site,i=e.edges.sort(Ve),o=-1,a=i.length,l,c,s=i[a-1].edge,f=s.l===u?s.r:s.l;++o<a;)l=s,c=f,s=i[o].edge,f=s.l===u?s.r:s.l,r<c.i&&r<f.i&&cr(u,c,f)<0&&t.push([n[r],n[c.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=An(r=n),t):r},t.y=function(n){return arguments.length?(o=An(u=n),t):u},t.clipExtent=function(n){return arguments.length?(a=null==n?sl:n,t):a===sl?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===sl?null:a&&a[1]},t)};var sl=[[-1e6,-1e6],[1e6,1e6]];ao.geom.delaunay=function(n){return ao.geom.voronoi().triangles(n)},ao.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var l=n.x,s=n.y;if(null!=l)if(xo(l-e)+xo(s-r)<.01)c(n,t,e,r,u,i,o,a);else{var f=n.point;n.x=n.y=n.point=null,c(n,f,l,s,u,i,o,a),c(n,t,e,r,u,i,o,a)}else n.x=e,n.y=r,n.point=t}else c(n,t,e,r,u,i,o,a)}function c(n,t,e,r,u,o,a,l){var c=.5*(u+a),s=.5*(o+l),f=e>=c,h=r>=s,g=h<<1|f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=hr()),f?u=c:a=c,h?o=s:l=s,i(n,t,e,r,u,o,a,l)}var s,f=An(o),h=An(a),g,p,v,d,m,y,M,x;if(null!=t)m=t,y=e,M=r,x=u;else if(M=x=-(m=y=1/0),g=[],p=[],d=n.length,l)for(v=0;d>v;++v)s=n[v],s.x<m&&(m=s.x),s.y<y&&(y=s.y),s.x>M&&(M=s.x),s.y>x&&(x=s.y),g.push(s.x),p.push(s.y);else for(v=0;d>v;++v){var b=+f(s=n[v],v),_=+h(s,v);m>b&&(m=b),y>_&&(y=_),b>M&&(M=b),_>x&&(x=_),g.push(b),p.push(_)}var w=M-m,k=x-y;w>k?x=y+w:M=m+k;var S=hr();if(S.add=function(n){i(S,n,+f(n,++v),+h(n,v),m,y,M,x)},S.visit=function(n){gr(n,S,m,y,M,x)},S.find=function(n){return pr(S,n[0],n[1],m,y,M,x)},v=-1,null==t){for(;++v<d;)i(S,n[v],g[v],p[v],m,y,M,x);--v}else n.forEach(S.add);return g=p=n=s=null,S}var o=Ce,a=ze,l;return(l=arguments.length)?(o=sr,a=fr,3===l&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(o=n,i):o},i.y=function(n){return arguments.length?(a=n,i):a},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},ao.interpolateRgb=vr,ao.interpolateObject=dr,ao.interpolateNumber=mr,ao.interpolateString=yr;var fl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hl=new RegExp(fl.source,"g");ao.interpolate=Mr,ao.interpolators=[function(n,t){var e=typeof t;return("string"===e?ua.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?vr:yr:t instanceof an?vr:Array.isArray(t)?xr:"object"===e&&isNaN(t)?dr:mr)(n,t)}],ao.interpolateArray=xr;var gl=function(){return y},pl=ao.map({linear:gl,poly:Ar,quad:function(){return kr},cubic:function(){return Sr},sin:function(){return Nr},exp:function(){return Cr},circle:function(){return zr},elastic:Lr,back:qr,bounce:function(){return Tr}}),vl=ao.map({"in":y,out:_r,"in-out":wr,"out-in":function(n){return wr(_r(n))}});ao.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=pl.get(e)||gl,r=vl.get(r)||y,br(r(e.apply(null,lo.call(arguments,1))))},ao.interpolateHcl=Rr,ao.interpolateHsl=Dr,ao.interpolateLab=Pr,ao.interpolateRound=jr,ao.transform=function(n){var t=so.createElementNS(ao.ns.prefix.svg,"g");return(ao.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Ur(e?e.matrix:dl)})(n)},Ur.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var dl={a:1,b:0,c:0,d:1,e:0,f:0};ao.interpolateTransform=$r,ao.layout={},ao.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Jr(n[e]));return t}},ao.layout.chord=function(){function n(){var n={},e=[],f=ao.range(o),h=[],g,p,v,d,m;for(r=[],u=[],g=0,d=-1;++d<o;){for(p=0,m=-1;++m<o;)p+=i[d][m];e.push(p),h.push(ao.range(o)),g+=p}for(l&&f.sort(function(n,t){return l(e[n],e[t])}),c&&h.forEach(function(n,t){n.sort(function(n,e){return c(i[t][n],i[t][e])})}),g=(Fo-a*o)/g,p=0,d=-1;++d<o;){for(v=p,m=-1;++m<o;){var y=f[d],M=h[y][m],x=i[y][M],b=p,_=p+=x*g;n[y+"-"+M]={index:y,subindex:M,startAngle:b,endAngle:_,value:x}}u[y]={index:y,startAngle:v,endAngle:p,value:(p-v)/g},p+=a}for(d=-1;++d<o;)for(m=d-1;++m<o;){var w=n[d+"-"+m],k=n[m+"-"+d];(w.value||k.value)&&r.push(w.value<k.value?{source:k,target:w}:{source:w,target:k})}s&&t()}function t(){r.sort(function(n,t){return s((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e={},r,u,i,o,a=0,l,c,s;return e.matrix=function(n){return arguments.length?(o=(i=n)&&i.length,r=u=null,e):i},e.padding=function(n){return arguments.length?(a=n,r=u=null,e):a},e.sortGroups=function(n){return arguments.length?(l=n,r=u=null,e):l},e.sortSubgroups=function(n){return arguments.length?(c=n,r=null,e):c},e.sortChords=function(n){return arguments.length?(s=n,r&&t(),e):s},e.chords=function(){return r||n(),r},e.groups=function(){return u||n(),u},e},ao.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,o=t.cy-n.y,a=u-e,l=i*i+o*o;if(l>a*a/p){if(h>l){var c=t.charge/l;n.px-=i*c,n.py-=o*c}return!0}if(t.point&&l&&h>l){var c=t.pointCharge/l;n.px-=i*c,n.py-=o*c}}return!t.charge}}function t(n){n.px=ao.event.x,n.py=ao.event.y,e.resume()}var e={},r=ao.dispatch("start","tick","end"),u,i=[1,1],o,a,l=.9,c=ml,s=yl,f=-30,h=Ml,g=.1,p=.64,v=[],d=[],m,M,x;return e.tick=function(){if((a*=.99)<.005)return u=null,r.end({type:"end",alpha:a=0}),!0;var t=v.length,e=d.length,o,c,s,h,p,y,b,_,w;for(c=0;e>c;++c)s=d[c],h=s.source,p=s.target,_=p.x-h.x,w=p.y-h.y,(y=_*_+w*w)&&(y=a*M[c]*((y=Math.sqrt(y))-m[c])/y,_*=y,w*=y,p.x-=_*(b=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=w*b,h.x+=_*(b=1-b),h.y+=w*b);if((b=a*g)&&(_=i[0]/2,w=i[1]/2,c=-1,b))for(;++c<t;)s=v[c],s.x+=(_-s.x)*b,s.y+=(w-s.y)*b;if(f)for(ru(o=ao.geom.quadtree(v),a,x),c=-1;++c<t;)(s=v[c]).fixed||o.visit(n(s));for(c=-1;++c<t;)s=v[c],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*l,s.y-=(s.py-(s.py=s.y))*l);r.tick({type:"tick",alpha:a})},e.nodes=function(n){return arguments.length?(v=n,e):v},e.links=function(n){return arguments.length?(d=n,e):d},e.size=function(n){return arguments.length?(i=n,e):i},e.linkDistance=function(n){return arguments.length?(c="function"==typeof n?n:+n,e):c},e.distance=e.linkDistance,e.linkStrength=function(n){return arguments.length?(s="function"==typeof n?n:+n,e):s},e.friction=function(n){return arguments.length?(l=+n,e):l},e.charge=function(n){return arguments.length?(f="function"==typeof n?n:+n,e):f},e.chargeDistance=function(n){return arguments.length?(h=n*n,e):Math.sqrt(h)},e.gravity=function(n){return arguments.length?(g=+n,e):g},e.theta=function(n){return arguments.length?(p=n*n,e):Math.sqrt(p)},e.alpha=function(n){return arguments.length?(n=+n,a?n>0?a=n:(u.c=null,u.t=0/0,u=null,r.start({type:"end",alpha:a=0})):n>0&&(r.start({type:"start",alpha:a=n}),u=qn(e.tick)),e):a},e.start=function(){function n(n,e){if(!l){for(l=new Array(r),a=0;r>a;++a)l[a]=[];for(a=0;u>a;++a){var i=d[a];l[i.source.index].push(i.target),l[i.target.index].push(i.source)}}for(var o=l[t],a=-1,c=o.length,s;++a<c;)if(!isNaN(s=o[a][n]))return s;return Math.random()*e}var t,r=v.length,u=d.length,o=i[0],a=i[1],l,h;for(t=0;r>t;++t)(h=v[t]).index=t,h.weight=0;for(t=0;u>t;++t)h=d[t],"number"==typeof h.source&&(h.source=v[h.source]),"number"==typeof h.target&&(h.target=v[h.target]),++h.source.weight,++h.target.weight;for(t=0;r>t;++t)h=v[t],isNaN(h.x)&&(h.x=n("x",o)),isNaN(h.y)&&(h.y=n("y",a)),isNaN(h.px)&&(h.px=h.x),isNaN(h.py)&&(h.py=h.y);if(m=[],"function"==typeof c)for(t=0;u>t;++t)m[t]=+c.call(this,d[t],t);else for(t=0;u>t;++t)m[t]=c;if(M=[],"function"==typeof s)for(t=0;u>t;++t)M[t]=+s.call(this,d[t],t);else for(t=0;u>t;++t)M[t]=s;if(x=[],"function"==typeof f)for(t=0;r>t;++t)x[t]=+f.call(this,v[t],t);else for(t=0;r>t;++t)x[t]=f;return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){return o||(o=ao.behavior.drag().origin(y).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",nu)),arguments.length?void this.on("mouseover.force",tu).on("mouseout.force",eu).call(o):o},ao.rebind(e,r,"on")};var ml=20,yl=1,Ml=1/0;ao.layout.hierarchy=function(){function n(u){var i=[u],o=[],a;for(u.depth=0;null!=(a=i.pop());)if(o.push(a),(c=e.call(n,a,a.depth))&&(l=c.length)){for(var l,c,s;--l>=0;)i.push(s=c[l]),s.parent=a,s.depth=a.depth+1;r&&(a.value=0),a.children=c}else r&&(a.value=+r.call(n,a,a.depth)||0),delete a.children;return ou(u,function(n){var e,u;t&&(e=n.children)&&e.sort(t),r&&(u=n.parent)&&(u.value+=n.value)}),o}var t=cu,e=au,r=lu;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(iu(t,function(n){n.children&&(n.value=0)}),ou(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},ao.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(a=i.length)){var o=-1,a,l,c;for(r=t.value?r/t.value:0;++o<a;)n(l=i[o],e,c=l.value*r,u),e+=c}}function t(n){var e=n.children,r=0;if(e&&(i=e.length))for(var u=-1,i;++u<i;)r=Math.max(r,t(e[u]));return 1+r}function e(e,i){var o=r.call(this,e,i);return n(o[0],0,u[0],u[1]/t(o[0])),o}var r=ao.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},uu(e,r)},ao.layout.pie=function(){function n(o){var a=o.length,l=o.map(function(e,r){return+t.call(n,e,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),s=("function"==typeof u?u.apply(this,arguments):u)-c,f=Math.min(Math.abs(s)/a,+("function"==typeof i?i.apply(this,arguments):i)),h=f*(0>s?-1:1),g=ao.sum(l),p=g?(s-a*h)/g:0,v=ao.range(a),d=[],m;return null!=e&&v.sort(e===xl?function(n,t){return l[t]-l[n]}:function(n,t){return e(o[n],o[t])}),v.forEach(function(n){d[n]={data:o[n],value:m=l[n],startAngle:c,endAngle:c+=m*p+h,padAngle:f}}),d}var t=Number,e=xl,r=0,u=Fo,i=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n.padAngle=function(t){return arguments.length?(i=t,n):i},n};var xl={};ao.layout.stack=function(){function n(a,l){if(!(p=a.length))return a;var c=a.map(function(e,r){return t.call(n,e,r)}),s=c.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),o.call(n,t,e)]})}),f=e.call(n,s,l);c=ao.permute(c,f),s=ao.permute(s,f);var h=r.call(n,s,l),g=c[0].length,p,v,d,m;for(d=0;g>d;++d)for(u.call(n,c[0][d],m=h[d],s[0][d][1]),v=1;p>v;++v)u.call(n,c[v][d],m+=s[v-1][d][1],s[v][d][1]);return a}var t=y,e=pu,r=vu,u=gu,i=fu,o=hu;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:bl.get(t)||pu,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:_l.get(t)||vu,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(u=t,n):u},n};var bl=ao.map({"inside-out":function(n){var t=n.length,e,r,u=n.map(du),i=n.map(mu),o=ao.range(t).sort(function(n,t){return u[n]-u[t]}),a=0,l=0,c=[],s=[];for(e=0;t>e;++e)r=o[e],l>a?(a+=i[r],c.push(r)):(l+=i[r],s.push(r));return s.reverse().concat(c)},reverse:function(n){return ao.range(n.length).reverse()},"default":pu}),_l=ao.map({silhouette:function(n){var t=n.length,e=n[0].length,r=[],u=0,i,o,a,l=[];for(o=0;e>o;++o){for(i=0,a=0;t>i;i++)a+=n[i][o][1];a>u&&(u=a),r.push(a)}for(o=0;e>o;++o)l[o]=(u-r[o])/2;return l},wiggle:function(n){var t=n.length,e=n[0],r=e.length,u,i,o,a,l,c,s,f,h,g=[];for(g[0]=f=h=0,i=1;r>i;++i){for(u=0,a=0;t>u;++u)a+=n[u][i][1];for(u=0,l=0,s=e[i][0]-e[i-1][0];t>u;++u){for(o=0,c=(n[u][i][1]-n[u][i-1][1])/(2*s);u>o;++o)c+=(n[o][i][1]-n[o][i-1][1])/s;l+=c*n[u][i][1]}g[i]=f-=a?l/a*s:0,h>f&&(h=f)}for(i=0;r>i;++i)g[i]-=h;return g},expand:function(n){var t=n.length,e=n[0].length,r=1/t,u,i,o,a=[];for(i=0;e>i;++i){for(u=0,o=0;t>u;u++)o+=n[u][i][1];if(o)for(u=0;t>u;u++)n[u][i][1]/=o;else for(u=0;t>u;u++)n[u][i][1]=r}for(i=0;e>i;++i)a[i]=0;return a},zero:vu});ao.layout.histogram=function(){function n(n,i){for(var o=[],a=n.map(e,this),l=r.call(this,a,i),c=u.call(this,l,a,i),s,i=-1,f=a.length,h=c.length-1,g=t?1:1/f,p;++i<h;)s=o[i]=[],s.dx=c[i+1]-(s.x=c[i]),s.y=0;if(h>0)for(i=-1;++i<f;)p=a[i],p>=l[0]&&p<=l[1]&&(s=o[ao.bisect(c,p,1,h)-1],s.y+=g,s.push(n[i]));return o}var t=!0,e=Number,r=bu,u=Mu;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=An(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return xu(n,t)}:An(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ao.layout.pack=function(){function n(n,i){var o=t.call(this,n,i),a=o[0],l=r[0],c=r[1],s=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(a.x=a.y=0,ou(a,function(n){n.r=+s(n.value)}),ou(a,Eu),e){var f=e*(u?1:Math.max(2*a.r/l,2*a.r/c))/2;ou(a,function(n){n.r+=f}),ou(a,Eu),ou(a,function(n){n.r-=f})}return Cu(a,l/2,c/2,u?1:1/Math.max(2*a.r/l,2*a.r/c)),o}var t=ao.layout.hierarchy().sort(_u),e=0,r=[1,1],u;return n.size=function(t){return arguments.length?(r=t,n):r},n.radius=function(t){return arguments.length?(u=null==t||"function"==typeof t?t:+t,n):u},n.padding=function(t){return arguments.length?(e=+t,n):e},uu(n,t)},ao.layout.tree=function(){function n(n,u){var s=o.call(this,n,u),f=s[0],h=t(f);if(ou(h,e),h.parent.m=-h.z,iu(h,r),c)iu(f,i);else{var g=f,p=f,v=f;iu(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=a(g,p)/2-g.x,m=l[0]/(p.x+a(p,g)/2+d),y=l[1]/(v.depth||1);iu(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}return s}function t(n){for(var t={A:null,children:[n]},e=[t],r;null!=(r=e.pop());)for(var u=r.children,i,o=0,a=u.length;a>o;++o)e.push((u[o]=i={_:u[o],parent:r,children:(i=u[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return t.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Du(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+a(n._,r._));n.parent.A=u(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n,t,e){if(t){for(var r=n,u=n,i=t,o=r.parent.children[0],l=r.m,c=u.m,s=i.m,f=o.m,h;i=Tu(i),r=qu(r),i&&r;)o=qu(o),u=Tu(u),u.a=n,h=i.z+s-r.z-l+a(i._,r._),h>0&&(Ru(Pu(i,n,e),n,h),l+=h,c+=h),s+=i.m,l+=r.m,f+=o.m,c+=u.m;i&&!Tu(u)&&(u.t=i,u.m+=s-c),r&&!qu(o)&&(o.t=r,o.m+=l-f,e=n)}return e}function i(n){n.x*=l[0],n.y=n.depth*l[1]}var o=ao.layout.hierarchy().sort(null).value(null),a=Lu,l=[1,1],c=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(c=null==(l=t)?i:null,n):c?null:l},n.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:i,n):c?l:null},uu(n,o)},ao.layout.cluster=function(){function n(n,i){var o=t.call(this,n,i),a=o[0],l,c=0;ou(a,function(n){var t=n.children;t&&t.length?(n.x=Uu(t),n.y=ju(t)):(n.x=l?c+=e(n,l):0,n.y=0,l=n)});var s=Fu(a),f=Hu(a),h=s.x-e(s,f)/2,g=f.x+e(f,s)/2;return ou(a,u?function(n){n.x=(n.x-a.x)*r[0],n.y=(a.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(a.y?n.y/a.y:1))*r[1]}),o}var t=ao.layout.hierarchy().sort(null).value(null),e=Lu,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},uu(n,t)},ao.layout.treemap=function(){function n(n,t){for(var e=-1,r=n.length,u,i;++e<r;)i=(u=n[e]).value*(0>t?0:t),u.area=isNaN(i)||0>=i?0:i}function t(e){var i=e.children;if(i&&i.length){var o=s(e),a=[],l=i.slice(),c,f=1/0,h,p="slice"===g?o.dx:"dice"===g?o.dy:"slice-dice"===g?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy),v;for(n(l,o.dx*o.dy/e.value),a.area=0;(v=l.length)>0;)a.push(c=l[v-1]),a.area+=c.area,"squarify"!==g||(h=r(a,p))<=f?(l.pop(),f=h):(a.area-=a.pop().area,u(a,p,o,!1),p=Math.min(o.dx,o.dy),a.length=a.area=0,f=1/0);a.length&&(u(a,p,o,!0),a.length=a.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i=s(t),o=r.slice(),a,l=[];for(n(o,i.dx*i.dy/t.value),l.area=0;a=o.pop();)l.push(a),l.area+=a.area,null!=a.z&&(u(l,a.z?i.dx:i.dy,i,!o.length),l.length=l.area=0);r.forEach(e)}}function r(n,t){for(var e=n.area,r,u=0,i=1/0,o=-1,a=n.length;++o<a;)(r=n[o].area)&&(i>r&&(i=r),
r>u&&(u=r));return e*=e,t*=t,e?Math.max(t*u*p/e,e/(t*i*p)):1/0}function u(n,t,e,r){var u=-1,i=n.length,o=e.x,l=e.y,c=t?a(n.area/t):0,s;if(t==e.dx){for((r||c>e.dy)&&(c=e.dy);++u<i;)s=n[u],s.x=o,s.y=l,s.dy=c,o+=s.dx=Math.min(e.x+e.dx-o,c?a(s.area/c):0);s.z=!0,s.dx+=e.x+e.dx-o,e.y+=c,e.dy-=c}else{for((r||c>e.dx)&&(c=e.dx);++u<i;)s=n[u],s.x=o,s.y=l,s.dx=c,l+=s.dy=Math.min(e.y+e.dy-l,c?a(s.area/c):0);s.z=!1,s.dy+=e.y+e.dy-l,e.x+=c,e.dx-=c}}function i(r){var u=h||o(r),i=u[0];return i.x=i.y=0,i.value?(i.dx=l[0],i.dy=l[1]):i.dx=i.dy=0,h&&o.revalue(i),n([i],i.dx*i.dy/i.value),(h?e:t)(i),f&&(h=u),u}var o=ao.layout.hierarchy(),a=Math.round,l=[1,1],c=null,s=Ou,f=!1,h,g="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(n){return arguments.length?(l=n,i):l},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Ou(t):Iu(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Iu(t,n)}if(!arguments.length)return c;var r;return s=null==(c=n)?Ou:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(a=n?Math.round:Number,i):a!=Number},i.sticky=function(n){return arguments.length?(f=n,h=null,i):f},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},uu(i,o)},ao.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=ao.random.normal.apply(ao,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=ao.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},ao.scale={};var wl={floor:y,ceil:y};ao.scale.linear=function(){return Wu([0,1],[0,1],Mr,!1)};var kl={s:1,g:1,p:1,r:1,e:1};ao.scale.log=function(){return ri(ao.scale.linear().domain([0,1]),10,!0,[1,10])};var Sl=ao.format(".0e"),El={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ao.scale.pow=function(){return ui(ao.scale.linear(),1,[0,1])},ao.scale.sqrt=function(){return ao.scale.pow().exponent(.5)},ao.scale.ordinal=function(){return oi([],{t:"range",a:[[]]})},ao.scale.category10=function(){return ao.scale.ordinal().range(Al)},ao.scale.category20=function(){return ao.scale.ordinal().range(Nl)},ao.scale.category20b=function(){return ao.scale.ordinal().range(Cl)},ao.scale.category20c=function(){return ao.scale.ordinal().range(zl)};var Al=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xn),Nl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xn),Cl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xn),zl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xn);ao.scale.quantile=function(){return ai([],[])},ao.scale.quantize=function(){return li(0,1,[0,1])},ao.scale.threshold=function(){return ci([.5],[0,1])},ao.scale.identity=function(){return si([0,1])},ao.svg={},ao.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),s=o.apply(this,arguments)-Oo,f=a.apply(this,arguments)-Oo,h=Math.abs(f-s),g=s>f?0:1;if(n>c&&(p=c,c=n,n=p),h>=Ho)return t(c,g)+(n?t(n,1-g):"")+"Z";var p,v,d,m,y=0,M=0,x,b,_,w,k,S,E,A,N=[];if((m=(+l.apply(this,arguments)||0)/2)&&(d=i===Ll?Math.sqrt(n*n+c*c):+i.apply(this,arguments),g||(M*=-1),c&&(M=tn(d/c*Math.sin(m))),n&&(y=tn(d/n*Math.sin(m)))),c){x=c*Math.cos(s+M),b=c*Math.sin(s+M),_=c*Math.cos(f-M),w=c*Math.sin(f-M);var C=Math.abs(f-s-2*M)<=Uo?0:1;if(M&&mi(x,b,_,w)===g^C){var z=(s+f)/2;x=c*Math.cos(z),b=c*Math.sin(z),_=w=null}}else x=b=0;if(n){k=n*Math.cos(f-y),S=n*Math.sin(f-y),E=n*Math.cos(s+y),A=n*Math.sin(s+y);var L=Math.abs(s-f+2*y)<=Uo?0:1;if(y&&mi(k,S,E,A)===1-g^L){var q=(s+f)/2;k=n*Math.cos(q),S=n*Math.sin(q),E=A=null}}else k=S=0;if(h>Po&&(p=Math.min(Math.abs(c-n)/2,+u.apply(this,arguments)))>.001){v=c>n^g?0:1;var T=p,R=p;if(Uo>h){var D=null==E?[k,S]:null==_?[x,b]:Re([x,b],[E,A],[_,w],[k,S]),P=x-D[0],j=b-D[1],U=_-D[0],F=w-D[1],H=1/Math.sin(Math.acos((P*U+j*F)/(Math.sqrt(P*P+j*j)*Math.sqrt(U*U+F*F)))/2),O=Math.sqrt(D[0]*D[0]+D[1]*D[1]);R=Math.min(p,(n-O)/(H-1)),T=Math.min(p,(c-O)/(H+1))}if(null!=_){var I=yi(null==E?[k,S]:[E,A],[x,b],c,T,g),Y=yi([_,w],[k,S],c,T,g);p===T?N.push("M",I[0],"A",T,",",T," 0 0,",v," ",I[1],"A",c,",",c," 0 ",1-g^mi(I[1][0],I[1][1],Y[1][0],Y[1][1]),",",g," ",Y[1],"A",T,",",T," 0 0,",v," ",Y[0]):N.push("M",I[0],"A",T,",",T," 0 1,",v," ",Y[0])}else N.push("M",x,",",b);if(null!=E){var Z=yi([x,b],[E,A],n,-R,g),V=yi([k,S],null==_?[x,b]:[_,w],n,-R,g);p===R?N.push("L",V[0],"A",R,",",R," 0 0,",v," ",V[1],"A",n,",",n," 0 ",g^mi(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-g," ",Z[1],"A",R,",",R," 0 0,",v," ",Z[0]):N.push("L",V[0],"A",R,",",R," 0 0,",v," ",Z[0])}else N.push("L",k,",",S)}else N.push("M",x,",",b),null!=_&&N.push("A",c,",",c," 0 ",C,",",g," ",_,",",w),N.push("L",k,",",S),null!=E&&N.push("A",n,",",n," 0 ",L,",",1-g," ",E,",",A);return N.push("Z"),N.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=hi,r=gi,u=fi,i=Ll,o=pi,a=vi,l=di;return n.innerRadius=function(t){return arguments.length?(e=An(t),n):e},n.outerRadius=function(t){return arguments.length?(r=An(t),n):r},n.cornerRadius=function(t){return arguments.length?(u=An(t),n):u},n.padRadius=function(t){return arguments.length?(i=t==Ll?Ll:An(t),n):i},n.startAngle=function(t){return arguments.length?(o=An(t),n):o},n.endAngle=function(t){return arguments.length?(a=An(t),n):a},n.padAngle=function(t){return arguments.length?(l=An(t),n):l},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Oo;return[Math.cos(t)*n,Math.sin(t)*n]},n};var Ll="auto";ao.svg.line=function(){return Mi(y)};var ql=ao.map({linear:xi,"linear-closed":bi,step:_i,"step-before":wi,"step-after":ki,basis:zi,"basis-open":Li,"basis-closed":qi,bundle:Ti,cardinal:Ai,"cardinal-open":Si,"cardinal-closed":Ei,monotone:Fi});ql.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Tl=[0,2/3,1/3,0],Rl=[0,1/3,2/3,0],Dl=[0,1/6,2/3,1/6];ao.svg.line.radial=function(){var n=Mi(Hi);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},wi.reverse=ki,ki.reverse=wi,ao.svg.area=function(){return Oi(y)},ao.svg.area.radial=function(){var n=Oi(Hi);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ao.svg.chord=function(){function n(n,a){var l=t(this,i,n,a),c=t(this,o,n,a);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(e(l,c)?u(l.r,l.p1,l.r,l.p0):u(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+u(c.r,c.p1,l.r,l.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=a.call(n,u,r),o=l.call(n,u,r)-Oo,s=c.call(n,u,r)-Oo;return{r:i,a0:o,a1:s,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(s),i*Math.sin(s)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>Uo)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=Me,o=xe,a=Ii,l=pi,c=vi;return n.radius=function(t){return arguments.length?(a=An(t),n):a},n.source=function(t){return arguments.length?(i=An(t),n):i},n.target=function(t){return arguments.length?(o=An(t),n):o},n.startAngle=function(t){return arguments.length?(l=An(t),n):l},n.endAngle=function(t){return arguments.length?(c=An(t),n):c},n},ao.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=e.call(this,n,u),a=(i.y+o.y)/2,l=[i,{x:i.x,y:a},{x:o.x,y:a},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=Me,e=xe,r=Yi;return n.source=function(e){return arguments.length?(t=An(e),n):t},n.target=function(t){return arguments.length?(e=An(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ao.svg.diagonal.radial=function(){var n=ao.svg.diagonal(),t=Yi,e=n.projection;return n.projection=function(n){return arguments.length?e(Zi(t=n)):t},n},ao.svg.symbol=function(){function n(n,r){return(Pl.get(t.call(this,n,r))||$i)(e.call(this,n,r))}var t=Xi,e=Vi;return n.type=function(e){return arguments.length?(t=An(e),n):t},n.size=function(t){return arguments.length?(e=An(t),n):e},n};var Pl=ao.map({circle:$i,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Ul)),e=t*Ul;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/jl),e=t*jl/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/jl),e=t*jl/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ao.svg.symbolTypes=Pl.keys();var jl=Math.sqrt(3),Ul=Math.tan(30*Io);Co.transition=function(n){for(var t=Il||++Ol,e=Ki(n),r=[],u,i,o=Yl||{time:Date.now(),ease:Er,delay:0,duration:250},a=-1,l=this.length;++a<l;){r.push(u=[]);for(var c=this[a],s=-1,f=c.length;++s<f;)(i=c[s])&&Qi(i,s,e,t,o),u.push(i)}return Wi(r,e,t)},Co.interrupt=function(n){return this.each(null==n?Fl:Bi(Ki(n)))};var Fl=Bi(Ki()),Hl=[],Ol=0,Il,Yl;Hl.call=Co.call,Hl.empty=Co.empty,Hl.node=Co.node,Hl.size=Co.size,ao.transition=function(n,t){return n&&n.transition?Il?n.transition(t):n:ao.selection().transition(n)},ao.transition.prototype=Hl,Hl.select=function(n){var t=this.id,e=this.namespace,r=[],u,i,o;n=N(n);for(var a=-1,l=this.length;++a<l;){r.push(u=[]);for(var c=this[a],s=-1,f=c.length;++s<f;)(o=c[s])&&(i=n.call(o,o.__data__,s,a))?("__data__"in o&&(i.__data__=o.__data__),Qi(i,s,e,t,o[e][t]),u.push(i)):u.push(null)}return Wi(r,e,t)},Hl.selectAll=function(n){var t=this.id,e=this.namespace,r=[],u,i,o,a,l;n=C(n);for(var c=-1,s=this.length;++c<s;)for(var f=this[c],h=-1,g=f.length;++h<g;)if(o=f[h]){l=o[e][t],i=n.call(o,o.__data__,h,c),r.push(u=[]);for(var p=-1,v=i.length;++p<v;)(a=i[p])&&Qi(a,p,e,t,l),u.push(a)}return Wi(r,e,t)},Hl.filter=function(n){var t=[],e,r,u;"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){t.push(e=[]);for(var r=this[i],a=0,l=r.length;l>a;a++)(u=r[a])&&n.call(u,u.__data__,a,i)&&e.push(u)}return Wi(t,this.namespace,this.id)},Hl.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(u){u[r][e].tween.set(n,t)})},Hl.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function u(n){return null==n?e:(n+="",function(){var t=this.getAttribute(a),e;return t!==n&&(e=o(t,n),function(n){this.setAttribute(a,e(n))})})}function i(n){return null==n?r:(n+="",function(){var t=this.getAttributeNS(a.space,a.local),e;return t!==n&&(e=o(t,n),function(n){this.setAttributeNS(a.space,a.local,e(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?$r:Mr,a=ao.ns.qualify(n);return Ji(this,"attr."+n,t,a.local?i:u)},Hl.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=ao.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Hl.style=function(n,e,r){function u(){this.style.removeProperty(n)}function i(e){return null==e?u:(e+="",function(){var u=t(this).getComputedStyle(this,null).getPropertyValue(n),i;return u!==e&&(i=Mr(u,e),function(t){this.style.setProperty(n,i(t),r)})})}var o=arguments.length;if(3>o){if("string"!=typeof n){2>o&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Ji(this,"style."+n,e,i)},Hl.styleTween=function(n,e,r){function u(u,i){var o=e.call(this,u,i,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,u)},Hl.text=function(n){return Ji(this,"text",n,Gi)},Hl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Hl.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=ao.ease.apply(ao,arguments)),Y(this,function(r){r[e][t].ease=n}))},Hl.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,u,i){r[e][t].delay=+n.call(r,r.__data__,u,i)}:(n=+n,function(r){r[e][t].delay=n}))},Hl.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,u,i){r[e][t].duration=Math.max(1,n.call(r,r.__data__,u,i))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Hl.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var u=Yl,i=Il;try{Il=e,Y(this,function(t,u,i){Yl=t[r][e],n.call(t,t.__data__,u,i)})}finally{Yl=u,Il=i}}else Y(this,function(u){var i=u[r][e];(i.event||(i.event=ao.dispatch("start","end","interrupt"))).on(n,t)});return this},Hl.transition=function(){for(var n=this.id,t=++Ol,e=this.namespace,r=[],u,i,o,a,l=0,c=this.length;c>l;l++){r.push(u=[]);for(var i=this[l],s=0,f=i.length;f>s;s++)(o=i[s])&&(a=o[e][n],Qi(o,s,e,t,{time:a.time,ease:a.ease,delay:a.delay+a.duration,duration:a.duration})),u.push(o)}return Wi(r,e,t)},ao.svg.axis=function(){function n(n){n.each(function(){var n=ao.select(this),c=this.__chart__||t,s=this.__chart__=t.copy(),f=null==a?s.ticks?s.ticks.apply(s,o):s.domain():a,h=null==l?s.tickFormat?s.tickFormat.apply(s,o):y:l,g=n.selectAll(".tick").data(f,s),p=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Po),v=ao.transition(g.exit()).style("opacity",Po).remove(),d=ao.transition(g.order()).style("opacity",1),m=Math.max(r,0)+i,M,x=Zu(s),b=n.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),ao.transition(b));p.append("line"),p.append("text");var w=p.select("line"),k=d.select("line"),S=g.select("text").text(h),E=p.select("text"),A=d.select("text"),N="top"===e||"left"===e?-1:1,C,z,L,q;if("bottom"===e||"top"===e?(M=no,C="x",L="y",z="x2",q="y2",S.attr("dy",0>N?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+N*u+"V0H"+x[1]+"V"+N*u)):(M=to,C="y",L="x",z="y2",q="x2",S.attr("dy",".32em").style("text-anchor",0>N?"end":"start"),_.attr("d","M"+N*u+","+x[0]+"H0V"+x[1]+"H"+N*u)),w.attr(q,N*r),E.attr(L,N*m),k.attr(z,0).attr(q,N*r),A.attr(C,0).attr(L,N*m),s.rangeBand){var T=s,R=T.rangeBand()/2;c=s=function(n){return T(n)+R}}else c.rangeBand?c=s:v.call(M,s,c);p.call(M,c,s),d.call(M,s,s)})}var t=ao.scale.linear(),e=Zl,r=6,u=6,i=3,o=[10],a=null,l;return n.scale=function(e){return arguments.length?(t=e,n):t},n.orient=function(t){return arguments.length?(e=t in Vl?t+"":Zl,n):e},n.ticks=function(){return arguments.length?(o=co(arguments),n):o},n.tickValues=function(t){return arguments.length?(a=t,n):a},n.tickFormat=function(t){return arguments.length?(l=t,n):l},n.tickSize=function(t){var e=arguments.length;return e?(r=+t,u=+arguments[e-1],n):r},n.innerTickSize=function(t){return arguments.length?(r=+t,n):r},n.outerTickSize=function(t){return arguments.length?(u=+t,n):u},n.tickPadding=function(t){return arguments.length?(i=+t,n):i},n.tickSubdivide=function(){return arguments.length&&n},n};var Zl="bottom",Vl={top:1,right:1,bottom:1,left:1};ao.svg.brush=function(){function n(t){t.each(function(){var t=ao.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var c=t.selectAll(".resize").data(v,y);c.exit().remove(),c.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Xl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),c.style("display",n.empty()?"none":null);var s=ao.transition(t),f=ao.transition(o),h;a&&(h=Zu(a),f.attr("x",h[0]).attr("width",h[1]-h[0]),r(s)),l&&(h=Zu(l),f.attr("y",h[0]).attr("height",h[1]-h[0]),u(s)),e(s)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+c[+/e$/.test(n)]+","+s[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",c[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function u(n){n.select(".extent").attr("y",s[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function i(){function i(){32==ao.event.keyCode&&(A||(C=null,z[0]-=c[1],z[1]-=s[1],A=2),k())}function v(){32==ao.event.keyCode&&2==A&&(z[0]+=c[1],z[1]+=s[1],A=0,k())}function d(){var n=ao.mouse(M),t=!1;L&&(n[0]+=L[0],n[1]+=L[1]),A||(ao.event.altKey?(C||(C=[(c[0]+c[1])/2,(s[0]+s[1])/2]),z[0]=c[+(n[0]<C[0])],z[1]=s[+(n[1]<C[1])]):C=null),S&&m(n,a,0)&&(r(_),t=!0),E&&m(n,l,1)&&(u(_),t=!0),t&&(e(_),b({type:"brush",mode:A?"move":"resize"}))}function m(n,t,e){var r=Zu(t),u=r[0],i=r[1],o=z[e],a=e?s:c,l=a[1]-a[0],v,d;return A&&(u-=o,i-=l+o),v=(e?p:g)?Math.max(u,Math.min(i,n[e])):n[e],A?d=(v+=o)+l:(C&&(o=Math.max(u,Math.min(i,2*C[e]-v))),v>o?(d=v,v=o):d=o),a[0]!=v||a[1]!=d?(e?h=null:f=null,a[0]=v,a[1]=d,!0):void 0}function y(){d(),_.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ao.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),N(),b({type:"brushend"})}var M=this,x=ao.select(ao.event.target),b=o.of(M,arguments),_=ao.select(M),w=x.datum(),S=!/^(n|s)$/.test(w)&&a,E=!/^(e|w)$/.test(w)&&l,A=x.classed("extent"),N=W(M),C,z=ao.mouse(M),L,q=ao.select(t(M)).on("keydown.brush",i).on("keyup.brush",v);if(ao.event.changedTouches?q.on("touchmove.brush",d).on("touchend.brush",y):q.on("mousemove.brush",d).on("mouseup.brush",y),_.interrupt().selectAll("*").interrupt(),A)z[0]=c[0]-z[0],z[1]=s[0]-z[1];else if(w){var T=+/w$/.test(w),R=+/^n/.test(w);L=[c[1-T]-z[0],s[1-R]-z[1]],z[0]=c[T],z[1]=s[R]}else ao.event.altKey&&(C=z.slice());_.style("pointer-events","none").selectAll(".resize").style("display",null),ao.select("body").style("cursor",x.style("cursor")),b({type:"brushstart"}),d()}var o=E(n,"brushstart","brush","brushend"),a=null,l=null,c=[0,0],s=[0,0],f,h,g=!0,p=!0,v=$l[0];return n.event=function(n){n.each(function(){var n=o.of(this,arguments),t={x:c,y:s,i:f,j:h},e=this.__chart__||t;this.__chart__=t,Il?ao.select(this).transition().each("start.brush",function(){f=e.i,h=e.j,c=e.x,s=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=xr(c,t.x),r=xr(s,t.y);return f=h=null,function(u){c=t.x=e(u),s=t.y=r(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){f=t.i,h=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(a=t,v=$l[!a<<1|!l],n):a},n.y=function(t){return arguments.length?(l=t,v=$l[!a<<1|!l],n):l},n.clamp=function(t){return arguments.length?(a&&l?(g=!!t[0],p=!!t[1]):a?g=!!t:l&&(p=!!t),n):a&&l?[g,p]:a?g:l?p:null},n.extent=function(t){var e,r,u,i,o;return arguments.length?(a&&(e=t[0],r=t[1],l&&(e=e[0],r=r[0]),f=[e,r],a.invert&&(e=a(e),r=a(r)),e>r&&(o=e,e=r,r=o),(e!=c[0]||r!=c[1])&&(c=[e,r])),l&&(u=t[0],i=t[1],a&&(u=u[1],i=i[1]),h=[u,i],l.invert&&(u=l(u),i=l(i)),u>i&&(o=u,u=i,i=o),(u!=s[0]||i!=s[1])&&(s=[u,i])),n):(a&&(f?(e=f[0],r=f[1]):(e=c[0],r=c[1],a.invert&&(e=a.invert(e),r=a.invert(r)),e>r&&(o=e,e=r,r=o))),l&&(h?(u=h[0],i=h[1]):(u=s[0],i=s[1],l.invert&&(u=l.invert(u),i=l.invert(i)),u>i&&(o=u,u=i,i=o))),a&&l?[[e,u],[r,i]]:a?[e,r]:l&&[u,i])},n.clear=function(){return n.empty()||(c=[0,0],s=[0,0],f=h=null),n},n.empty=function(){return!!a&&c[0]==c[1]||!!l&&s[0]==s[1]},ao.rebind(n,o,"on")};var Xl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$l=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Bl=ga.format=Ma.timeFormat,Wl=Bl.utc,Jl=Wl("%Y-%m-%dT%H:%M:%S.%LZ");Bl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?eo:Jl,eo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},eo.toString=Jl.toString,ga.second=On(function(n){return new pa(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),ga.seconds=ga.second.range,ga.seconds.utc=ga.second.utc.range,ga.minute=On(function(n){return new pa(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),ga.minutes=ga.minute.range,ga.minutes.utc=ga.minute.utc.range,ga.hour=On(function(n){var t=n.getTimezoneOffset()/60;return new pa(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),ga.hours=ga.hour.range,ga.hours.utc=ga.hour.utc.range,ga.month=On(function(n){return n=ga.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),ga.months=ga.month.range,ga.months.utc=ga.month.utc.range;var Gl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Kl=[[ga.second,1],[ga.second,5],[ga.second,15],[ga.second,30],[ga.minute,1],[ga.minute,5],[ga.minute,15],[ga.minute,30],[ga.hour,1],[ga.hour,3],[ga.hour,6],[ga.hour,12],[ga.day,1],[ga.day,2],[ga.week,1],[ga.month,1],[ga.month,3],[ga.year,1]],Ql=Bl.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",zt]]),nc={range:function(n,t,e){return ao.range(Math.ceil(n/e)*e,+t,e).map(uo)},floor:y,ceil:y};Kl.year=ga.year,ga.scale=function(){return ro(ao.scale.linear(),Kl,Ql)};var tc=Kl.map(function(n){return[n[0].utc,n[1]]}),ec=Wl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",zt]]);tc.year=ga.year.utc,ga.scale.utc=function(){return ro(ao.scale.linear(),tc,ec)},ao.text=Nn(function(n){return n.responseText}),ao.json=function(n,t){return Cn(n,"application/json",io,t)},ao.html=function(n,t){return Cn(n,"text/html",oo,t)},ao.xml=Nn(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(this.d3=ao):"object"==typeof module&&module.exports?module.exports=ao:this.d3=ao}()}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["d3js:d3"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,r,a;(function(){r={};var e=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};r._encodeParams=function(r){var a=[];return n.each(r,function(n,r){a.length&&a.push("&"),a.push(e(r),"=",e(n))}),a.join("").replace(/%20/g,"+")},a=function(e,n,a,c){var t=e,o=n?n.slice(1):null;if("string"==typeof a&&(o=String(a)),c){o=o||"";var u=r._encodeParams(c);o&&u&&(o+="&"),o+=u}var i=t;return null!==o&&(i+="?"+o),i}}).call(this),function(){r._constructUrl=function(e,n,r){var c=/^(.*?)(\?.*)?$/.exec(e);return a(c[1],c[2],n,r)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.url={URL:r}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.url.URL,r,a,o;(function(){r=function(t,e){var n=500,r=function(t,e){return t.length>e?t.slice(0,e)+"...":t},a="string"==typeof e?e:e.toString(),o="failed ["+t+"]";return a&&(o+=" "+r(a.replace(/\n/g," "),n)),new Error(o)},a=function(t){var n=(t.headers["content-type"]||";").split(";")[0];if(e.include(["application/json","text/javascript","application/javascript","application/x-javascript"],n))try{t.data=JSON.parse(t.content)}catch(r){t.data=null}else t.data=null},o={},o.get=function(){return o.call.apply(this,["GET"].concat(e.toArray(arguments)))},o.post=function(){return o.call.apply(this,["POST"].concat(e.toArray(arguments)))},o.put=function(){return o.call.apply(this,["PUT"].concat(e.toArray(arguments)))},o.del=function(){return o.call.apply(this,["DELETE"].concat(e.toArray(arguments)))}}).call(this),function(){o.call=function(o,c,s,i){if(i||"function"!=typeof s||(i=s,s=null),s=s||{},"function"!=typeof i)throw new Error("Can't make a blocking HTTP call from the client; callback required.");o=(o||"").toUpperCase();var u={},l=s.content;s.data&&(l=JSON.stringify(s.data),u["Content-Type"]="application/json");var p,f;if(l||"GET"===o||"HEAD"===o?p=s.params:f=s.params,c=n._constructUrl(c,s.query,p),s.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");if(e.has(s,"npmRequestOptions"))throw new Error("Option npmRequestOptions not supported on client.");var d,h;if(s.auth){var y=s.auth.indexOf(":");if(0>y)throw new Error('auth option should be of the form "username:password"');d=s.auth.substring(0,y),h=s.auth.substring(y+1)}f&&(l=n._encodeParams(f)),e.extend(u,s.headers||{}),i=function(t){return function(e,n){e&&n&&(e.response=n),t(e,n)}}(i),i=e.once(i);try{var g;if("undefined"!=typeof XMLHttpRequest)g=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");g=new ActiveXObject("Microsoft.XMLHttp")}g.open(o,c,!0,d,h);for(var v in u)g.setRequestHeader(v,u[v]);var w=!1,m;if(s.timeout&&(m=t.setTimeout(function(){w=!0,g.abort()},s.timeout)),g.onreadystatechange=function(n){if(4===g.readyState)if(m&&t.clearTimeout(m),w)i(new Error("timeout"));else if(g.status){var o={};o.statusCode=g.status,o.content=g.responseText,o.headers={};var c=g.getAllResponseHeaders();""===c&&g.getResponseHeader("content-type")&&(c="content-type: "+g.getResponseHeader("content-type"));var s=c.split(/\r?\n/);e.each(s,function(t){var e=/^(.*?):(?:\s+)(.*)$/.exec(t);e&&3===e.length&&(o.headers[e[1].toLowerCase()]=e[2])}),a(o);var u=null;o.statusCode>=400&&(u=r(o.statusCode,o.content)),i(u,o)}else i(new Error("network"))},s.beforeSend){var E=e.once(s.beforeSend);if(!1===E.call(null,g,s))return g.abort()}g.send(l)}catch(T){i(T)}}}.call(this),function(){t.http=o}.call(this),"undefined"==typeof Package&&(Package={}),Package.http={HTTP:o}}();

!function(){var e=Package.meteor.Meteor,a;(function(){var e=1e3,t=300,n=function(){return(new Date).getTime()};a={register:function(a){var r=this;r._lastInterval=n();var i=function(){var c=n(),o=c-r._lastInterval-e;r._lastInterval=c,o>=t&&a(o),setTimeout(i,e)};i()}}}).call(this),"undefined"==typeof Package&&(Package={}),Package["lab80:onwakeup"]={OnWakeup:a}}();

!function(){var e=Package.meteor.Meteor;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:npm"]={}}();

!function(){var e=Package.meteor.Meteor,r,s;(function(){r="object"==typeof r?r:{};var e=r;"undefined"==typeof s&&(s={}),s._libs=s._libs||{},s.load=function(e,r){var s,a,t;return t=this,a=r,this._libs[e]||(this._libs[e]={src:e,ready:!1,readyDeps:new Deps.Dependency,options:r},$.ajax({url:e,dataType:"script",success:function(s,a,n){var i,o;return o=t._libs[e],i=/\.(css)$/,200===n.status&&(i.test(e)&&$("head").append("<style>"+s+"</style>"),o.ready=!0,o.readyDeps.changed(),r&&r.success)?r.success():void 0},error:function(){return r&&r.error?r.error(arguments):void 0}})),s={ready:function(){var r;return r=t._libs[e],r.readyDeps.depend(),r.ready}}}}).call(this),"undefined"==typeof Package&&(Package={}),Package["woogenius:wait-on-lib"]={IRLibLoader:s}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["browser-policy"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["audit-argument-checks"]={}}();

!function(){var e=Package.meteor.Meteor;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:aggregate"]={}}();

!function(){var t=Package.meteor.Meteor,e;(function(){(function(){e=function(t){this.perPage=t,this._limit=t,this._limitListeners=new Deps.Dependency,this._loaded=0,this._loadedListeners=new Deps.Dependency},e.prototype.loaded=function(){return this._loadedListeners.depend(),this._loaded},e.prototype.limit=function(){return this._limitListeners.depend(),this._limit},e.prototype.ready=function(){return this.loaded()===this.limit()},e.prototype.loading=function(){return!this.ready()},e.prototype.loadNextPage=function(){this._limit+=this.perPage,this._limitListeners.changed()},e.prototype.done=function(){this._loaded=this._limit,this._loadedListeners.changed()},e.prototype.reset=function(){this._limit=this.perPage,this._limitListeners.changed()},t.subscribeWithPagination=function(){var i=Array.prototype.slice.call(arguments,0),n=i.pop(),o,s;_.isFunction(n)||_.isObject(n)?(s=n,o=i.pop()):o=n;var r=new e(o),a=t.autorun(function(){var e=_.map(i,function(t){return _.isFunction(t)?t():t});e.push(r.limit()),s&&e.push(s);var n=t.subscribe.apply(this,e);t.autorun(function(){n.ready()&&r.done()})});return r.stop=_.bind(a.stop,a),r}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["percolate:paginated-subscription"]={}}();

!function(){var e=Package.meteor.Meteor,a;"undefined"==typeof Package&&(Package={}),Package["meteorhacks:meteorx"]={MeteorX:a}}();

!function(){var e=Package.meteor.Meteor,a=Package["meteorhacks:meteorx"].MeteorX;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:unblock"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,s=Package["reactive-var"].ReactiveVar,r,u;(function(){r="object"==typeof r?r:{};var a=r,o=[].slice;u=function(){function r(t,e){this.status=new s({loaded:!0}),this.store=t,this.methodName=e,this._arguments=null}return r.prototype.ready=function(){if(this.status)return this.status.get().loaded;throw new t.Error(404,"This Subscription is already stoppd")},r.prototype.stop=function(){return delete r._sources[this.methodName],delete this.status,t.call("Pseudo.subscribe.stop",this.methodName),this.store.remove({})},r.prototype._subscribe=function(s,r){var u;return e.isEqual(r,this._arguments)?this:(this.status.set({loading:!0}),this._arguments=e.clone(r),u=this,t.call("pesudo.subscribe",s,r,function(t,s){if(t)throw t;return e.isArray(s)||(s=[s]),e.each(s,function(t){return u.store.update(t._id,t,{upsert:!0})}),u.status.set({loaded:!0})}),this)},r}(),u._sources={},u.subscribe=function(){var t,e,s;return s=arguments[0],e=arguments[1],t=3<=arguments.length?o.call(arguments,2):[],this._sources[e]||(this._sources[e]=new u(s,e)),this._sources[e]._subscribe(e,t)}}).call(this),"undefined"==typeof Package&&(Package={}),Package["lab80:pseudo-sub"]={PseudoSub:u}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,n,t;(function(){n="object"==typeof n?n:{};var e=n;t={get:function(e,n){var c,i;return check(e,String),check(n,String),c=t._fromQueryString(n),i=c[e],r.isString(i)?[i]:i||[]},add:function(e,n,c){var i;return check(e,String),check(n,String),check(c,String),i=r.isEmpty(c)?"":"&",t._strip(""+c+i+e+"="+encodeURIComponent(n))},remove:function(e,r){return check(e,Match.OneOf(String,Object)),t._update(e,"",r)},update:function(e,r,n){return check(e,Match.OneOf(String,Object)),check(r,String),check(n,String),t._update(e,r,n)},mongofy:function(e,n){var c,i,a,u,o,_,g,l,d;return check(e,String),o=r.defaults(n||{},{sort:null,limit:null,condition:{}}),c=e,l=t._regexFindValue("sort"),(d=l.exec(e))&&(g=d[0],(_=t._sortParse(d[1]))&&(o.sort=_,c=c.replace(g,""))),a=t._regexFindValue("limit"),(u=a.exec(e))&&(i=u[0],o.limit=parseInt(u[1]),c=c.replace(i,"")),o.condition=t._fromQueryString(c),o},_update:function(e,n,c){var i,a,u;return check(e,Match.OneOf(String,Object)),check(n,String),check(c,String),n=encodeURIComponent(n),i=!r.isEmpty(n),r.isObject(e)?c=r.reduce(e,function(e,r,c){var a;return i&&e.search(c+"="+encodeURIComponent(r))<0?t.add(c,n,e):(a=i?c+"="+n:"",e.replace(c+"="+encodeURIComponent(r),a))},c):r.isString(e)&&(u=t._regexFindValue(e,"g"),i?(a=c.match(u),r.each(a,function(r,t){var i;return i=0===t?e+"="+n:"",c=c.replace(r,i)}),c.search(e+"="+n)<0&&(c=t.add(e,n,c))):c=c.replace(u,"")),t._strip(c)},_regexFindValue:function(e,r){return null==r&&(r=""),new RegExp(e+"=([^&]*?)(?=&|$)",r)},_fromQueryString:function(e){var n,c;return e=t._strip(e),n=e.split("&"),c={},n.forEach(function(e){var n,i,a,u,o;if(i=e.split("="),n=i[0],o=i[1],o=decodeURIComponent(o),n.length){if(!t._isRangeValue(o))return t._isSortValue(o)?(r.isUndefined(c[n])&&(c[n]={}),a=t._isSortValue(o),c[n].field=a[1],c[n].order=a[2]):r.isUndefined(c[n])?c[n]=o||"":(c[n].push||(c[n]=[c[n]]),c[n].push(o||""));if(r.isUndefined(c[n])&&(c[n]={}),u=t._isRangeValue(o)[0],"__gte_"===u)return c[n].$gte=Number(o.replace(/^__gte_/,""));if("__lte_"===u)return c[n].$lte=Number(o.replace(/^__lte_/,""))}}),c},_isRangeValue:function(e){return e.match(/^__gte_|^__lte_/)},_isSortValue:function(e){return e.match(/(.+)__(1|-1)$/)},_toQueryString:function(e){return decodeURI($.param(e)).replace(/\[\]/g,"")},_strip:function(e){return e.replace(/^([\?&]+)?/,"").replace(/(&+)?$/,"").replace(/&+/g,"&")},_sortParse:function(e){var n,t,c,i;return i={},c=e.split("__"),n=c[0],t=c[1],t=parseInt(t),r.isNumber(t)?(i[n]=t,i):void 0}}}).call(this),"undefined"==typeof Package&&(Package={}),Package["lab80:query-manager"]={QueryManager:t}}();

!function(){var a=Package.meteor.Meteor,e;"undefined"==typeof Package&&(Package={}),Package["bigdata:elasticsearch"]={ES:e}}();

!function(){var t=Package.meteor.Meteor,e=Package.tracker.Tracker,r=Package.tracker.Deps,a=Package.underscore._,o=Package.mongo.Mongo,s=Package["reactive-var"].ReactiveVar,n=Package.http.HTTP,i=Package.ejson.EJSON,c=Package.check.check,h=Package.check.Match,u=Package["ddp-client"].DDP,p;(function(){p=function r(t,a,n){this.source=t,this.searchFields=a,this.currentQuery=null,this.options=n||{},this.status=new s({loaded:!0}),this.metaData=new s({}),this.history={},this.store=new o.Collection(null),this._storeDep=new e.Dependency,this._currentQueryDep=new e.Dependency,this._currentVersion=0,this._loadedVersion=0},p.prototype._loadData=function(t,e){function r(t,e){if(t)throw a.status.set({error:t}),t;if(e instanceof Array)var r=e,n={};else{var r=e.data,n=e.metadata;a.metaData.set(e.metadata||{})}a.options.keepHistory&&(a.history[s]={data:r,loaded:new Date,metadata:n}),o>a._loadedVersion&&(a._updateStore(r),a._loadedVersion=o),o==a._currentVersion&&a.status.set({loaded:!0}),a._storeDep.changed()}var a=this,o=0,s=t+i.stringify(e);this._canUseHistory(s)?(this._updateStore(this.history[s].data),this.metaData.set(this.history[s].metadata),a._storeDep.changed()):(this.status.set({loading:!0}),o=++this._currentVersion,this._fetch(this.source,t,e,r))},p.prototype._canUseHistory=function(t){var e=this.history[t];if(this.options.keepHistory&&e){var r=Date.now()-e.loaded.getTime();return r<this.options.keepHistory}return!1},p.prototype._updateStore=function(t){var e=this,r=a.pluck(this.store.find().fetch(),"_id"),o=[];t.forEach(function(t){o.push(t._id),e.store.update(t._id,t,{upsert:!0})});var s={};a.each(o,function(t){var e=t._str?t._str:t;s[e]=!0}),a.each(r,function(t){var r=t._str?t._str:t;s[r]||e.store.remove(t)})},p.prototype.search=function(t,e){this.currentQuery=t,this._currentQueryDep.changed(),this._loadData(t,e),this.options.localSearch&&this._storeDep.changed()},p.prototype.getData=function(t,e){function r(e){return t.transform&&a.searchFields.forEach(function(r){a.currentQuery&&e[r]&&(e[r]=t.transform(e[r],s,r,a.currentQuery))}),t.docTransform?t.docTransform(e):e}t=t||{};var a=this;this._storeDep.depend();var o={$or:[]},s=this._buildRegExp(a.currentQuery);this.getStatus().loading?a.searchFields.forEach(function(t){var e={};e[t]=s,o.$or.push(e)}):o={};var n=this.store.find(o,{sort:t.sort,limit:t.limit,transform:r});return e?n:n.fetch()},p.prototype._fetch=function(e,r,a,o){"function"==typeof this.fetchData?this.fetchData(r,a,o):t.status().connected?this._fetchDDP.apply(this,arguments):this._fetchHttp.apply(this,arguments)},p.prototype._fetchDDP=function(e,r,a,o){t.call("search.source",this.source,r,a,o)},p.prototype._fetchHttp=function(t,e,r,a){var o={source:t,query:e,options:r},s={"Content-Type":"text/ejson"};n.post("/_search-source",{content:i.stringify(o),headers:s},function(t,e){if(t)a(t);else{var r=i.parse(e.content);r.error?a(r.error):a(null,r.data)}})},p.prototype.getMetadata=function(){return this.metaData.get()},p.prototype.getCurrentQuery=function(){return this._currentQueryDep.depend(),this.currentQuery},p.prototype.getStatus=function(){return this.status.get()},p.prototype.cleanHistory=function(){this.history={}},p.prototype._buildRegExp=function(t){t=t||"";var e=t.replace(this._getRegExpFilterRegExp(),"\\$&"),r=e.trim().split(" ");return new RegExp("("+r.join("|")+")","ig")},p.prototype._getRegExpFilterRegExp=a.once(function(){var t=["\\","^","$","*","+","?",".","(",")",":","|","{","}","[","]","=","!",","],e=a.map(t,function(t){return"\\"+t}).join("|");return new RegExp("("+e+")","g")})}).call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:search-source"]={SearchSource:p}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["percolate:migrations"]={}}();

!function(){var e=Package.meteor.Meteor;(function(){!function(e,t){if(!t.__SV){var n,i,p,a;window.mixpanel=t,t._i=[],t.init=function(e,n,i){function o(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var l=t;for("undefined"!=typeof i?l=t[i]=[]:i="mixpanel",l.people=l.people||[],l.toString=function(e){var t="mixpanel";return"mixpanel"!==i&&(t+="."+i),e||(t+=" (stub)"),t},l.people.toString=function(){return l.toString(1)+".people (stub)"},p="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),a=0;a<p.length;a++)o(l,p[a]);t._i.push([e,n,i])},t.__SV=1.2,n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",i=e.getElementsByTagName("script")[0],i.parentNode.insertBefore(n,i)}}(document,window.mixpanel||[])}).call(this),function(){e.startup(function(){if(e.settings&&e.settings["public"]&&e.settings["public"].mixpanel){var t=e.settings["public"].mixpanel;t.token&&mixpanel.init(t.token)}else mixpanel.track=function(){}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["yogiben:mixpanel"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,t=Package.jquery.$,a=Package.jquery.jQuery,i,l;(function(){i="object"==typeof i?i:{};var t=i,a,r,o,u,c,s,g,p,m,f,d,y=[].slice;l={BLACKLIST:{MIXPANEL:{},GOOGLE:{}},_loggers:[],customVariable:function(){return this._callAll("customVariable",arguments)},pageview:function(){return this._callAll("pageview",arguments)},event:function(){return this._callAll("event",arguments)},user:function(){return this._callAll("user",arguments)},alias:function(){return this._callAll("alias",arguments)},_addLogger:function(e){return this._loggers.push(e)},_callAll:function(e,t){return n.isEmpty(this._loggers)?console.log("Analytics code is not loaded yet."):n.each(this._loggers,function(n){return n[e].apply(n,t)})}},c=function(e,n,t,a,i,l,r){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,l=n.createElement(t),r=n.getElementsByTagName(t)[0],l.async=1,l.src=a,r.parentNode.insertBefore(l,r)},(null!=(s=e.settings)&&null!=(g=s["public"])&&null!=(p=g.ga)?p.id:void 0)&&(c(window,document,"script","//www.google-analytics.com/analytics.js","ga"),u=e.settings["public"].ga,o={},"undefined"!=typeof u.cookieName&&(o.cookieName=u.cookieName),"undefined"!=typeof u.cookieDomain&&(o.cookieDomain=u.cookieDomain),"undefined"!=typeof u.cookieExpires&&(o.cookieExpires=u.cookieExpires),n.isEmpty(o)&&(o="auto"),ga("create",u.id,o),u.trackInterests&&ga("require","displayfeatures"),u.trackInPage&&ga("require","linkid","linkid.js"),a={customVariable:function(e,n,t){return ga("set","dimension"+e.id,n),null},event:function(){var e,n,t;return n=arguments[0],t=2<=arguments.length?y.call(arguments,1):[],e=n.concat(t),this._event.apply(this,e)},_event:function(e,n,t,a){return l.BLACKLIST.GOOGLE[n]?void 0:(ga("send","event",e,n,t,a),null)},pageview:function(e){return ga("send","pageview",e),null},user:function(e,n){return null},alias:function(e){return null}},l._addLogger(a)),(null!=(m=e.settings)&&null!=(f=m["public"])&&null!=(d=f.mixpanel)?d.token:void 0)&&(r={customVariable:function(){},event:function(e,n){var t;return t=e.concat(n),this._event.apply(this,t)},pageview:function(e){return mixpanel.track("mp_page_view",{mp_page:e})},user:function(e,n){return mixpanel.identify(e),mixpanel.people.set(n)},alias:function(e){return mixpanel.alias(e)},_event:function(e,n,t,a){return l.BLACKLIST.MIXPANEL[n]?void 0:mixpanel.track(n,{category:e,label:t,value:a})}},l._addLogger(r))}).call(this),"undefined"==typeof Package&&(Package={}),Package["lab80:meteor-analytics"]={Analytics:l}}();

!function(){var e=Package.meteor.Meteor,a;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:picker"]={Picker:a}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,i=Package.underscore._,r=Package.check.check,a=Package.check.Match,o=Package.random.Random,s,u,l,c,f,p,d;(function(){(function(){!function(){"use strict";function e(e){null!==e&&void 0!==e?"string"==typeof e?this.s=e:this.s=e.toString():this.s=e,this.orig=e,null!==e&&void 0!==e?this.__defineGetter__?this.__defineGetter__("length",function(){return this.s.length}):this.length=e.length:this.length=-1}function t(){for(var e in c)!function(e){var t=c[e];l.hasOwnProperty(e)||(f.push(e),l[e]=function(){return String.prototype.s=this,t.apply(this,arguments)})}(e)}function n(){for(var e=0;e<f.length;++e)delete String.prototype[f[e]];f.length=0}function i(){for(var e=r(),t={},n=0;n<e.length;++n){var i=e[n],a=l[i];try{var o=typeof a.apply("teststring",[]);t[i]=o}catch(s){}}return t}function r(){var e=[];if(Object.getOwnPropertyNames)return e=Object.getOwnPropertyNames(l),e.splice(e.indexOf("valueOf"),1),e.splice(e.indexOf("toString"),1),e;var t={},n=[];for(var i in String.prototype)t[i]=i;for(var i in Object.prototype)delete t[i];for(var i in t)e.push(i);return e}function a(t){return new e(t)}function o(e,t){var n=[],i;for(i=0;i<e.length;i++)n.push(e[i]),t&&t.call(e,e[i],i);return n}var s="1.5.0",u={},l=String.prototype,c=e.prototype={between:function(t,n){var i=this.s,r=i.indexOf(t),a=i.indexOf(n),o=r+t.length;return new e(a>r?i.slice(o,a):"")},camelize:function(){var t=this.trim().s.replace(/(\-|_|\s)+(.)?/g,function(e,t,n){return n?n.toUpperCase():""});return new e(t)},capitalize:function(){return new e(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},charAt:function(e){return this.s.charAt(e)},chompLeft:function(t){var n=this.s;return 0===n.indexOf(t)?(n=n.slice(t.length),new e(n)):this},chompRight:function(t){if(this.endsWith(t)){var n=this.s;return n=n.slice(0,n.length-t.length),new e(n)}return this},collapseWhitespace:function(){var t=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new e(t)},contains:function(e){return this.s.indexOf(e)>=0},count:function(e){for(var t=0,n=this.s.indexOf(e);n>=0;)t+=1,n=this.s.indexOf(e,n+1);return t},dasherize:function(){var t=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new e(t)},decodeHtmlEntities:function(){var t=this.s;return t=t.replace(/&#(\d+);?/g,function(e,t){return String.fromCharCode(t)}).replace(/&#[xX]([A-Fa-f0-9]+);?/g,function(e,t){return String.fromCharCode(parseInt(t,16))}).replace(/&([^;\W]+;?)/g,function(e,t){var n=t.replace(/;$/,""),i=u[t]||t.match(/;$/)&&u[n];return"number"==typeof i?String.fromCharCode(i):"string"==typeof i?i:e}),new e(t)},endsWith:function(e){var t=this.s.length-e.length;return t>=0&&this.s.indexOf(e,t)===t},escapeHTML:function(){return new e(this.s.replace(/[&<>"']/g,function(e){return"&"+m[e]+";"}))},ensureLeft:function(t){var n=this.s;return 0===n.indexOf(t)?this:new e(t+n)},ensureRight:function(t){var n=this.s;return this.endsWith(t)?this:new e(n+t)},humanize:function(){if(null===this.s||void 0===this.s)return new e("");var t=this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize();return new e(t)},isAlpha:function(){return!/[^a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isEmpty:function(){return null===this.s||void 0===this.s?!0:/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(t){if(t>=0){var n=this.s.substr(0,t);return new e(n)}return this.right(-t)},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(t,n){if(n=n||" ",this.s.length>=t)return new e(this.s);t-=this.s.length;var i=Array(Math.ceil(t/2)+1).join(n),r=Array(Math.floor(t/2)+1).join(n);return new e(i+this.s+r)},padLeft:function(t,n){return n=n||" ",new e(this.s.length>=t?this.s:Array(t-this.s.length+1).join(n)+this.s)},padRight:function(t,n){return n=n||" ",new e(this.s.length>=t?this.s:this.s+Array(t-this.s.length+1).join(n))},parseCSV:function(e,t,n,i){e=e||",",n=n||"\\","undefined"==typeof t&&(t='"');var r=0,a=[],o=[],s=this.s.length,u=!1,l=this,c=function(e){return l.s.charAt(e)};if("undefined"!=typeof i)var f=[];for(t||(u=!0);s>r;){var p=c(r);switch(p){case n:if(u&&(n!==t||c(r+1)===t)){r+=1,a.push(c(r));break}if(n!==t)break;case t:u=!u;break;case e:u&&t?a.push(p):(o.push(a.join("")),a.length=0);break;case i:u?a.push(p):f&&(o.push(a.join("")),f.push(o),o=[],a.length=0);break;default:u&&a.push(p)}r+=1}return o.push(a.join("")),f?(f.push(o),f):o},replaceAll:function(t,n){var i=this.s.split(t).join(n);return new e(i)},right:function(t){if(t>=0){var n=this.s.substr(this.s.length-t,t);return new e(n)}return this.left(-t)},slugify:function(){var t=new e(this.s.replace(/[^\w\s-]/g,"").toLowerCase()).dasherize().s;return"-"===t.charAt(0)&&(t=t.substr(1)),new e(t)},startsWith:function(e){return 0===this.s.lastIndexOf(e,0)},stripPunctuation:function(){return new e(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var t=this.s,n=arguments.length>0?arguments:[""];return o(n,function(e){t=t.replace(RegExp("</?"+e+"[^<>]*>","gi"),"")}),new e(t)},template:function(t,n,i){var r=this.s,n=n||a.TMPL_OPEN,i=i||a.TMPL_CLOSE,o=new RegExp(n+"(.+?)"+i,"g"),s=r.match(o)||[];return s.forEach(function(e){var a=e.substring(n.length,e.length-i.length);t[a]&&(r=r.replace(e,t[a]))}),new e(r)},times:function(t){return new e(new Array(t+1).join(this.s))},toBoolean:function(){if("string"==typeof this.orig){var e=this.s.toLowerCase();return"true"===e||"yes"===e||"on"===e}return this.orig===!0||1===this.orig},toFloat:function(e){var t=parseFloat(this.s);return e?parseFloat(t.toFixed(e)):t},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var t;return t="undefined"==typeof l.trim?this.s.replace(/(^\s*|\s*$)/g,""):this.s.trim(),new e(t)},trimLeft:function(){var t;return t=l.trimLeft?this.s.trimLeft():this.s.replace(/(^\s*)/g,""),new e(t)},trimRight:function(){var t;return t=l.trimRight?this.s.trimRight():this.s.replace(/\s+$/,""),new e(t)},truncate:function(t,n){var i=this.s;if(t=~~t,n=n||"...",i.length<=t)return new e(i);var r=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},a=i.slice(0,t+1).replace(/.(?=\W*\w*$)/g,r);return a=a.slice(a.length-2).match(/\w\w/)?a.replace(/\s*\S+$/,""):new e(a.slice(0,a.length-1)).trimRight().s,new e((a+n).length>i.length?i:i.slice(0,a.length)+n)},toCSV:function(){function t(e){return null!==e&&""!==e}var n=",",i='"',r="\\",a=!0,o=!1,s=[];if("object"==typeof arguments[0]?(n=arguments[0].delimiter||n,n=arguments[0].separator||n,i=arguments[0].qualifier||i,a=!!arguments[0].encloseNumbers,r=arguments[0].escape||r,o=!!arguments[0].keys):"string"==typeof arguments[0]&&(n=arguments[0]),"string"==typeof arguments[1]&&(i=arguments[1]),null===arguments[1]&&(i=null),this.orig instanceof Array)s=this.orig;else for(var u in this.orig)this.orig.hasOwnProperty(u)&&s.push(o?u:this.orig[u]);for(var l=r+i,c=[],f=0;f<s.length;++f){var p=t(i);if("number"==typeof s[f]&&(p&=a),p&&c.push(i),null!==s[f]&&void 0!==s[f]){var d=new e(s[f]).replaceAll(i,l).s;c.push(d)}else c.push("");p&&c.push(i),n&&c.push(n)}return c.length=c.length-1,new e(c.join(""))},toString:function(){return this.s},underscore:function(){var t=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new e(this.s.charAt(0)).isUpper()&&(t="_"+t),new e(t)},unescapeHTML:function(){return new e(this.s.replace(/\&([^;]+);/g,function(e,t){var n;return t in h?h[t]:(n=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=t.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):e}))},valueOf:function(){return this.s.valueOf()}},f=[],p=i();for(var d in p)!function(t){var n=l[t];"function"==typeof n&&(c[t]||("string"===p[t]?c[t]=function(){return new e(n.apply(this,arguments))}:c[t]=n))}(d);c.repeat=c.times,c.include=c.contains,c.toInteger=c.toInt,c.toBool=c.toBoolean,c.decodeHTMLEntities=c.decodeHtmlEntities,a.extendPrototype=t,a.restorePrototype=n,a.VERSION=s,a.TMPL_OPEN="{{",a.TMPL_CLOSE="}}",a.ENTITIES=u,"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a:"function"==typeof define&&define.amd?define([],function(){return a}):window.S=a;var h={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},m={};for(var g in h)m[h[g]]=g;u={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,"diams;":9830}}.call(this)}).call(this),function(){var e=function(e){return e===Object(e)};"function"!=typeof Object.getPrototypeOf&&("object"==typeof"".__proto__?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype});var t=function(t){return e(t)&&Object.getPrototypeOf(t)===Object.prototype},n=function o(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+\./g,".$.").replace(/\.[0-9]+$/g,".$")},r=function u(e,t){return"$each"===t?e:e?e+"."+t:t},a=function l(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null};s=function(e,o){function u(e,a,s,l,f,p){!l&&s&&"$"===s.substring(0,1)&&(l=s,s=null);var d=!1,h,m=!1;s&&(f||("$push"===l||"$addToSet"===l||"$pop"===l?(t(e)&&"$each"in e?(e=e.$each,a+="[$each]"):s+=".0",f=!0):"$pull"===l&&(s+=".0",t(e)&&(m=!0),f=!0)),h=n(s),d=i.contains(o,h),a&&(c._affectedKeys[a]=s,c._genericAffectedKeys[a]=h,p&&c._positionsInsideArrays.push(a))),m||(i.isArray(e)&&!i.isEmpty(e)?(a&&c._parentPositions.push(a),i.each(e,function(e,t){u(e,a?a+"["+t+"]":t,s+"."+t,l,f,!0)})):(t(e)&&!d||!a)&&(a&&!i.isEmpty(e)&&(c._parentPositions.push(a),c._objectPositions.push(a)),i.each(e,function(t,n){void 0===t?delete e[n]:"$slice"!==n&&u(t,a?a+"["+n+"]":n,r(s,n),l,f,p)})))}function l(){c._affectedKeys={},c._genericAffectedKeys={},c._parentPositions=[],c._positionsInsideArrays=[],c._objectPositions=[],u(c._obj)}var c=this;c._obj=e,c._affectedKeys={},c._genericAffectedKeys={},c._parentPositions=[],c._positionsInsideArrays=[],c._objectPositions=[],u(c._obj),c.forEachNode=function(e,t){if("function"!=typeof e)throw new Error("filter requires a loop function");t=i.extend({endPointsOnly:!0},t);var n={};i.each(c._affectedKeys,function(r,o){t.endPointsOnly&&i.contains(c._parentPositions,o)||e.call({value:c.getValueForPosition(o),operator:a(o),position:o,key:r,genericKey:c._genericAffectedKeys[o],updateValue:function(e){n[o]=e},remove:function(){n[o]=void 0}})}),i.each(n,function(e,t){c.setValueForPosition(t,e)})},c.getValueForPosition=function(e){for(var n,r=e.split("["),a=c._obj,o=0,s=r.length;s>o;o++)if(n=r[o],"]"===n.slice(-1)&&(n=n.slice(0,-1)),a=a[n],!i.isArray(a)&&!t(a)&&s-1>o)return;return a},c.setValueForPosition=function(e,n){for(var r,a,o=e.split("["),s=c._obj,u=0,f=o.length;f>u;u++)if(a=o[u],"]"===a.slice(-1)&&(a=a.slice(0,-1)),u===f-1)s[a]=n,void 0===n&&delete s[a];else if(void 0===s[a]&&void 0!==n&&(r=o[u+1],r=parseInt(r,10),s[a]=isNaN(r)?{}:[]),s=s[a],!i.isArray(s)&&!t(s)&&f-1>u)return;l()},c.removeValueForPosition=function(e){c.setValueForPosition(e,void 0)},c.getKeyForPosition=function(e){return c._affectedKeys[e]},c.getGenericKeyForPosition=function(e){return c._genericAffectedKeys[e]},c.getInfoForKey=function(e){var t=c.getPositionForKey(e);if(t)return{value:c.getValueForPosition(t),operator:a(t)};for(var n=c.getPositionsForGenericKey(e+".$"),i,r,o=0,s=n.length;s>o;o++)if(i=n[o],r=c.getValueForPosition(i)||c.getValueForPosition(i.slice(0,i.lastIndexOf("["))))return{value:r,operator:a(i)}},c.getPositionForKey=function(e){for(var t in c._affectedKeys)if(c._affectedKeys.hasOwnProperty(t)&&c._affectedKeys[t]===e)return t},c.getPositionsForGenericKey=function(e){var t=[];for(var n in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(n)&&c._genericAffectedKeys[n]===e&&t.push(n);return t},c.getValueForKey=function(e){var t=c.getPositionForKey(e);return t?c.getValueForPosition(t):void 0},c.addKey=function(e,t,n){var i=n?n+"["+e+"]":s._keyToPosition(e);c.setValueForPosition(i,t)},c.removeGenericKeys=function(e){for(var t in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(t)&&i.contains(e,c._genericAffectedKeys[t])&&c.removeValueForPosition(t)},c.removeGenericKey=function(e){for(var t in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(t)&&c._genericAffectedKeys[t]===e&&c.removeValueForPosition(t)},c.removeKey=function(e){for(var t in c._affectedKeys)c._affectedKeys.hasOwnProperty(t)&&c._affectedKeys[t]===e&&c.removeValueForPosition(t)},c.removeKeys=function(e){for(var t=0,n=e.length;n>t;t++)c.removeKey(e[t])},c.filterGenericKeys=function(e){var t,n=[],r=[];for(var a in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(a)&&(t=c._genericAffectedKeys[a],i.contains(n,t)||(n.push(t),t&&!e(t)&&r.push(t)));i.each(r,function(e){c.removeGenericKey(e)})},c.setValueForKey=function(e,t){for(var n in c._affectedKeys)c._affectedKeys.hasOwnProperty(n)&&c._affectedKeys[n]===e&&c.setValueForPosition(n,t)},c.setValueForGenericKey=function(e,t){for(var n in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(n)&&c._genericAffectedKeys[n]===e&&c.setValueForPosition(n,t)},c.getObject=function(){return c._obj},c.getFlatObject=function(e){e=e||{};var t={};return i.each(c._affectedKeys,function(n,r){("string"==typeof n&&e.keepArrays===!0&&!i.contains(c._positionsInsideArrays,r)&&!i.contains(c._objectPositions,r)||!e.keepArrays&&!i.contains(c._parentPositions,r))&&(t[n]=c.getValueForPosition(r))}),t},c.affectsKey=function(e){return!!c.getPositionForKey(e)},c.affectsGenericKey=function(e){for(var t in c._genericAffectedKeys)if(c._genericAffectedKeys.hasOwnProperty(t)&&c._genericAffectedKeys[t]===e)return!0;return!1},c.affectsGenericKeyImplicit=function(e){for(var t in c._genericAffectedKeys)if(c._genericAffectedKeys.hasOwnProperty(t)){var n=c._genericAffectedKeys[t];if(n===e)return!0;if(n.substring(0,e.length+1)===e+".")return!0;var i=e.slice(-2);if(".$"===i&&e.slice(0,-2)===n)return!0}return!1}},s.expandKey=function(e,t,n){for(var i,r,a=t.split("["),o=n,s=0,u=a.length;u>s;s++)r=a[s],"]"===r.slice(-1)&&(r=r.slice(0,-1)),s===u-1?(o[r]=e,void 0===e&&delete o[r]):(i=a[s+1],i=parseInt(i,10),o[r]||(o[r]=isNaN(i)?{}:[])),o=o[r]},s._keyToPosition=function c(e,t){var n="";return i.each(e.split("."),function(e,i){n+=0!==i||t?"["+e+"]":e}),n},s._positionToKey=function f(e){var t=new s({});t.setValueForPosition(e,1);var n=t.getKeyForPosition(e);return t=null,n}}.call(this),function(){u={appendAffectedKey:function e(t,n){return"$each"===n?t:t?t+"."+n:n},shouldCheck:function t(e){if("$pushAll"===e)throw new Error("$pushAll is not supported; use $push + $each");return!i.contains(["$pull","$pullAll","$pop","$slice"],e)},errorObject:function n(e,t,i){return{name:t,type:e,value:i}},isBasicObject:function r(e){return i.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype},safariBugFix:function a(e){return"undefined"!=typeof Uint8Array&&e===Uint8Array||"undefined"!=typeof Uint16Array&&e===Uint16Array||"undefined"!=typeof Uint32Array&&e===Uint32Array||"undefined"!=typeof Uint8ClampedArray&&e===Uint8ClampedArray},isNotNullOrUndefined:function o(e){return void 0!==e&&null!==e},extractOp:function s(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null},deleteIfPresent:function l(e,t){t in e&&delete e[t]},looksLikeModifier:function c(e){for(var t in e)if(e.hasOwnProperty(t)&&"$"===t.substring(0,1))return!0;return!1},dateToDateString:function f(e){var t=e.getUTCMonth()+1;10>t&&(t="0"+t);var n=e.getUTCDate();return 10>n&&(n="0"+n),e.getUTCFullYear()+"-"+t+"-"+n}}}.call(this),function(){function t(t,n,r){function a(e){var a=this.key;if(!i.contains(l,a)){var o=a.lastIndexOf("."),s=-1===o?"":a.slice(0,o+1),u=!1,c=e.call(i.extend({isSet:void 0!==this.value,unset:function(){u=!0},value:this.value,operator:this.operator,field:function(e){var n=t.getInfoForKey(e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}},siblingField:function(e){var n=t.getInfoForKey(s+e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}}},r||{}),t.getObject());if(l.push(a),void 0===c)return void(u&&t.removeValueForPosition(this.position));var f,p;if(i.isObject(c))for(var d in c)if(c.hasOwnProperty(d)&&"$"===d.substring(0,1)){f=d,p=c[d];break}!f&&n&&"$"!==this.position.slice(0,1)&&(f="$set",p=c),f?(t.removeValueForPosition(this.position),t.setValueForPosition(f+"["+a+"]",p)):t.setValueForPosition(this.position,c)}}var o=this,l=[];e.isClient&&void 0===r.userId&&(r.userId=e.userId&&e.userId()||null),i.each(o._autoValues,function(e,r){var o,l,c,f;if(-1!==r.indexOf("$")){var p=r.slice(0,r.lastIndexOf("$")+1);c=r.slice(p.length+1),o=s._keyToPosition(c,!0),c="."+c,f=t.getPositionsForGenericKey(p)}else f=t.getPositionsForGenericKey(r),f.length?(l=r,c="",o=""):(l=r,c="",o="",f=n?["$set["+r+"]"]:[s._keyToPosition(r)]);i.each(f,function(n){a.call({key:(l||s._positionToKey(n))+c,value:t.getValueForPosition(n+o),operator:u.extractOp(n),position:n+o},e)})})}function r(t,i){e.startup(function(){n.autorun(function(){t.isValid()||console.log('SimpleSchema invalid keys for "'+i+'" context:',t.invalidKeys())})})}e.isServer&&(l=Npm.require("string")),e.isClient&&(l=window.S);var o={type:a.Any,label:a.Optional(a.OneOf(String,Function)),optional:a.Optional(a.OneOf(Boolean,Function)),min:a.Optional(a.OneOf(Number,Date,Function)),max:a.Optional(a.OneOf(Number,Date,Function)),minCount:a.Optional(a.OneOf(Number,Function)),maxCount:a.Optional(a.OneOf(Number,Function)),allowedValues:a.Optional(a.OneOf([a.Any],Function)),decimal:a.Optional(Boolean),exclusiveMax:a.Optional(Boolean),exclusiveMin:a.Optional(Boolean),regEx:a.Optional(a.OneOf(RegExp,[RegExp])),custom:a.Optional(Function),blackbox:a.Optional(Boolean),autoValue:a.Optional(Function),defaultValue:a.Optional(a.Any),trim:a.Optional(Boolean)},f=function(e,t){var n;if(i.isArray(e)||i.isObject(e)&&!(e instanceof Date))return e;if(t===String)return"undefined"!=typeof e&&null!==e&&"string"!=typeof e?e.toString():e;if(t===Number){if("string"==typeof e&&!l(e).isEmpty()){var r=Number(e);return isNaN(r)?e:r}return e}if(t===Date){if("string"==typeof e&&(n=Date.parse(e),isNaN(n)===!1))return new Date(n);if("number"==typeof e)return new Date(e)}return e},p=function(e){return i.each(e,function(t,n){var r,o;if(t){if(a.test(t.type,c))r=".",o=t.type,t.type=Object;else{if(!a.test(t.type,[c]))return;r=".$.",o=t.type[0],t.type=[Object]}i.each(o._schema,function(t,i){var a=n+r+i;a in e||(e[a]=t)})}}),e},h=function(e){i.each(e,function(t,n){if(i.isArray(t.type)||t.type===Array){var r=n+".$";r in e||(e[r]={}),i.isArray(t.type)&&(e[r].type=t.type[0]),t.label&&(e[r].label=t.label),e[r].optional=!0,"undefined"!=typeof t.min&&(e[r].min=t.min),"undefined"!=typeof t.max&&(e[r].max=t.max),"undefined"!=typeof t.allowedValues&&(e[r].allowedValues=t.allowedValues),"undefined"!=typeof t.decimal&&(e[r].decimal=t.decimal),"undefined"!=typeof t.exclusiveMax&&(e[r].exclusiveMax=t.exclusiveMax),"undefined"!=typeof t.exclusiveMin&&(e[r].exclusiveMin=t.exclusiveMin),"undefined"!=typeof t.regEx&&(e[r].regEx=t.regEx),"undefined"!=typeof t.blackbox&&(e[r].blackbox=t.blackbox),t.type=Array,i.each(["min","max","allowedValues","decimal","exclusiveMax","exclusiveMin","regEx","blackbox"],function(e){u.deleteIfPresent(t,e)})}})},m=function(e){var t=[],n=[],r,a,o,s;for(i.each(e,function(e,i){for(var a=i.indexOf(".");-1!==a;)r=i.substring(0,a),".$"===r.substring(r.length-2)?a=-1:".$."===i.substring(a,a+3)?(t.push(r),a=i.indexOf(".",a+3)):(n.push(r),a=i.indexOf(".",a+1))}),o=0,s=t.length;s>o;o++)a=t[o],a in e||(e[a]={type:[Object],optional:!0});for(o=0,s=n.length;s>o;o++)a=n[o],a in e||(e[a]={type:Object,optional:!0});return h(e),e},g=function(e){var t={};return i.each(e,function(e){e=a.test(e,c)?e._schema:m(p(e)),i.each(e,function(e,n){t[n]=t[n]||{},i.extend(t[n],e)})}),e.length&&h(t),t},v=function(e,t){var n,r,a={},o;return i.each(e,function(e,s){e.type===Object&&(n=s+".",o=[],i.each(t,function(e){l(e).startsWith(n)&&(r=e.substring(n.length),-1===r.indexOf(".")&&o.push(r))}),a[n]=o)}),a},y=function(e){var t=e,n=t.lastIndexOf(".");if(-1!==n&&(t=t.substring(n+1),"$"===t)){var i=e.split(".");t=i[i.length-2]}return"_id"===t?"ID":l(t).humanize().s};c=function(e,t){var r=this,s=[],u;t=t||{},e=e||{},i.isArray(e)||(e=[e]),r._schema=g(e),r._schemaKeys=[],r._autoValues={},r._blackboxKeys=[],r._validators=[],r._messages={},r._depsMessages=new n.Dependency,r._depsLabels={},i.each(r._schema,function(e,t){if(!a.test(e,o))throw new Error("Invalid definition for "+t+" field.");if(u=t.split(".")[0],r._schemaKeys.push(t),"defaultValue"in e)if("autoValue"in e)console.warn('SimpleSchema: Found both autoValue and defaultValue options for "'+t+'". Ignoring defaultValue.');else{if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have defaultValue.');r._autoValues[t]=function l(e){return function(){return null!==this.operator||this.isSet?void 0:e}}(e.defaultValue)}if("autoValue"in e){if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have autoValue.');r._autoValues[t]=e.autoValue}r._depsLabels[t]=new n.Dependency,e.blackbox===!0&&r._blackboxKeys.push(t),i.contains(s,u)||s.push(u)}),r._firstLevelSchemaKeys=s,r._objectKeys=v(r._schema,r._schemaKeys),r._validationContexts={}},c.extendOptions=function(e){i.extend(o,e)};var b="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z](?:[a-z-]*[a-z])?",x="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\\.|$))+",_="(?:(?:[0-1]?\\d{1,2}|2[0-4]\\d|25[0-5])(?:\\.|$)){4}",O="(?:(?:[\\dA-Fa-f]{1,4}(?::|$)){8}|(?=(?:[^:\\s]|:[^:\\s])*::(?:[^:\\s]|:[^:\\s])*$)[\\dA-Fa-f]{0,4}(?:::?(?:[\\dA-Fa-f]{1,4}|$)){1,6})",w="(?:"+[x,_,O].join("|")+")";c.RegEx={Email:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Domain:new RegExp("^"+b+"$"),WeakDomain:new RegExp("^"+w+"$"),IP:new RegExp("^(?:"+_+"|"+O+")$"),IPv4:new RegExp("^"+_+"$"),IPv6:new RegExp("^"+O+"$"),Url:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,Id:/^[23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz]{17}$/,ZipCode:/^\d{5}(?:[-\s]\d{4})?$/},c._makeGeneric=function(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+(?=\.|$)/g,".$")},c._depsGlobalMessages=new n.Dependency,c.prototype=new a.Where,c.prototype.condition=function(t){var n=this,r,o;if(i.each(t,function(e,t){"$"===t.substring(0,1)?r=!0:o=!0}),r&&o)throw new a.Error("Object cannot contain modifier operators alongside other keys");var s=n.newContext();if(!s.validate(t,{modifier:r,filter:!1,autoConvert:!1})){var u=s.getErrorObject(),l=new a.Error(u.message);throw l.invalidKeys=u.invalidKeys,e.isServer&&(l.sanitizedError=u.sanitizedError),l}return!0},c.prototype.namedContext=function(t){var i=this;return"string"!=typeof t&&(t="default"),i._validationContexts[t]||(i._validationContexts[t]=new d(i),c.debug&&e.isClient&&n.nonreactive(function(){r(i._validationContexts[t],t)})),i._validationContexts[t]},c._validators=[],c.addValidator=function(e){c._validators.push(e)},c.prototype.addValidator=c.prototype.validator=function(e){this._validators.push(e)},c.prototype.pick=function(){var e=this,t=i.toArray(arguments);t.unshift(e._schema);var n=i.pick.apply(null,t);return new c(n)},c.prototype.clean=function(e,n){var r=this;if(n=i.extend({filter:!0,autoConvert:!0,removeEmptyStrings:!0,trimStrings:!0,getAutoValues:!0,isModifier:!1,extendAutoValueContext:{}},n||{}),"$pushAll"in e){console.warn("SimpleSchema.clean: $pushAll is deprecated; converting to $push with $each"),e.$push=e.$push||{};for(var a in e.$pushAll){e.$push[a]=e.$push[a]||{},e.$push[a].$each=e.$push[a].$each||[];for(var o=0,u=e.$pushAll[a].length;u>o;o++)e.$push[a].$each.push(e.$pushAll[a][o]);delete e.$pushAll}}var p=new s(e,r._blackboxKeys);if((n.filter||n.autoConvert||n.removeEmptyStrings||n.trimStrings)&&p.forEachNode(function(){var e=this.genericKey,t,i,a;if(e){if(i=r._schema[e],a=this.value,n.filter&&"$unset"!==this.operator&&!r.allowsKey(e))return"[$each]"===this.position.slice(-7)?p.removeValueForPosition(this.position.slice(0,-7)):this.remove(),void(c.debug&&console.info('SimpleSchema.clean: filtered out value that would have affected key "'+e+'", which is not allowed by the schema'));if(void 0!==a){var o=!1;if(n.autoConvert&&"$unset"!==this.operator&&i){var s=f(a,i.type);n.trimStrings&&"string"==typeof s&&(s=l(s).trim().s),void 0!==s&&s!==a&&(!n.removeEmptyStrings||this.operator&&"$set"!==this.operator||"string"!=typeof s||s.length||(s=void 0,"$set"===this.operator&&this.position.match(/\[.+?\]/g).length<2&&(t=this.position.replace("$set","$unset"),p.setValueForPosition(t,""))),c.debug&&console.info("SimpleSchema.clean: autoconverted value "+a+" from "+typeof a+" to "+typeof s+" for "+e),this.updateValue(s),o=!0)}o||(n.trimStrings&&"string"==typeof a&&(!i||i&&i.trim!==!1)&&this.updateValue(l(a).trim().s),!n.removeEmptyStrings||this.operator&&"$set"!==this.operator||"string"!=typeof a||a.length||(this.remove(),"$set"===this.operator&&this.position.match(/\[.+?\]/g).length<2&&(t=this.position.replace("$set","$unset"),p.setValueForPosition(t,""))))}}},{endPointsOnly:!1}),n.getAutoValues&&t.call(r,p,n.isModifier,n.extendAutoValueContext),n.isModifier)for(var d in e)e.hasOwnProperty(d)&&i.isEmpty(e[d])&&delete e[d];return e},c.prototype.schema=function(e){var t=this;return null!==e&&void 0!==e?t._schema[c._makeGeneric(e)]:t._schema},c.prototype.getDefinition=function(e,t,n){var r=this,a=r.schema(e);return a?(a=i.isArray(t)?i.pick(a,t):i.clone(a),i.each(["min","max","minCount","maxCount","allowedValues","optional","label"],function(e){i.isFunction(a[e])&&(a[e]=a[e].call(n||{}))}),a.label=a.label||y(e),a):void 0},c.prototype.keyIsInBlackBox=function(e){var t=this,n=c._makeGeneric(e),i,r;do i=n.lastIndexOf("."),-1!==i&&(n=n.slice(0,i),r=t.getDefinition(n));while(-1!==i&&!r);return!(!r||!r.blackbox)},c.prototype.labels=function(e){var t=this;i.each(e,function(e,n){(i.isString(e)||i.isFunction(e))&&n in t._schema&&(t._schema[n].label=e,t._depsLabels[n]&&t._depsLabels[n].changed())})},c.prototype.label=function(e){var t=this;if(null===e||void 0===e){var n={};return i.each(t.schema(),function(e,i){n[i]=t.label(i)}),n}var r=t.getDefinition(e);if(r){var a=c._makeGeneric(e);return t._depsLabels[a]&&t._depsLabels[a].depend(),r.label}return null},c._globalMessages={required:"[label] is required",minString:"[label] must be at least [min] characters",maxString:"[label] cannot exceed [max] characters",minNumber:"[label] must be at least [min]",maxNumber:"[label] cannot exceed [max]",minNumberExclusive:"[label] must be greater than [min]",maxNumberExclusive:"[label] must be less than [max]",minDate:"[label] must be on or after [min]",maxDate:"[label] cannot be after [max]",badDate:"[label] is not a valid date",minCount:"You must specify at least [minCount] values",maxCount:"You cannot specify more than [maxCount] values",noDecimal:"[label] must be an integer",notAllowed:"[value] is not an allowed value",expectedString:"[label] must be a string",expectedNumber:"[label] must be a number",expectedBoolean:"[label] must be a boolean",expectedArray:"[label] must be an array",expectedObject:"[label] must be an object",expectedConstructor:"[label] must be a [type]",regEx:[{msg:"[label] failed regular expression validation"},{exp:c.RegEx.Email,msg:"[label] must be a valid e-mail address"},{exp:c.RegEx.WeakEmail,msg:"[label] must be a valid e-mail address"},{exp:c.RegEx.Domain,msg:"[label] must be a valid domain"},{exp:c.RegEx.WeakDomain,msg:"[label] must be a valid domain"},{exp:c.RegEx.IP,msg:"[label] must be a valid IPv4 or IPv6 address"},{exp:c.RegEx.IPv4,msg:"[label] must be a valid IPv4 address"},{exp:c.RegEx.IPv6,msg:"[label] must be a valid IPv6 address"},{exp:c.RegEx.Url,msg:"[label] must be a valid URL"},{exp:c.RegEx.Id,msg:"[label] must be a valid alphanumeric ID"}],keyNotInSchema:"[key] is not allowed by the schema"},c.messages=function(e){i.extend(c._globalMessages,e),c._depsGlobalMessages.changed()},c.prototype.messages=function(e){var t=this;i.extend(t._messages,e),t._depsMessages.changed()},c.prototype.messageForError=function(e,t,n,r){function a(t){if("regEx"!==e||!i.isArray(t))return t;var n;return f&&(n=i.find(t,function(e){return e.exp&&e.exp.toString()===f})),n||(n=i.findWhere(t,{exp:null}),n||(n=i.findWhere(t,{exp:void 0}))),n?n.msg:null}var o=this;n=n||o.getDefinition(t,["regEx","label","minCount","maxCount","min","max","type"])||{};

var s=e.indexOf("."),l=null;-1!==s&&(l=e.substring(s+1),l=parseInt(l,10),e=e.substring(0,s));var f;"regEx"===e&&(f=null===l||void 0===l||isNaN(l)?n.regEx:n.regEx[l],f&&(f=f.toString()));var p=e+" "+t,d=c._makeGeneric(t),h=e+" "+d;c._depsGlobalMessages.depend(),o._depsMessages.depend();var m=o._messages[p]||o._messages[h]||o._messages[e];if(m=a(m),m||(m=c._globalMessages[p]||c._globalMessages[h]||c._globalMessages[e],m=a(m)),!m)return"Unknown validation error";m=m.replace("[key]",t),m=m.replace("[label]",o.label(t)),"undefined"!=typeof n.minCount&&(m=m.replace("[minCount]",n.minCount)),"undefined"!=typeof n.maxCount&&(m=m.replace("[maxCount]",n.maxCount)),m=void 0!==r&&null!==r?m.replace("[value]",r.toString()):m.replace("[value]","null");var g=n.min,v=n.max;return n.type===Date||n.type===[Date]?("undefined"!=typeof g&&(m=m.replace("[min]",u.dateToDateString(g))),"undefined"!=typeof v&&(m=m.replace("[max]",u.dateToDateString(v)))):("undefined"!=typeof g&&(m=m.replace("[min]",g)),"undefined"!=typeof v&&(m=m.replace("[max]",v))),n.type instanceof Function&&(m=m.replace("[type]",n.type.name)),m},c.prototype.allowsKey=function(e){var t=this;return i.any(t._schemaKeys,function(n){if(n===e)return!0;if(t.schema(n).blackbox===!0){var i=n.length,r=e.slice(0,i+2),a=r.slice(0,-1);if(r===n+".$")return!1;if(a===n+".")return!0}return!1})},c.prototype.newContext=function(){return new d(this)},c.prototype.objectKeys=function(e){var t=this;return e?t._objectKeys[e+"."]||[]:t._firstLevelSchemaKeys}}.call(this),function(){function e(e,t,n){var r=e.type;if(r===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(i.isArray(e.regEx)){var a;if(i.every(e.regEx,function(e,n){return e.test(t)?!0:(a="regEx."+n,!1)}),a)return a}}else if(r===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==n&&null!==e.max&&(e.exclusiveMax?e.max<=t:e.max<t))return e.exclusiveMax?"maxNumberExclusive":"maxNumber";if("$inc"!==n&&null!==e.min&&(e.exclusiveMin?e.min>=t:e.min>t))return e.exclusiveMin?"minNumberExclusive":"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(r===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(r===Object){if(!u.isBasicObject(t))return"expectedObject"}else if(r===Array){if(!i.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(r instanceof Function||u.safariBugFix(r)){if(!(t instanceof r))return"expectedConstructor";if(r===Date){if(isNaN(t.getTime()))return"badDate";if(i.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(i.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}f=function t(n,r,a,o,l,f){function p(t,r,a,o,p,d,h,v){if(!o)return void m.push(u.errorObject("keyNotInSchema",r,t,o,l));if(!d&&!o.optional&&(null===t||"$unset"===p||"$rename"===p||void 0===t&&(h||v||!p||"$set"===p)))return void m.push(u.errorObject("required",r,null,o,l));if("$rename"===p&&"string"==typeof t&&!l.allowsKey(t))return void m.push(u.errorObject("keyNotInSchema",t,null,null,l));if("$unset"!==p&&"$rename"!==p&&u.isNotNullOrUndefined(t)){var y=e(o,t,p);if(y)return void m.push(u.errorObject(y,r,t,o,l));if(o.allowedValues&&!i.contains(o.allowedValues,t))return void m.push(u.errorObject("notAllowed",r,t,o,l))}var b=r.lastIndexOf("."),x=-1===b?"":r.slice(0,b+1),_=o.custom?[o.custom]:[];_=_.concat(l._validators).concat(c._validators),i.every(_,function(e){var c=e.call(i.extend({key:r,genericKey:a,definition:o,isSet:void 0!==t,value:t,operator:p,field:function(e){g=g||new s(n,l._blackboxKeys);var t=g.getInfoForKey(e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}},siblingField:function(e){g=g||new s(n,l._blackboxKeys);var t=g.getInfoForKey(x+e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}}},f||{}));return"string"==typeof c?(m.push(u.errorObject(c,r,t,o,l)),!1):!0})}function d(e,t,n,r,a,s){var f,h;if(t){if(l.keyIsInBlackBox(t))return;if(f=c._makeGeneric(t),h=l.getDefinition(t),!o||o===t||o===f){var m=i.some(r,function(e){return e.slice(0,t.length+1)===t+"."});p(e,t,f,h,n,m,a,s)}}if(void 0!==e&&null!==e||h&&(h.type!==Object||h.optional)||(e={}),i.isArray(e))i.each(e,function(e,i){d(e,t+"."+i,n,r)});else if(u.isBasicObject(e)&&(!h||!h.blackbox)){var g=i.keys(e),v=i.union(g,l.objectKeys(f));a=f&&".$"===f.slice(-2),i.each(v,function(i){d(e[i],u.appendAffectedKey(t,i),n,r,a,!0)})}}function h(e){if(i.isEmpty(e))throw new Error("When the modifier option is true, validation object must have at least one operator");var t=i.keys(e.$set||{}).concat(i.keys(e.$setOnInsert||{}));"$setOnInsert"in e&&(a&&(e.$set=e.$set||{},e.$set=i.extend(e.$set,e.$setOnInsert)),delete e.$setOnInsert),i.each(e,function(e,n){if("$"!==n.slice(0,1))throw new Error("When the modifier option is true, all validation object keys must be operators. Did you forget `$set`?");if(u.shouldCheck(n)){if(a&&"$set"===n){var r=i.keys(e);i.each(l.objectKeys(),function(e){i.contains(r,e)||d(void 0,e,n,t)})}i.each(e,function(e,i){("$push"===n||"$addToSet"===n)&&(u.isBasicObject(e)&&"$each"in e?e=e.$each:i+=".0"),d(e,i,n,t)})}})}if(!i.isObject(n))throw new Error("The first argument of validate() or validateOne() must be an object");if(!r&&u.looksLikeModifier(n))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var m=[],g;r?h(n):d(n);var v=[];return m=i.filter(m,function(e){return i.contains(v,e.name)?!1:(v.push(e.name),!0)})}}.call(this),function(){function t(e,t,n){var r=e.type;if(r===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(i.isArray(e.regEx)){var a;if(i.every(e.regEx,function(e,n){return e.test(t)?!0:(a="regEx."+n,!1)}),a)return a}}else if(r===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==n&&null!==e.max&&(e.exclusiveMax?e.max<=t:e.max<t))return e.exclusiveMax?"maxNumberExclusive":"maxNumber";if("$inc"!==n&&null!==e.min&&(e.exclusiveMin?e.min>=t:e.min>t))return e.exclusiveMin?"minNumberExclusive":"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(r===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(r===Object){if(!u.isBasicObject(t))return"expectedObject"}else if(r===Array){if(!i.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(r instanceof Function||u.safariBugFix(r)){if(!(t instanceof r))return"expectedConstructor";if(r===Date){if(isNaN(t.getTime()))return"badDate";if(i.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(i.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}function n(t,n,r){var a=new e.Collection(null),u;if(r)u=o.id(),a.upsert({_id:u},t);else{var l=new s(t),c=new s({});i.each(n,function(e,t){var n;if(e.type===Array&&l.affectsGenericKey(t)?n=[]:e.optional||(n=e.type===Boolean?!0:e.type===Number?e.min||0:e.type===Date?e.min||new Date:e.type===Array?[]:e.type===Object?{}:"0"),void 0!==n){var i=t.replace(/\.\$/g,".0"),r=s._keyToPosition(i,!1);c.setValueForPosition(r,n)}}),c=c.getObject(),u=a.insert(c),a.update(u,t)}var f=a.findOne(u);return a.remove(u),n._id||delete f._id,f}p=function r(e,a,o,l,f,p){function d(n,r,a,o,l,d,h){if(!o)return void g.push(u.errorObject("keyNotInSchema",r,n,o,f));if(!(d||o.optional||null!==n&&void 0!==n))return void g.push(u.errorObject("required",r,null,o,f));if(u.isNotNullOrUndefined(n)){var m=t(o,n,l);if(m)return void g.push(u.errorObject(m,r,n,o,f));if(o.allowedValues&&!i.contains(o.allowedValues,n))return void g.push(u.errorObject("notAllowed",r,n,o,f))}var y=r.lastIndexOf("."),b=-1===y?"":r.slice(0,y+1),x=o.custom?[o.custom]:[];x=x.concat(f._validators).concat(c._validators),i.every(x,function(t){var c=t.call(i.extend({key:r,genericKey:a,definition:o,isSet:void 0!==n,value:n,operator:l,field:function(t){v=v||new s(e,f._blackboxKeys);var n=v.getInfoForKey(t)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}},siblingField:function(t){v=v||new s(e,f._blackboxKeys);var n=v.getInfoForKey(b+t)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}}},p||{}));return"string"==typeof c?(g.push(u.errorObject(c,r,n,o,f)),!1):!0})}function h(e,t,n,r){var a,o;if(t){if(f.keyIsInBlackBox(t))return;a=c._makeGeneric(t),o=f.getDefinition(t),l&&l!==t&&l!==a||d(e,t,a,o,null,n,r)}if(void 0!==e&&null!==e||o&&(o.type!==Object||o.optional)||(e={}),i.isArray(e))i.each(e,function(e,n){h(e,t+"."+n)});else if(u.isBasicObject(e)&&(!o||!o.blackbox)){var s=i.keys(e),p=i.union(s,f._schemaKeys);r=a&&".$"===a.slice(-2),i.each(p,function(i){u.shouldCheck(i)&&h(e[i],u.appendAffectedKey(t,i),n,r)})}}if(!i.isObject(e))throw new Error("The first argument of validate() or validateOne() must be an object");if(a){if(i.isEmpty(e))throw new Error("When the modifier option is true, validation object must have at least one operator");var m=i.every(e,function(e,t){return"$"===t.substring(0,1)});if(!m)throw new Error("When the modifier option is true, all validation object keys must be operators");e=n(e,f.schema(),o)}else if(u.looksLikeModifier(e))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var g=[],v;h(e);var y=[];return g=i.filter(g,function(e){return i.contains(y,e.name)?!1:(y.push(e.name),!0)})}}.call(this),function(){function t(e,t,n,i,r,a){var o=!0,s=o?f:p;return s(e,t,n,i,r,a)}d=function r(e){var t=this;t._simpleSchema=e,t._schema=e.schema(),t._schemaKeys=i.keys(t._schema),t._invalidKeys=[],t._deps={},t._depsAny=new n.Dependency,i.each(t._schemaKeys,function(e){t._deps[e]=new n.Dependency})},d.prototype.validate=function a(n,r){var a=this;r=i.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},r||{}),e.isClient&&void 0===r.extendedCustomContext.userId&&(r.extendedCustomContext.userId=e.userId&&e.userId()||null);var o=t(n,r.modifier,r.upsert,null,a._simpleSchema,r.extendedCustomContext),s=i.pluck(a._invalidKeys,"name");a._invalidKeys=o;var u=i.pluck(a._invalidKeys,"name"),l=i.union(u,s);return a._markKeysChanged(l),0===a._invalidKeys.length},d.prototype.validateOne=function o(n,r,a){var o=this,s,u,l;a=i.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},a||{}),e.isClient&&void 0===a.extendedCustomContext.userId&&(a.extendedCustomContext.userId=e.userId&&e.userId()||null);var c=t(n,a.modifier,a.upsert,r,o._simpleSchema,a.extendedCustomContext),f=[];for(s=0,u=o._invalidKeys.length;u>s;s++)l=o._invalidKeys[s],l.name!==r&&f.push(l);for(o._invalidKeys=f,s=0,u=c.length;u>s;s++)l=c[s],o._invalidKeys.push(l);return o._markKeysChanged([r]),!o._keyIsInvalid(r)},d.prototype.resetValidation=function s(){var e=this,t=i.pluck(e._invalidKeys,"name");e._invalidKeys=[],e._markKeysChanged(t)},d.prototype.isValid=function u(){var e=this;return e._depsAny.depend(),!e._invalidKeys.length},d.prototype.invalidKeys=function l(){var e=this;return e._depsAny.depend(),e._invalidKeys},d.prototype.addInvalidKeys=function h(e){var t=this;if(e&&e.length){var n=[];i.each(e,function(e){n.push(e.name),t._invalidKeys.push(e)}),t._markKeysChanged(n)}},d.prototype._markKeysChanged=function m(e){var t=this;e&&e.length&&(i.each(e,function(e){var n=c._makeGeneric(e);n in t._deps&&t._deps[n].changed()}),t._depsAny.changed())},d.prototype._getInvalidKeyObject=function g(e,t){var n=this;t=t||c._makeGeneric(e);var r=i.findWhere(n._invalidKeys,{name:e});return r||(r=i.findWhere(n._invalidKeys,{name:t})),r},d.prototype._keyIsInvalid=function v(e,t){return!!this._getInvalidKeyObject(e,t)},d.prototype.keyIsInvalid=function y(e){var t=this,n=c._makeGeneric(e);return t._deps[n]&&t._deps[n].depend(),t._keyIsInvalid(e,n)},d.prototype.keyErrorMessage=function b(e){var t=this,n=c._makeGeneric(e);t._deps[n]&&t._deps[n].depend();var i=t._getInvalidKeyObject(e,n);return i?t._simpleSchema.messageForError(i.type,i.name,null,i.value):""},d.prototype.getErrorObject=function x(){var t=this,n,r=this._invalidKeys;r.length?(n=t.keyErrorMessage(r[0].name),r=i.map(r,function(e){return i.extend({message:t.keyErrorMessage(e.name)},e)})):n="Failed validation";var a=new Error(n);return a.invalidKeys=r,e.isServer&&(a.sanitizedError=new e.Error(400,n)),a}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["aldeed:simple-schema"]={SimpleSchema:c,MongoObject:s}}();

!function(){var e=Package.meteor.Meteor,t=Package["aldeed:simple-schema"].SimpleSchema,n=Package["aldeed:simple-schema"].MongoObject,i=Package.underscore._,r=Package.check.check,o=Package.check.Match,a=Package.mongo.Mongo,s=Package.minimongo.LocalCollection,l=Package.minimongo.Minimongo,c=Package.ejson.EJSON,a;(function(){(function(){function n(t,n,o,s,l){function c(e,n,r,o,a,c){S.clean(e,{filter:r,autoConvert:o,getAutoValues:n,isModifier:"insert"!==t,removeEmptyStrings:a,trimStrings:c,extendAutoValueContext:i.extend({isInsert:"insert"===t,isUpdate:"update"===t&&g.upsert!==!0,isUpsert:_,userId:s,isFromTrustedCode:l,docId:k,isLocalCollection:x},g.extendAutoValueContext||{})})}var f=this,p,m,v,g,_,y,h,C,S=f.simpleSchema(),x=null===f._connection;if(!n.length)throw new Error(t+" requires an argument");if("insert"===t)p=n[0],g=n[1],m=n[2],n="function"==typeof g?[p,g]:"function"==typeof m?[p,m]:[p];else{if("update"!==t)throw new Error("invalid type argument");y=n[0],p=n[1],g=n[2],m=n[3]}m||"function"!=typeof g||(m=g,g={}),g=g||{},h=n.length-1,C="function"==typeof n[h],_="update"===t&&g.upsert===!0,(e.isServer||x)&&g.getAutoValues===!1&&(o=!1);var I=g.validationContext;I?"string"==typeof I&&(I=S.namedContext(I)):I=S.namedContext(),e.isClient&&!m&&(m=function(n){n&&e._debug(t+" failed: "+(n.reason||n.stack))}),e.isClient&&C&&(m=n[h]=u(I,m));var k;"insert"===t?k=p._id:"update"===t&&y&&(k="string"==typeof y||y instanceof a.ObjectID?y:y._id);var w;p._id&&!S.allowsKey("_id")&&(w=p._id,delete p._id),c(p,o,g.filter!==!1,g.autoConvert!==!1,g.removeEmptyStrings!==!1,g.trimStrings!==!1);var E={};for(var O in p)p.hasOwnProperty(O)&&(E[O]=p[O]);if(e.isServer&&_&&i.isObject(y)){var A=E.$set||{};E.$set=i.clone(y),i.extend(E.$set,A)}e.isClient&&!x&&c(E,!0,!1,!1,!1,!1);var P;if(P=g.validate===!1?!0:I.validate(E,{modifier:"update"===t||"upsert"===t,upsert:_,extendedCustomContext:i.extend({isInsert:"insert"===t,isUpdate:"update"===t&&g.upsert!==!0,isUpsert:_,userId:s,isFromTrustedCode:l,docId:k,isLocalCollection:x},g.extendedCustomContext||{})}))return w&&(p._id=w),"insert"===t?n[0]=p:n[1]=p,e.isServer&&C&&(n[h]=d(I,n[h])),n;if(v=r(I),!m)throw v;m(v,!1)}function r(t){var n,i=t.invalidKeys();n=i.length?t.keyErrorMessage(i[0].name):"Failed validation";var r=new Error(n);return r.invalidKeys=i,r.validationContext=t,e.isServer&&(r.sanitizedError=new e.Error(400,n,c.stringify(r.invalidKeys))),r}function l(e,t){var n=t.split("c2_")[1].split(" ")[0],i=t.split("dup key:")[1].split('"')[1];e.addInvalidKeys([{name:n,type:"notUnique",value:i}])}function d(e,t){return function n(o){var a=i.toArray(arguments);return o&&("MongoError"===o.name&&11001===o.code||o.message.indexOf(!0))&&-1!==o.message.indexOf("c2_")&&(l(e,o.message),a[0]=r(e)),t.apply(this,a)}}function u(t,n){return function o(a){var s=i.toArray(arguments);if(a instanceof e.Error&&400===a.error&&"INVALID"===a.reason&&"string"==typeof a.details){var d=c.parse(a.details);t.addInvalidKeys(d),s[0]=r(t)}else a instanceof e.Error&&409===a.error&&a.reason&&-1!==a.reason.indexOf("E11000")&&-1!==a.reason.indexOf("c2_")&&(l(t,a.reason),s[0]=r(t));return n.apply(this,s)}}function f(e){Package&&Package.insecure&&!m[e._name]&&(e.allow({insert:function(){return!0},update:function(){return!0},remove:function(){return!0},fetch:[],transform:null}),m[e._name]=!0)}function p(t,r){if(!v[t._name]){var o=null===t._connection;t.deny({insert:function(n,i){var r=t.simpleSchema(),a;return e.isServer&&i._id&&!r.allowsKey("_id")&&(a=i._id,delete i._id),r.clean(i,{isModifier:!1,filter:!1,autoConvert:!1,removeEmptyStrings:!1,trimStrings:!1,extendAutoValueContext:{isInsert:!0,isUpdate:!1,isUpsert:!1,userId:n,isFromTrustedCode:!1,docId:a,isLocalCollection:o}}),a&&(i._id=a),!1},update:function(e,n,i,r){var a=t.simpleSchema();return a.clean(r,{isModifier:!0,filter:!1,autoConvert:!1,removeEmptyStrings:!1,trimStrings:!1,extendAutoValueContext:{isInsert:!1,isUpdate:!0,isUpsert:!1,userId:e,isFromTrustedCode:!1,docId:n&&n._id,isLocalCollection:o}}),!1},fetch:["_id"],transform:null}),t.deny(i.extend({insert:function(i,r){return n.call(t,"insert",[r,{trimStrings:!1,removeEmptyStrings:!1,filter:!1,autoConvert:!1},function(t){if(t)throw new e.Error(400,"INVALID",c.stringify(t.invalidKeys))}],!1,i,!1),!1},update:function(i,r,o,a){return n.call(t,"update",[{_id:r&&r._id},a,{trimStrings:!1,removeEmptyStrings:!1,filter:!1,autoConvert:!1},function(t){if(t)throw new e.Error(400,"INVALID",c.stringify(t.invalidKeys))}],!1,i,!1),!1},fetch:["_id"]},r.transform===!0?{}:{transform:null})),v[t._name]=!0}}t.extendOptions({index:o.Optional(o.OneOf(Number,String,Boolean)),unique:o.Optional(Boolean),sparse:o.Optional(Boolean),denyInsert:o.Optional(Boolean),denyUpdate:o.Optional(Boolean)}),t.messages({notUnique:"[label] must be unique",insertNotAllowed:"[label] cannot be set during an insert",updateNotAllowed:"[label] cannot be set during an update"}),"undefined"==typeof a&&(a={},a.Collection=e.Collection),a.Collection.prototype.attachSchema=function g(n,r){function o(t,n,i,r,o){e.startup(function(){t._collection._ensureIndex(n,{background:!0,name:i,unique:r,sparse:o})})}function a(t,n){e.startup(function(){try{t._collection._dropIndex(n)}catch(e){}})}var l=this;r=r||{},n instanceof t||(n=new t(n)),l._c2=l._c2||{},l._c2._simpleSchema&&r.replace!==!0&&(n=new t([l._c2._simpleSchema,n])),l._c2._simpleSchema=n,l._collection instanceof s&&(l._collection._c2=l._collection._c2||{},l._collection._c2._simpleSchema=n),e.isServer&&i.each(n.schema(),function(e,t){if("index"in e||e.unique===!0){var n={},i;"index"in e?(i=e.index,i===!0&&(i=1)):i=1;var r="c2_"+t,s=t.replace(/\.\$\./g,".");n[s]=i;var c=!!e.unique&&(1===i||-1===i),d=e.sparse||!1;!d&&c&&e.optional&&(d=!0),i===!1?a(l,r):o(l,n,r,c,d)}}),n.validator(function(){var e=this.definition,t=this.value,n=this.operator;return e.denyInsert&&void 0!==t&&!n?"insertNotAllowed":e.denyUpdate&&n&&("$set"!==n||"$set"===n&&void 0!==t)?"updateNotAllowed":!0}),p(l,r),f(l)},i.each([a.Collection,s],function(e){e.prototype.simpleSchema=function(){var e=this;return e._c2?e._c2._simpleSchema:null}}),i.each(["insert","update"],function(t){var r=a.Collection.prototype[t];a.Collection.prototype[t]=function(){var o=this,a=i.toArray(arguments);if(o._c2){var s=null;try{s=e.userId()}catch(l){}if(a=n.call(o,t,a,!0,s,e.isServer),!a)return"insert"===t?o._makeNewID():void 0}return r.apply(o,a)}});var m={},v={}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["aldeed:collection2"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.mongo.Mongo,n=Package.tracker.Tracker,o=Package.tracker.Deps,r=Package.underscore._,c=Package.ejson.EJSON,i=Package.minimongo.LocalCollection,a=Package.minimongo.Minimongo,s;(function(){var n={},o=Package.tracker&&Package.tracker.Tracker||Package.deps.Deps,a=e.isServer&&new e.EnvironmentVariable;if(s={defaults:{before:{insert:{},update:{},remove:{},upsert:{},find:{},findOne:{},all:{}},after:{insert:{},update:{},remove:{},find:{},findOne:{},all:{}},all:{insert:{},update:{},remove:{},find:{},findOne:{},all:{}}},directEnv:new e.EnvironmentVariable,directOp:function l(e){return this.directEnv.withValue(!0,e)},hookedOp:function f(e){return this.directEnv.withValue(!1,e)}},s.getUserId=function p(){var t;if(e.isClient&&o.nonreactive(function(){t=e.userId&&e.userId()}),e.isServer){try{t=e.userId&&e.userId()}catch(n){}t||(t=a.get())}return t},s.extendCollectionInstance=function d(t,o){r.each(["before","after"],function(o){r.each(n,function(n,r){("upsert"!==n||"after"!==o)&&(e._ensure(t,o,r),e._ensure(t,"_hookAspects",r),t._hookAspects[r][o]=[],t[o][r]=function(e,n){var c=t._hookAspects[r][o].push({aspect:e,options:s.initOptions(n,o,r)});return{replace:function(e,n){t._hookAspects[r][o].splice(c-1,1,{aspect:e,options:s.initOptions(n,o,r)})},remove:function(){t._hookAspects[r][o].splice(c-1,1)}}})})}),t.hookOptions=c.clone(s.defaults),r.each(n,function(n,c){var i=e.isClient||"upsert"===c?t:t._collection,a=i[c];e._ensure(t,"direct",c),t.direct[c]=function(){var e=arguments;return s.directOp(function(){return o.prototype[c].apply(t,e)})},i[c]=function(){return s.directEnv.get()===!0?a.apply(i,arguments):n.call(this,s.getUserId(),a,t,"upsert"===c?{insert:t._hookAspects.insert||{},update:t._hookAspects.update||{},upsert:t._hookAspects.upsert||{}}:t._hookAspects[c]||{},function(e){return r.isFunction(t._transform)?function(n){return t._transform(n||e)}:function(t){return t||e}},r.toArray(arguments),!1)}})},s.defineAdvice=function h(e,t){n[e]=t},s.getAdvice=function v(e){return n[e]},s.initOptions=function g(e,t,n){return s.extendOptions(s.defaults,e,t,n)},s.extendOptions=function _(e,t,n,o){return t=r.extend(t||{},e.all.all),t=r.extend(t,e[n].all),t=r.extend(t,e.all[o]),t=r.extend(t,e[n][o])},s.getDocs=function m(e,t,n){var o=this,r={transform:null,reactive:!1};return n&&(n.multi||(r.limit=1)),e.find(t,r)},s.getFields=function y(e){var t=[];return r.each(e,function(e,n){r.contains(["$set","$unset","$inc","$push","$pull","$pop","$rename","$pullAll","$addToSet","$bit"],n)?r.each(r.keys(e),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),r.contains(t,e)||t.push(e)}):t.push(n)}),t},s.reassignPrototype=function k(n,o){var r="function"==typeof Object.setPrototypeOf;o||(o="undefined"!=typeof t?t.Collection:e.Collection),r?Object.setPrototypeOf(n,o.prototype):n.__proto__&&(n.__proto__=o.prototype)},s.wrapCollection=function C(e,t){t._CollectionConstructor||(t._CollectionConstructor=t.Collection),t._CollectionPrototype||(t._CollectionPrototype=new t.Collection(null));var n=t._CollectionConstructor,o=t._CollectionPrototype;e.Collection=function(){var e=n.apply(this,arguments);return s.extendCollectionInstance(this,n),e},e.Collection.prototype=o,e.Collection.prototype.constructor=e.Collection;for(var r in n)n.hasOwnProperty(r)&&(e.Collection[r]=n[r])},s.modify=i._modify,"undefined"!=typeof t?(s.wrapCollection(e,t),s.wrapCollection(t,t)):s.wrapCollection(e,e),e.isServer){var u=e.publish;e.publish=function(e,t){return u.call(this,e,function(){var e=this,n=arguments;return a.withValue(e&&e.userId,function(){return t.apply(e,n)})})},s.isWithinPublish=function O(){return void 0!==a.get()}}}).call(this),function(){s.defineAdvice("insert",function(e,t,n,o,i,a,s){function u(t,n){var u=a[0];if(t&&(u=c.clone(a[0]),u._id=t),!s){var l=r.extend({transform:i(u),_id:t,err:n},f);r.each(o.after,function(t){t.aspect.call(l,e,u)})}return t}var l=this,f={context:l,_super:t,args:a},p=r.last(a),d=r.isFunction(p),h,v;if(!s)try{if(r.each(o.before,function(t){var n=t.aspect.call(r.extend({transform:i(a[0])},f),e,a[0]);n===!1&&(h=!0)}),h)return!1}catch(g){if(d)return p.call(l,g);throw g}return d?(a[a.length-1]=function(e,t){return u(t&&t[0]&&t[0]._id||t,e),p.apply(this,arguments)},t.apply(l,a)):(v=t.apply(l,a),u(v&&v[0]&&v[0]._id||v))})}.call(this),function(){s.defineAdvice("update",function(e,t,n,o,i,a,u){function l(t,n){if(!u){var c=s.getFields(a[1]),l=s.getDocs.call(f,k,{_id:{$in:g}},a[2]).fetch();r.each(o.after,function(o){r.each(l,function(a){o.aspect.call(r.extend({transform:i(a),previous:y.docs&&y.docs[a._id],affected:t,err:n},p),e,a,c,y.mutator,y.options)})})}}var f=this,p={context:f,_super:t,args:a},d=r.last(a),h=r.isFunction(d),v,g,_,m,y={},k=r.has(f,"_collection")?f._collection:f;if(r.isFunction(a[2])&&(d=a[2],a[2]={}),!u)try{if((o.before||o.after)&&(_=s.getFields(a[1]),v=s.getDocs.call(f,k,a[0],a[2]).fetch(),g=r.map(v,function(e){return e._id})),o.after&&(y.mutator=c.clone(a[1]),y.options=c.clone(a[2]),r.some(o.after,function(e){return e.options.fetchPrevious!==!1})&&s.extendOptions(n.hookOptions,{},"after","update").fetchPrevious!==!1&&(y.docs={},r.each(v,function(e){y.docs[e._id]=c.clone(e)}))),r.each(o.before,function(t){r.each(v,function(n){var o=t.aspect.call(r.extend({transform:i(n)},p),e,n,_,a[1],a[2]);o===!1&&(m=!0)})}),m)return!1}catch(C){if(h)return d.call(f,C);throw C}if(h)return a[a.length-1]=function(e,t){return l(t,e),d.apply(this,arguments)},t.apply(this,a);var O=t.apply(f,a);return l(O),O})}.call(this),function(){s.defineAdvice("remove",function(e,t,n,o,i,a,u){function l(t){u||r.each(o.after,function(n){r.each(_,function(o){n.aspect.call(r.extend({transform:i(o),err:t},p),e,o)})})}var f=this,p={context:f,_super:t,args:a},d=r.last(a),h=r.isFunction(d),v,g,_=[],m=r.has(f,"_collection")?f._collection:f;if(!u)try{if((o.before||o.after)&&(v=s.getDocs.call(f,m,a[0]).fetch()),o.after&&r.each(v,function(e){_.push(c.clone(e))}),r.each(o.before,function(t){r.each(v,function(n){var o=t.aspect.call(r.extend({transform:i(n)},p),e,n);o===!1&&(g=!0)})}),g)return!1}catch(y){if(h)return d.call(f,y);throw y}if(h)return a[a.length-1]=function(e){return l(e),d.apply(this,arguments)},t.apply(f,a);var k=t.apply(f,a);return l(),k})}.call(this),function(){s.defineAdvice("upsert",function(e,t,n,o,i,a,u){function l(t,n){if(!u){var c=s.getFields(a[1]),l=s.getDocs.call(p,C,{_id:{$in:_}},a[2]).fetch();r.each(o.update.after,function(o){r.each(l,function(a){o.aspect.call(r.extend({transform:i(a),previous:k.docs&&k.docs[a._id],affected:t,err:n},d),e,a,c,k.mutator,k.options)})})}}function f(t,n){if(!u){var c=s.getDocs.call(p,C,{_id:t},a[0],{}).fetch()[0],l=r.extend({transform:i(c),_id:t,err:n},d);r.each(o.insert.after,function(t){t.aspect.call(l,e,c)})}}var p=this,d={context:p,_super:t,args:a},h=r.last(a),v=r.isFunction(h),g,_,m,y,k={},C=r.has(p,"_collection")?p._collection:p;if(r.isFunction(a[2])&&(h=a[2],a[2]={}),!u&&(o.upsert.before&&(m=s.getFields(a[1]),g=s.getDocs.call(p,C,a[0],a[2]).fetch(),_=r.map(g,function(e){return e._id})),o.update.after&&r.some(o.update.after,function(e){return e.options.fetchPrevious!==!1})&&s.extendOptions(n.hookOptions,{},"after","update").fetchPrevious!==!1&&(k.mutator=c.clone(a[1]),k.options=c.clone(a[2]),k.docs={},r.each(g,function(e){k.docs[e._id]=c.clone(e)})),!u&&(r.each(o.upsert.before,function(t){var n=t.aspect.call(d,e,a[0],a[1],a[2]);n===!1&&(y=!0)}),y)))return!1;if(v)return a[a.length-1]=function(e,t){return t.insertedId?f(t.insertedId,e):l(t.numberAffected,e),s.hookedOp(function(){return h.call(this,e,t)})},s.directOp(function(){return t.apply(p,a)});var O=s.directOp(function(){return t.apply(p,a)});return O.insertedId?f(O.insertedId):l(O.numberAffected),O})}.call(this),function(){s.defineAdvice("find",function(e,t,n,o,c,i,a){function s(t){a||r.each(o.after,function(n){n.aspect.call(l,e,i[0],i[1],t)})}var u=this,l={context:u,_super:t,args:i},f,p;return!a&&(r.each(o.before,function(t){var n=t.aspect.call(l,e,i[0],i[1]);n===!1&&(p=!0)}),p)?!1:(f=t.apply(u,i),s(f),f)})}.call(this),function(){s.defineAdvice("findOne",function(e,t,n,o,c,i,a){function s(t){a||r.each(o.after,function(n){n.aspect.call(l,e,i[0],i[1],t)})}var u=this,l={context:u,_super:t,args:i},f,p;return!a&&(r.each(o.before,function(t){var n=t.aspect.call(l,e,i[0],i[1]);n===!1&&(p=!0)}),p)?!1:(f=t.apply(u,i),s(f),f)})}.call(this),function(){if(e.users){s.reassignPrototype(e.users);var n="undefined"!=typeof t&&"undefined"!=typeof t.Collection?t.Collection:e.Collection;s.extendCollectionInstance(e.users,n)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["matb33:collection-hooks"]={CollectionHooks:s}}();

!function(){var t=Package.meteor.Meteor,n;(function(){(function(){n=n||function(t,n){var i={},e=i.lib={},r=e.Base=function(){function t(){}return{extend:function(n){t.prototype=this;var i=new t;return n&&i.mixIn(n),i.hasOwnProperty("init")||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=e.WordArray=r.extend({init:function(t,i){t=this.words=t||[],i!=n?this.sigBytes=i:this.sigBytes=4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var n=this.words,i=t.words,e=this.sigBytes,r=t.sigBytes;if(this.clamp(),e%4)for(var s=0;r>s;s++){var o=i[s>>>2]>>>24-s%4*8&255;n[e+s>>>2]|=o<<24-(e+s)%4*8}else if(i.length>65535)for(var s=0;r>s;s+=4)n[e+s>>>2]=i[s>>>2];else n.push.apply(n,i);return this.sigBytes+=r,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-i%4*8,n.length=t.ceil(i/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var i=[],e=0;n>e;e+=4)i.push(4294967296*t.random()|0);return new s.init(i,n)}}),o=i.enc={},a=o.Hex={stringify:function(t){for(var n=t.words,i=t.sigBytes,e=[],r=0;i>r;r++){var s=n[r>>>2]>>>24-r%4*8&255;e.push((s>>>4).toString(16)),e.push((15&s).toString(16))}return e.join("")},parse:function(t){for(var n=t.length,i=[],e=0;n>e;e+=2)i[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4;return new s.init(i,n/2)}},c=o.Latin1={stringify:function(t){for(var n=t.words,i=t.sigBytes,e=[],r=0;i>r;r++){var s=n[r>>>2]>>>24-r%4*8&255;e.push(String.fromCharCode(s))}return e.join("")},parse:function(t){for(var n=t.length,i=[],e=0;n>e;e++)i[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new s.init(i,n)}},u=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},f=e.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var i=this._data,e=i.words,r=i.sigBytes,o=this.blockSize,a=4*o,c=r/a;c=n?t.ceil(c):t.max((0|c)-this._minBufferSize,0);var u=c*o,f=t.min(4*u,r);if(u){for(var h=0;u>h;h+=o)this._doProcessBlock(e,h);var p=e.splice(0,u);i.sigBytes-=f}return new s.init(p,f)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=e.Hasher=f.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var n=this._doFinalize();return n},blockSize:16,_createHelper:function(t){return function(n,i){return new t.init(i).finalize(n)}},_createHmacHelper:function(t){return function(n,i){return new p.HMAC.init(t,i).finalize(n)}}}),p=i.algo={};return i}(Math)}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["jparker:crypto-core"]={CryptoJS:n}}();

!function(){var r=Package.meteor.Meteor,a=Package["jparker:crypto-core"].CryptoJS;(function(){(function(){!function(r){function t(r,a,t,e,n,o,c){var i=r+(a&t|~a&e)+n+c;return(i<<o|i>>>32-o)+a}function e(r,a,t,e,n,o,c){var i=r+(a&e|t&~e)+n+c;return(i<<o|i>>>32-o)+a}function n(r,a,t,e,n,o,c){var i=r+(a^t^e)+n+c;return(i<<o|i>>>32-o)+a}function o(r,a,t,e,n,o,c){var i=r+(t^(a|~e))+n+c;return(i<<o|i>>>32-o)+a}var c=a,i=c.lib,s=i.WordArray,h=i.Hasher,u=c.algo,f=[];!function(){for(var a=0;64>a;a++)f[a]=4294967296*r.abs(r.sin(a+1))|0}();var l=u.MD5=h.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(r,a){for(var c=0;16>c;c++){var i=a+c,s=r[i];r[i]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var h=this._hash.words,u=r[a+0],l=r[a+1],v=r[a+2],_=r[a+3],d=r[a+4],g=r[a+5],p=r[a+6],k=r[a+7],y=r[a+8],P=r[a+9],H=r[a+10],M=r[a+11],m=r[a+12],w=r[a+13],B=r[a+14],D=r[a+15],b=h[0],j=h[1],x=h[2],z=h[3];b=t(b,j,x,z,u,7,f[0]),z=t(z,b,j,x,l,12,f[1]),x=t(x,z,b,j,v,17,f[2]),j=t(j,x,z,b,_,22,f[3]),b=t(b,j,x,z,d,7,f[4]),z=t(z,b,j,x,g,12,f[5]),x=t(x,z,b,j,p,17,f[6]),j=t(j,x,z,b,k,22,f[7]),b=t(b,j,x,z,y,7,f[8]),z=t(z,b,j,x,P,12,f[9]),x=t(x,z,b,j,H,17,f[10]),j=t(j,x,z,b,M,22,f[11]),b=t(b,j,x,z,m,7,f[12]),z=t(z,b,j,x,w,12,f[13]),x=t(x,z,b,j,B,17,f[14]),j=t(j,x,z,b,D,22,f[15]),b=e(b,j,x,z,l,5,f[16]),z=e(z,b,j,x,p,9,f[17]),x=e(x,z,b,j,M,14,f[18]),j=e(j,x,z,b,u,20,f[19]),b=e(b,j,x,z,g,5,f[20]),z=e(z,b,j,x,H,9,f[21]),x=e(x,z,b,j,D,14,f[22]),j=e(j,x,z,b,d,20,f[23]),b=e(b,j,x,z,P,5,f[24]),z=e(z,b,j,x,B,9,f[25]),x=e(x,z,b,j,_,14,f[26]),j=e(j,x,z,b,y,20,f[27]),b=e(b,j,x,z,w,5,f[28]),z=e(z,b,j,x,v,9,f[29]),x=e(x,z,b,j,k,14,f[30]),j=e(j,x,z,b,m,20,f[31]),b=n(b,j,x,z,g,4,f[32]),z=n(z,b,j,x,y,11,f[33]),x=n(x,z,b,j,M,16,f[34]),j=n(j,x,z,b,B,23,f[35]),b=n(b,j,x,z,l,4,f[36]),z=n(z,b,j,x,d,11,f[37]),x=n(x,z,b,j,k,16,f[38]),j=n(j,x,z,b,H,23,f[39]),b=n(b,j,x,z,w,4,f[40]),z=n(z,b,j,x,u,11,f[41]),x=n(x,z,b,j,_,16,f[42]),j=n(j,x,z,b,p,23,f[43]),b=n(b,j,x,z,P,4,f[44]),z=n(z,b,j,x,m,11,f[45]),x=n(x,z,b,j,D,16,f[46]),j=n(j,x,z,b,v,23,f[47]),b=o(b,j,x,z,u,6,f[48]),z=o(z,b,j,x,k,10,f[49]),x=o(x,z,b,j,B,15,f[50]),j=o(j,x,z,b,g,21,f[51]),b=o(b,j,x,z,m,6,f[52]),z=o(z,b,j,x,_,10,f[53]),x=o(x,z,b,j,H,15,f[54]),j=o(j,x,z,b,l,21,f[55]),b=o(b,j,x,z,y,6,f[56]),z=o(z,b,j,x,D,10,f[57]),x=o(x,z,b,j,p,15,f[58]),j=o(j,x,z,b,w,21,f[59]),b=o(b,j,x,z,d,6,f[60]),z=o(z,b,j,x,M,10,f[61]),x=o(x,z,b,j,v,15,f[62]),j=o(j,x,z,b,P,21,f[63]),h[0]=h[0]+b|0,h[1]=h[1]+j|0,h[2]=h[2]+x|0,h[3]=h[3]+z|0},_doFinalize:function(){var a=this._data,t=a.words,e=8*this._nDataBytes,n=8*a.sigBytes;t[n>>>5]|=128<<24-n%32;var o=r.floor(e/4294967296),c=e;t[(n+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t[(n+64>>>9<<4)+14]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),a.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,s=i.words,h=0;4>h;h++){var u=s[h];s[h]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return i},clone:function(){var r=h.clone.call(this);return r._hash=this._hash.clone(),r}});c.MD5=h._createHelper(l),c.HmacMD5=h._createHmacHelper(l)}(Math)}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["jparker:crypto-md5"]={}}();

!function(){var o=Package.meteor.Meteor,a=Package.http.HTTP,e;(function(){(function(){"use strict";e=this.Email||{},e.domainsWithTags={"gmail.com":"+","googlemail.com":"+","google.com":"+","outlook.com":"+","hotmail.com":"+","live.com":"+","fastmail.com":"+","fastmail.fm":"+","yahoo.com.ar":"-","yahoo.com.au":"-","yahoo.at":"-","yahoo.be/fr":"-","yahoo.be/nl":"-","yahoo.com.br":"-","ca.yahoo.com":"-","qc.yahoo.com":"-","yahoo.com.co":"-","yahoo.com.hr":"-","yahoo.cz":"-","yahoo.dk":"-","yahoo.fi":"-","yahoo.fr":"-","yahoo.de":"-","yahoo.gr":"-","yahoo.com.hk":"-","yahoo.hu":"-","yahoo.co.in/yahoo.in":"-","yahoo.co.id":"-","yahoo.ie":"-","yahoo.co.il":"-","yahoo.it":"-","yahoo.co.jp":"-","yahoo.com.my":"-","yahoo.com.mx":"-","yahoo.ae":"-","yahoo.nl":"-","yahoo.co.nz":"-","yahoo.no":"-","yahoo.com.ph":"-","yahoo.pl":"-","yahoo.pt":"-","yahoo.ro":"-","yahoo.ru":"-","yahoo.com.sg":"-","yahoo.co.za":"-","yahoo.es":"-","yahoo.se":"-","yahoo.ch/fr":"-","yahoo.ch/de":"-","yahoo.com.tw":"-","yahoo.co.th":"-","yahoo.com.tr":"-","yahoo.co.uk":"-","yahoo.com":"-","yahoo.com.vn":"-"},e.normalize=function t(c,r,h){r=r||{},r.forceRemoveDots=r.forceRemoveDots||!1,r.forceRemoveTags=r.forceRemoveTags||!1,r.detectProvider=r.detectProvider||!1,c=c.trim().toLowerCase();var i=c.split(/@/),n=i[0],m=i[1];if(r.forceRemoveTags)n=n.replace(/[-+=].*/,"");else{var l=e.domainsWithTags[m];l&&(n=n.split(l)[0])}if((r.forceRemoveDots||/^(gmail|googlemail|google)\.com$/.test(m))&&(n=n.replace(/\./g,"")),"googlemail.com"===m&&(m="gmail.com"),r.detectProvider){var y=function u(o,a){return/aspmx.*google.*\.com\.?$/i.test(o)?a.split("+")[0].replace(/\./g,""):/\.messagingengine\.com\.?$/i.test(o)?a.split("+")[0]:a};if(o.isClient){if("function"!=typeof h)throw new Error("Detecting the provider from the client requires a callback.");return a.get("http://enclout.com/api/v1/dns/show.json",{params:{url:m}},function(o,a){if(o)return h(o);for(var e=a.data.dns_entries,t=0;t<e.length;t++){if(!e[t].Type)return h("Could not find Type field in Enclout API result. Has the format changed?");"MX"===e[t].Type&&(n=y(e[t].RData,n))}return h(null,n+"@"+m)})}var s=o.wrapAsync(Npm.require("dns").resolveMx);if("function"!=typeof h){for(var f=s(m),g=0;g<f.length;g++)n=y(f[g].exchange,n);return n+"@"+m}s(m,function(o,a){if(o)return h(o);for(var e=0;e<a.length;e++)n=y(a[e].exchange,n);return h(null,n+"@"+m)})}return n+"@"+m}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["idorecall:email-normalize"]={Email:e}}();

!function(){var a=Package.meteor.Meteor,e=Package.underscore._,r=Package["idorecall:email-normalize"].Email,t=Package["jparker:crypto-core"].CryptoJS,n;(function(){(function(){n={cleanString:function(a){return a.trim().toLowerCase()},isHash:function(a){var e=this;return/^[a-f0-9]{32}$/i.test(e.cleanString(a))},hash:function(a){var e=this;return t.MD5(e.cleanString(a)).toString()},imageUrl:function(a,t){var n=this;t=t||{};var i=t.secure?"https://secure.gravatar.com/avatar/":"http://www.gravatar.com/avatar/";if(n.isHash(a))i+=a;else{if(e.isUndefined(t.d)){var c=r.normalize(a);c!==a&&(t.d=i+n.hash(c))}i+=n.hash(a)}delete t.secure;var o=e.map(t,function(a,e){return e+"="+encodeURIComponent(a)}).join("&");return o.length>0&&(i+="?"+o),i}}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["jparker:gravatar"]={Gravatar:n}}();

!function(){var n=Package.meteor.Meteor,e;(function(){(function(){!function(n,r){function t(n){return!!(""===n||n&&n.charCodeAt&&n.substr)}function o(n){return p?p(n):"[object Array]"===m.call(n)}function a(n){return"[object Object]"===m.call(n)}function i(n,e){var r;n=n||{},e=e||{};for(r in e)e.hasOwnProperty(r)&&null==n[r]&&(n[r]=e[r]);return n}function u(n,e,r){var t=[],o,a;if(!n)return t;if(l&&n.map===l)return n.map(e,r);for(o=0,a=n.length;a>o;o++)t[o]=e.call(r,n[o],o,n);return t}function c(n,e){return n=Math.round(Math.abs(n)),isNaN(n)?e:n}function s(n){var e=f.settings.currency.format;return"function"==typeof n&&(n=n()),t(n)&&n.match("%v")?{pos:n,neg:n.replace("-","").replace("%v","-%v"),zero:n}:n&&n.pos&&n.pos.match("%v")?n:t(e)?f.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e}:e}var f={};f.version="0.3.2",f.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var l=Array.prototype.map,p=Array.isArray,m=Object.prototype.toString,d=f.unformat=f.parse=function(n,e){if(o(n))return u(n,function(n){return d(n,e)});if(n=n||0,"number"==typeof n)return n;e=e||".";var r=new RegExp("[^0-9-"+e+"]",["g"]),t=parseFloat((""+n).replace(/\((.*)\)/,"-$1").replace(r,"").replace(e,"."));return isNaN(t)?0:t},g=f.toFixed=function(n,e){e=c(e,f.settings.number.precision);var r=Math.pow(10,e);return(Math.round(f.unformat(n)*r)/r).toFixed(e)},h=f.formatNumber=function(n,e,r,t){if(o(n))return u(n,function(n){return h(n,e,r,t)});n=d(n);var s=i(a(e)?e:{precision:e,thousand:r,decimal:t},f.settings.number),l=c(s.precision),p=0>n?"-":"",m=parseInt(g(Math.abs(n||0),l),10)+"",y=m.length>3?m.length%3:0;return p+(y?m.substr(0,y)+s.thousand:"")+m.substr(y).replace(/(\d{3})(?=\d)/g,"$1"+s.thousand)+(l?s.decimal+g(Math.abs(n),l).split(".")[1]:"")},y=f.formatMoney=function(n,e,r,t,l,p){if(o(n))return u(n,function(n){return y(n,e,r,t,l,p)});n=d(n);var m=i(a(e)?e:{symbol:e,precision:r,thousand:t,decimal:l,format:p},f.settings.currency),g=s(m.format),b=n>0?g.pos:0>n?g.neg:g.zero;return b.replace("%s",m.symbol).replace("%v",h(Math.abs(n),c(m.precision),m.thousand,m.decimal))};f.formatColumn=function(n,e,r,l,p,m){if(!n)return[];var g=i(a(e)?e:{symbol:e,precision:r,thousand:l,decimal:p,format:m},f.settings.currency),y=s(g.format),b=y.pos.indexOf("%s")<y.pos.indexOf("%v")?!0:!1,v=0,M=u(n,function(n,e){if(o(n))return f.formatColumn(n,g);n=d(n);var r=n>0?y.pos:0>n?y.neg:y.zero,t=r.replace("%s",g.symbol).replace("%v",h(Math.abs(n),c(g.precision),g.thousand,g.decimal));return t.length>v&&(v=t.length),t});return u(M,function(n,e){return t(n)&&n.length<v?b?n.replace(g.symbol,g.symbol+new Array(v-n.length+1).join(" ")):new Array(v-n.length+1).join(" ")+n:n})},"undefined"!=typeof e?("undefined"!=typeof module&&module.exports&&(e=module.exports=f),e.accounting=f):"function"==typeof define&&define.amd?define([],function(){return f}):(f.noConflict=function(e){return function(){return n.accounting=e,f.noConflict=r,f}}(n.accounting),n.accounting=f)}(this)}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["lepozepo:accounting"]={}}();

!function(){var t=Package.meteor.Meteor,e;(function(){!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Xn.apply(null,arguments)}function e(t){Xn=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var n=[],i;for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)r(e,n)&&(t[n]=e[n]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function o(t,e,n,i){return Ct(t,e,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(t){return null==t._pf&&(t._pf=u()),t._pf}function l(t){if(null==t._isValid){var e=d(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=o(0/0);return null!=t?a(d(e),t):d(e).userInvalidated=!0,e}function c(t){return void 0===t}function f(t,e){var n,i,s;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=d(e)),c(e._locale)||(t._locale=e._locale),Kn.length>0)for(n in Kn)i=Kn[n],s=e[i],c(s)||(t[i]=s);return t}function m(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():0/0),ti===!1&&(ti=!0,t.updateOffset(this),ti=!1)}function _(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function y(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=y(e)),n}function p(t,e,n){var i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0,a;for(a=0;i>a;a++)(n&&t[a]!==e[a]||!n&&g(t[a])!==g(e[a]))&&r++;return r+s}function v(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function D(t,e){var n=!0;return a(function(){return n&&(v(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function M(t,e){ei[t]||(v(e),ei[t]=!0)}function S(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function Y(t){return"[object Object]"===Object.prototype.toString.call(t)}function w(t){var e,n;for(n in t)e=t[n],S(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function k(t,e){var n=a({},t),i;for(i in e)r(e,i)&&(Y(t[i])&&Y(e[i])?(n[i]={},a(n[i],t[i]),a(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);return n}function T(t){null!=t&&this.set(t)}function b(t){return t?t.toLowerCase().replace("_","-"):t}function O(t){for(var e=0,n,i,s,r;e<t.length;){for(r=b(t[e]).split("-"),n=r.length,i=b(t[e+1]),i=i?i.split("-"):null;n>0;){if(s=W(r.slice(0,n).join("-")))return s;if(i&&i.length>=n&&p(r,i,!0)>=n-1)break;n--}e++}return null}function W(t){var e=null;if(!ni[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=ii._abbr,require("./locale/"+t),x(e)}catch(n){}return ni[t]}function x(t,e){var n;return t&&(n=c(e)?G(t):U(t,e),n&&(ii=n)),ii._abbr}function U(t,e){return null!==e?(e.abbr=t,null!=ni[t]?(M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=k(ni[t]._config,e)):null!=e.parentLocale&&(null!=ni[e.parentLocale]?e=k(ni[e.parentLocale]._config,e):M("parentLocaleUndefined","specified parentLocale is not defined yet")),ni[t]=new T(e),x(t),ni[t]):(delete ni[t],null)}function P(t,e){if(null!=e){var n;null!=ni[t]&&(e=k(ni[t]._config,e)),n=new T(e),n.parentLocale=ni[t],ni[t]=n,x(t)}else null!=ni[t]&&(null!=ni[t].parentLocale?ni[t]=ni[t].parentLocale:null!=ni[t]&&delete ni[t]);return ni[t]}function G(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ii;if(!n(t)){if(e=W(t))return e;t=[t]}return O(t)}function C(){return Object.keys(ni)}function F(t,e){var n=t.toLowerCase();si[n]=si[n+"s"]=si[e]=t}function H(t){return"string"==typeof t?si[t]||si[t.toLowerCase()]:void 0}function L(t){var e={},n,i;for(i in t)r(t,i)&&(n=H(i),n&&(e[n]=t[i]));return e}function V(e,n){return function(i){return null!=i?(A(this,e,i),t.updateOffset(this,n),this):I(this,e)}}function I(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():0/0}function A(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function R(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=H(t),S(this[t]))return this[t](e);return this}function j(t,e,n){var i=""+Math.abs(t),s=e-i.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}function E(t,e,n,i){var s=i;"string"==typeof i&&(s=function(){return this[i]()}),t&&(ui[t]=s),e&&(ui[e[0]]=function(){return j(s.apply(this,arguments),e[1],e[2])}),n&&(ui[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Z(t){var e=t.match(ri),n,i;for(n=0,i=e.length;i>n;n++)ui[e[n]]?e[n]=ui[e[n]]:e[n]=z(e[n]);return function(s){var r="";for(n=0;i>n;n++)r+=e[n]instanceof Function?e[n].call(s,t):e[n];return r}}function N(t,e){return t.isValid()?(e=$(e,t.localeData()),oi[e]=oi[e]||Z(e),oi[e](t)):t.localeData().invalidDate()}function $(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(ai.lastIndex=0;i>=0&&ai.test(t);)t=t.replace(ai,n),ai.lastIndex=0,i-=1;return t}function q(t,e,n){Ti[t]=S(e)?e:function(t,i){return t&&n?n:e}}function J(t,e){return r(Ti,t)?Ti[t](e._strict,e._locale):new RegExp(B(t))}function B(t){return Q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,s){return e||n||i||s}))}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=g(t)}),n=0;n<t.length;n++)bi[t[n]]=i}function K(t,e){X(t,function(t,n,i,s){i._w=i._w||{},e(t,i._w,i,s)})}function tt(t,e,n){null!=e&&r(bi,t)&&bi[t](e,n._a,n,t)}function et(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function nt(t,e){return n(this._months)?this._months[t.month()]:this._months[Li.test(e)?"format":"standalone"][t.month()]}function it(t,e){return n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Li.test(e)?"format":"standalone"][t.month()]}function st(t,e,n){var i,s,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(s=o([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function rt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=g(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),et(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function at(e){return null!=e?(rt(this,e),t.updateOffset(this,!0),this):I(this,"Month")}function ot(){return et(this.year(),this.month())}function ut(t){return this._monthsParseExact?(r(this,"_monthsRegex")||lt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function dt(t){return this._monthsParseExact?(r(this,"_monthsRegex")||lt.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function lt(){function t(t,e){return e.length-t.length}var e=[],n=[],i=[],s,r;for(s=0;12>s;s++)r=o([2e3,s]),e.push(this.monthsShort(r,"")),n.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(e.sort(t),n.sort(t),i.sort(t),s=0;12>s;s++)e[s]=Q(e[s]),n[s]=Q(n[s]),i[s]=Q(i[s]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")$","i")}function ht(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[Wi]<0||n[Wi]>11?Wi:n[xi]<1||n[xi]>et(n[Oi],n[Wi])?xi:n[Ui]<0||n[Ui]>24||24===n[Ui]&&(0!==n[Pi]||0!==n[Gi]||0!==n[Ci])?Ui:n[Pi]<0||n[Pi]>59?Pi:n[Gi]<0||n[Gi]>59?Gi:n[Ci]<0||n[Ci]>999?Ci:-1,d(t)._overflowDayOfYear&&(Oi>e||e>xi)&&(e=xi),d(t)._overflowWeeks&&-1===e&&(e=Fi),d(t)._overflowWeekday&&-1===e&&(e=Hi),d(t).overflow=e),t}function ct(t){var e,n,i=t._i,s=ji.exec(i)||Ei.exec(i),r,a,o,u;if(s){for(d(t).iso=!0,e=0,n=Zi.length;n>e;e++)if(Zi[e][1].exec(s[1])){a=Zi[e][0],r=Zi[e][2]!==!1;break}if(null==a)return void(t._isValid=!1);if(s[3]){for(e=0,n=Ni.length;n>e;e++)if(Ni[e][1].exec(s[3])){o=(s[2]||" ")+Ni[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(s[4]){if(!zi.exec(s[4]))return void(t._isValid=!1);u="Z"}t._f=a+(o||"")+(u||""),bt(t)}else t._isValid=!1}function ft(e){var n=$i.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(ct(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function mt(t,e,n,i,s,r,a){var o=new Date(t,e,n,i,s,r,a);return 100>t&&t>=0&&isFinite(o.getFullYear())&&o.setFullYear(t),o}function _t(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function yt(t){return gt(t)?366:365}function gt(t){return t%4===0&&t%100!==0||t%400===0}function pt(){return gt(this.year())}function vt(t,e,n){var i=7+e-n,s=(7+_t(t,0,i).getUTCDay()-e)%7;return-s+i-1}function Dt(t,e,n,i,s){var r=(7+n-i)%7,a=vt(t,i,s),o=1+7*(e-1)+r+a,u,d;return 0>=o?(u=t-1,d=yt(u)+o):o>yt(t)?(u=t+1,d=o-yt(t)):(u=t,d=o),{year:u,dayOfYear:d}}function Mt(t,e,n){var i=vt(t.year(),e,n),s=Math.floor((t.dayOfYear()-i-1)/7)+1,r,a;return 1>s?(a=t.year()-1,r=s+St(a,e,n)):s>St(t.year(),e,n)?(r=s-St(t.year(),e,n),a=t.year()+1):(a=t.year(),r=s),{week:r,year:a}}function St(t,e,n){var i=vt(t,e,n),s=vt(t+1,e,n);return(yt(t)-i+s)/7}function Yt(t,e,n){return null!=t?t:null!=e?e:n}function wt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function kt(t){var e,n,i=[],s,r;if(!t._d){for(s=wt(t),t._w&&null==t._a[xi]&&null==t._a[Wi]&&Tt(t),t._dayOfYear&&(r=Yt(t._a[Oi],s[Oi]),t._dayOfYear>yt(r)&&(d(t)._overflowDayOfYear=!0),n=_t(r,0,t._dayOfYear),t._a[Wi]=n.getUTCMonth(),t._a[xi]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=i[e]=s[e];for(;7>e;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Ui]&&0===t._a[Pi]&&0===t._a[Gi]&&0===t._a[Ci]&&(t._nextDay=!0,t._a[Ui]=0),t._d=(t._useUTC?_t:mt).apply(null,i),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ui]=24)}}function Tt(t){var e,n,i,s,r,a,o,u;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,a=4,n=Yt(e.GG,t._a[Oi],Mt(Ft(),1,4).year),i=Yt(e.W,1),s=Yt(e.E,1),(1>s||s>7)&&(u=!0)):(r=t._locale._week.dow,a=t._locale._week.doy,n=Yt(e.gg,t._a[Oi],Mt(Ft(),r,a).year),i=Yt(e.w,1),null!=e.d?(s=e.d,(0>s||s>6)&&(u=!0)):null!=e.e?(s=e.e+r,(e.e<0||e.e>6)&&(u=!0)):s=r),1>i||i>St(n,r,a)?d(t)._overflowWeeks=!0:null!=u?d(t)._overflowWeekday=!0:(o=Dt(n,i,s,r,a),t._a[Oi]=o.year,t._dayOfYear=o.dayOfYear)}function bt(e){if(e._f===t.ISO_8601)return void ct(e);e._a=[],d(e).empty=!0;var n=""+e._i,i,s,r,a,o,u=n.length,l=0;for(r=$(e._f,e._locale).match(ri)||[],i=0;i<r.length;i++)a=r[i],s=(n.match(J(a,e))||[])[0],s&&(o=n.substr(0,n.indexOf(s)),o.length>0&&d(e).unusedInput.push(o),n=n.slice(n.indexOf(s)+s.length),l+=s.length),ui[a]?(s?d(e).empty=!1:d(e).unusedTokens.push(a),tt(a,s,e)):e._strict&&!s&&d(e).unusedTokens.push(a);d(e).charsLeftOver=u-l,n.length>0&&d(e).unusedInput.push(n),d(e).bigHour===!0&&e._a[Ui]<=12&&e._a[Ui]>0&&(d(e).bigHour=void 0),e._a[Ui]=Ot(e._locale,e._a[Ui],e._meridiem),kt(e),ht(e)}function Ot(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function Wt(t){var e,n,i,s,r;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(0/0));for(s=0;s<t._f.length;s++)r=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],bt(e),l(e)&&(r+=d(e).charsLeftOver,r+=10*d(e).unusedTokens.length,d(e).score=r,(null==i||i>r)&&(i=r,n=e));a(t,n||e)}function xt(t){if(!t._d){var e=L(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),kt(t)}}function Ut(t){var e=new m(ht(Pt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Pt(t){var e=t._i,s=t._f;return t._locale=t._locale||G(t._l),null===e||void 0===s&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),_(e)?new m(ht(e)):(n(s)?Wt(t):s?bt(t):i(e)?t._d=e:Gt(t),l(t)||(t._d=null),t))}function Gt(e){var r=e._i;void 0===r?e._d=new Date(t.now()):i(r)?e._d=new Date(+r):"string"==typeof r?ft(e):n(r)?(e._a=s(r.slice(0),function(t){return parseInt(t,10)}),kt(e)):"object"==typeof r?xt(e):"number"==typeof r?e._d=new Date(r):t.createFromInputFallback(e)}function Ct(t,e,n,i,s){var r={};return"boolean"==typeof n&&(i=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=n,r._i=t,r._f=e,r._strict=i,Ut(r)}function Ft(t,e,n,i){return Ct(t,e,n,i,!1)}function Ht(t,e){var i,s;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Ft();for(i=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](i))&&(i=e[s]);return i}function Lt(){var t=[].slice.call(arguments,0);return Ht("isBefore",t)}function Vt(){var t=[].slice.call(arguments,0);return Ht("isAfter",t)}function It(t){var e=L(t),n=e.year||0,i=e.quarter||0,s=e.month||0,r=e.week||0,a=e.day||0,o=e.hour||0,u=e.minute||0,d=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*d+6e4*u+36e5*o,this._days=+a+7*r,this._months=+s+3*i+12*n,this._data={},this._locale=G(),this._bubble()}function At(t){return t instanceof It}function Rt(t,e){E(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+j(~~(t/60),2)+e+j(~~t%60,2)})}function jt(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],s=(i+"").match(Xi)||["-",0,0],r=+(60*s[1])+g(s[2]);return"+"===s[0]?r:-r}function Et(e,n){var s,r;return n._isUTC?(s=n.clone(),r=(_(e)||i(e)?+e:+Ft(e))-+s,s._d.setTime(+s._d+r),t.updateOffset(s,!1),s):Ft(e).local()}function zt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Zt(e,n){var i=this._offset||0,s;return this.isValid()?null!=e?("string"==typeof e?e=jt(Yi,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(s=zt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!n||this._changeInProgress?ue(this,ne(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:zt(this):null!=e?this:0/0}function Nt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function $t(t){return this.utcOffset(0,t)}function qt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(zt(this),"m")),this}function Jt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(jt(Si,this._i)),this}function Bt(t){return this.isValid()?(t=t?Ft(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Xt(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t={};if(f(t,this),t=Pt(t),t._a){var e=t._isUTC?o(t._a):Ft(t._a);this._isDSTShifted=this.isValid()&&p(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Kt(){return this.isValid()?!this._isUTC:!1}function te(){return this.isValid()?this._isUTC:!1}function ee(){return this.isValid()?this._isUTC&&0===this._offset:!1}function ne(t,e){var n=t,i=null,s,a,o;return At(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(n={},e?n[e]=t:n.milliseconds=t):(i=Ki.exec(t))?(s="-"===i[1]?-1:1,n={y:0,d:g(i[xi])*s,h:g(i[Ui])*s,m:g(i[Pi])*s,s:g(i[Gi])*s,ms:g(i[Ci])*s}):(i=ts.exec(t))?(s="-"===i[1]?-1:1,n={y:ie(i[2],s),M:ie(i[3],s),w:ie(i[4],s),d:ie(i[5],s),h:ie(i[6],s),m:ie(i[7],s),s:ie(i[8],s)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(o=re(Ft(n.from),Ft(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),a=new It(n),At(t)&&r(t,"_locale")&&(a._locale=t._locale),a}function ie(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function se(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function re(t,e){var n;return t.isValid()&&e.isValid()?(e=Et(e,t),t.isBefore(e)?n=se(t,e):(n=se(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ae(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function oe(t,e){return function(n,i){var s,r;return null===i||isNaN(+i)||(M(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,s=ne(n,i),ue(this,s,t),this}}function ue(e,n,i,s){var r=n._milliseconds,a=ae(n._days),o=ae(n._months);e.isValid()&&(s=null==s?!0:s,r&&e._d.setTime(+e._d+r*i),a&&A(e,"Date",I(e,"Date")+a*i),o&&rt(e,I(e,"Month")+o*i),s&&t.updateOffset(e,a||o))}function de(t,e){var n=t||Ft(),i=Et(n,this).startOf("day"),s=this.diff(i,"days",!0),r=-6>s?"sameElse":-1>s?"lastWeek":0>s?"lastDay":1>s?"sameDay":2>s?"nextDay":7>s?"nextWeek":"sameElse",a=e&&(S(e[r])?e[r]():e[r]);return this.format(a||this.localeData().calendar(r,this,Ft(n)))}function le(){return new m(this)}function he(t,e){var n=_(t)?t:Ft(t);return this.isValid()&&n.isValid()?(e=H(c(e)?"millisecond":e),"millisecond"===e?+this>+n:+n<+this.clone().startOf(e)):!1}function ce(t,e){var n=_(t)?t:Ft(t);return this.isValid()&&n.isValid()?(e=H(c(e)?"millisecond":e),"millisecond"===e?+n>+this:+this.clone().endOf(e)<+n):!1}function fe(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function me(t,e){var n=_(t)?t:Ft(t),i;return this.isValid()&&n.isValid()?(e=H(e||"millisecond"),"millisecond"===e?+this===+n:(i=+n,+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))):!1}function _e(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ye(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ge(t,e,n){var i,s,r,a;return this.isValid()?(i=Et(t,this),i.isValid()?(s=6e4*(i.utcOffset()-this.utcOffset()),e=H(e),"year"===e||"month"===e||"quarter"===e?(a=pe(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(r=this-i,a="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-s)/864e5:"week"===e?(r-s)/6048e5:r),n?a:y(a)):0/0):0/0}function pe(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months"),s,r;return 0>e-i?(s=t.clone().add(n-1,"months"),r=(e-i)/(i-s)):(s=t.clone().add(n+1,"months"),r=(e-i)/(s-i)),-(n+r)}function ve(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function De(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?S(Date.prototype.toISOString)?this.toDate().toISOString():N(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Me(e){var n=N(this,e||t.defaultFormat);return this.localeData().postformat(n)}function Se(t,e){return this.isValid()&&(_(t)&&t.isValid()||Ft(t).isValid())?ne({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ye(t){return this.from(Ft(),t)}function we(t,e){return this.isValid()&&(_(t)&&t.isValid()||Ft(t).isValid())?ne({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ke(t){return this.to(Ft(),t)}function Te(t){var e;return void 0===t?this._locale._abbr:(e=G(t),null!=e&&(this._locale=e),this)}function be(){return this._locale}function Oe(t){switch(t=H(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function We(t){return t=H(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function xe(){return+this._d-6e4*(this._offset||0)}function Ue(){return Math.floor(+this/1e3)}function Pe(){return this._offset?new Date(+this):this._d}function Ge(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ce(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Fe(){return this.isValid()?this.toISOString():null}function He(){return l(this)}function Le(){return a({},d(this))}function Ve(){return d(this).overflow}function Ie(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ae(t,e){E(0,[t,t.length],0,e)}function Re(t){return Ze.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function je(t){return Ze.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ee(){return St(this.year(),1,4)}function ze(){var t=this.localeData()._week;return St(this.year(),t.dow,t.doy)}function Ze(t,e,n,i,s){var r;return null==t?Mt(this,i,s).year:(r=St(t,i,s),e>r&&(e=r),Ne.call(this,t,e,n,i,s))}function Ne(t,e,n,i,s){var r=Dt(t,e,n,i,s),a=_t(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function $e(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function qe(t){return Mt(t,this._week.dow,this._week.doy).week}function Je(){return this._week.dow}function Be(){return this._week.doy}function Qe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Xe(t){var e=Mt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ke(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function tn(t,e){return n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function en(t){return this._weekdaysShort[t.day()]}function nn(t){return this._weekdaysMin[t.day()]}function sn(t,e,n){var i,s,r;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(s=Ft([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function rn(t){if(!this.isValid())return null!=t?this:0/0;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ke(t,this.localeData()),this.add(t-e,"d")):e}function an(t){if(!this.isValid())return null!=t?this:0/0;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function on(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:0/0}function un(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function dn(){return this.hours()%12||12}function ln(t,e){E(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function hn(t,e){return e._meridiemParse}function cn(t){return"p"===(t+"").toLowerCase().charAt(0)}function fn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function mn(t,e){e[Ci]=g(1e3*("0."+t))}function _n(){return this._isUTC?"UTC":""}function yn(){return this._isUTC?"Coordinated Universal Time":""}function gn(t){return Ft(1e3*t)}function pn(){return Ft.apply(null,arguments).parseZone()}function vn(t,e,n){var i=this._calendar[t];return S(i)?i.call(e,n):i}function Dn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function Mn(){return this._invalidDate}function Sn(t){return this._ordinal.replace("%d",t)}function Yn(t){return t}function wn(t,e,n,i){var s=this._relativeTime[n];return S(s)?s(t,e,n,i):s.replace(/%d/i,t)}function kn(t,e){var n=this._relativeTime[t>0?"future":"past"];return S(n)?n(e):n.replace(/%s/i,e)}function Tn(t,e,n,i){var s=G(),r=o().set(i,e);return s[n](r,t)}function bn(t,e,n,i,s){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Tn(t,e,n,s);var r,a=[];for(r=0;i>r;r++)a[r]=Tn(t,r,n,s);return a}function On(t,e){return bn(t,e,"months",12,"month")}function Wn(t,e){return bn(t,e,"monthsShort",12,"month")}function xn(t,e){return bn(t,e,"weekdays",7,"day")}function Un(t,e){return bn(t,e,"weekdaysShort",7,"day")}function Pn(t,e){return bn(t,e,"weekdaysMin",7,"day")}function Gn(){var t=this._data;return this._milliseconds=ws(this._milliseconds),this._days=ws(this._days),this._months=ws(this._months),t.milliseconds=ws(t.milliseconds),t.seconds=ws(t.seconds),t.minutes=ws(t.minutes),t.hours=ws(t.hours),t.months=ws(t.months),t.years=ws(t.years),this}function Cn(t,e,n,i){var s=ne(e,n);return t._milliseconds+=i*s._milliseconds,t._days+=i*s._days,t._months+=i*s._months,t._bubble()}function Fn(t,e){return Cn(this,t,e,1)}function Hn(t,e){return Cn(this,t,e,-1)}function Ln(t){return 0>t?Math.floor(t):Math.ceil(t)}function Vn(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data,s,r,a,o,u;return t>=0&&e>=0&&n>=0||0>=t&&0>=e&&0>=n||(t+=864e5*Ln(An(n)+e),e=0,n=0),i.milliseconds=t%1e3,s=y(t/1e3),i.seconds=s%60,r=y(s/60),i.minutes=r%60,a=y(r/60),i.hours=a%24,e+=y(a/24),u=y(In(e)),n+=u,e-=Ln(An(u)),o=y(n/12),n%=12,i.days=e,i.months=n,i.years=o,this}function In(t){return 4800*t/146097}function An(t){return 146097*t/4800}function Rn(t){var e,n,i=this._milliseconds;if(t=H(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+In(e),"month"===t?n:n/12;switch(e=this._days+Math.round(An(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function jn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function En(t){return function(){return this.as(t)}}function zn(t){return t=H(t),this[t+"s"]()}function Zn(t){return function(){return this._data[t]}}function Nn(){return y(this.days()/7)}function $n(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}function qn(t,e,n){var i=ne(t).abs(),s=As(i.as("s")),r=As(i.as("m")),a=As(i.as("h")),o=As(i.as("d")),u=As(i.as("M")),d=As(i.as("y")),l=s<Rs.s&&["s",s]||1>=r&&["m"]||r<Rs.m&&["mm",r]||1>=a&&["h"]||a<Rs.h&&["hh",a]||1>=o&&["d"]||o<Rs.d&&["dd",o]||1>=u&&["M"]||u<Rs.M&&["MM",u]||1>=d&&["y"]||["yy",d];return l[2]=e,l[3]=+t>0,l[4]=n,$n.apply(null,l)}function Jn(t,e){return void 0===Rs[t]?!1:void 0===e?Rs[t]:(Rs[t]=e,!0)}function Bn(t){var e=this.localeData(),n=qn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Qn(){var t=js(this._milliseconds)/1e3,e=js(this._days),n=js(this._months),i,s,r;i=y(t/60),s=y(i/60),t%=60,i%=60,r=y(n/12),n%=12;var a=r,o=n,u=e,d=s,l=i,h=t,c=this.asSeconds();return c?(0>c?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(u?u+"D":"")+(d||l||h?"T":"")+(d?d+"H":"")+(l?l+"M":"")+(h?h+"S":""):"P0D"}var Xn,Kn=t.momentProperties=[],ti=!1,ei={};t.suppressDeprecationWarnings=!1;var ni={},ii,si={},ri=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ai=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oi={},ui={},di=/\d/,li=/\d\d/,hi=/\d{3}/,ci=/\d{4}/,fi=/[+-]?\d{6}/,mi=/\d\d?/,_i=/\d\d\d\d?/,yi=/\d\d\d\d\d\d?/,gi=/\d{1,3}/,pi=/\d{1,4}/,vi=/[+-]?\d{1,6}/,Di=/\d+/,Mi=/[+-]?\d+/,Si=/Z|[+-]\d\d:?\d\d/gi,Yi=/Z|[+-]\d\d(?::?\d\d)?/gi,wi=/[+-]?\d+(\.\d{1,3})?/,ki=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ti={},bi={},Oi=0,Wi=1,xi=2,Ui=3,Pi=4,Gi=5,Ci=6,Fi=7,Hi=8;E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),E("MMMM",0,0,function(t){return this.localeData().months(this,t)}),F("month","M"),q("M",mi),q("MM",mi,li),q("MMM",function(t,e){return e.monthsShortRegex(t)}),q("MMMM",function(t,e){return e.monthsRegex(t)}),X(["M","MM"],function(t,e){e[Wi]=g(t)-1}),X(["MMM","MMMM"],function(t,e,n,i){var s=n._locale.monthsParse(t,i,n._strict);null!=s?e[Wi]=s:d(n).invalidMonth=t});var Li=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Vi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ii="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ai=ki,Ri=ki,ji=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ei=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,zi=/Z|[+-]\d\d(?::?\d\d)?/,Zi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ni=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$i=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=D("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),E("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),F("year","y"),q("Y",Mi),q("YY",mi,li),q("YYYY",pi,ci),q("YYYYY",vi,fi),q("YYYYYY",vi,fi),X(["YYYYY","YYYYYY"],Oi),X("YYYY",function(e,n){
n[Oi]=2===e.length?t.parseTwoDigitYear(e):g(e)}),X("YY",function(e,n){n[Oi]=t.parseTwoDigitYear(e)}),X("Y",function(t,e){e[Oi]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var qi=V("FullYear",!1);t.ISO_8601=function(){};var Ji=D("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Ft.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:h()}),Bi=D("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Ft.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:h()}),Qi=function(){return Date.now?Date.now():+new Date};Rt("Z",":"),Rt("ZZ",""),q("Z",Yi),q("ZZ",Yi),X(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=jt(Yi,t)});var Xi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ki=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,ts=/^(-)?P(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)W)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?$/;ne.fn=It.prototype;var es=oe(1,"add"),ns=oe(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var is=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ae("gggg","weekYear"),Ae("ggggg","weekYear"),Ae("GGGG","isoWeekYear"),Ae("GGGGG","isoWeekYear"),F("weekYear","gg"),F("isoWeekYear","GG"),q("G",Mi),q("g",Mi),q("GG",mi,li),q("gg",mi,li),q("GGGG",pi,ci),q("gggg",pi,ci),q("GGGGG",vi,fi),q("ggggg",vi,fi),K(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=g(t)}),K(["gg","GG"],function(e,n,i,s){n[s]=t.parseTwoDigitYear(e)}),E("Q",0,"Qo","quarter"),F("quarter","Q"),q("Q",di),X("Q",function(t,e){e[Wi]=3*(g(t)-1)}),E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),F("week","w"),F("isoWeek","W"),q("w",mi),q("ww",mi,li),q("W",mi),q("WW",mi,li),K(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=g(t)});var ss={dow:0,doy:6};E("D",["DD",2],"Do","date"),F("date","D"),q("D",mi),q("DD",mi,li),q("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),X(["D","DD"],xi),X("Do",function(t,e){e[xi]=g(t.match(mi)[0],10)});var rs=V("Date",!0);E("d",0,"do","day"),E("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),E("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),E("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),F("day","d"),F("weekday","e"),F("isoWeekday","E"),q("d",mi),q("e",mi),q("E",mi),q("dd",ki),q("ddd",ki),q("dddd",ki),K(["dd","ddd","dddd"],function(t,e,n,i){var s=n._locale.weekdaysParse(t,i,n._strict);null!=s?e.d=s:d(n).invalidWeekday=t}),K(["d","e","E"],function(t,e,n,i){e[i]=g(t)});var as="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),os="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),us="Su_Mo_Tu_We_Th_Fr_Sa".split("_");E("DDD",["DDDD",3],"DDDo","dayOfYear"),F("dayOfYear","DDD"),q("DDD",gi),q("DDDD",hi),X(["DDD","DDDD"],function(t,e,n){n._dayOfYear=g(t)}),E("H",["HH",2],0,"hour"),E("h",["hh",2],0,dn),E("hmm",0,0,function(){return""+dn.apply(this)+j(this.minutes(),2)}),E("hmmss",0,0,function(){return""+dn.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),E("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),E("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),ln("a",!0),ln("A",!1),F("hour","h"),q("a",hn),q("A",hn),q("H",mi),q("h",mi),q("HH",mi,li),q("hh",mi,li),q("hmm",_i),q("hmmss",yi),q("Hmm",_i),q("Hmmss",yi),X(["H","HH"],Ui),X(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),X(["h","hh"],function(t,e,n){e[Ui]=g(t),d(n).bigHour=!0}),X("hmm",function(t,e,n){var i=t.length-2;e[Ui]=g(t.substr(0,i)),e[Pi]=g(t.substr(i)),d(n).bigHour=!0}),X("hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[Ui]=g(t.substr(0,i)),e[Pi]=g(t.substr(i,2)),e[Gi]=g(t.substr(s)),d(n).bigHour=!0}),X("Hmm",function(t,e,n){var i=t.length-2;e[Ui]=g(t.substr(0,i)),e[Pi]=g(t.substr(i))}),X("Hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[Ui]=g(t.substr(0,i)),e[Pi]=g(t.substr(i,2)),e[Gi]=g(t.substr(s))});var ds=/[ap]\.?m?\.?/i,ls=V("Hours",!0);E("m",["mm",2],0,"minute"),F("minute","m"),q("m",mi),q("mm",mi,li),X(["m","mm"],Pi);var hs=V("Minutes",!1);E("s",["ss",2],0,"second"),F("second","s"),q("s",mi),q("ss",mi,li),X(["s","ss"],Gi);var cs=V("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return 10*this.millisecond()}),E(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),E(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),E(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),E(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),E(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),F("millisecond","ms"),q("S",gi,di),q("SS",gi,li),q("SSS",gi,hi);var fs;for(fs="SSSS";fs.length<=9;fs+="S")q(fs,Di);for(fs="S";fs.length<=9;fs+="S")X(fs,mn);var ms=V("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var _s=m.prototype;_s.add=es,_s.calendar=de,_s.clone=le,_s.diff=ge,_s.endOf=We,_s.format=Me,_s.from=Se,_s.fromNow=Ye,_s.to=we,_s.toNow=ke,_s.get=R,_s.invalidAt=Ve,_s.isAfter=he,_s.isBefore=ce,_s.isBetween=fe,_s.isSame=me,_s.isSameOrAfter=_e,_s.isSameOrBefore=ye,_s.isValid=He,_s.lang=is,_s.locale=Te,_s.localeData=be,_s.max=Bi,_s.min=Ji,_s.parsingFlags=Le,_s.set=R,_s.startOf=Oe,_s.subtract=ns,_s.toArray=Ge,_s.toObject=Ce,_s.toDate=Pe,_s.toISOString=De,_s.toJSON=Fe,_s.toString=ve,_s.unix=Ue,_s.valueOf=xe,_s.creationData=Ie,_s.year=qi,_s.isLeapYear=pt,_s.weekYear=Re,_s.isoWeekYear=je,_s.quarter=_s.quarters=$e,_s.month=at,_s.daysInMonth=ot,_s.week=_s.weeks=Qe,_s.isoWeek=_s.isoWeeks=Xe,_s.weeksInYear=ze,_s.isoWeeksInYear=Ee,_s.date=rs,_s.day=_s.days=rn,_s.weekday=an,_s.isoWeekday=on,_s.dayOfYear=un,_s.hour=_s.hours=ls,_s.minute=_s.minutes=hs,_s.second=_s.seconds=cs,_s.millisecond=_s.milliseconds=ms,_s.utcOffset=Zt,_s.utc=$t,_s.local=qt,_s.parseZone=Jt,_s.hasAlignedHourOffset=Bt,_s.isDST=Qt,_s.isDSTShifted=Xt,_s.isLocal=Kt,_s.isUtcOffset=te,_s.isUtc=ee,_s.isUTC=ee,_s.zoneAbbr=_n,_s.zoneName=yn,_s.dates=D("dates accessor is deprecated. Use date instead.",rs),_s.months=D("months accessor is deprecated. Use month instead",at),_s.years=D("years accessor is deprecated. Use year instead",qi),_s.zone=D("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Nt);var ys=_s,gs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ps={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},vs="Invalid date",Ds="%d",Ms=/\d{1,2}/,Ss={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ys=T.prototype;Ys._calendar=gs,Ys.calendar=vn,Ys._longDateFormat=ps,Ys.longDateFormat=Dn,Ys._invalidDate=vs,Ys.invalidDate=Mn,Ys._ordinal=Ds,Ys.ordinal=Sn,Ys._ordinalParse=Ms,Ys.preparse=Yn,Ys.postformat=Yn,Ys._relativeTime=Ss,Ys.relativeTime=wn,Ys.pastFuture=kn,Ys.set=w,Ys.months=nt,Ys._months=Vi,Ys.monthsShort=it,Ys._monthsShort=Ii,Ys.monthsParse=st,Ys._monthsRegex=Ri,Ys.monthsRegex=dt,Ys._monthsShortRegex=Ai,Ys.monthsShortRegex=ut,Ys.week=qe,Ys._week=ss,Ys.firstDayOfYear=Be,Ys.firstDayOfWeek=Je,Ys.weekdays=tn,Ys._weekdays=as,Ys.weekdaysMin=nn,Ys._weekdaysMin=us,Ys.weekdaysShort=en,Ys._weekdaysShort=os,Ys.weekdaysParse=sn,Ys.isPM=cn,Ys._meridiemParse=ds,Ys.meridiem=fn,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=D("moment.lang is deprecated. Use moment.locale instead.",x),t.langData=D("moment.langData is deprecated. Use moment.localeData instead.",G);var ws=Math.abs,ks=En("ms"),Ts=En("s"),bs=En("m"),Os=En("h"),Ws=En("d"),xs=En("w"),Us=En("M"),Ps=En("y"),Gs=Zn("milliseconds"),Cs=Zn("seconds"),Fs=Zn("minutes"),Hs=Zn("hours"),Ls=Zn("days"),Vs=Zn("months"),Is=Zn("years"),As=Math.round,Rs={s:45,m:45,h:22,d:26,M:11},js=Math.abs,Es=It.prototype;Es.abs=Gn,Es.add=Fn,Es.subtract=Hn,Es.as=Rn,Es.asMilliseconds=ks,Es.asSeconds=Ts,Es.asMinutes=bs,Es.asHours=Os,Es.asDays=Ws,Es.asWeeks=xs,Es.asMonths=Us,Es.asYears=Ps,Es.valueOf=jn,Es._bubble=Vn,Es.get=zn,Es.milliseconds=Gs,Es.seconds=Cs,Es.minutes=Fs,Es.hours=Hs,Es.days=Ls,Es.weeks=Nn,Es.months=Vs,Es.years=Is,Es.humanize=Bn,Es.toISOString=Qn,Es.toString=Qn,Es.toJSON=Qn,Es.locale=Te,Es.localeData=be,Es.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qn),Es.lang=is,E("X",0,0,"unix"),E("x",0,0,"valueOf"),q("x",Mi),q("X",wi),X("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),X("x",function(t,e,n){n._d=new Date(g(t))}),t.version="2.12.0",e(Ft),t.fn=ys,t.min=Lt,t.max=Vt,t.now=Qi,t.utc=o,t.unix=gn,t.months=On,t.isDate=i,t.locale=x,t.invalid=h,t.duration=ne,t.isMoment=_,t.weekdays=xn,t.parseZone=pn,t.localeData=G,t.isDuration=At,t.monthsShort=Wn,t.weekdaysMin=Pn,t.defineLocale=U,t.updateLocale=P,t.locales=C,t.weekdaysShort=Un,t.normalizeUnits=H,t.relativeTimeThreshold=Jn,t.prototype=ys;var zs=t;return zs})}).call(this),function(){e=this.moment;try{delete this.moment}catch(t){}}.call(this),"undefined"==typeof Package&&(Package={}),Package["momentjs:moment"]={moment:e}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.mongo.Mongo,i=Package["matb33:collection-hooks"].CollectionHooks,r=Package["jparker:gravatar"].Gravatar,o=Package["momentjs:moment"].moment,a=Package["aldeed:simple-schema"].SimpleSchema,s=Package["aldeed:simple-schema"].MongoObject,l,u,c,p,d,m,h,f,y,g,v,b,_,S,w,D,k,I,x,H,N,T,O,E,A,C,R,L,M,F;(function(){l="object"==typeof l?l:{};var t=l,n,i;i={symbol:"VFINX",name:"Vanguard 500 Index Fund Investor Class",amount:1e4,weight:1,asset_class:"stocks"},n={symbol:"RY:TO",name:"Royal Bank of Canada",amount:1e4,weight:1,asset_class:"stock"},u={HOLDING_PERCENT_DECIMALS:2,HOLDING_AMOUNT_DECIMALS:2,USA:{DEFAULT_HOLDING:i},CAN:{DEFAULT_HOLDING:n},DEFAULT_PORTFOLIO_AMOUNT:1e4,DEFAULT_PORTFOLIO:{name:"New Portfolio",description:"Click to edit this description.",holdings:[i]},EMAIL_REGEX:/^([0-9a-zA-Z]([+-.\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\w]*[0-9a-zA-Z]\.)+[a-zA-Z]{2,9})$/,SHORT_ID_LENGTH:6,SHORT_ID_FIELD:{type:String,label:"Short ID",regEx:/^[0-9A-Za-z]{6}$/},ID_FIELD:{type:String,label:"ID",regEx:a.RegEx.Id},SYMBOL_FIELD:{type:String,label:"Symbol",min:1,max:8},HOLDING_SCHEMA:{symbol:{type:String,label:"Symbol",max:13,min:1},weight:{type:Number,decimal:!0,label:"Weight",min:0},name:{type:String,label:"Name",max:120,min:1,optional:!0},asset_class:{type:String,label:"Asset Class",max:20,min:1,optional:!0}},HOLDING_FIELDS:["symbol","weight","amount","name","displayName","asset_class","interest","groupId"],NOT_OWNED_HOLDING_FIELDS:["symbol","weight","name","displayName","asset_class","interest","groupId"],PORTFOLIO_FIELDS:["holdings","name","description","_id","ownerId","isAmountVisible","holdingGroups"],ASSET_CLASS_TO_ORDER:{stock:0,stocks:1,bonds:2,cash:3,other:4,custom:5,"null":6},ALLOCATION_SORT_ORDER:{asset_class:function(t){return e.indexOf(["stocks","bonds","cash","other","custom","unknown"],t.kind)},market_cap:function(t){return e.indexOf(["giant","large","medium","small","micro","unknown"],t.kind)},regional:function(t){return e.indexOf(["americas","europe","asia","unknown"],t.kind)},international:function(t){return e.indexOf(["domestic","international","unknown"],t.kind)},expenses:function(t){return e.indexOf(["very_high","high","medium","low","very_low","none","unknown"],t.kind)},sector:function(t){return e.indexOf(e.keys(SECTOR_TO_DESCRIPTION),t.kind)}}}}).call(this),function(){l="object"==typeof l?l:{};var n=l,i,r,a;i=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],r=/^\$?[0-9,]+\.?[0-9]*[k|m|b|\%]?$/i,c={object:function(t,e){var n;return n={},n[t]=e,n},objectManyToOne:function(t,n){var i;return i={},e.each(t,function(t){return i[t]=n}),i},now:function(){return new Date},today:function(){return new Date},cleanHoldings:function(t){return e.reject(t,function(t){return 0===t.weight})},formatNumber:function(t,n){return n=e.defaults(n||{},{invalidText:"N/A",precision:0}),e.isNumber(t)?accounting.formatNumber(t,n.precision):n.invalidText},formatDate:function(t,n){var r,s,l;return n=e.defaults(n||{},{"long":!1,withTime:!1,invalidText:"N/A",relative:!1}),t?n.relative?o(t).fromNow():n["long"]?i[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear():n.withTime?(r=t.getHours()>=12?"PM":"AM",s=t.getHours()%12||12,l=t.getMinutes()<10?"0"+t.getMinutes():""+t.getMinutes(),a[t.getMonth()]+" "+t.getDate()+" at "+s+":"+l+" "+r):t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear():n.invalidText},slugify:function(t,n){var i;return null==n&&(n="portfolio"),i=t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),e.isEmpty(i)?n:i},makeShortId:function(e){return(new t.Collection.ObjectID)._str.substring(0,e)},round5:function(t){return t%5>=2.5?5*parseInt(t/5)+5:5*parseInt(t/5)},sum:function(t,n){return e.reduce(t,function(t,e){return t+n(e)},0)},approxEqual:function(t,e){return Math.abs(t-e)<=1e-10},norm:function(t){var n;return n=c.sum(t,e.identity),n?e.map(t,function(t){return t/n}):e.map(t,function(t){return 0})},dot:function(t,n){return e.reduce(e.zip(t,n),function(t,e){return t+e[0]*e[1]},0)},formatPercent:function(t,n,i){var r,o,a;return i=e.defaults(i||{},{percentClass:null,invalidText:"N/A",smartThreshold:!0,commafy:!1}),e.isFinite(t)?(0===t?r=0:(r=(100*t).toFixed(n),i.smartThreshold&&(a=Math.pow(10,-n),a>r&&t>0&&(r="<"+a)),i.commafy&&(r=accounting.formatNumber(r))),o="%",e.isString(i.percentClass)&&i.percentClass?o="<span class='"+i.percentClass+"'>%</span>":e.isBoolean(i.percentClass)&&!i.percentClass&&(o=""),""+r+o):i.invalidText},parseDollars:function(t){return t?(t=t.replace(/\$|,/gi,""),RegExp(/b/i).test(t)?1e9*parseFloat(t.replace(/b/i,"")):RegExp(/m/i).test(t)?1e6*parseFloat(t.replace(/m/i,"")):RegExp(/k/i).test(t)?1e3*parseFloat(t.replace(/k/i,"")):parseFloat(t)):null},isSupportedNumber:function(t){return r.test(t)},numberToType:function(t){return r.test(t)?t.match(/%$/)?"weight":"amount":void 0},numberToRealValue:function(t){var e;if(r.test(t))return e=1,t.match(/%/)&&(e=.01),t=t.replace(/[,|\$|%]/g,""),t.match(/[k|m|b]$/i)&&(t=this.parseDollars(t)),parseFloat(t)*e},setWeightByAmount:function(t){var n;return n=c.sum(t,function(t){return t.amount}),e.map(t,function(t){return t.weight=n?t.amount/n:0,t})},setAmountByWeight:function(t){var n,i;return n=u.DEFAULT_PORTFOLIO_AMOUNT,i=c.sum(t,function(t){return t.weight}),e.map(t,function(t){return t.amount=t.weight*n,t})},formatDollars:function(t,n,i){var r;return i=e.defaults(i||{},{invalidText:"N/A",smartSuffix:!0,currencyPrefix:!0,heuristicPrecision:!0}),r=i.currencyPrefix?accounting.formatMoney:accounting.formatNumber,e.isFinite(t)?i.smartSuffix?t>999999999?(i.heuristicPrecision&&n++,r(t/1e9,{precision:n})+"B"):t>999999?(i.heuristicPrecision&&n++,r(t/1e6,{precision:n})+"M"):t>1e3?r(t/1e3,{precision:n})+"K":0>t?"-"+r(-1*t,{precision:n}):r(t,{precision:n}):r(t,{precision:n}):i.invalidText},differenceInDays:function(t,e){return(t.getTime()-e.getTime())/864e5},parseQuery:function(t){var e,n;return e=t.indexOf("?"),0>e?{}:(n=t.substr(e+1),JSON.parse('{"'+decodeURI(n.replace(/&/g,'","').replace(/=/g,'":"').replace(/\+/g," "))+'"}'))},paramsToJSON:function(t){var n,i,r,o,a;return t=t||{},i=t.name||null,r=t.params||location.search.substr(1).replace("?","&"),i?(i=i.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),o=new RegExp("[\\?&]"+i+"=([^&#]*)"),a=o.exec(r),null===a?null:decodeURIComponent(a[1].replace(/\+/g," "))):(n=decodeURI(r).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\+/g," "),e.isEmpty(n)?{}:JSON.parse('{"'+n+'"}'))},isCurrentPath:function(t){return t===FlowRouter.current().path},isExistArray:function(t){return e.isArray(t)?t.length<=0?!1:!0:!1},normalizeNumber:function(t,n,i){return e.isNumber(t)?parseFloat((t/Math.pow(10,n)).toFixed(i)):void 0},denormalizeNumber:function(t,n){return e.isNumber(t)?t*Math.pow(10,n):void 0},deep:function(t,e){var n;if(n=void 0,null===t||void 0===t||typeof t===!1||typeof e===!1||!e)return void 0;for(n=e.split("."),t=t[n.shift()];"object"==typeof t&&n.length>0;)t=t[n.shift()];return 0===n.length?t:void 0},extendOwn:function(t){var n,i,r,o,a,s,l;if(s=arguments.length,2>s||null===t)return t;for(i=1;s>i;){for(l=arguments[i],o=e.keys(l),a=o.length,n=0;a>n;)r=o[n],void 0===t[r]&&(t[r]=l[r]),n++;i++}return t},deepHas:function(t,n){return e.isArray(n)?e.every(n,function(n){return!e.isUndefined(c.deep(t,n))}):!e.isUndefined(c.deep(t,n))},makeEmptyArray:function(t){return Array(t+1).join(" ").split("")},inclusionFields:function(t){return e.chain(t).map(function(t){return[t,1]}).object().value()},suppressionFields:function(t){return e.chain(t).map(function(t){return[t,0]}).object().value()},assert:function(t,e){if(null==e&&(e=null),!t)throw new Error(e||"AssertionError")},periodHumanized:function(t){return"max"===t?"Full":"ytd"===t?"Year-to-date":parseInt(t)+"-Year"},holdingGroupIdSymbol:function(t){return t.groupId+"|"+t.symbol}},e.bindAll(c,"deep","extendOwn"),e.mixin({deep:c.deep,extendOwn:c.extendOwn})}.call(this),function(){l="object"==typeof l?l:{};var t=l,n,i=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};n=864e5,p={INCREMENT:.1,_increment:function(t,n,i){var r,o;return o=c.sum(t,function(t){return t.amount}),i=o*i,e.isFinite(n)&&o?(r=o-t[n].amount,0===r?t:(i=Math.min(i,r),e.map(t,function(t,o){var a,s;return a=t.amount,o===n?a+=i:a-=i*(a/r),s=e.pick(t,u.HOLDING_FIELDS),s.amount=Math.max(a,0),s}))):t},increaseReturns:function(t,n,i){var r,o;return r="gains_"+i,o=e.map(t,function(t,e){var n,i;return i=0===t.amount?0:(null!=(n=t.highlights)?n[r]:void 0)||0,{name:t.name,idx:e,value:i}}),o=e.sortBy(o,function(t){return-t.value}),p._increment(t,o[0].idx,p.INCREMENT)},decreaseRisk:function(t,n,i){var r,o;return r="stddev_"+i,o=e.map(t,function(t,e){var n,i;return i=0===t.amount?void 0:(null!=(n=t.highlights)?n[r]:void 0)||void 0,{idx:e,value:i}}),o=e.sortBy(o,function(t){return t.value}),p._increment(t,o[0].idx,p.INCREMENT)},equalAmounts:function(t,n,i){var r;return r=e.size(t),e.map(t,function(t){var i;return i=e.pick(t,u.HOLDING_FIELDS),i.amount=n/r,i})},bucket:function(t,n){var i,r,o,a;if(e.isNull(t)||e.isUndefined(t))return null;for(o=r=0,a=n.length;a>r;o=++r)if(i=n[o],e.isNull(i.min)||t<=i.max)return o;return e.size(n)-1},truncate:function(t,n){var i,r;return i=n.start,r=n.stop,e.filter(t,function(t){return(!i||t.date>=i)&&(!r||t.date<=r)})},totalReturn:function(t,n,r,o,a){var s,l,u,c;return e.each(n,function(t){return t.value?t.dividends=t.value:void 0}),e.each(r,function(t){return t.value?t.split_ratio=t.value:void 0}),u=e.groupBy(e.compact(e.union(t,n,r)),function(t){return t.date}),c=e.chain(u).map(function(t,n){return e.extend.apply(e,t)}).sortBy(function(t){return t.date.getTime()}).value(),s=e.pluck(t,"date"),l=Math.log(1-a),e.compact(e.map(c,function(t,r){var a,u,d,m;return 0===r?t.totalShare=1:(a=c[r-1],n=t.dividends,m=t.split_ratio,n&&e.isUndefined(m)?(d=o?a.totalShare*n/t.price:Math.round(a.totalShare)*n/t.price,t.totalShare=a.totalShare+d):m&&e.isUndefined(n)?o?t.totalShare=a.totalShare*m:t.totalShare=Math.round(a.totalShare)*m+(a.totalShare-Math.round(a.totalShare)):m&&n?(d=a.totalShare*m*n/t.price,t.totalShare=a.totalShare+d):t.totalShare=a.totalShare,t.totalShare*=p.feeAdjustment(l,a.date,t.date)),u=t.date,i.call(s,u)>=0?{date:t.date,price:t.price*t.totalShare}:void 0}))},gainsPeriodInterval:function(t,n){var i,r,o,a,s,l,u,c,d;return r=null!=n?n.annualHistory:void 0,s=null!=n?n.monthlyHistory:void 0,i=["1d","1yr","3yr","5yr","10yr","15yr"],l=e.indexOf(i,t),u=d=null,e.isEmpty(r)||(d=e.last(r).date,"max"===t?u=null:"ytd"===t?u=p.ytdStart(n):"1mo"===t||"6mo"===t?(o=d.getMonth()+1,c="1mo"===t?o-1:o-6,u=new Date(d),0>=c?(u.setMonth(11+c),u.setYear(u.getFullYear()-1)):u.setMonth(c-1)):(a=e.size(r)-l-2,a>=0&&(u=r[a].date))),{start:u,stop:d}},riskPeriodInterval:function(t,n){var i,r,o;return i=n.monthlyHistory,o=e.last(i).date,r="max"===t?null:"ytd"===t?p.ytdStart(n):i[e.size(i)-12*parseInt(t)-1].date,{start:r,stop:o}},ytdStart:function(t){var n,i,r,o;return o=t&&(null!=(r=e.last(t.dailyHistory))?r.date:void 0),o.setDate(1),o.setMonth(11),o.setYear(o.getFullYear()-1),i=t&&t.monthlyHistory,n=e.first(e.filter(i,function(t){return t.date>o})),n?n.date:void 0},getPeriodYears:function(t){return parseInt(t)},minMax:function(t){var n;return n=e.map(t,function(t){return e.map(t,function(t){return t.price})}),n=e.compact(e.flatten(n)),n.push(0),n.sort(function(t,e){return t-e}),{min:e.first(n),max:e.last(n)}},anyEmpty:function(t){return!e.size(t)||e.any(t,function(t){return!e.size(t)})},avg:function(t){return c.sum(t,e.identity)/e.size(t)},variance:function(t,n){var i,r;return e.isEmpty(t)?null:(i=p.avg(t),r=c.sum(t,function(t){return Math.pow(t-i,2)}),r/(e.size(t)-n))},stddev:function(t,e){var n;return n=p.variance(t,e),n&&Math.sqrt(n)},gainsHistory:function(t){var n;return e.isEmpty(t)?[]:(n=t[0].price,e.map(t,function(t){return{date:t.date,price:t.price/n-1}}))},valueHistory:function(t,n){var i;return n=n||1,e.isEmpty(t)?[]:(i=t[0].price,e.map(t,function(t){return{date:t.date,price:n*t.price/i}}))},gains:function(t){var n,i;return e.size(t)<2?null:(i=e.last(t),n=e.first(t),i.price/n.price-1)},gainsFromReturns:function(t,n){var i;return e.isNumber(t)?(i=/yr$/i.test(n)?parseInt(n):1,Math.pow(1+t,i)-1):null},returnsFromGains:function(t,n){var i;return e.isNumber(t)?(i=/yr$/i.test(n)?parseInt(n):1,Math.pow(1+t,1/i)-1):null},returns:function(t,n){var i,r,o;return e.size(t)<2?null:(r=e.last(t),i=e.first(t),o="max"===n?c.differenceInDays(r.date,i.date)/365:"ytd"===n?1:parseInt(n),Math.pow(r.price/i.price,1/o)-1)},_priceGains:function(t){var n,i;return i=e.pluck(t,"price"),n=e.map(i,function(t,e){return e<i.length-1?i[e+1]/i[e]:void 0}),n=e.initial(n)},risk:function(t){var n;return e.size(t)<2?null:(n=this._priceGains(t),this.stddev(n,1)*Math.sqrt(12))},_annualizedReturns:function(t){return e.map(t,function(t){return Math.pow(t,12)-1})},_nonAnnualizedReturns:function(t){return e.map(t,function(t){return t-1})},sharpeRatio:function(t){var n,i,r,o,a,s,l,u,p;return e.size(t)<2?null:(p=0,i=this._priceGains(t),r=this._nonAnnualizedReturns(i),n=e.map(r,function(t){return t-p}),o=this.avg(n),u=c.sum(n,function(t){return Math.pow(t-o,2)}),l=Math.sqrt(u/(e.size(n)-1)),a=o/l,s=Math.sqrt(12)*a)},mergedStopDate:function(t){var n;return p.anyEmpty(t)?null:(n=e.map(t,function(t){return e.last(t).date}),e.min(n))},startDate:function(t){return t?e.first(t).date:null},mergedStartDate:function(t){var n;return p.anyEmpty(t)?null:(n=e.map(t,this.startDate),e.max(n))},checkHistoryAvailable:function(t,n){var i,r;return i=e.max(e.map(t,function(t){return e.isEmpty(t)?c.today():t[0].date})),r=new Date(n),r.setDate(r.getDate()+2*HISTORY_START_WINDOW),r>=i},availableYears:function(t,e){var n,i;return t?(null==e&&(e=c.today()),n=864e5,i=e-t+HISTORY_START_WINDOW*n,parseInt(Math.floor(i/(365.25*n)))):null},availableMonths:function(t,e){var n;return t?(null==e&&(e=c.today()),n=12*(e.getFullYear()-t.getFullYear()),n-=t.getMonth()+1,n+=e.getMonth(),0>=n?0:n):null},feeAdjustment:function(t,e,i){var r;return r=Math.ceil(Math.abs(i.getTime()-e.getTime())/n),Math.pow(Math.E,t*(r/365))},weightedHistory:function(t,n,i,r,o,a,s,l){var u,d,m,h,f,y,g,v,b,_,S,w,D,k,I;return p.anyEmpty(n)?[]:(l=e.defaults(l||{},{strict:!1,rebalanceInterval:null}),l.strict&&!p.checkHistoryAvailable(n,s.start)?[]:(m=new Date(Math.max(s.start,p.mergedStartDate(n))),d=e.clone(s),e.extend(d,{start:m}),D=e.map(n,function(t,e){var n;return n=p.truncate(t,d)}),w=e.map(i,function(t){return p.truncate(t,d)}),k=e.map(r,function(t){return p.truncate(t,d)}),v=e.zip(D,w,k,o,a),S=e.map(v,function(t){return p.totalReturn.apply(this,t)}),y={},e.each(S,function(t){return e.each(t,function(t){var e;return null==y[e=t.date]&&(y[e]=[]),y[t.date].push(t.price)})}),e.size(y)?(I=e.size(t),f=e.filter(e.pairs(y),function(t){return e.size(t[1])===I}),e.isEmpty(f)?null:(f=e.sortBy(f,function(t){return t.date}),u=function(t,n,i){return e.map(n,function(e,n){return t*i[n]/e})},h=1,b=f[0][1],_=u(h,b,t),g=e.map(f,function(e,n){var i,r;return r=e[1],i=c.dot(_,r),l.rebalanceInterval&&n%l.rebalanceInterval===0&&(_=u(i,r,t)),{date:new Date(e[0]),price:i}}))):[]))}}}.call(this),function(){l="object"==typeof l?l:{};var i=l,o,s,c,p;d=t.users||new n.Collection("users"),d.updatePortfolioCount=function(t,e){return null==e&&(e=null),check(t,String),null==e&&(e=H.findByOwnerId(t).count()),d.update(t,{$set:{"profile.portfolioCount":e}})},o={profile:1,"services.reddit.id":1,"services.twitter.profile_image_url_https":1,"services.facebook.id":1},d.findByShortId=function(t){return d.find({"profile.shortId":t},{fields:o})},d.findById=function(t){return d.find({_id:t},{fields:o})},p=["twitter","facebook","reddit"],m=function(){function t(t){e.extend(this,t)}return t.prototype._socialService=function(){return this.services?e.chain(this.services).pick(p).keys().first().value():void 0},t.prototype.emailAddress=function(){var t,e;return e=this._socialService(),e?this.services[e].email:null!=(t=this.emails)?t[0].address:void 0},t.prototype.accountType=function(){var t;return t=this._socialService(),t||"email"},t.prototype.emailPrefix=function(){var t;return t=this.emailAddress()||"",t.substring(0,t.indexOf("@"))},t.prototype.displayName=function(){return this.profile.firstName||this.emailPrefix()},t.prototype.fullName=function(){return((this.profile.firstName||"")+" "+(this.profile.lastName||"")).trim()},t}(),c=new a({shortId:u.SHORT_ID_FIELD,turtleboatId:{type:Number,optional:!0,min:1},username:{type:String,label:"Username",min:1,max:40,optional:!0},firstName:{type:String,label:"First name",max:40,optional:!0},lastName:{type:String,label:"Last name",max:40,optional:!0},portfolioCount:{type:Number,label:"Portfolio count",min:0,defaultValue:0},emailHash:{type:String,optional:!0},justCreated:{type:Boolean,label:"User created just now",optional:!0},emailNotAddedWith:{type:String,label:"User email is not added when user create account. value is serviceName(facebook, twitter, ...)",optional:!0}}),s=new a({address:{type:String,regEx:u.EMAIL_REGEX},verified:{type:Boolean}}),d.attachSchema(new a({_id:u.ID_FIELD,emails:{type:[s],optional:!0},createdAt:{type:Date},profile:{type:c,optional:!0},services:{type:Object,optional:!0,blackbox:!0},roles:{type:Object,optional:!0,blackbox:!0},integrated:{type:Boolean,optional:!0},gunApp:{type:Boolean,optional:!0}})),d.after.update(function(t,n,i,o){var a,s,l;return e.isEqual(n.emails,this.previous.emails)?void 0:(a=null!=(l=n.emails)?l[0].address:void 0,s=a&&r.hash(a),d.update({_id:n._id},{$set:{"profile.emailHash":s}},{multi:!0}))}),d._transform=function(t){return new m(t)}}.call(this),function(){l="object"==typeof l?l:{};var i=l,r,o,s,c,d,m,I,x,H,N,T,O,E=function(t,e){function n(){this.constructor=t}for(var i in e)A.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},A={}.hasOwnProperty;h={collectionForAssetClass:function(t){return"stock"===t?D:y},getInstanceForHolding:function(t){return"stock"===t.asset_class?new w(t):new f(t)}},O=function(t,e,n){var i;return null==n&&(n=!0),i={type:String,label:t,optional:n}},T=function(t,e){var n;return null==e&&(e=!0),n={type:Number,decimal:!0,label:t,optional:e}},m=function(){function n(t){e.extend(this,t)}var i;return n._idToMergedCache={},i=n,t.setInterval(function(){return delete i._idToMergedCache,i._idToMergedCache={}},432e5),n.prototype._mergedHistory=function(){var t,n,i,r;return i=e.compact(e.flatten([this.monthlyHistory,this.annualHistory,this.weeklyHistory,this.dailyHistory])),n={},i=e.filter(i,function(t){return t.date in n?!1:(n[t.date]=t.price,!0)}),e.isEmpty(i)?null:(r=e.sortBy(i,function(t){return t.date}),this.latestClose?(t=this.latestClose/e.last(r).price,1===t?r:e.map(r,function(n){return e.extend(n,{price:n.price*t})})):r)},n.prototype.mergedHistory=function(){var t,e;return(t=n._idToMergedCache)[e=this._id]||(t[e]=this._mergedHistory())},n.prototype.mergedReinvestedHistory=function(){return p.totalReturn(this.mergedHistory(),this.dividendHistory,this.splitHistory,this.fractionalSharePolicy,0)},n.prototype.startDate=function(){return p.startDate(this.annualHistory)},n.prototype.getDisplayName=function(){return this.displayName||this.name},n}(),f=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return E(n,t),n.prototype.primaryAssetClass=function(){var t,n,i;return t=this.allocation&&this.allocation.asset_class,e.size(t)?(i=e.sortBy(t,function(t){return-t.weight}),n=i[0].kind,"unknown"===n?"other":n):"other"},n.prototype.getAllocation=function(t){return this.allocation&&this.allocation[t]},n}(m),y=new n.Collection("funds",{transform:function(t){return new f(t)}}),g=new n.Collection("benchmarkFunds",{transform:function(t){return new f(t)}}),v=new n.Collection("fundTypes"),b=new n.Collection("fundThresholds"),_=new n.Collection("stockThresholds"),s=new a({date:{type:Date,label:"Date"},price:{type:Number,decimal:!0,label:"Price",min:0},value:{type:Number,decimal:!0,label:"Corporate event",min:0,optional:!0},dividends:{type:Number,decimal:!0,label:"Dividends",min:0,optional:!0},split_ratio:{type:Number,decimal:!0,label:"Split ratio",min:0,optional:!0}}),I=new a({class_name:{type:String,label:"Name",min:1,max:120},symbol:u.SYMBOL_FIELD}),d=new a({symbol:u.SYMBOL_FIELD}),r=new a({frontLoad:T("Front Sales Charge"),backLoad:T("Deferred Sales Charge"),totalActual:T("Annual Operating Expense"),totalMinimum:T("Prospectus Net Expense"),totalMaximum:T("Prospectus Gross Expense"),management:T("Management Fee"),marketing:T("12B-1 Fee"),other:T("Other Expense"),reimbursement:T("Expense Reimbursement"),projection3yr:T("3yr Expense Projection"),projection5yr:T("5yr Expense Projection"),projection10yr:T("10yr Expense Projection")}),x=new a({_id:{type:t.ObjectID,optional:!0},symbol:u.SYMBOL_FIELD,name:{type:String,label:"Name",min:1,max:120},displayName:{type:String,label:"Name",min:1,max:120,optional:!0},description:{type:String,label:"Description",min:1,max:5e3,optional:!0},asset_class:{type:String,label:"Asset class",min:1,max:120},status:{type:String,label:"Status",min:1,max:120,optional:!0},earliestDisplayableDate:{type:Date,label:"Earliest Displayable History Date",optional:!0},returnAccuracyTested:{type:Date,label:"Benchmark Date Used For Returns Accuracy Test",optional:!0},related:{type:[d],label:"Related",optional:!0},noindex:{type:Boolean,optional:!0},latestClose:{type:Number,label:"Latest close price",decimal:!0,optional:!0},dividendYield:{type:Number,label:"Dividend Yield",decimal:!0,optional:!0},highlights:{type:Object,blackbox:!0},fractionalSharePolicy:{type:Boolean,label:"Reinvestment policy"},dailyHistory:{type:[s]},weeklyHistory:{type:[s]},monthlyHistory:{type:[s]},annualHistory:{type:[s]},splitHistory:{type:[s],optional:!0},dividendHistory:{type:[s],optional:!0}}),o=new a(u.HOLDING_SCHEMA),y.attachSchema(x),y.attachSchema(new a({series_name:{type:String,label:"Series",min:1,max:120},net_assets:{type:Number,label:"Net assets"},security_type:{type:String,label:"Security type",min:1,max:20},fund_type:{type:String,label:"Category",min:1,max:100},allocation:{type:Object,blackbox:!0},security_classes:{type:[I]},holdings:{type:[o],label:"Holdings",optional:!0},expense:{type:r,optional:!0}})),g.attachSchema(y.simpleSchema()),g.findSpy=function(t){return null==t&&(t={}),g.find({symbol:"SPY"},t)},g.spy=function(){return g.findOne({symbol:"SPY"})},S=function(){function t(t){this.holdings=t}return t.prototype.mergedReinvestedHistory=function(t,n){var i,r,o,a,s,l,u;return u=e.pluck(this.holdings,"weight"),i=e.chain(this.holdings).pluck("symbol").map(function(t){return g.findOne({symbol:t})}).value(),a=e.map(i,function(t){return t.mergedHistory()}),r=e.map(i,function(t){return t.dividendHistory}),l=e.map(i,function(t){return t.splitHistory}),s=e.map(i,function(t){return t.fractionalSharePolicy}),o=e.map(i,function(){return 0}),p.weightedHistory(u,a,r,l,s,o,t,n)},t}(),v.attachSchema(new a({_id:{type:t.ObjectID,optional:!0},name:{type:String,label:"Name",min:1,max:120}})),H=new a({min:{type:Number,decimal:!0},max:{type:Number,decimal:!0}}),N=new a({_id:{type:t.ObjectID,optional:!0},name:{type:String,label:"Name",min:1,max:120},values:{type:[H],label:"Values"}}),b.attachSchema(N),_.attachSchema(N),c=[["micro",3e8],["small",2e9],["medium",1e10],["large",2e11],["giant",1/0]],w=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return E(n,t),n.prototype.reactiveGet=function(){return D.findOne({symbol:this.symbol})},n.prototype.primaryAssetClass=function(){return"stock"},n.prototype.getAllocation=function(t){var n,i,r,o;switch(n=function(t){return _s.humanize(_s.titleize(t))},t){case"sector":return[{kind:this.sector,label:n(this.sector),weight:1}];case"asset_class":return[{kind:"stocks",label:"Stocks",weight:1}];case"expenses":return[{kind:"none",label:"None",weight:1}];case"market_cap":return r=e.find(c,function(t){return function(e){return t.market_cap<e[1]}}(this)),i=r[0],o=r[1],[{kind:i,label:i,weight:1}]}},n}(m),D=new n.Collection("stocks",{transform:function(t){return new w(t)}}),D.attachSchema(x),D.attachSchema(new a({highlights:{type:Object,blackbox:!0},market_cap:{type:Number,label:"Market capitalization",decimal:!0},sector:{type:String,label:"Sector",min:1,max:100},industry:{type:String,label:"Industry",min:1,max:100,optional:!0},quarterlyRevenueHistory:{type:[s],optional:!0},relevanceData:{type:Object,blackbox:!0,optional:!0,label:"Related data"},tags:{type:[String],optional:!0,label:"Tags"},metricTags:{type:[String],optional:!0,label:"Metric tags"},peRatio:{type:Number,label:"Price/Earning ratio",decimal:!0,optional:!0},eps:{type:Number,label:"Earning per share",decimal:!0,optional:!0},beta:{type:Number,label:"Beta",decimal:!0,optional:!0},fullTimeEmployeeCount:{type:Number,label:"Number of full time employees",optional:!0},headquarters:{type:Object,label:"Headquarters",blackbox:!0,optional:!0},ipoPrice:{type:Number,label:"IPO price",decimal:!0,optional:!0},ipoDate:{type:Date,label:"IPO Date",optional:!0},foundedYear:{type:Number,label:"Founded Year",optional:!0},priceRange:{type:[Number],decimal:!0,optional:!0,label:"52 week Price Range"}})),k=new n.Collection("autocompleteSecurities"),k.attachSchema(new a({_id:{type:t.ObjectID,optional:!0},size:{type:Number,label:"Market capitalization / net assets",decimal:!0},symbol:u.SYMBOL_FIELD,name:{type:String,label:"Name",min:1,max:120},displayName:{type:String,label:"Name",min:1,max:120,optional:!0},asset_class:{type:String,label:"Asset class",min:1,max:120},status:{type:String,label:"Status",min:1,max:120,optional:!0},country:{type:String,label:"Country",min:3,max:3,optional:!0}}))}.call(this),function(){l="object"==typeof l?l:{};var i=l,r,o,s,m,y,v,_,S,w,D,k,N=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};o=864e5,w=c.suppressionFields(["gun","holdings"]),s=c.inclusionFields(["monthlyHistory","highlights","dividendYield"]),D=function(t,e,n,i){var r;return r=Math.ceil(Math.abs(e.getTime()-n.getTime())/o),t/Math.pow(Math.E,i*(r/365))},k=function(t,n){var i,r,o;return r=[],o=n.amount||u.USA.DEFAULT_HOLDING.amount*n.weight,r.push({price:o,date:e.first(t)}),i=Math.log(1+n.interest),e.each(e.zip(t.slice(0,-1),t.slice(1)),function(t,e){var n,o,a;return n=t[0],o=t[1],a=D(r[e].price,n,o,i),r.push({price:a,date:o})}),r.reverse(),r},I={isCustom:function(t){return"custom"===t.asset_class},merged:function(t){var n,i;return i=g.spy(),n=e.pluck(i.mergedHistory(),"date").reverse(),k(n,t)},monthly:function(t){var n,i;return i=g.spy(),n=e.pluck(i.monthlyHistory,"date").reverse(),k(n,t)},annual:function(t){var n,i;return i=g.spy(),n=e.pluck(i.annualHistory,"date").reverse(),k(n,t)},refreshHighlights:function(t){var n;return n=g.spy(),e.each(PERIOD.VALUES,function(e){var i,r,o;return i=p.gainsPeriodInterval(e,n),r=p.truncate(t.mergedHistory,i),t.highlights["gains_"+e]=p.gains(r,e),o=p.truncate(t.monthlyHistory,i),t.highlights["stddev_"+e]=p.risk(o)})},buildCustomHoldingsDetail:function(t){var n;return n=this,e.map(t,function(t){var i;return i={latestClose:t.amount,fractionalSharePolicy:!0,dailyHistory:[],weeklyHistory:[],monthlyHistory:n.monthly(t),annualHistory:n.annual(t),mergedHistory:n.merged(t),dividendHistory:null,splitHistory:null,dividendYield:0,allocation:{asset_class:[{kind:"custom",weight:1,label:"Custom"}],expenses:[{kind:"none",label:"None",weight:1}]},highlights:{expense_net:0}},n.refreshHighlights(i),e.extend(t,i)})}},x=function(){function n(t){e.extendOwn(this,t)}return n.prototype._weights=function(t){return c.norm(e.pluck(t,"amount"))},n.prototype._holdingsDetails=null,n.prototype._holdingsDetailsFieldsToLoad=w,n.prototype.holdingsDetails=function(n){if(null==n&&(n=w),t.isClient)throw new Error("holdingsDetails is not implemented on client side");return this._holdingsDetails&&e.isEqual(this._holdingsDetailsFieldsToLoad,n)||(this._holdingsDetails=e.map(this.holdings,function(t){var i;return I.isCustom(t)?I.isCustom(t)&&(t=I.buildCustomHoldingsDetail([t])[0]):(i=h.collectionForAssetClass(t.asset_class),t=e.extend(t,i.findOne({symbol:t.symbol},{fields:n}))),t}),this._holdingsDetailsFieldsToLoad=n),this._holdingsDetails},n.prototype._checkedHoldings=function(){var t;return t=e.chain(this.holdingGroups).filter(function(t){return t.checked}).pluck("id").value(),e.filter(this.holdings,function(e){var n;return n=e.groupId,N.call(t,n)>=0})},n.prototype._checkedHoldingsDetails=null,n.prototype._checkedHoldingsFieldsToLoad=w,n.prototype.checkedHoldingsDetails=function(t){var n;return null==t&&(t=w),this._checkedHoldingsDetails&&e.isEqual(this._checkedHoldingsFieldsToLoad,t)||(n=e.chain(this.holdingGroups).filter(function(t){return t.checked}).pluck("id").value(),this._checkedHoldingsDetails=e.filter(this.holdingsDetails(t),function(t){var e;return e=t.groupId,N.call(n,e)>=0}),this._checkedHoldingsFieldsToLoad=t),this._checkedHoldingsDetails},n.prototype.computeWeightedAllocations=function(t){var n,i,r,o,a,s,l;return i=this.checkedHoldingsDetails(),i.length?(n=e.map(i,function(e){return e=h.getInstanceForHolding(e),e.getAllocation&&e.getAllocation(t)||[{kind:"unknown",label:"Unknown",weight:1}]}),p.anyEmpty(n)?null:(a=u.ALLOCATION_SORT_ORDER[t],l=this._weights(i),o={},r={},e.each(n,function(t,n){var i;return i=l[n],e.each(t,function(t){var e;return null==o[e=t.kind]&&(o[e]=0),o[t.kind]+=i*t.weight,r[t.kind]=t.label})}),s=e.map(e.pairs(o),function(t){var e,n;return e=t[0],n=t[1],{kind:e,weight:n,label:r[e]}}),e.sortBy(s,a))):void 0},n.prototype.computeAssetMixTags=function(t){var n,i,r,o,a,s,l,u,p,d;return r=e.map(["stocks","bonds"],function(e){return t[e]||0}),s=[r[0],r[1]],p=s[0],o=s[1],u=c.sum(r,e.identity),l=e.isEqual(u,100),l||r.push(100-u),d=l?["stocks","bonds"]:["stocks","bonds","other"],n=[d.join("/"),r.join("/")].join(" "),i=function(){switch(!1){case!(p>=75):return"aggressive";case!(p>=50&&70>=p):return"moderate";case!(p>0&&45>=p&&l):return"conservative"}}(),a=function(){switch(!1){case!(p>=98):return"stock only";case!(p>=75):return"stock heavy";case!(o>=98):return"bond only";case!(o>=75):return"bond heavy"}}(),e.compact([n,i,a])},n.prototype.computeHeavyBonds=function(t){var n,i,r,o,a;return o=this.checkedHoldingsDetails(),a=c.sum(e.pluck(o,"amount"),e.identity),n=e.filter(o,function(t){return"bonds"===t.asset_class}),i=e.groupBy(n,function(t){return t.fund_type.replace(/Portfolio$/i,"Bond")}),i=e.omit(i,"Unknown Category"),r=e.object(e.map(i,function(t,n){return[n,c.round5(c.sum(e.pluck(t,"amount"),e.identity)/a*100)]})),e.compact(e.map(r,function(e,n,i){return t>e?void 0:n}))},n.prototype.computeHeavySectors=function(t){var n;return n=e.omit(e.object(e.map(this.computeWeightedAllocations("sector"),function(t){return[_s.humanize(t.kind),100*t.weight]})),"Unknown"),e.compact(e.map(n,function(e,n,i){return e>=t?n:void 0}))},n.prototype.computeAllocationStyleTag=function(){var t,n,i;return i=this._checkedHoldings(),(t=HOLDING_COUNT_TO_ALLOCATION_STYLES[e.size(i)])?(n=e.map(i,function(t){return t.fund_type}).sort(),e.compact(e.map(t,function(t){return e.isEqual(t,n)?ALLOCATION_STYLES_TO_TAGS[t]+" fund portfolio":void 0}))):void 0},n.prototype.computeFundProviderTag=function(){var t,n,i,r;return i=this._checkedHoldings(),e.find(i,function(t){var e;return!("stocks"===(e=t.asset_class)||"bonds"===e||"cash"===e||"other"===e)})?!1:(t=e.first(i).name,n=t.substr(0,t.indexOf(" ")),N.call(WHITELIST_FUND_PROVIDER_TAG,n)<0||(r=new RegExp(n),e.find(i,function(t){return!t.name.match(r)}))?void 0:""+n)},n.prototype.computeCountryTag=function(){var t,n;return(t=null!=(n=e.find(this._checkedHoldings(),function(t){return!("custom"===t.asset_class)}))?n.symbol:void 0)&&"CAN"===M.countryForSymbol(t)?"Canadian":void 0},n.prototype.computeDividendsTag=function(t){
var n,i,r,o;return r=this.checkedHoldingsDetails(),o=e.size(e.uniq(e.compact(e.map(r,function(t){return t.sector})))),this.fourthDividendYield||(this.fourthDividendYield=e.first(e.last(b.findOne({name:"dividendYield"}).values,2)).min),i=!!(this.fourthDividendYield<=this.dividendYield()),n=function(){switch(!1){case 0!==this.dividendYield():return"no dividend";case!(e.size(r)>=15&&o>=6&&i):return"high yield portfolio";case!i:return"high dividend"}}.call(this),n?n.toLowerCase():void 0},n.prototype.computeExpensesTag=function(){var t;if(null!=(t=this.highlights)?t.expense_net:void 0)return this.fourthExpenses||(this.fourthExpenses=e.first(e.last(b.findOne({name:"expense_net"}).values,2)).min),!!(this.fourthExpenses<=this.highlights.expense_net)&&"high expenses"},n.prototype.computeClassTag=function(){var t,n,i,r,o,a,s,l,u;if(o=this._checkedHoldings(),!(o.length<2)&&!e.find(o,function(t){var e;return!("stocks"===(e=t.asset_class)||"bonds"===e||"cash"===e||"other"===e)})&&(a=this.checkedHoldingsDetails(),i=e.find(a,function(t){return t.security_classes}),null!=i?i.security_classes:void 0)){for(t=e.find(i.security_classes,function(t){return t.symbol===i.symbol}).class_name,s=0,l=a.length;l>s;s++){if(n=a[s],!(null!=n?n.security_classes:void 0))return;if(r=null!=(u=e.find(n.security_classes,function(t){return t.symbol===n.symbol}))?u.class_name:void 0,!e.isEqual(r,t))return}return t.replace("Class","class")+" only"}},n.prototype.computeLoadTags=function(){var t,n,i,r;if(e.find(this.checkedHoldingsDetails(),function(t){var e;return"stocks"===(e=t.asset_class)||"bonds"===e||"cash"===e||"other"===e}))return n=e.pluck(this.checkedHoldingsDetails(),"expenses"),i=e.find(n,function(t){return(null!=t?t.frontLoad:void 0)>0})&&"front load",t=e.find(n,function(t){return(null!=t?t.backLoad:void 0)>0})&&"back load",r=!(i||t)&&"no load",[i,t,r]},n.prototype.generateSummaryTags=function(){var t,n,i,r;return e.isEqual(c.sum(e.pluck(this._checkedHoldings(),"amount"),e.identity),0)?[]:(t=e.object(e.map(this.computeWeightedAllocations("asset_class"),function(t){var e,n;return e="stocks"===(n=t.kind)||"bonds"===n?t.kind:"other",[e,c.round5(100*t.weight)]})),i=e.map(this.computeHeavySectors(30),function(t){return(t+" sector").toLowerCase()}),r=e.size(this.computeHeavySectors(50))>0?["sector portfolio"]:[],n=e.map(this.computeHeavyBonds(30),function(t){return(""+t).toLowerCase()}),e.compact(e.union(this.computeAllocationStyleTag(),this.computeAssetMixTags(t),this.computeLoadTags(),i,r,n,[this.computeFundProviderTag(),this.computeCountryTag(),this.computeDividendsTag(),this.computeClassTag(),this.computeExpensesTag()])))},n.prototype._weightedHistory=function(t,n,i){var r,o,a,s,l,u,d,m;return l=this.checkedHoldingsDetails(),a=e.object(e.map(this.holdingGroups,function(t){return[t.id,t.feeRatio]})),l=c.cleanHoldings(l),m=this._weights(l),s=e.map(l,i),r=e.map(l,function(t){return t.dividendHistory}),d=e.map(l,function(t){return t.splitHistory}),u=e.map(l,function(t){return t.fractionalSharePolicy}),o=e.map(l,function(t){return a[t.groupId]||0}),p.weightedHistory(m,s,r,d,u,o,t,n)},n.prototype.weightedMergedHistory=function(t,e){return this._weightedHistory(t,e,function(t){return I.isCustom(t)?t.mergedHistory||I.merged(t):new f(t).mergedHistory()})},n.prototype.weightedMonthlyHistory=function(t,e,n){return this._weightedHistory(t,e,function(t){return t.monthlyHistory})},n.prototype.weightedAnnualHistory=function(t,e,n){return this._weightedHistory(t,e,function(t){return t.annualHistory})},n.prototype._refreshedHoldingsDetailsUnless=function(t,e){var n;return null==e&&(e=null),n=this._checkedHoldingsDetails,n&&c.deepHas(n[0],t)?n:this.checkedHoldingsDetails(e)},n.prototype._weightedScalar=function(t){var n,i;return n=c.cleanHoldings(this._refreshedHoldingsDetailsUnless(t)),i=e.map(n,function(e){return c.deep(e,t)}),e.size(i)&&e.all(i,e.isFinite)?c.dot(this._weights(n),i):null},n.prototype._weightedFeeRatio=function(){var t,n,i;return n=c.cleanHoldings(this._refreshedHoldingsDetailsUnless(["groupId","amount"])),i=c.sum(n,function(t){return t.amount}),t=e.object(e.map(this.holdingGroups,function(t){return[t.id,t.feeRatio]})),c.sum(n,function(e){var n;return n=t[e.groupId]||0,n*(e.amount/i)})},n.prototype.expense_net=function(){return this._weightedScalar("highlights.expense_net")+this._weightedFeeRatio()},n.prototype.dividendYield=function(){return this._weightedScalar("dividendYield")},n.prototype._getRiskDate=function(){var t,n;return t=this._refreshedHoldingsDetailsUnless(["monthlyHistory"],s),n=e.uniq(e.map(t,function(t){var n,i;return null!=(n=e.last(t.monthlyHistory))&&null!=(i=n.date)?i.getTime():void 0})),1===e.size(n)?new Date(n[0]):void 0},n.prototype.computeHighlights=function(){var n,i,r,o,a,l,u,d,m,h,f;m=this,r=m.highlights||{},e.find(this.holdings,function(t){return!e.isNumber(t.amount)})&&this.setDefaultAmounts();try{global.window=global}catch(y){i=y}return window.PERIOD_TO_INTERVAL||(window.PERIOD_TO_INTERVAL={GAINS:{},RISK:{}}),h=c.sum(this._checkedHoldings(),function(t){return t.amount}),a=c.norm(e.map(m._checkedHoldings(),function(t){return null!=t?t.amount:void 0})),o=e.size(a),n=m._refreshedHoldingsDetailsUnless(["highlights"],s),f=this._getRiskDate(),d=t.isClient||!e.isEqual(null!=f?f.getTime():void 0,null!=(l=this.highlights)&&null!=(u=l.riskDate)?u.getTime():void 0),d&&(r.riskDate=f,e.each(PERIOD.VALUES,function(t){var i,a;return"ytd"===t?void(r["stddev_"+t]=null):(PERIOD_TO_INTERVAL.RISK[t]||(PERIOD_TO_INTERVAL.RISK[t]=p.riskPeriodInterval(t,g.spy())),a=PERIOD_TO_INTERVAL.RISK[t],i=e.compact(e.map(n,function(e){var n;return null!=e&&null!=(n=e.highlights)?n["stddev_"+t]:void 0})),r["stddev_"+t]=o===e.size(i)?p.risk(m.weightedMonthlyHistory(a,{strict:!1})):null)})),e.each(PERIOD.VALUES,function(t){var i;return i=e.compact(e.map(n,function(e){var n;return null!=e&&null!=(n=e.highlights)?n["gains_"+t]:void 0})),r["returns_"+t]=o===e.size(i)?p.returnsFromGains(c.dot(a,i),t):null}),r.expense_net=this.expense_net(),r.dividend_yield=this.dividendYield(),r},n.prototype.setDefaultAmounts=function(){var t;return t=e.groupBy(this.holdings,"groupId"),e.each(t,function(t){var n;return n=c.sum(t,function(t){return t.weight}),e.each(t,function(t){return t.amount=t.weight>0?t.weight/n*u.DEFAULT_PORTFOLIO_AMOUNT:0})})},n.prototype.ownerEmail=function(){var t;return null!=(t=d.findOne({_id:this.ownerId}))?t.emailAddress():void 0},n}(),H=new n.Collection("portfolios",{transform:function(t){return new x(t,!0)}}),H.findByTag=function(t,e){return H.find({tags:t},e||{})},H.findByOwnerId=function(t,e){return H.find({ownerId:t},e||{})},r=new a({date:{type:Date,label:"Date"},price:{type:Number,decimal:!0,label:"Price",min:0}}),_=new a(e.extend(e.clone(u.HOLDING_SCHEMA),{amount:{type:Number,decimal:!0,label:"Amount",min:0,optional:!0},interest:{type:Number,decimal:!0,label:"Interest rate",min:0,optional:!0},groupId:{type:String,label:"Holding Group(Brokerage Account)",optional:!0}})),v=new a({name:{type:String,label:"Holding group name"},id:{type:String,label:"Holding group id"},createdAt:{type:Date,label:"Group Created date"},checked:{type:Boolean,label:"Group checked"},feeName:{type:String,label:"Group expense name",min:1,max:40,optional:!0},feeRatio:{type:Number,decimal:!0,label:"Group expense",min:0,max:1,optional:!0}}),m={type:String,label:"Name",min:1,max:40},y={type:String,label:"URL Slug",min:1,max:40},S=new a({shortId:u.SHORT_ID_FIELD,name:m,slug:y}),H.attachSchema(new a({shortId:u.SHORT_ID_FIELD,name:m,created:{type:Date,label:"Created date",optional:!0},createdAt:{type:Date,label:"Created date",optional:!0},updatedAt:{type:Date,label:"Last modified date",optional:!0},description:{type:String,label:"Description",min:1,max:400},holdingGroups:{type:[v],label:"Holding Groups",optional:!0},holdings:{type:[_],label:"Holdings",maxCount:100,custom:function(){var t,n;return n=e.groupBy(this.value,function(t){return c.holdingGroupIdSymbol(t)}),t=e.filter(e.keys(n),function(t){return e.size(n[t])>1}),e.isEmpty(t)?void 0:"duplicateHoldings"}},tags:{type:[String],optional:!0,label:"Admin tags"},summaryTags:{type:[String],optional:!0,label:"Summary tags"},turtleboatId:{type:Number,optional:!0,min:1},ownerId:{type:String,label:"Owner UserID",regEx:a.RegEx.Id,optional:!0},remixedFromId:{type:String,label:"Remixed-from Portfolio ID",regEx:a.RegEx.Id,optional:!0},slug:y,cachedHistory15yr:{type:[r],label:"Cached 15yr history"},displayWeight:{type:Number,optional:!0},noindex:{type:Boolean,optional:!0},expiredHoldings:{type:[String],optional:!0},relatedPortfolios:{type:[S],label:"Related Portfolios",optional:!0},isAmountVisible:{type:Boolean,optional:!0},highlights:{type:Object,blackbox:!0,optional:!0}}))}.call(this),function(){l="object"==typeof l?l:{};var t=l;N=function(){function t(t){e.extend(this,t)}return t.prototype.portfolio=function(){return H.findOne(this.portfolioId)},t}(),T=new n.Collection("discussions",{transform:function(t){return new N(t)}}),T.findByTag=function(t,e){return T.find({tags:t},e||{})},T.attachSchema(new a({title:{type:String,label:"Title",min:1,max:200},url:{type:String,max:256,label:"URL",regEx:a.RegEx.Url},commentCount:{type:Number,label:"Number of comments",min:0},tags:{type:[String],label:"Admin tags"},portfolioId:{type:String,label:"Mentioned portfolio ID",regEx:a.RegEx.Id},displayWeight:{type:Number,optional:!0}}))}.call(this),function(){l="object"==typeof l?l:{};var e=l;O=new n.Collection("designs"),t.isServer&&O._ensureIndex({shortId:1}),O.attachSchema(new a({shortId:u.SHORT_ID_FIELD,title:{type:String,label:"Title",min:1,max:200},description:{type:String,label:"Description",min:1,max:1200},imageUrl:{type:String,label:"Image URL",min:1,max:200,unique:!0},authorId:{type:String,label:"Author ID",regEx:a.RegEx.Id}}))}.call(this),function(){l="object"==typeof l?l:{};var t=l,e;e=new a({top:{type:Number},left:{type:Number}}),E=new n.Collection("comments"),E.attachSchema(new a({_id:{type:String,optional:!0},location:{type:e,optional:!0},parentCommentId:{type:String,optional:!0},topLevelCommentId:{type:String,optional:!0},createdAt:{type:Date,optional:!0},body:{type:String},authorId:{type:String,optional:!0},collectionName:{type:String,optional:!0},itemId:{type:String,optional:!0},isDeleted:{type:Boolean,optional:!0}}))}.call(this),function(){l="object"==typeof l?l:{};var t=l;A=new n.Collection("redditLinks"),C=new n.Collection("redditPosts",{transform:function(t){return new L(t)}}),C.attachSchema(new a({_id:{type:String},createdAt:{type:Date},authorName:{type:String},title:{type:String},url:{type:String,optional:!0},isOrganic:{type:Boolean,optional:!0},isLink:{type:Boolean,optional:!0},linkId:{type:String},subreddit:{type:String},ups:{type:Number},downs:{type:Number},commentCount:{type:Number},portfolioShortIds:{type:[String],optional:!0}})),R=new n.Collection("redditComments"),R.attachSchema(new a({_id:{type:String},postId:{type:String},createdAt:{type:Date},authorName:{type:String},body:{type:String},url:{type:String},ups:{type:Number},downs:{type:Number},commentCount:{type:Number}})),L=function(){function t(t){e.extendOwn(this,t)}return t.prototype.getId=function(){return this._id._str},t}()}.call(this),function(){l="object"==typeof l?l:{};var t=l,e,n,i;e={CANADA:"CAN",USA:"USA"},i={USA:"USA",CAN:"Canada"},n={USA:"USD",CAN:"CAD","null":"USD"},M={countryForSymbol:function(t){return/:TO$/i.test(t)?e.CANADA:e.USA},getCurrency:function(t){return n[t]},getLabel:function(t){return i[t]||"Unknown"}}}.call(this),function(){l="object"==typeof l?l:{};var e=l;F=new n.Collection("portfolioSummaryTags"),t.isServer&&F._ensureIndex({value:1}),F.attachSchema(new a({_id:{type:String,optional:!0},value:{type:String,label:"Tag Value"}}))}.call(this),"undefined"==typeof Package&&(Package={}),Package["lab80:turtleboat"]={TB:u,Util:c,Calculations:p,Discussions:T,Discussion:N,Portfolios:H,Portfolio:x,SecurityHelpers:h,Funds:y,Fund:f,FundThresholds:b,BenchmarkFunds:g,FundTypes:v,Stocks:D,Stock:w,StockThresholds:_,AutocompleteSecurities:k,WeightedBenchmark:S,Users:d,User:m,Designs:O,Comments:E,CustomHistory:I,RedditLinks:A,RedditPosts:C,RedditPost:L,RedditComments:R,International:M,PortfolioSummaryTags:F}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["gadicohen:sitemaps"]={}}();

!function(){var e=Package.meteor.Meteor;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["gadicohen:robots-txt"]={}}();

!function(){var a=Package.meteor.Meteor,e=Package.blaze.Blaze,c=Package.blaze.UI,g=Package.blaze.Handlebars,k=Package.htmljs.HTML,e,c,g;"undefined"==typeof Package&&(Package={}),Package.ui={Blaze:e,UI:c,Handlebars:g}}();

!function(){var e=Package.meteor.Meteor,t=Package.htmljs.HTML,n=Package.tracker.Tracker,r=Package.tracker.Deps,a=Package.blaze.Blaze,u=Package.blaze.UI,i=Package.blaze.Handlebars,c=Package["observe-sequence"].ObserveSequence,l=Package.underscore._,o;(function(){o={};var e=function(e,t){return e===t};o.include=function(t,n,r){if(!t)return null;if("function"!=typeof t){var u=t;if(!a.isTemplate(u))throw new Error("Expected template or null, found: "+u);var i=t.constructView(n,r);return i.__startsNewLexicalScope=!0,i}var c=a.ReactiveVar(null,e),i=a.View("Spacebars.include",function(){var e=c.get();if(null===e)return null;if(!a.isTemplate(e))throw new Error("Expected template or null, found: "+e);return e.constructView(n,r)});return i.__templateVar=c,i.onViewCreated(function(){this.autorun(function(){c.set(t())})}),i.__startsNewLexicalScope=!0,i},o.mustacheImpl=function(e){var t=arguments;if(t.length>1){var n=t[t.length-1];if(n instanceof o.kw){var r={};for(var a in n.hash){var u=n.hash[a];r[a]="function"==typeof u?u():u}t[t.length-1]=o.kw(r)}else n=o.kw(),t=Array.prototype.slice.call(arguments),t.push(n)}return o.call.apply(null,t)},o.mustache=function(e){var n=o.mustacheImpl.apply(null,arguments);return n instanceof o.SafeString?t.Raw(n.toString()):null==n||n===!1?null:String(n)},o.attrMustache=function(e){var n=o.mustacheImpl.apply(null,arguments);if(null==n||""===n)return null;if("object"==typeof n)return n;if("string"==typeof n&&t.isValidAttributeName(n)){var r={};return r[n]="",r}throw new Error("Expected valid attribute name, '', null, or object")},o.dataMustache=function(e){var t=o.mustacheImpl.apply(null,arguments);return t},o.makeRaw=function(e){return null==e?null:e instanceof t.Raw?e:t.Raw(e)},o.call=function(e){if("function"==typeof e){for(var t=[],n=1;n<arguments.length;n++){var r=arguments[n];t[n-1]="function"==typeof r?r():r}return e.apply(null,t)}if(arguments.length>1)throw new Error("Can't call non-function: "+e);return e},o.kw=function(e){return this instanceof o.kw?void(this.hash=e||{}):new o.kw(e)},o.SafeString=function(e){return this instanceof o.SafeString?new i.SafeString(e):new o.SafeString(e)},o.SafeString.prototype=i.SafeString.prototype,o.dot=function(e,t){if(arguments.length>2){var n=[];return n.push(o.dot(e,t)),n.push.apply(n,Array.prototype.slice.call(arguments,2)),o.dot.apply(null,n)}if("function"==typeof e&&(e=e()),!e)return e;var r=e[t];return"function"!=typeof r?r:function(){return r.apply(e,arguments)}},o.With=function(e,t,r){var u=new a.ReactiveVar,i=a.View("Spacebars_with",function(){return a.If(function(){return u.get()},function(){return a.With(function(){return u.get()},t)},r)});return i.onViewCreated(function(){this.autorun(function(){u.set(e()),n.onInvalidate(function(){u.dep.changed()})})}),i},o.TemplateWith=a._TemplateWith}).call(this),"undefined"==typeof Package&&(Package={}),Package.spacebars={Spacebars:o}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n=Package.blaze.Blaze,a=Package.blaze.UI,o=Package.blaze.Handlebars,c=Package.spacebars.Spacebars,r=Package.htmljs.HTML,u;(function(){u=n.Template;var e="__proto__ name".split(" ");u.__checkName=function(n){if(n in u||t.contains(e,n)){if(u[n]instanceof u&&"body"!==n)throw new Error("There are multiple templates named '"+n+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+n)}},u.__define__=function(e,t){u.__checkName(e),u[e]=new u("Template."+e,t),u[e]._NOWARN_OLDSTYLE_HELPERS=!0},u.body=new u("body",function(){var e=this;return t.map(u.body.contentRenderFuncs,function(t){return t.apply(e)})}),u.body.contentRenderFuncs=[],u.body.view=null,u.body.addContent=function(e){u.body.contentRenderFuncs.push(e)},u.body.renderToDocument=function(){if(!u.body.view){var e=n.render(u.body,document.body);u.body.view=e}},a.body=u.body,u.__body__=u.body,u.__body__.__contentParts=u.body.contentViews,u.__body__.__instantiate=u.body.renderToDocument}).call(this),function(){u.__checkName("__dynamic"),u.__dynamic=new u("Template.__dynamic",function(){var e=this;return[n.View("lookup:checkContext",function(){return c.mustache(e.lookup("checkContext"))}),"\n  ",n.If(function(){return c.call(e.lookup("dataContextPresent"))},function(){return["\n    ",c.include(e.lookupTemplate("__dynamicWithDataContext"),function(){return n._InOuterTemplateScope(e,function(){return c.include(function(){return c.call(e.templateContentBlock)})})}),"\n  "]},function(){return["\n    \n    ",n._TemplateWith(function(){return{template:c.call(e.lookup("template")),data:c.call(e.lookup(".."))}},function(){return c.include(e.lookupTemplate("__dynamicWithDataContext"),function(){return n._InOuterTemplateScope(e,function(){return c.include(function(){return c.call(e.templateContentBlock)})})})}),"\n  "]})]}),u.__checkName("__dynamicWithDataContext"),u.__dynamicWithDataContext=new u("Template.__dynamicWithDataContext",function(){var e=this;return c.With(function(){return c.dataMustache(e.lookup("chooseTemplate"),e.lookup("template"))},function(){return["\n    \n    ",n._TemplateWith(function(){return c.call(c.dot(e.lookup(".."),"data"))},function(){return c.include(e.lookupTemplate(".."),function(){return n._InOuterTemplateScope(e,function(){return c.include(function(){return c.call(e.templateContentBlock)})})})}),"\n  "]})})}.call(this),function(){var e=n.Template;e.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return n._getTemplate(t,function(){return e.instance()})}}),e.__dynamic.helpers({dataContextPresent:function(){return t.has(this,"data")},checkContext:function(){if(!t.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");t.each(this,function(e,t){if("template"!==t&&"data"!==t)throw new Error("Invalid argument to {{> Template.dynamic}}: "+t)})}})}.call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:u}}();

!function(){var e=Package.meteor.Meteor,a=Package.blaze.Blaze,t=Package.blaze.UI,n=Package.blaze.Handlebars,r=Package.templating.Template,o=Package.spacebars.Spacebars,p=Package.htmljs.HTML;(function(){(function(){var e;e="undefined"!=typeof a&&"undefined"!=typeof a.View?r.prototype:t.Component;var n=e.events,o=function p(e){e.stopPropagation(),e.preventDefault()};e.events=function i(e){var a=this,t={};for(var r in e)if(/^dropped/.test(r)){var p=r.split(" ")[1],i=r;p&&(t["dragenter/dragexit/dragover/dragend "+p]=o,t["drop "+p]=function(a,t){o(a),e[i].apply(this,[a,t])})}else t[r]=e[r];return n.apply(a,[t])}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["raix:ui-dropped-event"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,o=Package["accounts-base"].Accounts,t=Package["accounts-base"].AccountsClient,n=Package.tracker.Tracker,s=Package.tracker.Deps,i=Package.mongo.Mongo,a=Package.check.check,l=Package.check.Match,u;(function(){!function(){function o(e){var o=["Cannot apply $addToSet modifier to non-array","Cannot apply $addToSet to a non-array field","Can only apply $pullAll to an array","Cannot apply $pull/$pullAll modifier to non-array","can't append to array using string field name","to traverse the element"];return r.some(o,function(r){return t(e,r)})}function t(e,r){return-1!==e.indexOf(r)}e.roles||(e.roles=new i.Collection("roles")),"undefined"==typeof u&&(u={});var n="Roles error: Can't mix grouped and non-grouped roles for same user";r.extend(u,{GLOBAL_GROUP:"__global_roles__",createRole:function(r){var o,t;if(r&&"string"==typeof r&&0!==r.trim().length)try{return o=e.roles.insert({name:r.trim()})}catch(n){if("MongoError"!==n.name)throw n;if(t=n.err.match(/^E11000 duplicate key error index: ([^ ]+)/),!t)throw n;if(-1!==t[1].indexOf("$name"))throw new e.Error(403,"Role already exists.");throw n}},deleteRole:function(r){if(r){var o=e.users.findOne({roles:{$in:[r]}},{fields:{_id:1}});if(o)throw new e.Error(403,"Role in use");var t=e.roles.findOne({name:r});t&&e.roles.remove({_id:t._id})}},addUsersToRoles:function(e,r,o){u._updateUserRoles(e,r,o,u._update_$addToSet_fn)},setUserRoles:function(e,r,o){u._updateUserRoles(e,r,o,u._update_$set_fn)},removeUsersFromRoles:function(t,s,i){var a;if(!t)throw new Error("Missing 'users' param");if(!s)throw new Error("Missing 'roles' param");if(i){if("string"!=typeof i)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===i[0])throw new Error("Roles error: groups can not start with '$'");i=i.replace(/\./g,"_")}r.isArray(t)||(t=[t]),r.isArray(s)||(s=[s]),t=r.reduce(t,function(e,r){var o;return"string"==typeof r?e.push(r):"object"==typeof r&&(o=r._id,"string"==typeof o&&e.push(o)),e},[]),i?(a={$pullAll:{}},a.$pullAll["roles."+i]=s):a={$pullAll:{roles:s}};try{e.isClient?r.each(t,function(r){e.users.update({_id:r},a)}):e.users.update({_id:{$in:t}},a,{multi:!0})}catch(l){if("MongoError"===l.name&&o(l.err))throw new Error(n);throw l}},userIsInRole:function(o,t,n){var s,i,a,l,c=!1;if(r.isArray(t)||(t=[t]),!o)return!1;if(n){if("string"!=typeof n)return!1;if("$"===n[0])return!1;n=n.replace(/\./g,"_")}if("object"==typeof o){if(i=o.roles,r.isArray(i))return r.some(t,function(e){return r.contains(i,e)});if(i&&"object"==typeof i)return c=r.isArray(i[n])&&r.some(t,function(e){return r.contains(i[n],e)}),c||(c=r.isArray(i[u.GLOBAL_GROUP])&&r.some(t,function(e){return r.contains(i[u.GLOBAL_GROUP],e)})),c;s=o._id}else"string"==typeof o&&(s=o);return s?(a={_id:s,$or:[]},l={},l["roles."+u.GLOBAL_GROUP]={$in:t},a.$or.push(l),n?(l={},l["roles."+n]={$in:t},a.$or.push(l)):a.$or.push({roles:{$in:t}}),c=e.users.findOne(a,{fields:{_id:1}}),c?!0:!1):!1},getRolesForUser:function(o,t){if(!o)return[];if(t){if("string"!=typeof t)return[];if("$"===t[0])return[];t=t.replace(/\./g,"_")}if("string"==typeof o)o=e.users.findOne({_id:o},{fields:{roles:1}});else if("object"!=typeof o)return[];return o&&o.roles?t?r.union(o.roles[t]||[],o.roles[u.GLOBAL_GROUP]||[]):r.isArray(o.roles)?o.roles:o.roles[u.GLOBAL_GROUP]||[]:[]},getAllRoles:function(){return e.roles.find({},{sort:{name:1}})},getUsersInRole:function(o,t,n){var s,i=o,a;if(r.isArray(i)||(i=[i]),t){if("string"!=typeof t)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===t[0])throw new Error("Roles error: groups can not start with '$'");t=t.replace(/\./g,"_")}return s={$or:[]},a={},a["roles."+u.GLOBAL_GROUP]={$in:i},s.$or.push(a),t?(a={},a["roles."+t]={$in:i},s.$or.push(a)):s.$or.push({roles:{$in:i}}),e.users.find(s,n)},getGroupsForUser:function(o,t){var n=[];if(!o)return[];if(t){if("string"!=typeof t)return[];if("$"===t[0])return[];t=t.replace(".","_")}if("string"==typeof o)o=e.users.findOne({_id:o},{fields:{roles:1}});else if("object"!=typeof o)return[];return o&&o.roles&&!r.isArray(o.roles)?t?(r.each(o.roles,function(e,o){r.contains(e,t)&&o!==u.GLOBAL_GROUP&&n.push(o)}),n):r.without(r.keys(o.roles),u.GLOBAL_GROUP):[]},_update_$set_fn:function(e,r){var o={};return r?(o.$set={},o.$set["roles."+r]=e):o.$set={roles:e},o},_update_$addToSet_fn:function(e,r){var o={};return r?(o.$addToSet={},o.$addToSet["roles."+r]={$each:e}):o.$addToSet={roles:{$each:e}},o},_updateUserRoles:function(t,s,i,a){if(!t)throw new Error("Missing 'users' param");if(!s)throw new Error("Missing 'roles' param");if(i){if("string"!=typeof i)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===i[0])throw new Error("Roles error: groups can not start with '$'");i=i.replace(/\./g,"_")}var l,c,f;r.isArray(t)||(t=[t]),r.isArray(s)||(s=[s]),s=r.reduce(s,function(e,r){return r&&"string"==typeof r&&r.trim().length>0&&e.push(r.trim()),e},[]),l=r.reduce(e.roles.find({}).fetch(),function(e,r){return e[r.name]=!0,e},{}),r.each(s,function(e){l[e]||u.createRole(e)}),t=r.reduce(t,function(e,r){var o;return"string"==typeof r?e.push(r):"object"==typeof r&&(o=r._id,"string"==typeof o&&e.push(o)),e},[]),f=a(s,i);try{e.isClient?r.each(t,function(r){e.users.update({_id:r},f)}):e.users.update({_id:{$in:t}},f,{multi:!0})}catch(p){if("MongoError"===p.name&&o(p.err))throw new Error(n);throw p}}})}()}).call(this),function(){"use strict";u.debug=!1;try{if(localStorage){var e=localStorage.getItem("Roles.debug");"undefined"!=typeof e&&(u.debug=!!e)}}catch(r){}}.call(this),function(){"use strict";u._uiHelpers={isInRole:function(o,t){var n=e.user(),s=(o||"").indexOf(","),i;return n&&l.test(o,String)?(i=-1!==s?r.reduce(o.split(","),function(e,r){return r&&r.trim()?(e.push(r.trim()),e):e},[]):[o],l.test(t,String)?u.userIsInRole(n,i,t):u.userIsInRole(n,i)):!1}},u.debug&&console.log&&console.log("[roles] Roles.debug =",u.debug),"undefined"!=typeof Package.blaze&&"undefined"!=typeof Package.blaze.Blaze&&"function"==typeof Package.blaze.Blaze.registerHelper&&r.each(u._uiHelpers,function(e,r){u.debug&&console.log&&console.log("[roles] registering Blaze helper '"+r+"'"),Package.blaze.Blaze.registerHelper(r,e)})}.call(this),function(){"use strict";n.autorun(function(){u.subscription=e.subscribe("_roles")})}.call(this),"undefined"==typeof Package&&(Package={}),Package["alanning:roles"]={Roles:u}}();

!function(){var i=Package.meteor.Meteor;(function(){!function(i,e){"use strict";var s="0.7.10",o="",r="?",n="function",a="undefined",t="object",w="string",l="major",d="model",c="name",p="type",u="vendor",m="version",f="architecture",g="console",b="mobile",h="tablet",v="smarttv",x="wearable",k="embedded",y={extend:function(i,e){for(var s in e)-1!=="browser cpu device engine os".indexOf(s)&&e[s].length%2===0&&(i[s]=e[s].concat(i[s]));return i},has:function(i,e){return"string"==typeof i?-1!==e.toLowerCase().indexOf(i.toLowerCase()):!1},lowerize:function(i){return i.toLowerCase()},major:function(i){return typeof i===w?i.split(".")[0]:e}},A={rgx:function(){for(var i,s=0,o,r,w,l,d,c,p=arguments;s<p.length&&!d;){var u=p[s],m=p[s+1];if(typeof i===a){i={};for(w in m)m.hasOwnProperty(w)&&(l=m[w],typeof l===t?i[l[0]]=e:i[l]=e)}for(o=r=0;o<u.length&&!d;)if(d=u[o++].exec(this.getUA()))for(w=0;w<m.length;w++)c=d[++r],l=m[w],typeof l===t&&l.length>0?2==l.length?typeof l[1]==n?i[l[0]]=l[1].call(this,c):i[l[0]]=l[1]:3==l.length?typeof l[1]!==n||l[1].exec&&l[1].test?i[l[0]]=c?c.replace(l[1],l[2]):e:i[l[0]]=c?l[1].call(this,c,l[2]):e:4==l.length&&(i[l[0]]=c?l[3].call(this,c.replace(l[1],l[2])):e):i[l]=c?c:e;s+=2}return i},str:function(i,s){for(var o in s)if(typeof s[o]===t&&s[o].length>0){for(var n=0;n<s[o].length;n++)if(y.has(s[o][n],i))return o===r?e:o}else if(y.has(s[o],i))return o===r?e:o;return i}},E={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},S={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[c,m],[/\s(opr)\/([\w\.]+)/i],[[c,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[c,m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[c,"IE"],m],[/(edge)\/((\d+)?[\w\.]+)/i],[c,m],[/(yabrowser)\/([\w\.]+)/i],[[c,"Yandex"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],m],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[c,m],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[c,"UCBrowser"],m],[/(dolfin)\/([\w\.]+)/i],[[c,"Dolphin"],m],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[c,"Chrome"],m],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[m,[c,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[m,[c,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[m,[c,"Facebook"]],[/fxios\/([\w\.-]+)/i],[m,[c,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[c,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[m,A.str,E.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[c,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,"Netscape"],m],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,y.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[f,/ower/,"",y.lowerize]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[f,y.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[d,u,[p,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[d,[u,"Apple"],[p,h]],[/(apple\s{0,1}tv)/i],[[d,"Apple TV"],[u,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[u,d,[p,h]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[d,[u,"Amazon"],[p,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[d,A.str,E.device.amazon.model],[u,"Amazon"],[p,b]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[d,u,[p,b]],[/\((ip[honed|\s\w*]+);/i],[d,[u,"Apple"],[p,b]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[u,d,[p,b]],[/\(bb10;\s(\w+)/i],[d,[u,"BlackBerry"],[p,b]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[d,[u,"Asus"],[p,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[u,"Sony"],[d,"Xperia Tablet"],[p,h]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[u,"Sony"],[d,"Xperia Phone"],[p,b]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[u,d,[p,g]],[/android.+;\s(shield)\sbuild/i],[d,[u,"Nvidia"],[p,g]],[/(playstation\s[34portablevi]+)/i],[d,[u,"Sony"],[p,g]],[/(sprint\s(\w+))/i],[[u,A.str,E.device.sprint.vendor],[d,A.str,E.device.sprint.model],[p,b]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[u,d,[p,h]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[u,[d,/_/g," "],[p,b]],[/(nexus\s9)/i],[d,[u,"HTC"],[p,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[d,[u,"Microsoft"],[p,g]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[u,"Microsoft"],[p,b]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[d,[u,"Motorola"],[p,b]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[d,[u,"Motorola"],[p,h]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[u,"Samsung"],d,[p,h]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[u,"Samsung"],d,[p,b]],[/(samsung);smarttv/i],[u,d,[p,v]],[/\(dtv[\);].+(aquos)/i],[d,[u,"Sharp"],[p,v]],[/sie-(\w+)*/i],[d,[u,"Siemens"],[p,b]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[u,"Nokia"],d,[p,b]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[d,[u,"Acer"],[p,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[u,"LG"],d,[p,h]],[/(lg) netcast\.tv/i],[u,d,[p,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[d,[u,"LG"],[p,b]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[d,[u,"Lenovo"],[p,h]],[/linux;.+((jolla));/i],[u,d,[p,b]],[/((pebble))app\/[\d\.]+\s/i],[u,d,[p,x]],[/android.+;\s(glass)\s\d/i],[d,[u,"Google"],[p,x]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[d,/_/g," "],[u,"Xiaomi"],[p,b]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[p,y.lowerize],u,d]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[c,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,m],[/rv\:([\w\.]+).*(gecko)/i],[m,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[c,[m,A.str,E.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[m,A.str,E.os.windows.version]],[/\((bb)(10);/i],[[c,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[c,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[c,"Symbian"],m],[/\((series40);/i],[c],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"],m],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[c,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],m],[/(sunos)\s?([\w\.]+\d)*/i],[[c,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[c,m],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[c,"iOS"],[m,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[c,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[c,m]]},T=function(e,s){if(!(this instanceof T))return new T(e,s).getResult();var r=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:o),n=s?y.extend(S,s):S;return this.getBrowser=function(){var i=A.rgx.apply(this,n.browser);return i.major=y.major(i.version),i},this.getCPU=function(){return A.rgx.apply(this,n.cpu)},this.getDevice=function(){return A.rgx.apply(this,n.device)},this.getEngine=function(){return A.rgx.apply(this,n.engine)},this.getOS=function(){return A.rgx.apply(this,n.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(i){return r=i,this},this.setUA(r),this};T.VERSION=s,T.BROWSER={NAME:c,MAJOR:l,VERSION:m},T.CPU={ARCHITECTURE:f},T.DEVICE={MODEL:d,VENDOR:u,TYPE:p,CONSOLE:g,MOBILE:b,SMARTTV:v,TABLET:h,WEARABLE:x,EMBEDDED:k},T.ENGINE={NAME:c,VERSION:m},T.OS={NAME:c,VERSION:m},typeof exports!==a?(typeof module!==a&&module.exports&&(exports=module.exports=T),exports.UAParser=T):typeof define===n&&define.amd?define(function(){return T}):i.UAParser=T;var N=i.jQuery||i.Zepto;if(typeof N!==a){var M=new T;N.ua=M.getResult(),N.ua.get=function(){return M.getUA()},N.ua.set=function(i){M.setUA(i);var e=M.getResult();for(var s in e)N.ua[s]=e[s]}}}("object"==typeof window?window:this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["faisalman:ua-parser-js"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,t=Package.jquery.$,o=Package.jquery.jQuery,n,a;(function(){n="object"==typeof n?n:{};var o=n,s,i,u,c;s="/errorlog",c=/^\s+at\s.+$/gm,u=function(e){var r,t;for(t=[""];r=c.exec(e);)t.push(r[0]);return t.join("\n")},i=function(e){return r.first(e.split("\n"))},a={init:function(){var o,n,a,s;return s=this,t.ajaxSetup({beforeSend:function(e,r){return r.requestSentTime=Date.now()}}),(null!=(n=e.settings)&&null!=(a=n["public"])?a.preserveMeteorDebug:void 0)||(o=e._debug,e._debug=function(e,t){var n;return e instanceof Error?(t=e.stack,e=e.message):(r.isString(e)||e)&&r.isUndefined(t)&&(t=u(e),e=i(e)),n={errorType:"METEOR",browser:s.getBrowserData(),location:location.href,details:{message:e,stack:t}},s._postLog(n,function(e,r){return console.log(e?e:"METEOR_LOG_OK")}),o.apply(this,arguments)}),window.onerror=function(e,r,t,o,n){var a;if("Script error."!==e.trim())return a={errorType:"JS",browser:s.getBrowserData(),location:location.href,details:{message:e,fileName:r,lineNumber:t,columnNumber:o,stack:n.stack}},s._postLog(a,function(e,r){return console.log(e?e:"JS_LOG_OK")})},t(document).ajaxError(function(e,r,t,o){var n,a;if(!s._isIgnoredUrl(t.url))return a=(Date.now()-t.requestSentTime)/1e3,n={errorType:"AJAX",browser:s.getBrowserData(),location:location.href,details:{message:r.responseText,xhrResponseText:r.responseText,xhrStatusText:r.status+" "+r.statusText,url:t.url,data:t.data,responseHeaders:r.getAllResponseHeaders(),responseTime:a}},s._postLog(n,function(e,r){return console.log(e?e:"AJAX_LOG_OK")})})},_isIgnoredUrl:function(e){return-1!==e.indexOf(s)||-1!==e.indexOf("kadira.io")},manualLog:function(e){var r;return r={errorType:"MANUAL",browser:this.getBrowserData(),location:location.href,details:{message:e}},this._postLog(r,function(e,r){return console.log(e?e:"MANUAL_LOG_OK")})},_postLog:function(e,r){var t,o;return o=EJSON.stringify(e),t={"Content-Type":"text/ejson"},HTTP.post(s,{content:o,headers:t},function(e,t){return r?r(e,t):void 0})},getBrowserData:function(){var e,t;return t=new window.UAParser,e=r.extend(t.getResult(),{platform:navigator.platform,language:navigator.language,cookieEnabled:navigator.cookieEnabled})}},e.startup(function(){return a.init()})}).call(this),"undefined"==typeof Package&&(Package={}),Package["lab80:error-logger"]={ErrorLogger:a}}();

!function(){var t=Package.meteor.Meteor,e=Package.mongo.Mongo,i=Package.underscore._,r=Package.jquery.$,s=Package.jquery.jQuery,n=Package.tracker.Tracker,o=Package.tracker.Deps,a;(function(){a="object"==typeof a?a:{};var t=a;this.SeoCollection=new e.Collection("seo")}).call(this),function(){a="object"==typeof a?a:{};var t=a,e,s;e={settings:{title:"",rel_author:"",meta:[],og:[],twitter:[],ignore:{meta:["fragment","viewport"],link:["stylesheet","icon","apple-touch-icon"]},auto:{twitter:!0,og:!0,set:["description","url","title"]}},ignore:function(t,e){return this.settings.ignore[t]&&-1===i.indexOf(this.settings.ignore[t],e)?this.settings.ignore[t].push(e):void 0},config:function(t){return i.extend(this.settings,t)},set:function(t,e){var r,s,n,o,a,l,g,h,u,f,c,p,k,y,m,v,d;if(null==e&&(e=!0),e&&this.clearAll(),c=t.meta,y=t.og,u=t.link,v=t.twitter,t.title&&this.setTitle(t.title),t.url&&this.setUrl(t.url),c&&i.isArray(c))for(r=0,a=c.length;a>r;r++)f=c[r],this.setMeta("name='"+f.key+"'",f.value);else if(c&&i.isObject(c))for(n in c)d=c[n],this.setMeta("name='"+n+"'",d);if(y&&i.isArray(y))for(s=0,l=y.length;l>s;s++)k=y[s],this.setMeta("property='og:"+k.key+"'",k.value);else if(y&&i.isObject(y))for(n in y)d=y[n],this.setMeta("property='og:"+n+"'",d);if(u&&i.isArray(u))for(p=0,g=u.length;g>p;p++)o=u[p],this.setLink(o.rel,o.href);else if(u&&i.isObject(u))for(n in u)d=u[n],this.setLink(n,d);if(v&&i.isArray(v))for(m=0,h=v.length;h>m;m++)k=v[m],this.setMeta("property='twitter:"+k.key+"'",k.value);else if(v&&i.isObject(v))for(n in v)d=v[n],this.setMeta("property='twitter:"+n+"'",d);return t.rel_author?this.setLink("author",t.rel_author):void 0},clearAll:function(){var t,s,n,o,a,l,g,h,u,f,c,p;for(c=r("meta"),o=0,h=c.length;h>o;o++)f=c[o],s=r(f),n=s.attr("name")||s.attr("property"),a=!1,s.attr("name")&&i.indexOf(e.settings.ignore.meta,s.attr("name"))>-1?a=!0:s.attr("property")&&i.indexOf(e.settings.ignore.meta,s.attr("property"))>-1&&(a=!0),!a&&n&&s.remove();for(p=r("link"),l=0,u=p.length;u>l;l++)g=p[l],t=r(g),n=t.attr("rel"),-1===i.indexOf(e.settings.ignore.link,t.attr("rel"))&&n&&t.remove();return this.set(this.settings,!1),this.setTitle(this.settings.title)},setTitle:function(t){return document.title=t,-1!==i.indexOf(this.settings.auto.set,"title")&&(this.settings.auto.twitter&&this.setMeta('property="twitter:title"',t),this.settings.auto.og)?this.setMeta('property="og:title"',t):void 0},setUrl:function(t){return-1!==i.indexOf(this.settings.auto.set,"url")&&(this.settings.auto.twitter&&this.setMeta('property="twitter:url"',t),this.settings.auto.og)?this.setMeta('property="og:url"',t):void 0},setLink:function(t,e,s){var n,o,a;if(null==s&&(s=!0),s&&this.removeLink(t),!i.isArray(e))return e?r("head").append("<link rel='"+t+"' href='"+e+"'>"):void 0;for(o=0,a=e.length;a>o;o++)n=e[o],this.setLink(t,n,!1)},removeLink:function(t){return r("link[rel='"+t+"']").remove()},setMeta:function(t,e,n){var o,a,l,g;if(null==n&&(n=!0),n&&this.removeMeta(t),i.isArray(e))for(o=0,a=e.length;a>o;o++)g=e[o],this.setMeta(t,g,!1);else if(e)return e=s(e),r("head").append("<meta "+t+" content='"+e+"'>"),l=t.replace(/"|'/g,"").split("=")[1],-1!==i.indexOf(this.settings.auto.set,l)&&(this.settings.auto.twitter&&this.setMeta("property='twitter:"+l+"'",e),this.settings.auto.og)?this.setMeta("property='og:"+l+"'",e):void 0},removeMeta:function(t){return r("meta["+t+"]").remove()}},this.SEO=e,s=function(t){return(""+t).replace(/'/g,"&apos;").replace(/"/g,"&quot;")}}.call(this),"undefined"==typeof Package&&(Package={}),Package["manuelschoebel:ms-seo"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.jquery.$,n=Package.jquery.jQuery,i=Package.ui.Blaze,r=Package.ui.UI,s=Package.ui.Handlebars,o=Package.htmljs.HTML,a;(function(){(function(){!function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},toStr:function n(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function i(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var s=this,o=arguments,a,u;return a=function(){i=null,n||(r=t.apply(s,o))},u=n&&!i,clearTimeout(i),i=setTimeout(a,e),u&&(r=t.apply(s,o)),r}},throttle:function(t,e){var n,i,r,s,o,a;return o=0,a=function(){o=new Date,r=null,s=t.apply(n,i)},function(){var u=new Date,c=e-(u-o);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,o=u,s=t.apply(n,i)):r||(r=setTimeout(a,c)),s}},noop:function(){}}}(),n="0.10.5",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function n(){var n=[].slice.call(arguments,0);return function i(r){var s=[];return e.each(n,function(n){s=s.concat(t(e.toStr(r[n])))}),s}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function s(t,e){var n=this.list.tail,i;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key]),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new r(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function o(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function a(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function u(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function c(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),s=function(){"use strict";function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix))}function n(){return(new Date).getTime()}function i(t){return JSON.stringify(e.isUndefined(t)?null:t)}function r(t){return JSON.parse(t)}var s,o;try{s=window.localStorage,s.setItem("~~~","!"),s.removeItem("~~~")}catch(a){s=null}return o=s&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),r(s.getItem(this._prefix(t)))},set:function(t,r,o){return e.isNumber(o)?s.setItem(this._ttlKey(t),i(n()+o)):s.removeItem(this._ttlKey(t)),s.setItem(this._prefix(t),i(r))},remove:function(t){return s.removeItem(this._ttlKey(t)),s.removeItem(this._prefix(t)),this},clear:function(){var t,e,n=[],i=s.length;for(t=0;i>t;t++)(e=s.key(t)).match(this.keyMatcher)&&n.push(e.replace(this.keyMatcher,""));for(t=n.length;t--;)this.remove(n[t]);return this},isExpired:function(t){var i=r(s.getItem(this._ttlKey(t)));return e.isNumber(i)&&n()>i?!0:!1}}:{get:e.noop,set:e.noop,remove:e.noop,clear:e.noop,isExpired:e.noop},e.mixin(t.prototype,o),t}(),o=function(){"use strict";function n(e){e=e||{},this.cancelled=!1,this.lastUrl=null,this._send=e.transport?i(e.transport):t.ajax,this._get=e.rateLimiter?e.rateLimiter(this._get):this._get,this._cache=e.cache===!1?new r(0):u}function i(n){return function i(r,s){function o(t){e.defer(function(){u.resolve(t)})}function a(t){e.defer(function(){u.reject(t)})}var u=t.Deferred();return n(r,s,o,a),u}}var s=0,o={},a=6,u=new r(10);return n.setMaxPendingRequests=function c(t){a=t},n.resetCache=function h(){u.reset()},e.mixin(n.prototype,{_get:function(t,e,n){function i(e){n&&n(null,e),c._cache.set(t,e)}function r(){n&&n(!0)}function u(){s--,delete o[t],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var c=this,h;this.cancelled||t!==this.lastUrl||((h=o[t])?h.done(i).fail(r):a>s?(s++,o[t]=this._send(t,e).done(i).fail(r).always(u)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,n,i){var r;return e.isFunction(n)&&(i=n,n={}),this.cancelled=!1,this.lastUrl=t,(r=this._cache.get(t))?e.defer(function(){i&&i(null,r)}):this._get(t,n,i),!!r},cancel:function(){this.cancelled=!0}}),n}(),a=function(){"use strict";function n(e){e=e||{},e.datumTokenizer&&e.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){return{ids:[],children:{}}}function s(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function o(t,e){function n(t,e){return t-e}var i=0,r=0,s=[];t=t.sort(n),e=e.sort(n);for(var o=t.length,a=e.length;o>i&&a>r;)t[i]<e[r]?i++:t[i]>e[r]?r++:(s.push(t[i]),i++,r++);return s}return e.mixin(n.prototype,{bootstrap:function a(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var s,o;s=n.datums.push(t)-1,o=i(n.datumTokenizer(t)),e.each(o,function(t){var e,i,o;for(e=n.trie,i=t.split("");o=i.shift();)e=e.children[o]||(e.children[o]=r()),e.ids.push(s)})})},get:function u(t){var n=this,r,a;return r=i(this.queryTokenizer(t)),e.each(r,function(t){var e,i,r,s;if(a&&0===a.length)return!1;for(e=n.trie,i=t.split("");e&&(r=i.shift());)e=e.children[r];return e&&0===i.length?(s=e.ids.slice(0),void(a=a?o(a,s):s)):(a=[],!1)}),a?e.map(s(a),function(t){return n.datums[t]}):[]},reset:function c(){this.datums=[],this.trie=r()},serialize:function h(){return{datums:this.datums,trie:this.trie}}}),n}(),u=function(){"use strict";function i(t){return t.local||null}function r(i){var r,s;return s={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(r=i.prefetch||null)&&(r=e.isString(r)?{url:r}:r,r=e.mixin(s,r),r.thumbprint=n+r.thumbprint,r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",!r.url&&t.error("prefetch requires url to be set")),r}function s(n){function i(t){return function(n){return e.debounce(n,t)}}function r(t){return function(n){return e.throttle(n,t)}}var s,o;return o={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(s=n.remote||null)&&(s=e.isString(s)?{url:s}:s,s=e.mixin(o,s),s.rateLimiter=/^throttle$/i.test(s.rateLimitBy)?r(s.rateLimitWait):i(s.rateLimitWait),s.ajax.type=s.ajax.type||"GET",s.ajax.dataType=s.ajax.dataType||"json",delete s.rateLimitBy,delete s.rateLimitWait,!s.url&&t.error("remote requires url to be set")),s}return{local:i,prefetch:r,remote:s}}();!function(n){"use strict";function r(e){e&&(e.local||e.prefetch||e.remote)||t.error("one of local, prefetch, or remote is required"),this.limit=e.limit||5,this.sorter=c(e.sorter),this.dupDetector=e.dupDetector||h,this.local=u.local(e),this.prefetch=u.prefetch(e),this.remote=u.remote(e),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new a({datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),this.storage=this.cacheKey?new s(this.cacheKey):null}function c(t){function n(e){return e.sort(t)}function i(t){return t}return e.isFunction(t)?n:i}function h(){return!1}var l,d;return l=n.Bloodhound,d={data:"data",protocol:"protocol",thumbprint:"thumbprint"},n.Bloodhound=r,r.noConflict=function p(){return n.Bloodhound=l,r},r.tokenizers=i,e.mixin(r.prototype,{_loadPrefetch:function f(e){function n(t){i.clear(),i.add(e.filter?e.filter(t):t),i._saveToStorage(i.index.serialize(),e.thumbprint,e.ttl)}var i=this,r,s;return(r=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(r),s=t.Deferred().resolve()):s=t.ajax(e.url,e.ajax).done(n),s},_getFromRemote:function g(t,e){function n(t,n){e(t?[]:i.remote.filter?i.remote.filter(n):n)}var i=this,r,s;if(this.transport)return t=t||"",s=encodeURIComponent(t),r=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,s),this.transport.get(r,this.remote.ajax,n)},_cancelLastRemoteRequest:function m(){this.transport&&this.transport.cancel()},_saveToStorage:function y(t,e,n){this.storage&&(this.storage.set(d.data,t,n),this.storage.set(d.protocol,location.protocol,n),this.storage.set(d.thumbprint,e,n))},_readFromStorage:function v(t){var e={},n;return this.storage&&(e.data=this.storage.get(d.data),e.protocol=this.storage.get(d.protocol),e.thumbprint=this.storage.get(d.thumbprint)),n=e.thumbprint!==t||e.protocol!==location.protocol,e.data&&!n?e.data:null},_initialize:function _(){function n(){i.add(e.isFunction(r)?r():r)}var i=this,r=this.local,s;return s=this.prefetch?this._loadPrefetch(this.prefetch):t.Deferred().resolve(),r&&s.done(n),this.transport=this.remote?new o(this.remote):null,this.initPromise=s.promise()},initialize:function w(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function b(t){this.index.add(t)},get:function x(t,n){function i(t){var i=s.slice(0);e.each(t,function(t){var n;return n=e.some(i,function(e){return r.dupDetector(t,e)}),!n&&i.push(t),i.length<r.limit}),n&&n(r.sorter(i))}var r=this,s=[],o=!1;s=this.index.get(t),s=this.sorter(s).slice(0,this.limit),s.length<this.limit?o=this._getFromRemote(t,i):this._cancelLastRemoteRequest(),o||(s.length>0||!this.transport)&&n&&n(s)},clear:function k(){this.index.reset()},clearPrefetchCache:function C(){this.storage&&this.storage.clear()},clearRemoteCache:function S(){this.transport&&o.resetCache()},ttAdapter:function A(){return e.bind(this.get,this)}}),r}(this);var c=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),h=function(){"use strict";var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&e.mixin(t.input,{marginTop:"-1px"}),t}(),l=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i="typeahead:";return e.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(i+t,e)}}),n}(),d=function(){"use strict";function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(u),n=i?a(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(u);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,o;if(!this._callbacks)return this;for(t=t.split(u),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=s(n.sync,this,[e].concat(i)),o=s(n.async,this,[e].concat(i)),r()&&c(o);return this}function s(t,e,n){function i(){for(var i,r=0,s=t.length;!i&&s>r;r+=1)i=t[r].apply(e,n)===!1;return!i}return i}function o(){var t;return t=window.setImmediate?function e(t){setImmediate(function(){t()})}:function n(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var u=/\s+/,c=o();return{onSync:n,onAsync:e,off:i,trigger:r}}(),p=function(t){"use strict";function n(t,n,i){for(var r=[],s,o=0,a=t.length;a>o;o++)r.push(e.escapeRegExChars(t[o]));return s=i?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",n?new RegExp(s):new RegExp(s,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function r(s){function o(e){var n,i,r;return(n=u.exec(e.data))&&(r=t.createElement(s.tagName),s.className&&(r.className=s.className),i=e.splitText(n.index),i.splitText(n[0].length),r.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(r,i)),!!n}function a(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],n.nodeType===i?r+=e(n)?1:0:a(n,e)}var u;s=e.mixin({},i,s),s.node&&s.pattern&&(s.pattern=e.isArray(s.pattern)?s.pattern:[s.pattern],u=n(s.pattern,s.caseSensitive,s.wordsOnly),a(s.node,o))}}(window.document),f=function(){"use strict";function n(n){var r=this,s,a,u,c;n=n||{},n.input||t.error("input is missing"),s=e.bind(this._onBlur,this),a=e.bind(this._onFocus,this),u=e.bind(this._onKeydown,this),c=e.bind(this._onInput,this),this.$hint=t(n.hint),this.$input=t(n.input).on("blur.tt",s).on("focus.tt",a).on("keydown.tt",u),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){o[t.which||t.keyCode]||e.defer(e.bind(r._onInput,r,t))}):this.$input.on("input.tt",c),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,d,{_onBlur:function a(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function u(){this.trigger("focused")},_onKeydown:function c(t){var e=o[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function h(){this._checkInputValue()},_managePreventDefault:function l(t,e){var n,i,r;switch(t){case"tab":i=this.getHint(),r=this.getInputValue(),n=i&&i!==r&&!s(e);break;case"up":case"down":n=!s(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function p(t,e){var n;switch(t){case"tab":n=!s(e);break;default:n=!0}return n},_checkInputValue:function f(){var t,e,n;t=this.getInputValue(),e=r(t,this.query),n=e?this.query.length!==t.length:!1,this.query=t,e?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function g(){this.$input.focus()},blur:function m(){this.$input.blur()},getQuery:function y(){return this.query},setQuery:function v(t){this.query=t},getInputValue:function _(){return this.$input.val()},setInputValue:function w(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function b(){this.setInputValue(this.query,!0)},getHint:function x(){return this.$hint.val()},setHint:function k(t){this.$hint.val(t)},clearHint:function C(){this.setHint("")},clearHintIfInvalid:function S(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},getLanguageDirection:function A(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function $(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function T(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),g=function(){"use strict";function n(n){n=n||{},n.templates=n.templates||{},n.source||t.error("missing source"),n.name&&!s(n.name)&&t.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||e.getUniqueId(),this.source=n.source,this.displayFn=i(n.display||n.displayKey),this.templates=r(n.templates,this.displayFn),this.$el=t(c.dataset.replace("%CLASS%",this.name))}function i(t){function n(e){return e[t]}return t=t||"value",e.isFunction(t)?t:n}function r(t,n){function i(t){return"<p>"+n(t)+"</p>"}return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||i}}function s(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var o="ttDataset",a="ttValue",u="ttDatum";return n.extractDatasetName=function l(e){return t(e).data(o)},n.extractValue=function f(e){return t(e).data(a)},n.extractDatum=function g(e){return t(e).data(u)},e.mixin(n.prototype,d,{_render:function m(n,i){function r(){return f.templates.empty({query:n,isEmpty:!0})}function s(){function r(e){var n;return n=t(c.suggestion).append(f.templates.suggestion(e)).data(o,f.name).data(a,f.displayFn(e)).data(u,e),n.children().each(function(){t(this).css(h.suggestionChild)}),n}var s,l;return s=t(c.suggestions).css(h.suggestions),l=e.map(i,r),s.append.apply(s,l),f.highlight&&p({className:"tt-highlight",node:s[0],pattern:n}),s}function l(){return f.templates.header({query:n,isEmpty:!g})}function d(){return f.templates.footer({query:n,isEmpty:!g})}if(this.$el){var f=this,g;this.$el.empty(),g=i&&i.length,!g&&this.templates.empty?this.$el.html(r()).prepend(f.templates.header?l():null).append(f.templates.footer?d():null):g&&this.$el.html(s()).prepend(f.templates.header?l():null).append(f.templates.footer?d():null),this.trigger("rendered")}},getRoot:function y(){return this.$el},update:function v(t){function e(e){n.canceled||t!==n.query||n._render(t,e)}var n=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function _(){this.canceled=!0},clear:function w(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function b(){return this.$el.is(":empty")},destroy:function x(){this.$el=null}}),n}(),m=function(){"use strict";function n(n){var r=this,s,o,a;n=n||{},n.menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=e.map(n.datasets,i),s=e.bind(this._onSuggestionClick,this),o=e.bind(this._onSuggestionMouseEnter,this),a=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(n.menu).on("click.tt",".tt-suggestion",s).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",a),e.each(this.datasets,function(t){r.$menu.append(t.getRoot()),t.onSync("rendered",r._onRendered,r)})}function i(t){return new g(t)}return e.mixin(n.prototype,d,{_onSuggestionClick:function r(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function s(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function o(){this._removeCursor()},_onRendered:function a(){function t(t){return t.isEmpty()}this.isEmpty=e.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function u(){return this.$menu.find(".tt-suggestion")},_getCursor:function c(){return this.$menu.find(".tt-cursor").first()},_setCursor:function l(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function p(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function f(t){var e,n,i,r;if(this.isOpen){if(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),i=e.index(n)+t,i=(i+1)%(e.length+1)-1,-1===i)return void this.trigger("cursorRemoved");-1>i&&(i=e.length-1),this._setCursor(r=e.eq(i)),this._ensureVisible(r)}},_ensureVisible:function m(t){var e,n,i,r;e=t.position().top,n=e+t.outerHeight(!0),i=this.$menu.scrollTop(),r=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>e?this.$menu.scrollTop(i+e):n>r&&this.$menu.scrollTop(i+(n-r))},close:function y(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function v(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function _(t){this.$menu.css("ltr"===t?h.ltr:h.rtl)},moveCursorUp:function w(){this._moveCursor(-1)},moveCursorDown:function b(){this._moveCursor(1)},getDatumForSuggestion:function x(t){var e=null;return t.length&&(e={raw:g.extractDatum(t),value:g.extractValue(t),datasetName:g.extractDatasetName(t)}),e},getDatumForCursor:function k(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function C(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function S(t){function n(e){e.update(t)}e.each(this.datasets,n)},empty:function A(){function t(t){t.clear()}e.each(this.datasets,t),this.isEmpty=!0},isVisible:function $(){return this.isOpen&&!this.isEmpty},destroy:function T(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,t)}}),n}(),y=function(){"use strict";function n(n){var r,s,o;n=n||{},n.input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.$node=i(n.input,n.withHint),r=this.$node.find(".tt-dropdown-menu"),s=this.$node.find(".tt-input"),o=this.$node.find(".tt-hint"),s.on("blur.tt",function(t){var n,i,o;n=document.activeElement,i=r.is(n),o=r.has(n).length>0,e.isMsie()&&(i||o)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){s.focus()}))}),r.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=n.eventBus||new l({el:s}),this.dropdown=new m({menu:r,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new f({input:s,hint:o}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(e,n){var i,s,a,u;i=t(e),s=t(c.wrapper).css(h.wrapper),a=t(c.dropdown).css(h.dropdown),u=i.clone().css(h.hint).css(r(i)),u.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.data(o,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?h.input:h.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(l){}return i.wrap(s).parent().prepend(n?u:null).append(a)}function r(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function s(t){var n=t.find(".tt-input");e.each(n.data(o),function(t,i){e.isUndefined(t)?n.removeAttr(i):n.attr(i,t)}),n.detach().removeData(o).removeClass("tt-input").insertAfter(t),t.remove()}var o="ttAttrs";return e.mixin(n.prototype,{_onSuggestionClicked:function a(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n)},_onCursorMoved:function u(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function d(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function p(){this._updateHint()},_onOpened:function g(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function y(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function v(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function _(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function w(t,e){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),e.preventDefault()):this.autoselect&&i&&(this._select(i),e.preventDefault())},_onTabKeyed:function b(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function x(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function k(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function C(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function S(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function A(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function $(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function T(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function D(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function I(){var t,n,i,r,s,o;t=this.dropdown.getDatumForTopSuggestion(),t&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),i=f.normalizeQuery(n),r=e.escapeRegExChars(i),s=new RegExp("^(?:"+r+")(.+$)","i"),o=s.exec(t.value),o?this.input.setHint(n+o[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function z(t){var e,n,i,r;e=this.input.getHint(),n=this.input.getQuery(),i=t||this.input.isCursorAtEnd(),e&&n!==e&&i&&(r=this.dropdown.getDatumForTopSuggestion(),r&&this.input.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.raw,r.datasetName))},_select:function F(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),e.defer(e.bind(this.dropdown.empty,this.dropdown))},open:function q(){this.dropdown.open()},close:function E(){this.dropdown.close()},setVal:function K(t){t=e.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function L(){return this.input.getQuery()},destroy:function R(){this.input.destroy(),this.dropdown.destroy(),s(this.$node),this.$node=null}}),n}();!function(){"use strict";var n,i,r;n=t.fn.typeahead,i="ttTypeahead",r={initialize:function s(n,r){function s(){var s=t(this),o,a;e.each(r,function(t){t.highlight=!!n.highlight}),a=new y({input:s,eventBus:o=new l({el:s}),withHint:e.isUndefined(n.hint)?!0:!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:r}),s.data(i,a)}return r=e.isArray(r)?r:[].slice.call(arguments,1),n=n||{},this.each(s)},open:function o(){function e(){var e=t(this),n;(n=e.data(i))&&n.open()}return this.each(e)},close:function a(){function e(){var e=t(this),n;(n=e.data(i))&&n.close()}return this.each(e)},val:function u(e){function n(){var n=t(this),r;(r=n.data(i))&&r.setVal(e)}function r(t){var e,n;return(e=t.data(i))&&(n=e.getVal()),n}return arguments.length?this.each(n):r(this.first())},destroy:function c(){function e(){var e=t(this),n;(n=e.data(i))&&(n.destroy(),e.removeData(i))}return this.each(e)}},t.fn.typeahead=function(e){var n;return r[e]&&"initialize"!==e?(n=this.filter(function(){return!!t(this).data(i)}),r[e].apply(n,[].slice.call(arguments,1))):r.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function h(){return t.fn.typeahead=n,this}}()}(window.jQuery)}).call(this),function(){function n(t){return t}function s(n,i){try{e(i).data("ttTypeahead")||t.typeahead(i)}catch(r){return void console.log(r)}}function o(t,n){var i=t[0],r=t.data("sources")||t.data("sets");if(r)return"string"==typeof r&&(r=p(i,r)),e.isFunction(r)&&(r=r()||[]),r.map(function(t){return y(t)});var s=c(t.attr("name")||t.attr("id")||"dataset"),o=t.data("limit"),d=t.data("template"),f=t.data("templates"),v=t.data("value-key")||"value",_=u(t);n||(n=t.data("source")||[]);var w={name:s,valueKey:v,displayKey:v,minLength:_};if(o&&(w.limit=o),d&&(w.template=d),f&&"string"==typeof f&&h(w,f),w.templates=g(w),"string"==typeof n){if(n.indexOf("/")>=0)return a=!0,w.prefetch={url:n,filter:function(t){return(t||[]).map(m(w))}},y(w);n=l(i,n)}return e.isArray(n)||e.isFunction(n)&&0===n.length?(w.local=n,y(w)):(w.source=n,w)}function u(t){var e=parseInt(t.data("min-length"));return isNaN(e)||0>e?1:e}function c(t){return t.replace(/\./g,"_")}function h(t,e){var n={header:1,footer:1,template:1,suggestion:1,empty:1},i=e.split(/[;,]+/);i.map(function(t){var e=t.split(/[:=]+/).map(function(t){return t.trim()});switch(e.length){case 1:return{key:"template",value:e[0]};case 2:return e[0]in n?{key:e[0],value:e[1]}:null;default:return null}}).filter(function(t){return null!==t}).forEach(function(e){t[e.key]=e.value})}function l(t,i){var r=p(t,i);if(e.isFunction(r))return r;var s=i.split(".");if(s.length>0){var o=d(s[0]);if(o){var a=s.length>1?s[1]:"";return function(){return o.find().fetch().map(function(t){var e=a?t[a]:t.name||t.title;return e?{value:e,id:t._id}:""}).filter(n)}}}return console.log("Unable to resolve data source function '%s'.",i),[]}function d(t){return"undefined"!=typeof Mongo&&"undefined"!=typeof Mongo.Collection&&e.isFunction(Mongo.Collection.get)?Mongo.Collection.get(t):v?v[t]||v[t.toLowerCase()]||null:null}function p(t,n){var r=i.getView(t);if(!r||!r.template)return null;var s=i._getTemplateHelper(r.template,n);return e.isFunction(s)?s:null}function f(t){if(!t)throw new Error("templateName is not specified");

var n=Template[t];if(!n)throw new Error("Template '"+t+"' is not defined");return function(t){var s=e("<div/>");if(e.isFunction(i.renderWithData))i.renderWithData(n,t,s[0]);else{var o=r.renderWithData(n,t);r.insert(o,s[0])}return s.html()}}function g(t){function n(t,n){"string"==typeof n?n.indexOf("<")>=0?i[t]=n:i[t]=f(n):e.isFunction(n)&&(i[t]=n)}var i={};return n("header",t.header),n("footer",t.footer),n("suggestion",t.template),n("empty",t.empty),!i.suggestion&&t.suggestion&&n("suggestion",t.suggestion),i}function m(t){return function(e){if("object"==typeof e)return e;var n={};return n[t.valueKey]=e,n}}function y(t){function n(t,e){var n=s.ttAdapter();return n(t,e)}if(!t.template)if(Array.isArray(t.local))t.local=t.local.map(m(t));else if(e.isFunction(t.local)&&0===t.local.length){var i=t.local;t.local=function(){return(i()||[]).map(m(t))}}var r=t.prefetch||Array.isArray(t.local)||e.isFunction(t.local)&&0===t.local.length,s;if(r){var o=e.extend({},t,{datumTokenizer:Bloodhound.tokenizers.obj.whitespace(t.valueKey),queryTokenizer:Bloodhound.tokenizers.whitespace});if(s=new Bloodhound(o),s.initialize(),e.isFunction(t.local)&&0===t.local.length){var a=Template.instance()||Tracker;a.autorun(function(){s=new Bloodhound(o),s.initialize()})}}var u=r||"undefined"!=typeof t.local?{source:r?n:t.local}:{},c="undefined"==typeof t.templates?{templates:g(t)}:{};return e.extend({},t,u,c)}var v=this||window;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),t.typeahead=function(t,n){function i(t,e){var n=r.data(t);return void 0===n?e:!!n}var r=e(t),s=o(r,n);r.typeahead("destroy");var a=r.data("options")||{};"object"!=typeof a&&(a={});var c=i("highlight",!1),h=i("hint",!0),l=i("autoselect",!1),d=u(r);a=e.extend(a,{highlight:c,hint:h,minLength:d,autoselect:l});var f;if(Array.isArray(s))f=r.typeahead.apply(r,[a].concat(s));else{var g=s;if(0===d){var m=g.source;g.source=function(t,e){return t?m(t,e):e(g.local())}}f=r.typeahead(a,g)}return["opened","closed","selected","autocompleted"].forEach(function(t){var n=p(r[0],r.data(t));e.isFunction(n)&&f.on("typeahead:"+t,n)}),r.hasClass("form-control")&&r.parent(".twitter-typeahead").find(".tt-hint").addClass("form-control"),0===d&&r.on("focus",function(){""===r.val()&&r.data("ttTypeahead").input.trigger("queryChanged","")}),f},t.typeahead.inject=function(t){t||(t=".typeahead");var n=Template.instance();n?n.$(t).each(s):e(t).each(s)}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["sergeyt:typeahead"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,n=Package.mongo.Mongo;(function(){n.Collection.prototype.helpers=function(n){var o=this;if(o._transform&&!o._helpers)throw new e.Error("Can't apply helpers to '"+o._name+"' a transform function already exists!");o._helpers||(o._helpers=function t(e){return r.extend(this,e)},o._transform=function(e){return new o._helpers(e)}),r.each(n,function(e,r){o._helpers.prototype[r]=e})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["dburles:collection-helpers"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.templating.Template,t=Package.tracker.Tracker,a=Package.tracker.Deps,i=Package.check.check,r=Package.check.Match,u=Package["reactive-var"].ReactiveVar,o=Package.underscore._,l=Package["aldeed:simple-schema"].SimpleSchema,c=Package["aldeed:simple-schema"].MongoObject,s=Package.blaze.Blaze,d=Package.blaze.UI,f=Package.blaze.Handlebars,v=Package.spacebars.Spacebars,h=Package.htmljs.HTML,m;(function(){(function(){n.__checkName("defaultFormBlock"),n.defaultFormBlock=new n("Template.defaultFormBlock",function(){var e=this;return h.FORM("\n\n    \n    ",s._InOuterTemplateScope(e,function(){return s._TemplateWith(function(){return{data:v.call(e.lookup("data")),context:v.call(e.lookup("context"))}},function(){return v.include(function(){return v.call(e.templateContentBlock)})})}),"\n\n  ")})}).call(this),function(){n.__checkName("basicFormBlock"),n.basicFormBlock=new n("Template.basicFormBlock",function(){var e=this;return h.FORM("\n\n    \n    ",s._InOuterTemplateScope(e,function(){return s._TemplateWith(function(){return{data:v.call(e.lookup("data")),context:v.call(e.lookup("context"))}},function(){return v.include(function(){return v.call(e.templateContentBlock)})})}),"\n\n    ",h.P("\n      ",h.Raw('<button type="submit">Submit</button>'),"\n      ",h.SPAN("\n        ",s.If(function(){return v.call(e.lookup("loading"))},function(){return"\n          Loading...\n        "}),"\n\n        ",s.If(function(){return v.call(e.lookup("invalid"))},function(){return["\n          Can't submit! There are ",s.View("lookup:invalidCount",function(){return v.mustache(e.lookup("invalidCount"))})," invalid fields!\n        "]}),"\n\n        ",s.If(function(){return v.call(e.lookup("failed"))},function(){return"\n          There was a problem submitting the form!\n        "}),"\n\n        ",s.If(function(){return v.call(e.lookup("success"))},function(){return"\n          Success! Form submitted (to nowhere)\n        "}),"\n      "),"\n    "),"\n\n  ")})}.call(this),function(){n.__checkName("basicForm"),n.basicForm=new n("Template.basicForm",function(){var e=this;return h.FORM("\n\n    \n    ",s._InOuterTemplateScope(e,function(){return s._TemplateWith(function(){return{data:v.call(e.lookup("data")),context:v.call(e.lookup("context"))}},function(){return v.include(function(){return v.call(e.templateContentBlock)})})}),"\n\n    ",h.P("\n      ",h.Raw('<button type="submit">Submit</button>'),"\n      ",h.SPAN("\n        ",s.If(function(){return v.call(e.lookup("loading"))},function(){return"\n          Loading...\n        "}),"\n\n        ",s.If(function(){return v.call(e.lookup("invalid"))},function(){return["\n          Can't submit! There are ",s.View("lookup:invalidCount",function(){return v.mustache(e.lookup("invalidCount"))})," invalid fields!\n        "]}),"\n\n        ",s.If(function(){return v.call(e.lookup("failed"))},function(){return"\n          There was a problem submitting the form!\n        "}),"\n\n        ",s.If(function(){return v.call(e.lookup("success"))},function(){return"\n          Success! Form submitted (to nowhere)\n        "}),"\n      "),"\n    "),"\n\n  ")})}.call(this),function(){n.__checkName("basicInput"),n.basicInput=new n("Template.basicInput",function(){var e=this;return[h.STRONG(s.View("lookup:label",function(){return v.mustache(e.lookup("label"))})),h.Raw("\n  <br>\n\n  \n  "),h.INPUT({placeholder:function(){return v.mustache(e.lookup("instructions"))},"class":"reactive-element",value:function(){return v.mustache(e.lookup("value"))}}),"\n\n  ",s.If(function(){return v.call(e.lookup("submitted"))},function(){return["\n    ",s.If(function(){return v.call(e.lookup("errorMessage"))},function(){return h.P({"class":"error-message"},s.View("lookup:errorMessage",function(){return v.mustache(e.lookup("errorMessage"))}))}),"\n  "]})]})}.call(this),function(){m="object"==typeof m?m:{};var e=m;l.extendOptions({instructions:r.Optional(String)}),l.prototype.keyInstructions=function(e){var n,t;return n=this,null!=(null!=(t=n._schema[e])?t.instructions:void 0)?n._schema[e].instructions:""}}.call(this),function(){m="object"==typeof m?m:{};var e=m;n.registerHelper("context",function(){var e,t;return e="function"==typeof n.instance&&null!=(t=n.instance().data)?t.context:void 0,{failed:function(){var n;return null!=(null!=e&&null!=(n=e.failed)?n.get:void 0)?e.failed.get():void 0},success:function(){var n;return null!=(null!=e&&null!=(n=e.success)?n.get:void 0)?e.success.get():void 0},invalidCount:function(){var n;return null!=(null!=e&&null!=(n=e.schemaContext)?n.invalidKeys:void 0)?e.schemaContext.invalidKeys().length:void 0},invalid:function(){var n;return null!=(null!=e&&null!=(n=e.invalid)?n.get:void 0)?e.invalid.get():void 0},loading:function(){var n;return null!=(null!=e&&null!=(n=e.loading)?n.get:void 0)?e.loading.get():void 0},changed:function(){var n;return null!=(null!=e&&null!=(n=e.changed)?n.get:void 0)?e.changed.get():void 0},unchanged:function(){var n;return null!=(null!=e&&null!=(n=e.changed)?n.get:void 0)?!e.changed.get():void 0},submitted:function(){var n;return null!=(null!=e&&null!=(n=e.submitted)?n.get:void 0)?e.submitted.get():void 0},unsubmitted:function(){var n;return null!=(null!=e&&null!=(n=e.submitted)?n.get:void 0)?!e.submitted.get():void 0}}})}.call(this),function(){m="object"==typeof m?m:{};var a=m,c,s={}.hasOwnProperty,d=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1};this.ReactiveForms=c=function(){var a,c,f,v,h,m,g,p,b,k,C,w,y,F;return a="reactiveForms",f=null!=("undefined"!=typeof console&&null!==console?console.warn:void 0),c=function(){},b=function(e,n){return f?console.warn("[forms] `"+e+"` is deprecated. Use `"+n+"` instead. See documentation for more information."):void 0},F=function(e){return o.isObject(e)&&!o.isArray(e)&&!o.isFunction(e)&&!o.isDate(e)&&!o.isRegExp(e)},k=function(e,n){var t;if(e)return t=e.split("."),o.reduceRight(t,function(e,n){var t;return t={},t[n]=e,t},n)},C=function(e,n){var t,a;if(e&&n)return t=n.split("."),a=o.reduce(t,function(e,n){return o.has(e,n)?e[n]:new c},e),a instanceof c?void 0:a},p=function(n,t){var a;if(n&&t)return a=[n],a=a.concat(t.split(".")),e._delete.apply(this,a),a[0]},g=function(e,n){var t;for(t in n)s.call(n,t)&&(F(e[t])&&o.has(e,t)?g(e[t],n[t]):e[t]=n[t]);return e},y={},y.createdFactory=function(e){return function(){var i,c,v,h,m,b,w,y,D,x,V,S,T,O,P;return S=this,c={},m={schema:"[forms] The `schema` field in a Form Block is optional, but if it exists, it must be an instance of SimpleSchema.",action:"[forms] The `action` function is missing or invalid in your Form Block. This is a required field--you can't submit your form without it.",data:"[forms] The `data` field in a Form Block is optional, but if it exists, it must either be an object or a falsey value.",change:"[forms] The `onDataChange` hook is optional, but if it exists, it must be a function."},S.autorun(function(){var e,t;return e=n.currentData(),o.has(e,"schema")&&!r.test(e.schema,r.Optional(l))&&f&&console.warn(m.schema),o.has(e,"action")&&r.test(e.action,Function)||f&&console.warn(m.action),t=r.Optional(r.Where(function(e){return!e||F(e)})),o.has(e,"data")&&!r.test(e.data,t)&&f&&console.warn(m.data),o.has(e,"onDataChange")&&!r.test(e.onDataChange,Function)?f&&console.warn(m.change):void 0}),c.changed=new u(!1),c.submitted=new u(!1),c.failed=new u(!1),c.success=new u(!1),c.invalid=new u(!1),c.loading=new u(!1),c.successMessage=new u(null),c.failedMessage=new u(null),O=function(e,n){var t,a,i,r;for(r=["success","failed","loading","invalid"],a=0,i=r.length;i>a;a++)t=r[a],c[t].set(t===e);return n&&c[e+"Message"]?c[e+"Message"].set(n):void 0},T=function(){return c.changed.set(!0),c.success.get()===!0?(c.success.set(!1),c.submitted.set(!1)):void 0},V=function(e){var n,t,a;if(c.changed.set(!1),c.submitted.set(!1),c.invalid.set(!1),c.loading.set(!1),e){c.failed.set(!1),c.success.set(!1),a=[];for(n in h)t=h[n],t.changed.set(!1),a.push(t.valid.set(!0));return a}},S.data.schema&&S.data.schema.newContext&&(c.schemaContext=S.data.schema.newContext()),S.autorun(function(){return o.has(c,"schemaContext")?!c.schemaContext.invalidKeys().length&&c.invalid.set(!1):void 0}),P={},i=S.data.data&&{}||void 0,h={},y=function(){var e,n,t;t=[];for(e in h)n=h[e],n.original.set(null),n.value.set(null),t.push(n.valueDep.changed());return t},c.ensureElement=function(e,n){return o.has(h,e)&&h[e]||(h[e]={original:new u(n),value:new u(n),valueDep:new t.Dependency,valid:new u(!0),changed:new u(!1),storeMethods:function(n){var t,a,i;i=[];for(a in n)s.call(n,a)&&(t=n[a],i.push(h[e][a]=t));return i}})},c.setValidatedValue=function(e,n,t){var a,u,l;if(a=C(P,e),u=k(e,n),l=h[e].original.get(),r.test(a,void 0)){if(P=g(P,u),t&&(T(),i&&r.test(l,void 0)))return i=g(i,u)}else if(!o.isEqual(a,n)&&(P=g(P,u),t&&(T(),i)))return i=o.isEqual(l,n)?p(i,e):g(i,u)},x=[],c.addResetFunction=function(e){return x.push(e)},D=function(e){var n,t,a;for(t=0,a=x.length;a>t;t++)(n=x[t])();return P={},i=S.data.data&&{}||void 0,y(),V(e),e?(c.successMessage.set(null),c.failedMessage.set(null)):void 0},w=S.data.data&&S.data.data||void 0,S.autorun(function(){var e,a;return a=n.currentData(),a.data&&(o.has(a.data,"_id")&&(P._id=a.data._id),!o.isEqual(a.data,w))?(S.data.onDataChange&&(e={reset:D,refresh:function(e,n){return t.afterFlush(function(){var t,a;if(e&&o.has(h,e))return h[e].refresh(n);a=[];for(e in h)s.call(h,e)&&(t=h[e],a.push(t.refresh()));return a})},changed:function(){return T()}},S.data.onDataChange.call(e,w,a.data)),w=a.data):void 0}),v=[".reactive-element"],c.addCustomSelector=function(e){return d.call(v,e)<0?v.push(e):void 0},c.submit=function(){var e,n;return c.submitted.set(!0),o.has(c,"schemaContext")&&c.schemaContext.invalidKeys().length?void O("invalid"):(O("loading"),n=S.findAll(v.join(", ")),e={success:function(e){return O("success",e)},failed:function(e){return O("failed",e)},reset:function(e){return D(e)}},S.data.action.call(P,n,e,i))},b={},b[a]=c,o.extend(S,b),e.created&&e.created.call(S)}},y.helpers={context:function(){var e,t;return t=n.instance(),e=t[a],{schema:o.has(t.data,"schema")&&t.data.schema||null,schemaContext:o.has(e,"schemaContext")&&e.schemaContext||null,submit:e.submit,submitted:e.submitted,loading:e.loading,success:e.success,failed:e.failed,invalid:e.invalid,changed:e.changed,ensureElement:e.ensureElement,setValidatedValue:e.setValidatedValue,addResetFunction:e.addResetFunction,addCustomSelector:e.addCustomSelector}},failed:function(){var e,t;return t=n.instance(),e=t[a],e.failed.get()},failedMessage:function(){var e,t;return t=n.instance(),e=t[a],e.failedMessage.get()},success:function(){var e,t;return t=n.instance(),e=t[a],e.success.get()},successMessage:function(){var e,t;return t=n.instance(),e=t[a],e.successMessage.get()},invalidCount:function(){var e,t;return t=n.instance(),e=t[a],o.has(e,"schemaContext")?e.schemaContext.invalidKeys().length:void 0},invalid:function(){var e,t;return t=n.instance(),e=t[a],e.invalid.get()},loading:function(){var e,t;return t=n.instance(),e=t[a],e.loading.get()},changed:function(){var e,t;return t=n.instance(),e=t[a],e.changed.get()},unchanged:function(){var e,t;return t=n.instance(),e=t[a],!e.changed.get()},submitted:function(){var e,t;return t=n.instance(),e=t[a],e.submitted.get()},unsubmitted:function(){var e,t;return t=n.instance(),e=t[a],!e.submitted.get()}},w={},w.createdFactory=function(e){return function(){var i,l,s,d,f,v,h,m,g,p,b,w,y,F,D;if(m=this,l={field:m.data.field||null,initValue:null,passThroughData:m.data.passThroughData||e.passThroughData||!1,providesData:!m.data.standalone&&e.providesData,parentData:null,isChild:!1,distance:0},!m.data.standalone)for(;l.distance<6&&!l.isChild;)if(l.distance++,s=n.parentData(l.distance),s&&o.has(s,"context")){l.isChild=!0;for(h in s)p=s[h],"context"!==h&&(s.context[h]=p);for(l.parentData=s.context,F=["submit","submitted","loading","success","schema","schemaContext"],w=0,y=F.length;y>w;w++)h=F[w],l[h]=l.parentData[h]||null}else s&&o.has(s,"field")&&(l.field=s.field);return l.isChild?(l.providesData&&".reactive-element"!==e.validationSelector&&l.parentData.addCustomSelector(e.validationSelector),l.schema=l.parentData.schema,l.schemaContext=l.parentData.schemaContext,l.parentData.data&&(l.initValue=C(l.parentData.data,l.field))):(l.schema=m.data.schema||null,l.schemaContext=m.data.schema&&m.data.schema.newContext()||null,m.data.data&&(l.initValue=C(m.data.data,l.field))),d=l.field&&(null!=(D=l.parentData)&&"function"==typeof D.ensureElement?D.ensureElement(l.field,l.initValue):void 0),l.original=d&&d.original||new u(l.initValue),l.value=d&&d.value||new u(l.initValue),l.valueDep=d&&d.valueDep||new t.Dependency,l.valid=d&&d.valid||new u(!0),l.changed=d&&d.changed||new u(!1),b=function(e){var n,t;return t=k(l.field,e),n=l.schemaContext.validateOne(t,l.field),l.valid.set(n),n},null!=l.schemaContext&&m.autorun(function(){var e;return e=l.schemaContext.keyIsInvalid(l.field),l.valid.set(!e)}),g=function(e,n){return o.isEqual(l.value.get(),e)||(l.value.set(e),n&&l.changed.set(!0)),l.isChild&&null!=l.parentData.setValidatedValue?l.parentData.setValidatedValue(l.field,e,n):void 0},l.providesData&&null!=l.schemaContext&&m.autorun(function(){return p=l.value.get(),t.nonreactive(function(){var e;return e=b(p)})}),l.remoteValueChange=new u(!1),l.newRemoteValue=new u(l.initValue),l.refresh=function(e){return r.test(e,void 0)&&(e=l.newRemoteValue.get()),(r.test(l.value.get(),void 0)||!l.changed.get())&&g(e),l.original.set(e),l.valueDep.changed()},l.ignoreValueChange=function(){return l.remoteValueChange.set(!1)},l.acceptValueChange=function(){return l.remoteValueChange.set(!1),l.refresh()},m.autorun(function(){var e;return s=l.isChild&&n.parentData(l.distance)||n.currentData(),null!=(null!=s?s.data:void 0)?(e=C(s.data,l.field),t.nonreactive(function(){return o.isEqual(l.value.get(),e)?void 0:(l.newRemoteValue.set(e),l.passThroughData?l.refresh():l.remoteValueChange.set(!0))})):void 0}),d&&o.has(d,"storeMethods")&&d.storeMethods({refresh:l.refresh}),v=e.validationValue||function(e,n,t){var a;return a=$(e).val(),n(a)},i=function(e,n){var t,a;return a={},a[l.field]=e,t=l.schema.clean(a,n),t[l.field]},l.validateElement=function(e,n){var t;return i=null!=l.schemaContext&&i||function(e){return e},t={stop:new c,startup:!n,validate:function(e){return g(e,n),this.stop}},p=v.call(t,e,i,m),p instanceof c?void 0:g(p,n)},f={},f[a]=l,o.extend(m,f),e.created&&e.created.call(m)}},w.renderedFactory=function(e){return function(){var n,t,i,r;return i=this,n=i[a],t=i.findAll(e.validationSelector),n.providesData&&t&&n.validateElement(t,!1),e.reset&&(null!=(r=n.parentData)&&"function"==typeof r.addResetFunction?r.addResetFunction(function(){return e.reset.call(i,t)}):void 0),e.rendered&&e.rendered.call(i)}},w.helpers={value:function(){var e,i;return i=n.instance(),e=i[a],e.valueDep.depend(),t.nonreactive(function(){return e.value.get()})},reactiveValue:function(){var e,t;return t=n.instance(),e=t[a],e.value.get()},originalValue:function(){var e,t;return t=n.instance(),e=t[a],e.original.get()},uniqueValue:function(){var e,t;return t=n.instance(),e=t[a],!o.isEqual(e.original.get(),e.value.get())},newRemoteValue:function(){var e,t,i;return t=n.instance(),e=t[a],i=e.newRemoteValue.get(),null!=i&&i.toString()},remoteValueChange:function(){var e,t;return t=n.instance(),e=t[a],e.remoteValueChange.get()},valid:function(){var e,t;return t=n.instance(),e=t[a],e.valid.get()},changed:function(){var e,t;return t=n.instance(),e=t[a],e.changed.get()},unchanged:function(){var e,t;return t=n.instance(),e=t[a],!e.changed.get()},isChild:function(){var e,t;return t=n.instance(),e=t[a],e.isChild},schema:function(){var e,t;return t=n.instance(),e=t[a],null!=e.schema&&null!=e.field?e.schema._schema[e.field]:void 0},label:function(){var e,t;return t=n.instance(),e=t[a],null!=e.schema&&null!=e.field?e.schema.label(e.field):void 0},instructions:function(){var e,t;return t=n.instance(),e=t[a],null!=e.schema&&null!=e.field?e.schema.keyInstructions(e.field):void 0},errorMessage:function(){var e,t;return t=n.instance(),e=t[a],null!=e.schemaContext&&null!=e.field?e.schemaContext.keyErrorMessage(e.field):void 0},submitted:function(){var e,t;return t=n.instance(),e=t[a],e.isChild?e.submitted.get():t.data.submitted||!1},unsubmitted:function(){var e,t;return t=n.instance(),e=t[a],e.isChild?!e.submitted.get():t.data.unsubmitted||!1},loading:function(){var e,t;return t=n.instance(),e=t[a],e.isChild?e.loading.get():t.data.loading||!1},success:function(){var e,t;return t=n.instance(),e=t[a],e.isChild?e.success.get():t.data.success||!1}},v=function(e){var t,u,l,c,s,d,f,v;if(i(e,r.ObjectIncluding({template:String,validationEvent:r.Optional(r.OneOf(String,[String])),validationValue:r.Optional(Function),validationSelector:r.Optional(String),reset:r.Optional(Function),passThroughData:r.Optional(Boolean),created:r.Optional(Function),rendered:r.Optional(Function),destroyed:r.Optional(Function)})),s=n[e.template]){for(t={},l={providesData:!1},v=["validationValue","validationSelector","reset","passThroughData","created","rendered","destroyed"],d=0,f=v.length;f>d;d++)u=v[d],o.has(e,u)&&(l[u]=e[u]);return o.has(e,"validationEvent")&&(l.validationSelector=l.validationSelector||".reactive-element",c=r.test(e.validationEvent,String)&&""+e.validationEvent+" "+l.validationSelector||o.map(e.validationEvent,function(e){return""+e+" "+l.validationSelector}).join(", "),t[c]=function(e,n){return n[a].validateElement(e.currentTarget,!0)},l.providesData=!0),s.created=w.createdFactory(l),s.rendered=w.renderedFactory(l),l.destroyed&&(s.destroyed=l.destroyed),s.helpers(w.helpers),s.events(t)}},m=function(e){var t,u,l,c,s,d,f;if(i(e,r.ObjectIncluding({template:String,submitType:String,created:r.Optional(Function),rendered:r.Optional(Function),destroyed:r.Optional(Function)})),c=n[e.template]){for(l={},t={},f=["created","rendered","destroyed"],s=0,d=f.length;d>s;s++)u=f[s],o.has(e,u)&&(l[u]=e[u]);return"normal"===e.submitType?t["submit form"]=function(e,n){return e.preventDefault(),e.stopPropagation(),n[a].submit()}:"enterKey"===e.submitType&&(t["submit form"]=function(e,n){return e.preventDefault(),e.stopPropagation()},t["keypress form"]=function(e,n){return 13===e.which?(e.preventDefault(),e.stopPropagation(),n[a].submit()):void 0}),c.created=y.createdFactory(l),l.rendered&&(c.rendered=l.rendered),l.destroyed&&(c.destroyed=l.destroyed),c.helpers(y.helpers),c.events(t)}},h=function(e){return b("createForm","createFormBlock"),m(e)},{createFormBlock:m,createForm:h,createElement:v,namespace:a}}()}.call(this),function(){m="object"==typeof m?m:{};var e=m;ReactiveForms.createFormBlock({template:"defaultFormBlock",submitType:"normal"})}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["templates:forms"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.templating.Template,n=Package.blaze.Blaze,r=Package.blaze.UI,s=Package.blaze.Handlebars,i=Package.spacebars.Spacebars,l=Package.htmljs.HTML,o;(function(){(function(){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||h.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function t(e,t){if(this.options=t||h.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=u.breaks:this.rules=u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function n(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||h.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?String.fromCharCode("x"===t.charAt(1)?parseInt(t.substring(2),16):+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(r,s){return r?(s=s.source||s,s=s.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,s),n):new RegExp(e,t)}}function o(){}function a(e){for(var t=1,n,r;t<arguments.length;t++){n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}function h(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=a({},h.defaults,n||{});var l=n.highlight,o,p,u=0;try{o=e.lex(t,n)}catch(c){return i(c)}p=o.length;var g=function(e){if(e)return n.highlight=l,i(e);var t;try{t=r.parse(o,n)}catch(s){e=s}return n.highlight=l,e?i(e):i(null,t)};if(!l||l.length<3)return g();if(delete n.highlight,!p)return g();for(;u<o.length;u++)!function(e){return"code"!==e.type?--p||g():l(e.text,e.lang,function(t,n){return t?g(t):null==n||n===e.text?--p||g():(e.text=n,e.escaped=!0,void(--p||g()))})}(o[u])}else try{return n&&(n=a({},h.defaults,n)),r.parse(e.lex(t,n),n)}catch(c){if(c.message+="\nPlease report this to https://github.com/chjj/marked.",(n||h.defaults).silent)return"<p>An error occured:</p><pre>"+s(c.message+"",!0)+"</pre>";throw c}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:o,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:o,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:o,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=l(p.item,"gm")(/bull/g,p.bullet)(),p.list=l(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=l(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=l(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=l(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=a({},p),p.gfm=a({},p.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),p.gfm.paragraph=l(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=a({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var e=e.replace(/^ +$/gm,""),r,s,i,l,o,a,h,u,c;e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),a={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<a.align.length;u++)/^ *-+: *$/.test(a.align[u])?a.align[u]="right":/^ *:-+: *$/.test(a.align[u])?a.align[u]="center":/^ *:-+ *$/.test(a.align[u])?a.align[u]="left":a.align[u]=null;for(u=0;u<a.cells.length;u++)a.cells[u]=a.cells[u].split(/ *\| */);this.tokens.push(a)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),l=i[2],this.tokens.push({type:"list_start",ordered:l.length>1}),i=i[0].match(this.rules.item),r=!1,c=i.length,u=0;c>u;u++)a=i[u],h=a.length,a=a.replace(/^ *([*+-]|\d+\.) +/,""),~a.indexOf("\n ")&&(h-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+h+"}","gm"),"")),this.options.smartLists&&u!==c-1&&(o=p.bullet.exec(i[u+1])[0],l===o||l.length>1&&o.length>1||(e=i.slice(u+1).join("\n")+e,u=c-1)),s=r||/\n\n(?!\s*$)/.test(a),u!==c-1&&(r="\n"===a.charAt(a.length-1),s||(s=r)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(a,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===i[1]||"script"===i[1]||"style"===i[1],text:i[0]});else if(!n&&t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),a={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<a.align.length;u++)/^ *-+: *$/.test(a.align[u])?a.align[u]="right":/^ *:-+: *$/.test(a.align[u])?a.align[u]="center":/^ *:-+ *$/.test(a.align[u])?a.align[u]="left":a.align[u]=null;for(u=0;u<a.cells.length;u++)a.cells[u]=a.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(a)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:o,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:o,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=l(u.link)("inside",u._inside)("href",u._href)(),u.reflink=l(u.reflink)("inside",u._inside)(),u.normal=a({},u),u.pedantic=a({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=a({},u.normal,{escape:l(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=a({},u.gfm,{br:l(u.br)("{2,}","*")(),text:l(u.gfm.text)("{2,}","*")()}),t.rules=u,t.output=function(e,n,r){var s=new t(n,r);return s.output(e)},t.prototype.output=function(e){for(var t="",n,r,i,l;e;)if(l=this.rules.escape.exec(e))e=e.substring(l[0].length),t+=l[1];else if(l=this.rules.autolink.exec(e))e=e.substring(l[0].length),"@"===l[2]?(r=this.mangle(":"===l[1].charAt(6)?l[1].substring(7):l[1]),i=this.mangle("mailto:")+r):(r=s(l[1]),i=r),t+=this.renderer.link(i,null,r);else if(this.inLink||!(l=this.rules.url.exec(e))){if(l=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(l[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(l[0])&&(this.inLink=!1),e=e.substring(l[0].length),t+=this.options.sanitize?s(l[0]):l[0];else if(l=this.rules.link.exec(e))e=e.substring(l[0].length),this.inLink=!0,t+=this.outputLink(l,{href:l[2],title:l[3]}),this.inLink=!1;else if((l=this.rules.reflink.exec(e))||(l=this.rules.nolink.exec(e))){if(e=e.substring(l[0].length),n=(l[2]||l[1]).replace(/\s+/g," "),n=this.links[n.toLowerCase()],!n||!n.href){t+=l[0].charAt(0),e=l[0].substring(1)+e;continue}this.inLink=!0,t+=this.outputLink(l,n),this.inLink=!1}else if(l=this.rules.strong.exec(e))e=e.substring(l[0].length),t+=this.renderer.strong(this.output(l[2]||l[1]));else if(l=this.rules.em.exec(e))e=e.substring(l[0].length),t+=this.renderer.em(this.output(l[2]||l[1]));else if(l=this.rules.code.exec(e))e=e.substring(l[0].length),t+=this.renderer.codespan(s(l[2],!0));else if(l=this.rules.br.exec(e))e=e.substring(l[0].length),t+=this.renderer.br();else if(l=this.rules.del.exec(e))e=e.substring(l[0].length),t+=this.renderer.del(this.output(l[1]));else if(l=this.rules.text.exec(e))e=e.substring(l[0].length),t+=s(this.smartypants(l[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(l[0].length),r=s(l[1]),i=r,t+=this.renderer.link(i,null,r);return t},t.prototype.outputLink=function(e,t){var n=s(t.href),r=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,s(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){for(var t="",n=e.length,r=0,s;n>r;r++)s=e.charCodeAt(r),Math.random()>.5&&(s="x"+s.toString(16)),t+="&#"+s+";";return t},n.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+s(t,!0)+'">'+(n?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:s(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(i(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(s){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var l='<a href="'+e+'"';return t&&(l+=' title="'+t+'"'),l+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.parse=function(e,t,n){var s=new r(t,n);return s.parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e="",t="",n,r,s,i,l;for(s="",n=0;n<this.token.header.length;n++)i={header:!0,align:this.token.align[n]},s+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});for(e+=this.renderer.tablerow(s),n=0;n<this.token.cells.length;n++){for(r=this.token.cells[n],s="",l=0;l<r.length;l++)s+=this.renderer.tablecell(this.inline.output(r[l]),{header:!1,align:this.token.align[l]});t+=this.renderer.tablerow(s)}return this.renderer.table(e,t);case"blockquote_start":for(var t="";"blockquote_end"!==this.next().type;)t+=this.tok();return this.renderer.blockquote(t);case"list_start":for(var t="",o=this.token.ordered;"list_end"!==this.next().type;)t+=this.tok();return this.renderer.list(t,o);case"list_item_start":for(var t="";"list_item_end"!==this.next().type;)t+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(t);case"loose_item_start":for(var t="";"list_item_end"!==this.next().type;)t+=this.tok();return this.renderer.listitem(t);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},o.exec=o,h.options=h.setOptions=function(e){return a(h.defaults,e),h},h.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},h.Parser=r,h.parser=r.parse,h.Renderer=n,h.Lexer=e,h.lexer=e.lex,h.InlineLexer=t,h.inlineLexer=t.output,h.parse=h,"undefined"!=typeof module&&"object"==typeof exports?module.exports=h:"function"==typeof define&&define.amd?define(function(){return h}):this.marked=h}).call(function(){return this||("undefined"!=typeof window?window:global)}())}).call(this),function(){var e=marked;e.setOptions({gfm:!0,tables:!0,breaks:!0}),o=e}.call(this),function(){if(Package.ui){var e=Package.templating.Template,t=Package.ui.UI,n=Package.htmljs.HTML,r=Package.blaze.Blaze;t.registerHelper("markdown",new e("markdown",function(){var e=this,t="";return e.templateContentBlock&&(t=r._toText(e.templateContentBlock,n.TEXTMODE.STRING)),n.Raw(o(t))}))}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["perak:markdown"]={Markdown:o}}();

!function(){var e=Package.meteor.Meteor,t=Package.check.check,o=Package.check.Match,r=Package.underscore._,n=Package.reload.Reload,i=Package.base64.Base64,a=Package.url.URL,c,l;(function(){var o={};c={},c.showPopup=function(e,t,o){throw new Error("OAuth.showPopup must be implemented on this arch.")},c._loginStyle=function(t,o,n){if(e.isCordova)return"popup";var i=n&&n.loginStyle||o.loginStyle||"popup";if(!r.contains(["popup","redirect"],i))throw new Error("Invalid login style: "+i);if("redirect"===i)try{sessionStorage.setItem("Meteor.oauth.test","test"),sessionStorage.removeItem("Meteor.oauth.test")}catch(a){i="popup"}return i},c._stateParam=function(t,o,r){var n={loginStyle:t,credentialToken:o,isCordova:e.isCordova};return"redirect"===t&&(n.redirectUrl=r||""+window.location),i.encode(JSON.stringify(n))},c.saveDataForRedirect=function(e,t){n._onMigrate("oauth",function(){return[!0,{loginService:e,credentialToken:t}]}),n._migrate(null,{immediateMigration:!0})},c.getDataAfterRedirect=function(){var t=n._migrationData("oauth");if(!t||!t.credentialToken)return null;var o=t.credentialToken,r=c._storageTokenPrefix+o,i;try{i=sessionStorage.getItem(r),sessionStorage.removeItem(r)}catch(a){e._debug("error retrieving credentialSecret",a)}return{loginService:t.loginService,credentialToken:o,credentialSecret:i}},c.launchLogin=function(e){if(!e.loginService)throw new Error("loginService required");if("popup"===e.loginStyle)c.showPopup(e.loginUrl,r.bind(e.credentialRequestCompleteCallback,null,e.credentialToken),e.popupOptions);else{if("redirect"!==e.loginStyle)throw new Error("invalid login style");c.saveDataForRedirect(e.loginService,e.credentialToken),window.location=e.loginUrl}},c.initiateLogin=function(e,t,o,n){c.showPopup(t,r.bind(o,null,e),n)},c._handleCredentialSecret=function(e,n){if(t(e,String),t(n,String),r.has(o,e))throw new Error("Duplicate credential token from OAuth login");o[e]=n},c._retrieveCredentialSecret=function(t){var r=o[t];if(r)delete o[t];else{var n=c._storageTokenPrefix+t;r=e._localStorage.getItem(n),e._localStorage.removeItem(n)}return r}}).call(this),function(){c.showPopup=function(t,o,r){var n=e(t,r&&r.width||650,r&&r.height||331),i=setInterval(function(){try{var e=n.closed||void 0===n.closed}catch(t){return}e&&(clearInterval(i),o())},100)};var e=function(e,t,o){var r="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,n="undefined"!=typeof window.screenY?window.screenY:window.screenTop,i="undefined"!=typeof window.outerWidth?window.outerWidth:document.body.clientWidth,a="undefined"!=typeof window.outerHeight?window.outerHeight:document.body.clientHeight-22,c=r+(i-t)/2,l=n+(a-o)/2,d="width="+t+",height="+o+",left="+c+",top="+l+",scrollbars=yes",u=window.open(e,"Login",d);if("undefined"==typeof u){var s=new Error("The login popup was blocked by the browser");throw s.attemptedUrl=e,s}return u.focus&&u.focus(),u}}.call(this),function(){c._storageTokenPrefix="Meteor.oauth.credentialSecret-",c._redirectUri=function(t,o,n,i){var c=o.loginStyle?null:"close",l=!1,d=!1;if(n&&(n=r.clone(n),l=n.cordova,d=n.android,delete n.cordova,delete n.android,r.isEmpty(n)&&(n=void 0)),e.isServer&&l){var u=process.env.MOBILE_ROOT_URL||__meteor_runtime_config__.ROOT_URL;if(d){var s=Npm.require("url"),g=s.parse(u);"localhost"===g.hostname&&(g.hostname="10.0.2.2",delete g.host),u=s.format(g)}i=r.extend({},i,{rootUrl:u})}return a._constructUrl(e.absoluteUrl("_oauth/"+t,i),c,n)}}.call(this),function(){l=c}.call(this),"undefined"==typeof Package&&(Package={}),Package.oauth={OAuth:c,Oauth:l}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,a=Package.random.Random,t=Package.check.check,n=Package.check.Match,o=Package["accounts-base"].Accounts,c=Package["accounts-base"].AccountsClient,u=Package.oauth.OAuth,i=Package.oauth.Oauth;(function(){o.oauth={};var a={};o.oauth.registerService=function(t){if(r.has(a,t))throw new Error("Duplicate service: "+t);a[t]=!0,e.server&&e.users._ensureIndex("services."+t+".id",{unique:1,sparse:1})},o.oauth.unregisterService=function(e){if(!r.has(a,e))throw new Error("Service not found: "+e);delete a[e]},o.oauth.serviceNames=function(){return r.keys(a)}}).call(this),function(){var a=function(r){return r&&r instanceof e.Error&&r.error===o.LoginCancelledError.numericError?new o.LoginCancelledError(r.reason):r};e.startup(function(){var e=u.getDataAfterRedirect();if(e){var t="login",n=[{oauth:r.pick(e,"credentialToken","credentialSecret")}];o.callLoginMethod({methodArguments:n,userCallback:function(r){r=a(r),o._pageLoadLogin({type:e.loginService,allowed:!r,error:r,methodName:t,methodArguments:n})}})}}),o.oauth.tryLoginAfterPopupClosed=function(e,r){var t=u._retrieveCredentialSecret(e)||null;o.callLoginMethod({methodArguments:[{oauth:{credentialToken:e,credentialSecret:t}}],userCallback:r&&function(e){r(a(e))}})},o.oauth.credentialRequestCompleteHandler=function(e){return function(r){r&&r instanceof Error?e&&e(r):o.oauth.tryLoginAfterPopupClosed(r,e)}}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-oauth"]={}}();

!function(){var e=Package.meteor.Meteor,o=Package["accounts-base"].Accounts,n=Package["accounts-base"].AccountsClient,i=Package.mongo.Mongo,c;(function(){"undefined"==typeof c&&(c={}),c.configurations=new i.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:e.isClient?o.connection:e.connection}),c.ConfigError=function(n){e.isClient&&!o.loginServicesConfigured()?this.message="Login service configuration not yet loaded":n?this.message="Service "+n+" not configured":this.message="Service not configured"},c.ConfigError.prototype=new Error,c.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),Package["service-configuration"]={ServiceConfiguration:c}}();

!function(){var a=Package.meteor.Meteor,e=Package.random.Random,o=Package["service-configuration"].ServiceConfiguration,c=Package.oauth.OAuth,g=Package.oauth.Oauth,n=Package.mongo.Mongo;"undefined"==typeof Package&&(Package={}),Package.oauth1={}}();

!function(){var e=Package.meteor.Meteor,t=Package.http.HTTP,a=Package.templating.Template,i=Package.oauth.OAuth,r=Package.oauth.Oauth,n=Package.random.Random,o=Package["service-configuration"].ServiceConfiguration,l=Package.blaze.Blaze,c=Package.blaze.UI,s=Package.blaze.Handlebars,u=Package.spacebars.Spacebars,g=Package.htmljs.HTML,p;(function(){a.__checkName("configureLoginServiceDialogForTwitter"),a.configureLoginServiceDialogForTwitter=new a("Template.configureLoginServiceDialogForTwitter",function(){var e=this;return[g.Raw("<p>\n    First, you'll need to register your app on Twitter. Follow these steps:\n  </p>\n  "),g.OL("\n    ",g.Raw('<li>\n      Visit <a href="https://dev.twitter.com/apps/new" target="_blank">https://dev.twitter.com/apps/new</a>\n    </li>'),"\n    ",g.LI("\n      Set Website to: ",g.SPAN({"class":"url"},l.View("lookup:siteUrl",function(){return u.mustache(e.lookup("siteUrl"))})),"\n    "),"\n    ",g.LI("\n      Set Callback URL to: ",g.SPAN({"class":"url"},l.View("lookup:siteUrl",function(){return u.mustache(e.lookup("siteUrl"))}),"_oauth/twitter"),"\n    "),"\n    ",g.Raw('<li>\n      Select "Create your Twitter application".\n    </li>'),"\n    ",g.Raw('<li>\n      On the Settings tab, enable "Allow this application to be used to Sign in with Twitter" and click\n      "Update settings".\n    </li>'),"\n    ",g.Raw('<li>\n      Switch to the "Keys and Access Tokens" tab.\n    </li>'),"\n  ")]})}).call(this),function(){a.configureLoginServiceDialogForTwitter.helpers({siteUrl:function(){return e.absoluteUrl({replaceLocalhost:!0})}}),a.configureLoginServiceDialogForTwitter.fields=function(){return[{property:"consumerKey",label:"API key"},{property:"secret",label:"API secret"}]}}.call(this),function(){p={},p.requestCredential=function(t,a){a||"function"!=typeof t||(a=t,t={});var r=o.configurations.findOne({service:"twitter"});if(!r)return void(a&&a(new o.ConfigError));var l=n.secret(),c=i._loginStyle("twitter",r,t),s="_oauth/twitter/?requestTokenAndRedirect=true&state="+i._stateParam(c,l,t&&t.redirectUrl);e.isCordova&&(s+="&cordova=true",/Android/i.test(navigator.userAgent)&&(s+="&android=true"));var u=e.absoluteUrl(s);i.launchLogin({loginService:"twitter",loginStyle:c,loginUrl:u,credentialRequestCompleteCallback:a,credentialToken:l})}}.call(this),"undefined"==typeof Package&&(Package={}),Package.twitter={Twitter:p}}();

!function(){var e=Package.meteor.Meteor,t=Package["accounts-base"].Accounts,a=Package["accounts-base"].AccountsClient,c=Package.twitter.Twitter,i=Package.http.HTTP;(function(){if(t.oauth.registerService("twitter"),e.isClient)e.loginWithTwitter=function(e,a){a||"function"!=typeof e||(a=e,e=null);var i=t.oauth.credentialRequestCompleteHandler(a);c.requestCredential(e,i)};else{var a=_.map(c.whitelistedFields.concat(["id","screenName"]),function(e){return"services.twitter."+e});t.addAutopublishFields({forLoggedInUser:a,forOtherUsers:a})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-twitter"]={}}();

!function(){var a=Package.meteor.Meteor,e=Package.oauth.OAuth,c=Package.oauth.Oauth,o=Package["service-configuration"].ServiceConfiguration;"undefined"==typeof Package&&(Package={}),Package.oauth2={}}();

!function(){var e=Package.meteor.Meteor,a=Package.oauth.OAuth,o=Package.oauth.Oauth,i=Package.templating.Template,n=Package.random.Random,t=Package["service-configuration"].ServiceConfiguration,r=Package.blaze.Blaze,l=Package.blaze.UI,c=Package.blaze.Handlebars,s=Package.spacebars.Spacebars,p=Package.htmljs.HTML,u;(function(){i.__checkName("configureLoginServiceDialogForFacebook"),i.configureLoginServiceDialogForFacebook=new i("Template.configureLoginServiceDialogForFacebook",function(){var e=this;return[p.Raw("<p>\n    First, you'll need to register your app on Facebook. Follow these steps:\n  </p>\n  "),p.OL("\n    ",p.Raw('<li>\n      Visit <a href="https://developers.facebook.com/apps" target="_blank">https://developers.facebook.com/apps</a>\n    </li>'),"\n    ",p.Raw('<li>\n      Click "Add a New App".\n    </li>'),"\n    ",p.Raw('<li>\n      Select "Website" and type a name for your app.\n    </li>'),"\n    ",p.Raw('<li>\n      Click "Create New Facebook App ID".\n    </li>'),"\n    ",p.Raw('<li>\n      Select a category in the dropdown and click "Create App ID".\n    </li>'),"\n    ",p.LI('\n      Under "Tell us about your website", set Site URL to: ',p.SPAN({"class":"url"},r.View("lookup:siteUrl",function(){return s.mustache(e.lookup("siteUrl"))})),' and click "Next".\n    '),"\n    ",p.Raw('<li>\n      Click "Skip to Developer Dashboard".\n    </li>'),"\n    ",p.Raw('<li>\n      Go to the "Settings" tab and add an email address under "Contact Email". Click "Save Changes".\n    </li>'),"\n    ",p.Raw('<li>\n      Go to the "Status &amp; Review" tab and select Yes for "Do you want to make this app and\n      all its live features available to the general public?". Click "Confirm".\n    </li>'),"\n    ",p.Raw("<li>\n      Go back to the Dashboard tab.\n    </li>"),"\n  ")]})}).call(this),function(){i.configureLoginServiceDialogForFacebook.helpers({siteUrl:function(){return e.absoluteUrl()}}),i.configureLoginServiceDialogForFacebook.fields=function(){return[{property:"appId",label:"App ID"},{property:"secret",label:"App Secret"}]}}.call(this),function(){u={},u.requestCredential=function(e,o){o||"function"!=typeof e||(o=e,e={});var i=t.configurations.findOne({service:"facebook"});if(!i)return void(o&&o(new t.ConfigError));var r=n.secret(),l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent),c=l?"touch":"popup",s="email";e&&e.requestPermissions&&(s=e.requestPermissions.join(","));var p=a._loginStyle("facebook",i,e),u="https://www.facebook.com/v2.2/dialog/oauth?client_id="+i.appId+"&redirect_uri="+a._redirectUri("facebook",i)+"&display="+c+"&scope="+s+"&state="+a._stateParam(p,r,e&&e.redirectUrl);a.launchLogin({loginService:"facebook",loginStyle:p,loginUrl:u,credentialRequestCompleteCallback:o,credentialToken:r})}}.call(this),"undefined"==typeof Package&&(Package={}),Package.facebook={Facebook:u}}();

!function(){var e=Package.meteor.Meteor,o=Package["accounts-base"].Accounts,a=Package["accounts-base"].AccountsClient,c=Package.facebook.Facebook;(function(){o.oauth.registerService("facebook"),e.isClient?e.loginWithFacebook=function(e,a){a||"function"!=typeof e||(a=e,e=null);var t=o.oauth.credentialRequestCompleteHandler(a);c.requestCredential(e,t)}:o.addAutopublishFields({forLoggedInUser:["services.facebook"],forOtherUsers:["services.facebook.id","services.facebook.username","services.facebook.gender"]})}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-facebook"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.templating.Template,i=Package["reactive-var"].ReactiveVar,n=Package.underscore._,r=Package["jparker:gravatar"].Gravatar,a=Package.blaze.Blaze,s=Package.blaze.UI,o=Package.blaze.Handlebars,l=Package.spacebars.Spacebars,c=Package.htmljs.HTML,u,p,f,g,h,m,d,v,k,C,x,b;(function(){t.__checkName("avatar"),t.avatar=new t("Template.avatar",function(){var e=this;return c.DIV({"class":function(){return[l.mustache(e.lookup("cssClassPrefix"))," ",l.mustache(e.lookup("size"))," ",l.mustache(e.lookup("shape"))," ",l.mustache(e.lookup("class"))]}},"\n    ",c.IMG({"class":function(){return[l.mustache(e.lookup("cssClassPrefix")),"-image"]},src:function(){return l.mustache(e.lookup("imageUrl"))},alt:"avatar",onerror:"this.style.display='none';"}),"\n    ",c.SPAN({"class":function(){return[l.mustache(e.lookup("cssClassPrefix")),"-initials"]},style:function(){return l.mustache(e.lookup("initialsCss"))}},a.View("lookup:initialsText",function(){return l.mustache(e.lookup("initialsText"))})),"\n  ")})}).call(this),function(){t.avatar.helpers({cssClassPrefix:function(){return b.getCssClassPrefix()},size:function(){return m(this)},shape:function(){return d(this)},"class":function(){return v(this)},imageUrl:function(){var i=this.user?this.user:e.users.findOne(this.userId),n=b.getUrl(i);if(n&&""!==n.trim()&&t.instance().firstNode){var r=t.instance().find("img");r.src!==n.trim()&&r.style.removeProperty("display")}return n},initialsCss:function(){var t=this.user?this.user:e.users.findOne(this.userId),i="",n="background-color: ";n+=this.bgColor?this.bgColor:b.getBackgroundColor(t),i+=n+";";var r="color: ";return r+=this.txtColor?this.txtColor:b.getTextColor(t),i+=r+";"},initialsText:function(){var t=this.user?this.user:e.users.findOne(this.userId);return k(t,this)}})}.call(this),function(){u=function(e,t){for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}}.call(this),function(){p=function(e){var t=e&&e.services||{};if(f(e))return"custom";var i=n.find([["twitter","profile_image_url_https"],["facebook","id"],["google","picture"],["github","username"],["instagram","profile_picture"],["linkedin","pictureUrl"]],function(e){return!!t[e[0]]&&e[1].length&&!!t[e[0]][e[1]]});return i?i[0]:"none"},f=function(e){var t=function(t){return"function"==typeof t&&(t=t.call(e)),t&&"string"==typeof t?t:void 0},i=e&&b.options.customImageProperty;return"function"==typeof i?t(i):i?t(u(e,i)):void 0},g=function(e,t){var i,a=["404","mm","identicon","monsterid","wavatar","retro","blank"];if("initials"!==b.options.fallbackType){var s=n.contains(a,b.options.gravatarDefault);i=s?b.options.gravatarDefault:t}else i="404";var o={"default":i,size:200,secure:!0},l=h(e);return r.imageUrl(l,o)},h=function(e){var t;if(e&&b.options.emailHashProperty&&u(e,b.options.emailHashProperty))t=u(e,b.options.emailHashProperty);else if(e&&e.emails){var i=n.pluck(e.emails,"address");t=i[0]||"00000000000000000000000000000000"}else t="00000000000000000000000000000000";return t},m=function(e){return b.options.imageSizes[e.size]?b.getCssClassPrefix()+"-"+e.size:""},d=function(e){var t=["rounded","circle"];return n.contains(t,e.shape)?b.getCssClassPrefix()+"-"+e.shape:""},v=function(e){return e["class"]?e["class"]:""},k=function(e,t){return t.initials||b.getInitials(e)},C=function(){if(e.isServer){var t="."+b.getCssClassPrefix(),i=t+" ",n=t+" { \n      height: 50px; \n      width: 50px; \n      position: relative; \n    } \n"+i+t+"-image, \n"+i+t+"-initials { \n      height: 100%; \n      width: 100%; \n      position: absolute; \n      top: 0px; \n      left: 0px; \n    } \n"+i+t+"-image { \n      z-index: 10; \n      background-color: #fff; \n    } \n"+i+t+"-initials { \n      display: block; \n      background-size: 100% 100%; \n      background-color: "+b.options.backgroundColor+"; \n      color: "+b.options.textColor+'; \n      font-size: 25px; \n      line-height: 50px; \n      font-family: "Helvetica Neue", Helvetica, "Hiragino Sans GB", Arial, sans-serif; \n      text-align: center; \n      z-index: 1; \n    } \n'+t+"-rounded "+t+"-image, \n"+t+"-rounded "+t+"-initials { \n      border-radius: 5px; \n    } \n"+t+"-circle "+t+"-image, \n"+t+"-circle "+t+"-initials { \n      border-radius: 50%; \n    } \n"+t+"-hide-image "+t+"-image { \n      display: none; \n    } \n"+t+"-hide-initials "+t+"-initials { \n      display: none; \n    } \n  ";for(x in b.options.imageSizes){var r=b.options.imageSizes[x];n=n+t+"-"+x+" {width: "+r+"px; min-width: "+r+"px; height: "+r+"px;}\n"+t+"-"+x+" "+t+"-initials {font-size: "+r/2+"px; line-height: "+r+"px;}\n"}Inject.rawHead("avatar-styles","<style>"+n+"</style>")}}}.call(this),function(){b={options:{fallbackType:"",defaultImageUrl:"",customImageProperty:"",gravatarDefault:"",emailHashProperty:"",cssClassPrefix:"",imageSizes:{large:80,small:30,"extra-small":20},backgroundColor:"#aaa",textColor:"#fff",generateCSS:!0},setOptions:function(e){b.options=n.extend(b.options,e),b.options.generateCSS&&C()},getCssClassPrefix:function(){return b.options.cssClassPrefix?b.options.cssClassPrefix:"avatar"},getBackgroundColor:function(e){return n.isString(b.options.backgroundColor)?b.options.backgroundColor:n.isFunction(b.options.backgroundColor)?b.options.backgroundColor(e):void 0},getTextColor:function(e){return n.isString(b.options.textColor)?b.options.textColor:n.isFunction(b.options.textColor)?b.options.textColor(e):void 0},getInitials:function(e){var t="",i="",r=[];return e&&e.profile&&e.profile.firstName?(t=e.profile.firstName.charAt(0).toUpperCase(),e.profile.lastName?t+=e.profile.lastName.charAt(0).toUpperCase():e.profile.familyName?t+=e.profile.familyName.charAt(0).toUpperCase():e.profile.secondName&&(t+=e.profile.secondName.charAt(0).toUpperCase())):(e&&e.profile&&e.profile.name?i=e.profile.name:e&&e.username&&(i=e.username),r=i.split(" "),t=n.first(r).charAt(0).toUpperCase(),r.length>1&&(t+=n.last(r).charAt(0).toUpperCase())),t},getUrl:function(t){var i="",n,r;return t&&(r=p(t),"twitter"===r?i=t.services.twitter.profile_image_url_https.replace("_normal.","_200x200."):"facebook"===r?i="https://graph.facebook.com/"+t.services.facebook.id+"/picture/?type=large":"google"===r?i=t.services.google.picture:"github"===r?i="https://avatars.githubusercontent.com/"+t.services.github.username+"?s=200":"instagram"===r?i=t.services.instagram.profile_picture:"linkedin"===r?i=t.services.linkedin.pictureUrl:"custom"===r?i=f(t):"none"===r&&(n=b.options.defaultImageUrl||"/packages/utilities_avatar/default.png",-1===n.indexOf("//")&&("/"===n.charAt(0)&&(n=n.slice(1)),n=e.absoluteUrl()+n),i=g(t,n))),i},hash:function(e){return r.hash(e)}},b.setOptions({})}.call(this),"undefined"==typeof Package&&(Package={}),Package["utilities:avatar"]={Avatar:b}}();

!function(){var e=Package.meteor.Meteor;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["reywood:publish-composite"]={}}();

!function(){var a=Package.meteor.Meteor;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["lablancas:twitter"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.ejson.EJSON,a=Package.underscore._,n=Package.jquery.$,c=Package.jquery.jQuery,o;(function(){o={}}).call(this),function(){o._encode=function(e){var a=t.stringify(e);return encodeURIComponent(a)},o._decode=function(e){var a=decodeURIComponent(e);return a?t.parse(a):null}}.call(this),function(){e.startup(function(){var e=n('script[type="text/inject-data"]',document),t=n.trim(e.text());o._data=o._decode(t)||{}}),o.getData=function(t,a){e.startup(function(){a(o._data[t])})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:inject-data"]={InjectData:o}}();

!function(){var e=Package.meteor.Meteor,n;(function(){(function(){n={},function(e){function n(e,n){var o={};if(t(e)&&e.length>0)for(var r=n?c:i,a=e.split(/;\s/g),u,f,s,g=0,p=a.length;p>g;g++){if(s=a[g].match(/([^=]+)=/i),s instanceof Array)try{u=c(s[1]),f=r(a[g].substring(s[1].length+1))}catch(m){}else u=c(a[g]),f="";u&&(o[u]=f)}return o}function t(e){return"string"==typeof e}function o(e){return t(e)&&""!==e}function r(e){if(!o(e))throw new TypeError("Cookie name must be a non-empty string")}function i(e){return e}var a=e,c=decodeURIComponent,u=encodeURIComponent;a.get=function(e,t){r(e),t="function"==typeof t?{converter:t}:t||{};var o=n(document.cookie,!t.raw);return(t.converter||i)(o[e])},a.set=function(e,n,t){r(e),t=t||{};var i=t.expires,a=t.domain,c=t.path;t.raw||(n=u(String(n)));var f=e+"="+n,s=i;return"number"==typeof s&&(s=new Date,s.setDate(s.getDate()+i)),s instanceof Date&&(f+="; expires="+s.toUTCString()),o(a)&&(f+="; domain="+a),o(c)&&(f+="; path="+c),t.secure&&(f+="; secure"),document.cookie=f,f},a.remove=function(e,n){return n=n||{},n.expires=new Date(0),this.set(e,"",n)}}(n)}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["chuangbo:cookie"]={Cookie:n}}();

!function(){var e=Package.meteor.Meteor,n=Package["meteorhacks:inject-data"].InjectData,o=Package["chuangbo:cookie"].Cookie,i=Package.minimongo.LocalCollection,t=Package.minimongo.Minimongo,a=Package.underscore._,r=Package.tracker.Tracker,c=Package.tracker.Deps,l=Package.ejson.EJSON,s=Package["accounts-base"].Accounts,g=Package["accounts-base"].AccountsClient,d,u,f,_,b,m,p;(function(){d=function(e,n){n.msg="changed",n.cleared=[],n.fields=n.fields||{},a.each(e,function(e,o){"_id"!=o&&"undefined"==typeof n.fields[o]&&n.cleared.push(o)})},u=function(e,n){var o=e?a.clone(e):{};return"added"==n.msg?a.each(n.fields,function(e,n){o[n]=e}):"changed"==n.msg?(a.each(n.fields,function(e,n){o[n]=e}),a.each(n.cleared,function(e){delete o[e]})):"removed"==n.msg&&(o=null),o},f=function e(n){var o=/#{\s*?_\s*?}/,i=Array.prototype.slice,t=Object.prototype.hasOwnProperty;return a.each(i.call(arguments,1),function(e){for(var i in e)if(t.call(e,i))if(a.isNull(n[i])||a.isUndefined(n[i])||a.isFunction(n[i])||a.isNull(e[i])||a.isDate(e[i]))n[i]=e[i];else if(a.isString(e[i])&&o.test(e[i]))a.isString(n[i])&&(n[i]=e[i].replace(o,n[i]));else if(a.isArray(n[i])||a.isArray(e[i])){if(!a.isArray(n[i])||!a.isArray(e[i]))throw"Error: Trying to combine an array with a non-array ("+i+")";n[i]=a.reject(f(n[i],e[i]),function(e){return a.isNull(e)})}else if(a.isObject(n[i])||a.isObject(e[i])){if(!a.isObject(n[i])||!a.isObject(e[i]))throw"Error: Trying to combine an object with a non-object ("+i+")";n[i]=f(n[i],e[i])}else n[i]=e[i]}),n}}).call(this),function(){if(_={},_.idParse=i._idParse,_.idStringify=i._idStringify,_.ObjectID=i._ObjectID,Package["mongo-id"]){var e=Package["mongo-id"].MongoID;_.idParse=e.idParse,_.idStringify=e.idStringify,_.ObjectID=e.ObjectID}}.call(this),function(){b={},b.enabled="undefined"!=typeof __fast_render_config,b._dataReceived=!1,b._revertedBackToOriginal=!1,b._blockDDP=void 0!=e._localStorage.getItem("__frblockddp"),b._blockDDP&&console.log("FastRender is blocking DDP messages. apply 'FastRender.debugger.unblockDDP()' to unblock again."),b._disable=void 0!=e._localStorage.getItem("__frdisable"),b._disable&&console.log("FastRender is disabled. apply 'FastRender.debugger.enableFR()' to enable it back."),b.injectDdpMessage=function(e,n){b["debugger"].log("injecting ddp message:",n);var o=e._waitingForQuiescence;e._waitingForQuiescence=function(){return!1},e._livedata_data(n),e._waitingForQuiescence=o},b.init=function(n){if(!b._disable){b._securityCheck(n),b._subscriptions=n&&n.subscriptions||{},b._subscriptionIdMap={},b._dataReceived=!0,b._payload=n;var o={};n&&a.each(n.collectionData,function(e,n){o[n]||(o[n]={}),m=o[n],e.forEach(function(e){e.forEach(function(e){m[e._id]?f(m[e._id],e):m[e._id]=e})})}),a.each(o,function(n,o){a.each(n,function(n,i){var i=_.idStringify(n._id);delete n._id;var t={msg:"added",collection:o,id:i,fields:n,frGen:!0};b.injectDdpMessage(e.connection,t)})}),"undefined"!=typeof s&&s._setLoggingIn(!1)}},b._securityCheck=function(n){if(n&&n.loginToken){var o=e._localStorage.getItem("Meteor.loginToken");if(o!=n.loginToken)throw new Error("seems like cookie tossing is happening. visit here: http://git.io/q4IRHQ")}}}.call(this),function(){b["debugger"]={},b["debugger"]._logs=[],b["debugger"].log=function n(o){"undefined"!=typeof console&&"undefined"!=typeof e._localStorage&&"1"==e._localStorage.getItem("__frlog")&&(b["debugger"]._logs.push(arguments),arguments[0]="FR: "+arguments[0],console.log.apply(console,arguments))},b["debugger"].showLogs=function(){e._localStorage.setItem("__frlog","1"),location.reload()},b["debugger"].hideLogs=function(){e._localStorage.removeItem("__frlog"),location.reload()},b["debugger"].getLogs=function(){return b["debugger"]._logs},b["debugger"].getLogsJSON=function(){return JSON.stringify(b["debugger"]._logs)},b["debugger"].blockDDP=function(){e._localStorage.setItem("__frblockddp","1"),location.reload()},b["debugger"].unblockDDP=function(){e._localStorage.removeItem("__frblockddp"),location.reload()},b["debugger"].disableFR=function(){e._localStorage.setItem("__frdisable","1"),location.reload()},b["debugger"].enableFR=function(){e._localStorage.removeItem("__frdisable"),location.reload()},b["debugger"].getPayload=function(){return b._payload},b["debugger"].getPayloadJSON=function(){return JSON.stringify(b._payload)}}.call(this),function(){var n=!1,o=e.connection._livedata_data;e.connection._livedata_data=function(e){if(b._blockDDP&&!e.frGen)return void b["debugger"].log("blocking incoming ddp",e);if("added"==e.msg){var i=_.idParse(e.id),t=this._getServerDoc(e.collection,i);if(!n&&!t){var r=this._mongo_livedata_collections[e.collection],c=this._updatesForUnknownStores[e.collection];if(r){var s=r.findOne(i);s&&(b["debugger"].log("re writing DDP for:",e),d(s,e))}else if(c){var g=null,f=a.filter(c,function(n){return n.id==e.id});a.each(f,function(e){g=u(g,e)}),g&&(b["debugger"].log("re writing DDP for:",e),d(g,e))}}}return!b._revertedBackToOriginal&&b._dataReceived&&("ready"==e.msg&&!e.frGen&&b._subscriptions&&e.subs.forEach(function(e){var n=b._subscriptionIdMap[e];if(n){b["debugger"].log("actual subscription completed:",n,e);var o=b._subscriptions[n.name]||{};delete o[n.paramsKey],l.equals(b._subscriptions[n.name],{})&&delete b._subscriptions[n.name],delete b._subscriptionIdMap[e]}}),l.equals(b._subscriptions,{})&&(b["debugger"].log("fast rendering completed!"),b._revertedBackToOriginal=!0)),o.call(this,e)};var i=e.connection._send;e.connection._send=function(e){"connect"==e.msg&&void 0!=e.session&&(b._revertedBackToOriginal=!0,n=!0);var o=this;if(!b._revertedBackToOriginal&&b._dataReceived){var t=l.stringify(e.params),a="sub"==e.msg&&b._subscriptions[e.name]&&b._subscriptions[e.name][t];b["debugger"].log("new subscription:",e.name),a&&(b["debugger"].log("sending fake ready for sub:",e.name),b.injectDdpMessage(o,{msg:"ready",subs:[e.id],frGen:!0}),b._subscriptionIdMap[e.id]={name:e.name,paramsKey:t})}return i.call(this,e)}}.call(this),function(){function n(){var n=e._localStorage.getItem("Meteor.loginToken"),o=new Date(e._localStorage.getItem("Meteor.loginTokenExpires"));n?i(n,o):i(null,-1)}function i(e,n){o.set("meteor_login_token",e,{path:"/",expires:n})}e.startup(function(){n()});var t=e._localStorage.setItem;e._localStorage.setItem=function(o,i){"Meteor.loginToken"==o&&e.defer(n),t.call(e._localStorage,o,i)};var a=e._localStorage.removeItem;e._localStorage.removeItem=function(o){"Meteor.loginToken"==o&&e.defer(n),a.call(e._localStorage,o)}}.call(this),function(){n.getData("fast-render-data",function(e){b.init(e)})}.call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:fast-render"]={FastRender:b,__init_fast_render:p}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,a=Package.tracker.Deps,r=Package.underscore._,n=Package.ejson.EJSON,i;(function(){var t=null;Package["meteorhacks:fast-render"]&&(t=Package["meteorhacks:fast-render"].FastRender),i=function(e){var t=this;t.options=e||{},t.options.cacheLimit=t.options.cacheLimit||10,t.options.expireIn=t.options.expireIn||5,t._cacheMap={},t._cacheList=[],t._ready=!1,t.dep=new a.Dependency,t.computation=t._registerComputation()},i.prototype.subscribe=function(){var t=this;if(e.isClient){var a=r.toArray(arguments);return this._addSub(a),{ready:function(){return t.dep.depend(),t._ready}}}return e.subscribe?e.subscribe.apply(e,arguments):void 0},i.prototype._addSub=function(e){var a=this,i=n.stringify(e),o=e[0],c=n.stringify(e.slice(1));if(!a._cacheMap[i]){var s={args:e,hash:i};this._handleError(s),a._cacheMap[i]=s,a._cacheList.push(s),t&&t._subscriptions&&t._subscriptions[o]?a._ready=a._ready&&t._subscriptions[o][c]:a._ready=!1,a._notifyChanged(),a._reRunSubs()}var s=a._cacheMap[i];s.updated=(new Date).getTime();var p=r.indexOf(a._cacheList,s);a._cacheList.splice(p,1),a._cacheList.push(s)},i.prototype._reRunSubs=function(){var e=this;a.currentComputation?a.afterFlush(function(){e.computation.invalidate()}):e.computation.invalidate()},i.prototype._notifyChanged=function(){var e=this;a.currentComputation?setTimeout(function(){e.dep.changed()},0):e.dep.changed()},i.prototype._applyCacheLimit=function(){var e=this,t=e._cacheList.length-e.options.cacheLimit;if(t>0){var a=e._cacheList.splice(0,t);r.each(a,function(t){delete e._cacheMap[t.hash]})}},i.prototype._applyExpirations=function(){var e=this,t=[],a=(new Date).getTime()-60*e.options.expireIn*1e3;r.each(e._cacheList,function(r){r.updated>=a?t.push(r):delete e._cacheMap[r.hash]}),e._cacheList=t},i.prototype._registerComputation=function(){var t=this,n=a.autorun(function(){t._applyExpirations(),t._applyCacheLimit();var a=!0;r.each(t._cacheList,function(t){t.ready=e.subscribe.apply(e,t.args).ready(),a=a&&t.ready}),a&&(t._ready=!0,t._notifyChanged())});return n},i.prototype._createIdentifier=function(e){var t=r.map(e,function(e){return"string"==typeof e?'"'+e+'"':e});return t.join(", ")},i.prototype._handleError=function(e){function t(t){console.log("Error invoking SubsManager.subscribe(%s): ",e.identifier,t.reason),e.updated=new Date(1)}var a=e.args,n=r.last(a);if(e.identifier=this._createIdentifier(a),n)if("function"==typeof n)a.pop(),a.push({onReady:n,onError:t});else if("function"==typeof n.onError){var i=n.onError;n.onError=function(e){t(e),i(e)}}else"function"==typeof n.onReady?n.onError=t:a.push({onError:t});else a.push({onError:t})},i.prototype.reset=function(){var e=this,t=e.computation;e.computation=e._registerComputation(),e.computation.invalidate(),a.afterFlush(function(){t.stop()})},i.prototype.clear=function(){this._cacheList=[],this._cacheMap={},this._reRunSubs()},i.prototype.ready=function(){return this.dep.depend(),0===this._cacheList.length?!1:this._ready}}).call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:subs-manager"]={SubsManager:i}}();

!function(){var e=Package.meteor.Meteor,t=Package.ejson.EJSON,a=Package.underscore._,n,c;(function(){n={obj:function(e){var a=document.getElementById(e);return a?t.parse(a.innerHTML):void 0},meta:function(e){return this.metas[e]},parseMetas:function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)this.metas[e[t].getAttribute("id")]=e[t].getAttribute("content")},metas:{}},n.parseMetas(),c={getObj:n.obj,getMeta:n.meta}}).call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:inject-initial"]={Injected:n,Inject:c}}();

!function(){var a=Package.meteor.Meteor,e=Package.templating.Template,t=Package.underscore._,i=Package["momentjs:moment"].moment,n=Package.blaze.Blaze,o=Package.blaze.UI,s=Package.blaze.Handlebars,r=Package.spacebars.Spacebars,m=Package.htmljs.HTML,c;(function(){(function(){!function(a,e){var t=1e3,i=!1,n=a([]),o=function(){m.resume()},s=function(t,i){var o=t.data("livestampdata");if("number"==typeof i&&(i*=1e3),t.removeAttr("data-livestamp").removeData("livestamp"),i=e(i),e.isMoment(i)&&!isNaN(+i)){var s=a.extend({},{original:t.contents()},o);s.moment=e(i),t.data("livestampdata",s).empty(),n.push(t[0])}},r=function(){i||(m.update(),setTimeout(r,t))},m={update:function(){a("[data-livestamp]").each(function(){var e=a(this);s(e,e.data("livestamp"))});var t=[];n.each(function(){var i=a(this),n=i.data("livestampdata");if(void 0===n)t.push(this);else if(e.isMoment(n.moment)){var o=i.html(),s=n.moment.fromNow();if(o!=s){var r=a.Event("change.livestamp");i.trigger(r,[o,s]),r.isDefaultPrevented()||i.html(s)}}}),n=n.not(t)},pause:function(){i=!0},resume:function(){i=!1,r()},interval:function(a){return void 0===a?t:void(t=a)}},c={add:function(t,i){return"number"==typeof i&&(i*=1e3),i=e(i),e.isMoment(i)&&!isNaN(+i)&&(t.each(function(){s(a(this),i)}),m.update()),t},destroy:function(e){return n=n.not(e),e.each(function(){var t=a(this),i=t.data("livestampdata");return void 0===i?e:void t.html(i.original?i.original:"").removeData("livestampdata")}),e},isLivestamp:function(a){return void 0!==a.data("livestampdata")}};a.livestamp=m,a(o),a.fn.livestamp=function(a,e){return c[a]||(e=a,a="add"),c[a](this,e)}}(jQuery,i)}).call(this),function(){"undefined"!=typeof Package&&(c=this.livestamp)}.call(this),function(){var a=Package.templating.Template;a.registerHelper("livestamp",function(a){var e=i(a);e.isValid()||(e=i());var t=e.toISOString(),n=e.fromNow();return new r.SafeString('<span class="livestamp" data-livestamp="'+t+'">'+n+"</span>")})}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["copleykj:livestamp"]={livestamp:c}}();

!function(){var e=Package.meteor.Meteor,t=Package.oauth.OAuth,i=Package.oauth.Oauth,r=Package.http.HTTP,a=Package.templating.Template,o=Package["service-configuration"].ServiceConfiguration,n=Package.blaze.Blaze,c=Package.blaze.UI,l=Package.blaze.Handlebars,s=Package.spacebars.Spacebars,u=Package.htmljs.HTML,d;(function(){a.__checkName("configureLoginServiceDialogForReddit"),a.configureLoginServiceDialogForReddit=new a("Template.configureLoginServiceDialogForReddit",function(){var e=this;return[u.Raw("<p>\n    First, you'll need to register your app on reddit. Follow these steps:\n  </p>\n  "),u.OL("\n    ",u.Raw('<li>\n      Visit <a href="https://ssl.reddit.com/prefs/apps/" target="_blank">https://ssl.reddit.com/prefs/apps/</a>\n    </li>'),"\n    ",u.LI("\n      Set Download / welcome page url to: ",u.SPAN({"class":"url"},n.View("lookup:siteUrl",function(){return s.mustache(e.lookup("siteUrl"))})),"\n    "),"\n    ",u.LI("\n      Set Redirect URI(s) to: ",u.SPAN({"class":"url"},n.View("lookup:siteUrl",function(){return s.mustache(e.lookup("siteUrl"))}),"_oauth/reddit?close"),"\n    "),"\n  ")]})}).call(this),function(){a.configureLoginServiceDialogForReddit.siteUrl=function(){return e.absoluteUrl()},a.configureLoginServiceDialogForReddit.fields=function(){return[{property:"appId",label:"App ID"},{property:"secret",label:"Secret"}]}}.call(this),function(){d={},d.requestCredential=function(i,r){r||"function"!=typeof i||(r=i,i={});var a=o.configurations.findOne({service:"reddit"});if(!a)return void(r&&r(new o.ConfigError("Service not configured")));var n=Random.secret(),c=t._loginStyle("reddit",a,i),l=[];i&&i.requestPermissions&&(l=i.requestPermissions.join(","));var s="https://ssl.reddit.com/api/v1/authorize?client_id="+a.clientId+"&response_type=code&state="+t._stateParam(c,n)+"&redirect_uri="+encodeURIComponent(e.absoluteUrl("_oauth/reddit?close"))+"&duration=permanent&scope="+l;t.showPopup(s,_.bind(r,null,n),{width:875,height:400})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["lab80:reddit-oauth"]={RedditOauth:d}}();

!function(){var e=Package.meteor.Meteor,t=Package["accounts-base"].Accounts,a=Package["accounts-base"].AccountsClient,i=Package["lab80:reddit-oauth"].RedditOauth;(function(){t.oauth.registerService("reddit"),e.isClient?e.loginWithReddit=function(e,a){a||"function"!=typeof e||(a=e,e=null);var c=t.oauth.credentialRequestCompleteHandler(a);i.requestCredential(e,c)}:t.addAutopublishFields({forLoggedInUser:["services.reddit"],forOtherUsers:["services.reddit.id"]})}).call(this),"undefined"==typeof Package&&(Package={}),Package["lab80:accounts-reddit"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["cosmos:browserify"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,r=Package.tracker.Tracker,n=Package.tracker.Deps,i=Package["reactive-dict"].ReactiveDict,o=Package["reactive-var"].ReactiveVar,a=Package.ejson.EJSON,s,u,c,p,h,l,f;(function(){!function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var p=r[a]={exports:{}};e[a][0].call(p.exports,function(t){var r=e[a][1][t];return i(r?r:t)},p,p.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,r){function n(){c=!1,p.length?u=p.concat(u):h=-1,u.length&&i()}function i(){if(!c){var t=setTimeout(n);c=!0;for(var e=u.length;e;){for(p=u,u=[];++h<e;)p&&p[h].run();h=-1,e=u.length}p=null,c=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var s=e.exports={},u=[],c=!1,p,h=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new o(t,e)),1!==u.length||c||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=a,s.addListener=a,s.once=a,s.off=a,s.removeListener=a,s.removeAllListeners=a,s.emit=a,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],2:[function(t,e,r){s=t("page"),u=t("qs")},{page:3,qs:6}],3:[function(t,e,r){(function(r){"use strict";function n(t,e){if("function"==typeof t)return n("*",t);if("function"==typeof e)for(var r=new s(t),i=1;i<arguments.length;++i)n.callbacks.push(r.middleware(arguments[i]));else"string"==typeof t?n["string"==typeof e?"redirect":"show"](t,e):n.start(t)}function i(t){if(!t.handled){var e;e=m?y+f.hash.replace("#!",""):f.pathname+f.search,e!==t.canonicalPath&&(n.stop(),t.handled=!1,f.href=t.canonicalPath)}}function o(t){return"string"!=typeof t?t:d?decodeURIComponent(t.replace(/\+/g," ")):t}function a(t,e){"/"===t[0]&&0!==t.indexOf(y)&&(t=y+(m?"#!":"")+t);var r=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(y,"")||"/",m&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~r?o(t.slice(r+1)):"",this.pathname=o(~r?t.slice(0,r):t),this.params={},this.hash="",!m){if(!~this.path.indexOf("#"))return;var n=this.path.split("#");this.path=n[0],this.hash=o(n[1])||"",this.querystring=this.querystring.split("#")[0]}}function s(t,e){e=e||{},this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=h(this.path,this.keys=[],e)}function u(t){if(1===c(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!==e.nodeName;)e=e.parentNode;if(e&&"A"===e.nodeName&&!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var i=e.getAttribute("href");if((m||e.pathname!==f.pathname||!e.hash&&"#"!==i)&&!(i&&i.indexOf("mailto:")>-1)&&!e.target&&p(e.href)){var o=e.pathname+e.search+(e.hash||"");o="/"!==o[0]?"/"+o:o,"undefined"!=typeof r&&o.match(/^\/[a-zA-Z]:\//)&&(o=o.replace(/^\/[a-zA-Z]:\//,"/"));var a=o;0===o.indexOf(y)&&(o=o.substr(y.length)),m&&(o=o.replace("#!","")),y&&a===o||(t.preventDefault(),n.show(a))}}}}function c(t){return t=t||window.event,null===t.which?t.button:t.which}function p(t){var e=f.protocol+"//"+f.hostname;return f.port&&(e+=":"+f.port),t&&0===t.indexOf(e)}var h=t("path-to-regexp");e.exports=n;var l="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",f="undefined"!=typeof window&&(window.history.location||window.location),g=!0,d=!0,y="",v,m=!1,_;n.callbacks=[],n.exits=[],n.current="",n.len=0,n.base=function(t){return 0===arguments.length?y:void(y=t)},n.start=function(t){if(t=t||{},!v&&(v=!0,!1===t.dispatch&&(g=!1),!1===t.decodeURLComponents&&(d=!1),!1!==t.popstate&&window.addEventListener("popstate",b,!1),!1!==t.click&&document.addEventListener(l,u,!1),!0===t.hashbang&&(m=!0),g)){var e=m&&~f.hash.indexOf("#!")?f.hash.substr(2)+f.search:f.pathname+f.search+f.hash;n.replace(e,null,!0,g)}},n.stop=function(){v&&(n.current="",n.len=0,v=!1,document.removeEventListener(l,u,!1),window.removeEventListener("popstate",b,!1))},n.show=function(t,e,r,i){var o=new a(t,e);return n.current=o.path,!1!==r&&n.dispatch(o),!1!==o.handled&&!1!==i&&o.pushState(),o},n.back=function(t,e){n.len>0?(history.back(),n.len--):setTimeout(t?function(){n.show(t,e)}:function(){n.show(y,e)})},n.redirect=function(t,e){"string"==typeof t&&"string"==typeof e&&n(t,function(t){setTimeout(function(){n.replace(e)},0)}),"string"==typeof t&&"undefined"==typeof e&&setTimeout(function(){n.replace(t)},0)},n.replace=function(t,e,r,i){var o=new a(t,e);return n.current=o.path,o.init=r,o.save(),!1!==i&&n.dispatch(o),o},n.dispatch=function(t){function e(){var t=n.exits[s++];return t?void t(o,e):r()}function r(){var e=n.callbacks[a++];return t.path!==n.current?void(t.handled=!1):e?void e(t,r):i(t)}var o=_,a=0,s=0;_=t,o?e():r()},n.exit=function(t,e){if("function"==typeof t)return n.exit("*",t);for(var r=new s(t),i=1;i<arguments.length;++i)n.exits.push(r.middleware(arguments[i]))},n.Context=a,a.prototype.pushState=function(){n.len++,history.pushState(this.state,this.title,m&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},a.prototype.save=function(){history.replaceState(this.state,this.title,m&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},n.Route=s,s.prototype.middleware=function(t){var e=this;return function(r,n){return e.match(r.path,r.params)?t(r,n):void n()}},s.prototype.match=function(t,e){var r=this.keys,n=t.indexOf("?"),i=~n?t.slice(0,n):t,a=this.regexp.exec(decodeURIComponent(i));if(!a)return!1;for(var s=1,u=a.length;u>s;++s){var c=r[s-1],p=o(a[s]);void 0===p&&hasOwnProperty.call(e,c.name)||(e[c.name]=p)}return!0};var b=function(){var t=!1;if("undefined"!=typeof window)return"complete"===document.readyState?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function e(r){if(t)if(r.state){var i=r.state.path;n.replace(i,r.state)}else n.show(f.pathname+f.hash,void 0,void 0,!1)}}();n.sameOrigin=p}).call(this,t("_process"))},{_process:1,"path-to-regexp":4}],4:[function(t,e,r){function n(t){for(var e=[],r=0,n=0,i="",o;null!=(o=y.exec(t));){var a=o[0],u=o[1],c=o.index;if(i+=t.slice(n,c),n=c+a.length,u)i+=u[1];else{i&&(e.push(i),i="");var p=o[2],h=o[3],l=o[4],f=o[5],g=o[6],d=o[7],v="+"===g||"*"===g,m="?"===g||"*"===g,_=p||"/",b=l||f||(d?".*":"[^"+_+"]+?");e.push({name:h||r++,prefix:p||"",delimiter:_,optional:m,repeat:v,pattern:s(b)})}}return n<t.length&&(i+=t.substr(n)),i&&e.push(i),e}function i(t){return o(n(t))}function o(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^"+t[r].pattern+"$"));return function(r){for(var n="",i=r||{},o=0;o<t.length;o++){var a=t[o];if("string"!=typeof a){var s=i[a.name],u;if(null==s){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(d(s)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+s+'"');if(0===s.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var c=0;c<s.length;c++){if(u=encodeURIComponent(s[c]),!e[o].test(u))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+u+'"');n+=(0===c?a.prefix:a.delimiter)+u}}else{if(u=encodeURIComponent(s),!e[o].test(u))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+u+'"');n+=a.prefix+u}}else n+=a}return n}}function a(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function s(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function u(t,e){return t.keys=e,t}function c(t){return t.sensitive?"":"i"}function p(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return u(t,e)}function h(t,e,r){for(var n=[],i=0;i<t.length;i++)n.push(g(t[i],e,r).source);var o=new RegExp("(?:"+n.join("|")+")",c(r));return u(o,e)}function l(t,e,r){for(var i=n(t),o=f(i,r),a=0;a<i.length;a++)"string"!=typeof i[a]&&e.push(i[a]);return u(o,e)}function f(t,e){e=e||{};for(var r=e.strict,n=e.end!==!1,i="",o=t[t.length-1],s="string"==typeof o&&/\/$/.test(o),u=0;u<t.length;u++){var p=t[u];if("string"==typeof p)i+=a(p);else{var h=a(p.prefix),l=p.pattern;p.repeat&&(l+="(?:"+h+l+")*"),l=p.optional?h?"(?:"+h+"("+l+"))?":"("+l+")?":h+"("+l+")",i+=l}}return r||(i=(s?i.slice(0,-2):i)+"(?:\\/(?=$))?"),i+=n?"$":r&&s?"":"(?=\\/|$)",new RegExp("^"+i,c(e))}function g(t,e,r){return e=e||[],d(e)?r||(r={}):(r=e,e=[]),t instanceof RegExp?p(t,e,r):d(t)?h(t,e,r):l(t,e,r)}var d=t("isarray");e.exports=g,e.exports.parse=n,e.exports.compile=i,e.exports.tokensToFunction=o,e.exports.tokensToRegExp=f;var y=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},{isarray:5}],5:[function(t,e,r){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],6:[function(t,e,r){var n=t("./stringify"),i=t("./parse"),o={};e.exports={stringify:n,parse:i}},{"./parse":7,"./stringify":8}],7:[function(t,e,r){var n=t("./utils"),i={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1};i.parseValues=function(t,e){for(var r={},i=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=0,a=i.length;a>o;++o){var s=i[o],u=-1===s.indexOf("]=")?s.indexOf("="):s.indexOf("]=")+1;if(-1===u)r[n.decode(s)]="",e.strictNullHandling&&(r[n.decode(s)]=null);else{var c=n.decode(s.slice(0,u)),p=n.decode(s.slice(u+1));Object.prototype.hasOwnProperty.call(r,c)?r[c]=[].concat(r[c]).concat(p):r[c]=p}}return r},i.parseObject=function(t,e,r){if(!t.length)return e;var n=t.shift(),o;if("[]"===n)o=[],o=o.concat(i.parseObject(t,e,r));else{o=r.plainObjects?Object.create(null):{};var a="["===n[0]&&"]"===n[n.length-1]?n.slice(1,n.length-1):n,s=parseInt(a,10),u=""+s;!isNaN(s)&&n!==a&&u===a&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(o=[],o[s]=i.parseObject(t,e,r)):o[a]=i.parseObject(t,e,r)}return o},i.parseKeys=function(t,e,r){if(t){r.allowDots&&(t=t.replace(/\.([^\.\[]+)/g,"[$1]"));var n=/^([^\[\]]*)/,o=/(\[[^\[\]]*\])/g,a=n.exec(t),s=[];if(a[1]){if(!r.plainObjects&&Object.prototype.hasOwnProperty(a[1])&&!r.allowPrototypes)return;s.push(a[1])}for(var u=0;null!==(a=o.exec(t))&&u<r.depth;)++u,(r.plainObjects||!Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g,""))||r.allowPrototypes)&&s.push(a[1]);return a&&s.push("["+t.slice(a.index)+"]"),i.parseObject(s,e,r)}},e.exports=function(t,e){if(e=e||{},e.delimiter="string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:i.delimiter,e.depth="number"==typeof e.depth?e.depth:i.depth,e.arrayLimit="number"==typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,e.parseArrays=e.parseArrays!==!1,e.allowDots="boolean"==typeof e.allowDots?e.allowDots:i.allowDots,e.plainObjects="boolean"==typeof e.plainObjects?e.plainObjects:i.plainObjects,e.allowPrototypes="boolean"==typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,e.parameterLimit="number"==typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,e.strictNullHandling="boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling,""===t||null===t||"undefined"==typeof t)return e.plainObjects?Object.create(null):{};for(var r="string"==typeof t?i.parseValues(t,e):t,o=e.plainObjects?Object.create(null):{},a=Object.keys(r),s=0,u=a.length;u>s;++s){var c=a[s],p=i.parseKeys(c,r[c],e);o=n.merge(o,p,e)}return n.compact(o)}},{"./utils":9}],8:[function(t,e,r){var n=t("./utils"),i={delimiter:"&",arrayPrefixGenerators:{brackets:function(t,e){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t,e){return t}},strictNullHandling:!1,skipNulls:!1,encode:!0};i.stringify=function(t,e,r,o,a,s,u,c){if("function"==typeof u)t=u(e,t);else if(n.isBuffer(t))t=t.toString();else if(t instanceof Date)t=t.toISOString();else if(null===t){if(o)return s?n.encode(e):e;t=""}if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return s?[n.encode(e)+"="+n.encode(t)]:[e+"="+t];var p=[];if("undefined"==typeof t)return p;var h;if(Array.isArray(u))h=u;else{var l=Object.keys(t);h=c?l.sort(c):l}for(var f=0,g=h.length;g>f;++f){var d=h[f];a&&null===t[d]||(p=p.concat(Array.isArray(t)?i.stringify(t[d],r(e,d),r,o,a,s,u):i.stringify(t[d],e+"["+d+"]",r,o,a,s,u)))}return p},e.exports=function(t,e){e=e||{};var r="undefined"==typeof e.delimiter?i.delimiter:e.delimiter,n="boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling,o="boolean"==typeof e.skipNulls?e.skipNulls:i.skipNulls,a="boolean"==typeof e.encode?e.encode:i.encode,s="function"==typeof e.sort?e.sort:null,u,c;"function"==typeof e.filter?(c=e.filter,t=c("",t)):Array.isArray(e.filter)&&(u=c=e.filter);var p=[];if("object"!=typeof t||null===t)return"";var h;h=e.arrayFormat in i.arrayPrefixGenerators?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":"indices";var l=i.arrayPrefixGenerators[h];u||(u=Object.keys(t)),s&&u.sort(s);for(var f=0,g=u.length;g>f;++f){var d=u[f];o&&null===t[d]||(p=p.concat(i.stringify(t[d],d,l,n,o,a,c,s)))}return p.join(r)}},{"./utils":9}],9:[function(t,e,r){var n={};n.hexTable=new Array(256);for(var i=0;256>i;++i)n.hexTable[i]="%"+((16>i?"0":"")+i.toString(16)).toUpperCase();r.arrayToObject=function(t,e){for(var r=e.plainObjects?Object.create(null):{},n=0,i=t.length;i>n;++n)"undefined"!=typeof t[n]&&(r[n]=t[n]);return r},r.merge=function(t,e,n){if(!e)return t;if("object"!=typeof e)return Array.isArray(t)?t.push(e):"object"==typeof t?t[e]=!0:t=[t,e],t;if("object"!=typeof t)return t=[t].concat(e);Array.isArray(t)&&!Array.isArray(e)&&(t=r.arrayToObject(t,n));for(var i=Object.keys(e),o=0,a=i.length;a>o;++o){var s=i[o],u=e[s];Object.prototype.hasOwnProperty.call(t,s)?t[s]=r.merge(t[s],u,n):t[s]=u}return t},r.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},r.encode=function(t){if(0===t.length)return t;"string"!=typeof t&&(t=""+t);for(var e="",r=0,i=t.length;i>r;++r){var o=t.charCodeAt(r);45===o||46===o||95===o||126===o||o>=48&&57>=o||o>=65&&90>=o||o>=97&&122>=o?e+=t[r]:128>o?e+=n.hexTable[o]:2048>o?e+=n.hexTable[192|o>>6]+n.hexTable[128|63&o]:55296>o||o>=57344?e+=n.hexTable[224|o>>12]+n.hexTable[128|o>>6&63]+n.hexTable[128|63&o]:(++r,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),e+=n.hexTable[240|o>>18]+n.hexTable[128|o>>12&63]+n.hexTable[128|o>>6&63]+n.hexTable[128|63&o])}return e},r.compact=function(t,e){if("object"!=typeof t||null===t)return t;e=e||[];var n=e.indexOf(t);if(-1!==n)return e[n];if(e.push(t),Array.isArray(t)){for(var i=[],o=0,a=t.length;a>o;++o)"undefined"!=typeof t[o]&&i.push(t[o]);return i}var s=Object.keys(t);for(o=0,a=s.length;a>o;++o){var u=s[o];t[u]=r.compact(t[u],e)}return t},r.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},r.isBuffer=function(t){return null===t||"undefined"==typeof t?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},{}]},{},[2])}).call(this),function(){c={},c.applyFilters=function(t,e){if(t instanceof Array||(t=[t]),!e)return t;if(e.only&&e.except)throw new Error("Triggers don't support only and except filters at once");if(e.only&&!(e.only instanceof Array))throw new Error("only filters needs to be an array");if(e.except&&!(e.except instanceof Array))throw new Error("except filters needs to be an array");if(e.only)return c.createRouteBoundTriggers(t,e.only);if(e.except)return c.createRouteBoundTriggers(t,e.except,!0);throw new Error("Provided a filter but not supported")},c.createRouteBoundTriggers=function(t,r,n){var i={};e.each(r,function(t){i[t]=!0});var o=e.map(t,function(t){var e=function(e,r){var o=e.route.name,a=i[o]?1:-1;a=n?-1*a:a,1===a&&t(e,r)};return e});return o},c.runTriggers=function(t,e,r,n){function i(t,e,n){if(u)throw new Error("already redirected");if(!s)throw new Error("redirect needs to be done in sync");if(!t)throw new Error("trigger redirect requires an URL");a=!0,u=!0,r(t,e,n)}function o(){a=!0}for(var a=!1,s=!0,u=!1,c=0;c<t.length;c++){var p=t[c];if(p(e,i,o),a)return}s=!1,n()}}.call(this),function(){p=function(){var e=this;this.globals=[],this.subscriptions=Function.prototype,this._tracker=this._buildTracker(),this._current={},this._onEveryPath=new r.Dependency,this._globalRoute=new l(this),this._onRouteCallbacks=[],this._askedToWait=!1,this._initialized=!1,this._triggersEnter=[],this._triggersExit=[],this._routes=[],this._routesMap={},this._updateCallbacks(),this.notFound=this.notfound=null,this.safeToRun=0,this._basePath=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"",this._oldRouteChain=[],this.env={replaceState:new t.EnvironmentVariable,reload:new t.EnvironmentVariable,trailingSlash:new t.EnvironmentVariable},this._redirectFn=function(t,r,n){if(/^http(s)?:\/\//.test(t)){var i="Redirects to URLs outside of the app are not supported in this version of Flow Router. Use 'window.location = yourUrl' instead";throw new Error(i)}e.withReplaceState(function(){var i=f.path(t,r,n);e._page.redirect(i)})},this._initTriggersAPI()},p.prototype.route=function(t,e,r){if(!/^\/.*/.test(t)){var n="route's path must start with '/'";throw new Error(n)}e=e||{};var i=this,o=new l(this,t,e,r);return o._actionHandle=function(t,e){var r=i._current.route;i._oldRouteChain.push(r);var n=i._qs.parse(t.querystring);n=JSON.parse(JSON.stringify(n)),i._current={path:t.path,context:t,params:t.params,queryParams:n,route:o,oldRoute:r};var a=function(){i._invalidateTracker()},s=i._triggersEnter.concat(o._triggersEnter);c.runTriggers(s,i._current,i._redirectFn,a)},o._exitHandle=function(t,e){var r=i._triggersExit.concat(o._triggersExit);c.runTriggers(r,i._current,i._redirectFn,e)},this._routes.push(o),e.name&&(this._routesMap[e.name]=o),this._updateCallbacks(),this._triggerRouteRegister(o),o},p.prototype.group=function(t){return new h(this,t)},p.prototype.path=function(t,r,n){this._routesMap[t]&&(t=this._routesMap[t].pathDef);var i="";this._basePath&&(i+="/"+this._basePath+"/"),r=r||{};var o=/(:[\w\(\)\\\+\*\.\?]+)+/g;i+=t.replace(o,function(t){var e=t.indexOf("(");return t=t.substring(1,e>0?e:void 0),t=t.replace(/[\+\*\?]+/g,""),encodeURIComponent(encodeURIComponent(r[t]||""))}),i=i.replace(/\/\/+/g,"/"),i=i.match(/^\/{1}$/)?i:i.replace(/\/$/,""),this.env.trailingSlash.get()&&"/"!==e.last(i)&&(i+="/");var a=this._qs.stringify(n||{});return a&&(i+="?"+a),i},p.prototype.go=function(t,e,r){var n=this.path(t,e,r),i=this.env.replaceState.get();i?this._page.replace(n):this._page(n)},p.prototype.reload=function(){var t=this;t.env.reload.withValue(!0,function(){t._page.replace(t._current.path)})},p.prototype.redirect=function(t){this._page.redirect(t)},p.prototype.setParams=function(t){if(!this._current.route)return!1;var r=this._current.route.pathDef,n=this._current.params,i={};e.each(e.keys(n),function(t){i[t]=n[t]}),i=e.extend(i,t);var o=this._current.queryParams;return this.go(r,i,o),!0},p.prototype.setQueryParams=function(t){if(!this._current.route)return!1;var r=e.clone(this._current.queryParams);e.extend(r,t);for(var n in r)(null===r[n]||void 0===r[n])&&delete r[n];var i=this._current.route.pathDef,o=this._current.params;return this.go(i,o,r),!0},p.prototype.current=function(){var t=e.clone(this._current);return t.queryParams=a.clone(t.queryParams),t.params=a.clone(t.params),t};var n=["getParam","getQueryParam","getRouteName","watchPathChange"];n.forEach(function(t){p.prototype[t]=function(e){var r=this._current.route;return r?r[t].call(r,e):void this._onEveryPath.depend()}}),p.prototype.subsReady=function(){var t=null,n=e.toArray(arguments);"function"==typeof e.last(n)&&(t=n.pop());var i=this.current().route,o=this._globalRoute;if(this._onEveryPath.depend(),!i)return!1;var a;0===n.length?(a=e.values(o.getAllSubscriptions()),a=a.concat(e.values(i.getAllSubscriptions()))):a=e.map(n,function(t){return o.getSubscription(t)||i.getSubscription(t)});var s=function(){var t=e.every(a,function(t){return t&&t.ready()});return t};return t?void r.autorun(function(e){s()&&(t(),e.stop())}):s()},p.prototype.withReplaceState=function(t){return this.env.replaceState.withValue(!0,t)},p.prototype.withTrailingSlash=function(t){return this.env.trailingSlash.withValue(!0,t)},p.prototype._notfoundRoute=function(t){return this._current={path:t.path,context:t,params:[],queryParams:{}},this.notFound=this.notFound||this.notfound,this.notFound?(this._current.route=new l(this,"*",this.notFound),void this._invalidateTracker()):void console.error("There is no route for the path:",t.path)},p.prototype.initialize=function(t){if(t=t||{},this._initialized)throw new Error("FlowRouter is already initialized");var r=this;this._updateCallbacks(),e.each(["show","replace"],function(t){var e=r._page[t];r._page[t]=function(t,n,i,o){var a=r.env.reload.get();(a||r._current.path!==t)&&e.call(this,t,n,i,o)}}),this._page.base(this._basePath),this._page({decodeURLComponents:!0,hashbang:!!t.hashbang}),this._initialized=!0},p.prototype._buildTracker=function(){var t=this,e=r.autorun(function(){if(t._current&&t._current.route){var e=t._current,n=e.route,i=e.path;if(0===t.safeToRun){var o="You can't use reactive data sources like Session inside the `.subscriptions` method!";throw new Error(o)}t._globalRoute.clearSubscriptions(),t.subscriptions.call(t._globalRoute,i),n.callSubscriptions(e),r.nonreactive(function(){var i=e.oldRoute!==e.route,o=!e.oldRoute;o&&(i=!1);var a=t._oldRouteChain[0];t._oldRouteChain=[],e.route.registerRouteChange(e,i),n.callAction(e),r.afterFlush(function(){t._onEveryPath.changed(),i&&a&&a.registerRouteClose()})}),t.safeToRun--}});return e},p.prototype._invalidateTracker=function(){var e=this;if(this.safeToRun++,this._tracker.invalidate(),!r.currentComputation)try{r.flush()}catch(n){if(!/Tracker\.flush while flushing/.test(n.message))return;t.defer(function(){var t=e._nextPath;t&&(delete e._nextPath,e.env.reload.withValue(!0,function(){e.go(t)}))})}},p.prototype._updateCallbacks=function(){var t=this;t._page.callbacks=[],t._page.exits=[],e.each(t._routes,function(e){t._page(e.pathDef,e._actionHandle),t._page.exit(e.pathDef,e._exitHandle)}),t._page("*",function(e){t._notfoundRoute(e)})},p.prototype._initTriggersAPI=function(){var t=this;this.triggers={enter:function(e,r){e=c.applyFilters(e,r),e.length&&(t._triggersEnter=t._triggersEnter.concat(e))},exit:function(e,r){e=c.applyFilters(e,r),e.length&&(t._triggersExit=t._triggersExit.concat(e))}}},p.prototype.wait=function(){if(this._initialized)throw new Error("can't wait after FlowRouter has been initialized");this._askedToWait=!0},p.prototype.onRouteRegister=function(t){this._onRouteCallbacks.push(t)},p.prototype._triggerRouteRegister=function(t){var r=e.pick(t,"name","pathDef","path"),n=["triggersEnter","triggersExit","action","subscriptions","name"];r.options=e.omit(t.options,n),e.each(this._onRouteCallbacks,function(t){t(r)})},p.prototype._page=s,p.prototype._qs=u}.call(this),function(){h=function(t,e,r){if(e=e||{},e.prefix&&!/^\/.*/.test(e.prefix)){var n="group's prefix must start with '/'";throw new Error(n)}this._router=t,this.prefix=e.prefix||"",this.name=e.name,this.options=e,this._triggersEnter=e.triggersEnter||[],this._triggersExit=e.triggersExit||[],this._subscriptions=e.subscriptions||Function.prototype,this.parent=r,this.parent&&(this.prefix=r.prefix+this.prefix,this._triggersEnter=r._triggersEnter.concat(this._triggersEnter),this._triggersExit=this._triggersExit.concat(r._triggersExit))},h.prototype.route=function(t,e,r){if(e=e||{},!/^\/.*/.test(t)){var n="route's path must start with '/'";throw new Error(n)}r=r||this,t=this.prefix+t;var i=e.triggersEnter||[];e.triggersEnter=this._triggersEnter.concat(i);var o=e.triggersExit||[];return e.triggersExit=o.concat(this._triggersExit),this._router.route(t,e,r)},h.prototype.group=function(t){return new h(this._router,t,this)},h.prototype.callSubscriptions=function(t){this.parent&&this.parent.callSubscriptions(t),this._subscriptions.call(t.route,t.params,t.queryParams)}}.call(this),function(){l=function(t,e,n,o){n=n||{},this.options=n,this.pathDef=e,this.path=e,n.name&&(this.name=n.name),this._action=n.action||Function.prototype,this._subscriptions=n.subscriptions||Function.prototype,this._triggersEnter=n.triggersEnter||[],this._triggersExit=n.triggersExit||[],this._subsMap={},this._router=t,this._params=new i,this._queryParams=new i,this._routeCloseDep=new r.Dependency,this._pathChangeDep=new r.Dependency,this.group=o},l.prototype.clearSubscriptions=function(){this._subsMap={}},l.prototype.register=function(t,e,r){this._subsMap[t]=e},l.prototype.getSubscription=function(t){return this._subsMap[t]},l.prototype.getAllSubscriptions=function(){return this._subsMap},l.prototype.callAction=function(t){var e=this;e._action(t.params,t.queryParams)},l.prototype.callSubscriptions=function(t){this.clearSubscriptions(),this.group&&this.group.callSubscriptions(t),this._subscriptions(t.params,t.queryParams)},l.prototype.getRouteName=function(){return this._routeCloseDep.depend(),this.name},l.prototype.getParam=function(t){return this._routeCloseDep.depend(),this._params.get(t)},l.prototype.getQueryParam=function(t){return this._routeCloseDep.depend(),this._queryParams.get(t)},l.prototype.watchPathChange=function(){this._pathChangeDep.depend()},l.prototype.registerRouteClose=function(){this._params=new i,this._queryParams=new i,this._routeCloseDep.changed(),this._pathChangeDep.changed()},l.prototype.registerRouteChange=function(t,e){var r=t.params;this._updateReactiveDict(this._params,r);var n=t.queryParams;this._updateReactiveDict(this._queryParams,n),e||this._pathChangeDep.changed()},l.prototype._updateReactiveDict=function(t,r){var n=e.keys(r),i=e.keys(t.keyDeps);e.each(n,function(e){t.set(e,r[e])});var o=e.difference(i,n);e.each(o,function(e){t.set(e,void 0)})}}.call(this),function(){f=new p,f.Router=p,f.Route=l,t.startup(function(){f._askedToWait||f.initialize()})}.call(this),function(){p.prototype.url=function(){var e=this.path.apply(this,arguments),r=this._basePath||"/",n=e.replace(new RegExp("^"+r),"");return t.absoluteUrl(n)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["kadira:flow-router"]={FlowRouter:f}}();

!function(){var e=Package.meteor.Meteor,t=Package.blaze.Blaze,a=Package.blaze.UI,n=Package.blaze.Handlebars,o=Package.templating.Template,r=Package["reactive-dict"].ReactiveDict,c=Package.underscore._,i=Package.jquery.$,u=Package.jquery.jQuery,l=Package.tracker.Tracker,d=Package.tracker.Deps,g=Package.htmljs.HTML,f=Package.spacebars.Spacebars,s;(function(){s={}}).call(this),function(){var a=null,n=null,i=new r,u,l=!1;s.setRoot=function(e){s._root=e},s.render=function d(t,a){a=a||{},e.startup(function(){l?s._render(t,a):e.defer(function(){l=!0,s._render(t,a)})})},s.reset=function g(){var e=n;e&&(e._domrange?t.remove(e):e.onViewReady(function(){t.remove(e)}),n=null,a=null,i=new r)},s._regionsToData=function _(e,t){return t=t||{},c.each(e,function(e,a){i.set(a,e),t[a]=s._buildRegionGetter(a)}),t},s._updateRegions=function k(e){var t=!1;c.each(u,function(t,a){void 0===e[a]&&(i.set(a,void 0),delete u[a])}),c.each(e,function(e,a){u&&void 0===u[a]&&(t=!0,u[a]=s._buildRegionGetter(a)),i.set(a,e)}),n&&t&&n.dataVar.dep.changed()},s._getRootDomNode=function p(){var e=s._root;if(e?"string"==typeof e?e=t._DOMBackend.findBySelector(e,document)[0]:e.jquery&&(e=e[0]):(e=t._DOMBackend.parseHTML('<div id="__blaze-root"></div>')[0],document.body.appendChild(e),s.setRoot(e)),!e)throw new Error("Root element does not exist");return e},s._buildRegionGetter=function m(e){return function(){return i.get(e)}},s._getTemplate=function(e,a){return t._getTemplate?t._getTemplate(e,function(){for(var e=t.getView(a);e&&!e._templateInstance;)e=e.originalParentView||e.parentView;return e&&e._templateInstance||null}):o[e]},s._render=function v(e,o){var r=s._getRootDomNode();a!=e?(s.reset(),u=s._regionsToData(o),n=t._TemplateWith(u,function(){var t=s._getTemplate(e,r);return null===e||t||console.log('BlazeLayout warning: unknown template "'+e+'"'),f.include(t)}),t.render(n,r,null,t.getView(r)),a=e):s._updateRegions(o)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["kadira:blaze-layout"]={BlazeLayout:s}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["npm-container"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["standard-minifiers"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["meteor-base"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["mobile-experience"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["blaze-html-templates"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.underscore._,c=Package["reactive-dict"].ReactiveDict,n=Package.ejson.EJSON,i;(function(){i=new c("session")}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:i}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.ejson.EJSON,n;(function(){n=function(){return n.info.apply(this,arguments)};var i=0,o=[],a=0;n._intercept=function(e){i+=e},n._suppress=function(e){a+=e},n._intercepted=function(){var e=o;return o=[],i=0,e},n.outputFormat="json";var s={debug:"green",warn:"magenta",error:"red"},l="blue",c=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=c.concat(["app","message"]),g=function(t){var r=n.format(t),i=t.level;"undefined"!=typeof console&&console[i]?console[i](r):e._debug(r)};n._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var r=t.split("\n"),n,i=1;i<r.length;++i){if(n=r[i],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/(?:local-test[:_])?logging(?:\/|\.js)/))break}var o={},a=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return a?(o.line=a[2].split(":")[0],o.file=a[1].split("/").slice(-1)[0].split("?")[0],o):o},t.each(["debug","info","warn","error"],function(s){n[s]=function(l){if(a)return void a--;var u=!1;i&&(i--,u=!0);var f=!t.isObject(l)||t.isRegExp(l)||t.isDate(l)?{message:new String(l).toString()}:l;if(t.each(c,function(e){if(f[e])throw new Error("Can't set '"+e+"' in log message")}),t.has(f,"message")&&!t.isString(f.message))throw new Error("The 'message' field in log objects must be a string");if(f.omitCallerDetails||(f=t.extend(n._getCallerDetails(),f)),f.time=new Date,f.level=s,"debug"!==s)if(u)o.push(r.stringify(f));else if(e.isServer)if("colored-text"===n.outputFormat)console.log(n.format(f,{color:!0}));else{if("json"!==n.outputFormat)throw new Error("Unknown logging output format: "+n.outputFormat);console.log(r.stringify(f))}else g(f)}}),n.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=r.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},n.format=function(n,i){n=r.clone(n),i=i||{};var o=n.time;if(!(o instanceof Date))throw new Error("'time' must be a Date object");var a=n.timeInexact,c=n.level||"info",g=n.file,f=n.line,m=n.app||"",p=n.originApp,v=n.message||"",h=n.program||"",d=n.satellite,w=n.stderr||"";t.each(u,function(e){delete n[e]}),t.isEmpty(n)||(v&&(v+=" "),v+=r.stringify(n));var b=function(e){return 10>e?"0"+e:e.toString()},D=function(e){return 100>e?"0"+b(e):e.toString()},j=o.getFullYear().toString()+b(o.getMonth()+1)+b(o.getDate()),S=b(o.getHours())+":"+b(o.getMinutes())+":"+b(o.getSeconds())+"."+D(o.getMilliseconds()),k="("+-((new Date).getTimezoneOffset()/60)+")",E="";m&&(E+=m),p&&p!==m&&(E+=" via "+p),E&&(E="["+E+"] ");var x=[];h&&x.push(h),g&&x.push(g),f&&x.push(f);var y=t.isEmpty(x)?"":"("+x.join(":")+") ";d&&(y+=["[",d,"]"].join(""));var _=w?"(STDERR) ":"",C=[c.charAt(0).toUpperCase(),j,"-",S,k,a?"? ":" ",E,y,_].join(""),F=function(t,r){return i.color&&e.isServer&&r?Npm.require("cli-color")[r](t):t};return F(C,i.metaColor||l)+F(v,s[c])},n.objFromText=function(e,r){var n={message:e,level:"info",time:new Date,timeInexact:!0};return t.extend(n,r)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:n}}();

!function(){var e=Package.meteor.Meteor,t=Package.templating.Template,a=Package["lab80:turtleboat"].TB,r=Package["lab80:turtleboat"].Util,l=Package["lab80:turtleboat"].Calculations,o=Package["lab80:turtleboat"].Discussions,c=Package["lab80:turtleboat"].Discussion,n=Package["lab80:turtleboat"].Portfolios,i=Package["lab80:turtleboat"].Portfolio,s=Package["lab80:turtleboat"].SecurityHelpers,u=Package["lab80:turtleboat"].Funds,b=Package["lab80:turtleboat"].Fund,g=Package["lab80:turtleboat"].FundThresholds,P=Package["lab80:turtleboat"].BenchmarkFunds,k=Package["lab80:turtleboat"].FundTypes,d=Package["lab80:turtleboat"].Stocks,f=Package["lab80:turtleboat"].Stock,p=Package["lab80:turtleboat"].StockThresholds,m=Package["lab80:turtleboat"].AutocompleteSecurities,h=Package["lab80:turtleboat"].WeightedBenchmark,H=Package["lab80:turtleboat"].Users,D=Package["lab80:turtleboat"].User,v=Package["lab80:turtleboat"].Designs,T=Package["lab80:turtleboat"].Comments,y=Package["lab80:turtleboat"].CustomHistory,S=Package["lab80:turtleboat"].RedditLinks,C=Package["lab80:turtleboat"].RedditPosts,E=Package["lab80:turtleboat"].RedditPost,N=Package["lab80:turtleboat"].RedditComments,R=Package["lab80:turtleboat"].International,F=Package["lab80:turtleboat"].PortfolioSummaryTags,U=Package.blaze.Blaze,x=Package.blaze.UI,z=Package.blaze.Handlebars,A=Package.spacebars.Spacebars,B=Package.htmljs.HTML,I,L;(function(){I="object"==typeof I?I:{};var l=I,o;t.registerHelper("_instance",function(){return t.instance()}),t.registerHelper("addRootToContext",function(){return _.extend(_.clone(this),{root:t.instance()})}),t.registerHelper("addDataToContext",function(e){return _.isEqual(_.keys(e),["hash"])&&(e=e.hash),_.extend(_.clone(this),e)}),o=new window.UAParser,e.device=o.getDevice(),t.registerHelper("isDesktop",function(){return!o.getDevice().type}),t.registerHelper("isTablet",function(){return!o.getDevice().type||"tablet"===o.getDevice().type}),t.registerHelper("isMobile",function(){return"mobile"===o.getDevice().type}),t.registerHelper("formatNumber",function(e,t){return r.formatNumber(e,(null!=t?t.hash:void 0)||{precision:2})}),t.registerHelper("formatDollars",function(e,t,a){return r.formatDollars(e,t,(null!=a?a.hash:void 0)||{smartSuffix:!1})}),t.registerHelper("formatPercent",function(e,t,l){return _.isNumber(t)||(t=a.HOLDING_PERCENT_DECIMALS),r.formatPercent(e,t,(null!=l?l.hash:void 0)||{})}),t.registerHelper("capitalizeFirst",function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),t.registerHelper("formatDate",function(e,t){return r.formatDate(e,null!=t?t.hash:void 0)})}).call(this),function(){I="object"==typeof I?I:{};var e=I;L={},L.SCREEN_SIZE={TABLET:991,PHONE:768}}.call(this),"undefined"==typeof Package&&(Package={}),Package["lab80:sm-globals"]={SM:L}}();

!function(){var e=Package.meteor.Meteor;(function(){(function(){!function(e,a){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define(function(){return a()}):e.pluralize=a()}(this,function(){var e=[],a=[],s={},r={},t={},i=function(e){return e.toLowerCase()},n=function(e){return e.toUpperCase()},o=function(e){return n(e[0])+i(e.substr(1))},u=function(e){return String(e).trim()},l=function(e){return i(u(e))},c=function(e){return"string"==typeof e?new RegExp("^"+e+"$"):e},$=function(e){return e===e.toUpperCase()?n:e[0]===e[0].toUpperCase()?o:i},m=function(e,a){if(!e.length||s[e])return e;for(var r=a.length;r--;){var t=a[r];if(t[0].test(e))return e.replace(t[0],t[1])}return e},d=function(e,a,s){return function(r){r=u(r);var t=i(r),n=$(r);return n(a[t]?t:e[t]?e[t]:m(t,s))}},h=function(e,a,s){var r=1===a?p(e):f(e);return(s?a+" ":"")+r},f=h.plural=d(t,r,e),p=h.singular=d(r,t,a);return h.addPluralRule=function(a,s){e.push([c(a),s])},h.addSingularRule=function(e,s){a.push([c(e),s])},h.addUncountableRule=function(e){return"string"==typeof e?s[l(e)]=!0:(h.addPluralRule(e,"$&"),void h.addSingularRule(e,"$&"))},h.addIrregularRule=function(e,a){a=l(a),e=l(e),t[e]=a,r[a]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["this","these"],["that","those"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["beau","beaus"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["thief","thieves"],["genie","genies"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(e){return h.addIrregularRule(e[0],e[1])}),[[/s?$/,"s"],[/([^aeiou]ese)$/,"$1"],[/^(ax|test)is$/,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/,"$1es"],[/(e[mn]u)s?$/,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc)(?:us|i)$/,"$1i"],[/^(alumn|alg|vertebr)(?:a|ae)$/,"$1ae"],[/(her|at|gr)o$/,"$1oes"],[/^(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/,"$1a"],[/^(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|\w+hedr)(?:a|on)$/,"$1a"],[/sis$/,"ses"],[/(?:([^f])fe|(ar|l|[eo][ao])f)$/,"$1$2ves"],[/([^aeiouy]|qu)y$/,"$1ies"],[/([^ch][ieo][ln])ey$/,"$1ies"],[/(x|ch|ss|sh|zz)$/,"$1es"],[/(matr|cod|mur|sil|vert|ind)(?:ix|ex)$/,"$1ices"],[/^(m|l)(?:ice|ouse)$/,"$1ice"],[/(pe)(?:rson|ople)$/,"$1ople"],[/(child)(?:ren)?$/,"$1ren"],[/(eau)x?$/,"$1x"],[/m[ae]n$/,"men"]].forEach(function(e){return h.addPluralRule(e[0],e[1])}),[[/s$/,""],[/(ss)$/,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/,"$1sis"],[/(^analy)(?:sis|ses)$/,"$1sis"],[/([^aeflor])ves$/,"$1fe"],[/(hive|tive|dr?ive)s$/,"$1"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/,"$1f"],[/([^aeiouy]|qu)ies$/,"$1y"],[/(^[pl]|zomb|^(?:neck)?t|[aeo][lt]|cut)ies$/,"$1ie"],[/([^c][eor]n|smil)ies$/,"$1ey"],[/^(m|l)ice$/,"$1ouse"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/,"$1"],[/(e[mn]u)s?$/,"$1"],[/(movie|twelve)s$/,"$1"],[/(cris|test|diagnos)(?:is|es)$/,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc)(?:us|i)$/,"$1us"],[/^(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)a$/,"$1um"],[/^(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|\w+hedr)a$/,"$1on"],[/^(alumn|alg|vertebr)ae$/,"$1a"],[/(cod|mur|sil|vert|ind)ices$/,"$1ex"],[/(matr)ices$/,"$1ix"],[/(pe)(rson|ople)$/,"$1rson"],[/(child)ren$/,"$1"],[/(eau)[sx]?$/,"$1"],[/men$/,"man"]].forEach(function(e){return h.addSingularRule(e[0],e[1])}),["advice","agenda","bison","bream","buffalo","carp","chassis","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","gallows","graffiti","headquarters","health","herpes","highjinks","homework","information","jeans","justice","kudos","labour","machinery","mackerel","media","mews","moose","news","pike","plankton","pliers","pollution","premises","rain","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","trout","tuna","whiting","wildebeest",/pox$/,/ois$/,/deer$/,/fish$/,/sheep$/,/measles$/,/[^aeiou]ese$/].forEach(h.addUncountableRule),h})}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["jamiter:pluralize"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.jquery.$,i=Package.jquery.jQuery;(function(){if("undefined"==typeof i)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(i),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(i),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.0",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t(s);e&&e.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof e&&e;n||o.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.0",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",null==s.resetText&&o.data("resetText",o[n]()),setTimeout(t.proxy(function(){o[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus","focus"==e.type)})}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;n||o.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):a?n[a]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.0",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i="prev"==t?-1:1,o=this.getItemIndex(e),n=(o+i)%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),s=o||this.getItemForDirection(e,n),a=this.interval,r="next"==e?"left":"right",l="next"==e?"first":"last",h=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[l]()}if(s.hasClass("active"))return this.sliding=!1;var d=s[0],p=t.Event("slide.bs.carousel",{relatedTarget:d,direction:r});if(this.$element.trigger(p),!p.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:d,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger(f)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(f)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),s=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),n.data()),r=n.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(i),+function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&"show"==e&&(s.toggle=!1),n||i.data("bs.collapse",n=new o(this,s)),"string"==typeof e&&n[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.0",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION):n.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var n=t(o);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var n=t(this);n.attr("data-target")||o.preventDefault();var s=e(n),a=s.data("bs.collapse"),r=a?"toggle":t.extend({},n.data(),{trigger:this});i.call(s,r)})}(i),+function(t){"use strict";function e(o){o&&3===o.which||(t(n).remove(),t(s).each(function(){var e=t(this),n=i(e),s={relatedTarget:this};n.hasClass("open")&&(n.trigger(o=t.Event("hide.bs.dropdown",s)),o.isDefaultPrevented()||(e.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",s)))}),t(document).off("click.bs.dropdown.data-api",e).off("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("click.bs.dropdown.data-api",e).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new a(this)),"string"==typeof e&&o[e].call(i)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.0",a.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=i(n),a=s.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var r={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},a.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var n=i(o),a=n.hasClass("open");if(!a&&27!=e.which||a&&27==e.which)return 27==e.which&&n.find(s).trigger("focus"),o.trigger("click");var r=" li:not(.divider):visible a",l=n.find('[role="menu"]'+r+', [role="listbox"]'+r);if(l.length){var h=l.index(e.target);38==e.which&&h>0&&h--,40==e.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,a.prototype.toggle).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(i),+function(t){"use strict";function e(e,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](o):a.show&&s.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.0",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),n&&o.$element[0].offsetWidth,o.$element.addClass("in").attr("aria-hidden",!1),o.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?o.$element.find(".modal-dialog").one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.checkScrollbar=function(){this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),n=o.attr("href"),s=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),o.data());o.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(s,a,this)})}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e,a=s&&s.selector;(n||"destroy"!=e)&&(a?(n||o.data("bs.tooltip",n={}),n[a]||(n[a]=new i(this,s))):n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.3.0",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var d=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(h){var f=r,u=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(u);r="bottom"==r&&d.bottom+c>g.bottom?"top":"top"==r&&d.top-c<g.top?"bottom":"right"==r&&d.right+p>g.width?"left":"left"==r&&d.left-p<g.left?"right":r,s.removeClass(f).addClass(r)}var v=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(v,r);var m=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top=e.top+a,e.left=e.left+r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-n+l:2*d.top-s+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=this.tip(),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=o?{top:0,left:0}:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,a,r,s)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.width&&(n.left=a.left+a.width-d)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof e&&e,a=s&&s.selector;(n||"destroy"!=e)&&(a?(n||o.data("bs.popover",n={}),n[a]||(n[a]=new i(this,s))):n||o.data("bs.popover",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.0",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(i),+function(t){"use strict";function e(i,o){var n=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(i).is("body")?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",n),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",i=0;t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var o=this;this.$body.find(this.selector).map(function(){var o=t(this),n=o.data("target")||o.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[e]().top+i,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){o.offsets.push(this[0]),o.targets.push(this[1])})},e.prototype.process=function(){var t=this.$scrollElement.scrollTop()+this.options.offset,e=this.getScrollHeight(),i=this.options.offset+e-this.$scrollElement.height(),o=this.offsets,n=this.targets,s=this.activeTarget,a;if(this.scrollHeight!=e&&this.refresh(),t>=i)return s!=(a=n[n.length-1])&&this.activate(a);if(s&&t<o[0])return this.activeTarget=null,this.clear();for(a=o.length;a--;)s!=n[a]&&t>=o[a]&&(!o[a+1]||t<=o[a+1])&&this.activate(n[a])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.0",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=o.find("> .active"),r=n&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),
a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof e&&e;n||o.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.0",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>n?"top":!1;if("bottom"==this.affixed)return null!=i?n+this.unpin<=s.top?!1:"bottom":t-o>=n+a?!1:"bottom";var r=null==this.affixed,l=r?n:s.top,h=r?a:e;return null!=i&&i>=l?"top":null!=o&&l+h>=t-o?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,a=t("body").height();"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var r=this.getState(a,e,n,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(i)}).call(this),"undefined"==typeof Package&&(Package={}),Package["shilman80:bootstrap-3"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package["lab80:turtleboat"].TB,o=Package["lab80:turtleboat"].Util,r=Package["lab80:turtleboat"].Calculations,a=Package["lab80:turtleboat"].Discussions,l=Package["lab80:turtleboat"].Discussion,i=Package["lab80:turtleboat"].Portfolios,s=Package["lab80:turtleboat"].Portfolio,u=Package["lab80:turtleboat"].SecurityHelpers,c=Package["lab80:turtleboat"].Funds,p=Package["lab80:turtleboat"].Fund,d=Package["lab80:turtleboat"].FundThresholds,f=Package["lab80:turtleboat"].BenchmarkFunds,h=Package["lab80:turtleboat"].FundTypes,m=Package["lab80:turtleboat"].Stocks,g=Package["lab80:turtleboat"].Stock,k=Package["lab80:turtleboat"].StockThresholds,v=Package["lab80:turtleboat"].AutocompleteSecurities,b=Package["lab80:turtleboat"].WeightedBenchmark,w=Package["lab80:turtleboat"].Users,_=Package["lab80:turtleboat"].User,T=Package["lab80:turtleboat"].Designs,P=Package["lab80:turtleboat"].Comments,x=Package["lab80:turtleboat"].CustomHistory,R=Package["lab80:turtleboat"].RedditLinks,D=Package["lab80:turtleboat"].RedditPosts,y=Package["lab80:turtleboat"].RedditPost,I=Package["lab80:turtleboat"].RedditComments,S=Package["lab80:turtleboat"].International,E=Package["lab80:turtleboat"].PortfolioSummaryTags,V=Package.templating.Template,C=Package.blaze.Blaze,j=Package.blaze.UI,N=Package.blaze.Handlebars,A=Package.jquery.$,L=Package.jquery.jQuery,O=Package.tracker.Tracker,B=Package.tracker.Deps,F=Package["reactive-var"].ReactiveVar,W=Package.spacebars.Spacebars,M=Package.htmljs.HTML,H,Y;(function(){H="object"==typeof H?H:{};var t=H,o,r=function(t,e){return(+t%(e=+e)+e)%e};Y={},o={ROYAL_BLUES:["#c9edff","#bee4fa","#afdbf7","#a2d0f5","#94c6f2","#86bbf0","#7baaed","#719eeb","#668fe8","#5c82e6","#4d6fd6","#4158cc","#3546bf","#2b38b3","#2128a6","#1c1f99","#17178c","#17137a","#171069","#120c57"],SKY_BLUES:["#b3ffec","#a3faec","#94f7f0","#7df1f5","#68e6f2","#59def0","#49d2ed","#38c4eb","#27b5e8","#17a4e6","#1193d9","#1380bf","#0670b3","#0064a6","#005594","#064c80","#053e6b","#08375e","#083257","#09284d"],BLUES:["#b3ffff","#a3f3fa","#94e8f7","#7dddf5","#68d0f2","#59c3f0","#49b4ed","#2792e8","#2792e8","#177de6","#1c77d9","#1f6bc2","#1a61b8","#1454a8","#0f4899","#0b3e8a","#07337a","#042a6b","#02225c","#00164d"],REDS:["#ffddcc","#ffd3bf","#ffc9b3","#ffbfa6","#ffb499","#ffa687","#ff9c7d","#ff8f70","#ff7b59","#ff6e4d","#f56042","#eb5438","#e0472f","#d63b27","#cc301f","#c22517","#b81c11","#ad140a","#a30805","#990000"],GREENS:["#d7ffb3","#bcf58e","#9edf73","#8bd662","#77cc52","#62c242","#4eb83f","#3aad26","#27a31a","#17990f","#0d8f0d","#0b8511","#097a12","#077017","#056618","#045c1a","#02521b","#014719","#013d18","#003317"],YELLOWS:["#ffffcc","#fffeb8","#fffca6","#fff891","#fff673","#fff263","#ffed4d","#ffe626","#ffdd00","#f5d102","#ebc505","#e0b407","#d6a709","#cc960a","#c28b0c","#b87f0d","#ad730e","#a3680f","#995e0f","#8f5410"],GRAYS:["#e1e6eb","#d5dbe0","#b2b9bf","#8e9399","#757a80","#5e6066","#41474d","#262c30","#e1e6eb","#d5dbe0","#b2b9bf","#8e9399","#757a80","#5e6066","#41474d","#262c30"],generateColors:function(t){var n,o,a,l,i;return n=e.size(this.BLUES),o=function(t){var e,o,a;return o=r(t,n),e=Math.floor(t/n),a=r(e,2)?n-o-1:o},a={stock:this.ROYAL_BLUES,stocks:this.SKY_BLUES,bonds:this.GREENS,cash:this.REDS,custom:this.YELLOWS,other:this.GRAYS},t=e.map(t,function(t){return t||"other"}),l=e.groupBy(t,e.identity),i=e.object(e.map(e.keys(l),function(t){var r,a,i;return a=e.size(l[t]),a>20?[t,e.map(e.range(a),function(t){return n-o(t)-1})]:(a>10?(i=9+Math.ceil(a/2),r=1):(i=9+a,r=2),[t,e.map(e.range(a),function(t){return i-r*t})])})),e.map(t,function(t){return a[t][i[t].shift()]})},expectedColorForHolding:function(t,o){var r,a,l,i;return i=e.clone(o||[]),i.push(t),i=e.sortBy(i,"name"),i=e.sortBy(i,function(t){return n.ASSET_CLASS_TO_ORDER[t.asset_class]}),l=e.indexOf(i,t),r=e.pluck(i,"asset_class"),a=this.generateColors(r),a[l]},holdingsWithSymbolColor:function(t){var n,o;return n=e.pluck(t,"asset_class"),o=this.generateColors(n),e.each(t,function(t,e){return t.symbolColor=o[e]}),t}},Y.securityColor=o}).call(this),function(){V.__checkName("loadingAnimation"),V.loadingAnimation=new V("Template.loadingAnimation",function(){var t=this;return M.Raw('<div class="spinner">\n    <div class="bounce1"></div>\n    <div class="bounce2"></div>\n    <div class="bounce3"></div>\n  </div>')}),V.__checkName("overlayLoading"),V.overlayLoading=new V("Template.overlayLoading",function(){var t=this;return M.DIV({"class":"overlay-loading"},"\n    ",W.include(t.lookupTemplate("loadingAnimation")),"\n  ")})}.call(this),function(){V.__checkName("widgetSelect"),V.widgetSelect=new V("Template.widgetSelect",function(){var t=this;return M.SELECT({"class":"select2 btn-group dropdown",value:function(){return W.mustache(t.lookup("selection"))}},"\n    ",C.Each(function(){return W.call(t.lookup("options"))},function(){return["\n    ",M.OPTION({name:function(){return W.mustache(t.lookup("name"))},"class":"btn btn-default dropdown-toggle",value:function(){return W.mustache(t.lookup("value"))},selected:function(){return C.If(function(){return W.dataMustache(t.lookup("isSelected"),t.lookup("value"))},function(){return"selected"})}},C.View("lookup:label",function(){return W.mustache(t.lookup("label"))})),"\n    "]}),"\n  ")}),V.__checkName("widgetDropdown"),V.widgetDropdown=new V("Template.widgetDropdown",function(){var t=this;return M.DIV({"class":function(){return["dropdown ",W.mustache(t.lookup("classes"))]}},"\n    ",M.A({id:"dLabel","class":"btn btn-default btn-sm dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"\n      ",C.View("lookup:selectedLabel",function(){return W.mustache(t.lookup("selectedLabel"))}),"\n      ",M.Raw('<span class="caret"></span>'),"\n    "),"\n    ",M.UL({"class":"dropdown-menu",role:"menu","aria-labelledby":"dLabel"},"\n    ",C.Each(function(){return W.call(t.lookup("options"))},function(){return["\n      ",M.LI(M.A({href:"#","data-value":function(){return W.mustache(t.lookup("value"))}},C.View("lookup:label",function(){return W.mustache(t.lookup("label"))}))),"\n    "]}),"\n    "),"\n  ")}),V.__checkName("widgetRadio"),V.widgetRadio=new V("Template.widgetRadio",function(){var t=this;return M.DIV({"class":function(){return["btn-group ",W.mustache(t.lookup("class"))]},"data-toggle":"buttons"},"\n    ",C.Each(function(){return{_sequence:W.call(t.lookup("_buttons")),_variable:"button"}},function(){return["\n      ",M.LABEL({"class":function(){return["btn btn-default btn-sm ",C.If(function(){return W.dataMustache(t.lookup("_isSelected"),W.dot(t.lookup("button"),"value"))},function(){return"active"})]}},"\n        ",M.INPUT({type:"radio",name:function(){return W.mustache(W.dot(t.lookup("button"),"name"))},value:function(){return W.mustache(W.dot(t.lookup("button"),"value"))},checked:function(){return C.If(function(){return W.dataMustache(t.lookup("_isSelected"),W.dot(t.lookup("button"),"value"))},function(){return"checked"})}})," ",C.View("lookup:button.label",function(){return W.mustache(W.dot(t.lookup("button"),"label"))}),"\n      "),"\n    "]}),"\n  ")}),V.__checkName("widgetPills"),V.widgetPills=new V("Template.widgetPills",function(){var t=this;return M.DIV({"class":"pills"},"\n  ",C.Each(function(){return W.call(t.lookup("range"))},function(){return["\n    ",M.DIV({"class":function(){return["pill pill",W.mustache(t.lookup("idx"))," ",C.If(function(){return W.call(t.lookup("active"))},function(){return"active"})]}}),"\n  "]}),"\n  ")})}.call(this),function(){H="object"==typeof H?H:{};var t=H;V.widgetSelect.helpers({options:function(){var t;return t=this.labels||this.values,e.map(this.values,function(e){return function(n,o){return{name:e.name,value:n,label:t[o],selection:e.selection}}}(this))},isSelected:function(t){return this.selection===t}}),V.widgetDropdown.helpers({options:function(){var t;return t=this.labels||this.values,e.map(this.values,function(e){return function(n,o){return{name:e.name,value:n,label:t[o],selection:e.selection}}}(this))},selectedLabel:function(){return this.labels?this.labels[e.indexOf(this.values,this.selection)]:this.selection},isSelected:function(t){return this.selection===t}}),V.widgetRadio.helpers({_buttons:function(){var t;return t=this.labels||this.values,e.map(this.values,function(e){return function(n,o){return{name:e.name,value:n,label:t[o],selection:e.selection}}}(this))},_isSelected:function(t){return this.selection===t}}),V.widgetPills.helpers({range:function(){return e.map(e.range(this.count||5),function(t){return function(e){return{idx:t.reverse?(t.count||5)-e-1:e,active:e===t.activeIdx}}}(this))}})}.call(this),function(){V.__checkName("portfolioCountryBadge"),V.portfolioCountryBadge=new V("Template.portfolioCountryBadge",function(){var t=this;return C.If(function(){return W.call(t.lookup("country"))},function(){return["\n    ",M.SPAN({"class":function(){return["currency-flag ",W.mustache(t.lookup("country"))]}}),"\n    ",M.SPAN({"class":"currency-name"},C.View("lookup:_currency",function(){return W.mustache(t.lookup("_currency"))})),"\n  "]})}),V.__checkName("portfolioCountrySelector"),V.portfolioCountrySelector=new V("Template.portfolioCountrySelector",function(){var t=this;return C._TemplateWith(function(){return{"class":W.call(t.lookup("_classes")),values:W.call(t.lookup("_countryValues")),selection:W.call(t.lookup("country"))}},function(){return W.include(t.lookupTemplate("widgetRadio"))})})}.call(this),function(){H="object"==typeof H?H:{};var t=H;V.portfolioCountryBadge.helpers({_label:function(){return S.getLabel(this.country)},_currency:function(){return this.country?S.getCurrency(this.country):""}}),V.portfolioCountrySelector.helpers({_countryValues:function(){return["USA","CAN"]},_classes:function(){return"usa-canada-selector "+this.classes}})}.call(this),function(){V.__checkName("highlightCard"),V.highlightCard=new V("Template.highlightCard",function(){var t=this;return M.DIV({"class":"highlight-card"},"\n    ",C.If(function(){return W.call(t.lookup("icon"))},function(){return["\n      ",M.SPAN({"class":"mini-icon","data-icon":function(){return W.mustache(t.lookup("icon"))}}),"\n    "]}),"\n    ",M.H3({"class":function(){return C.If(function(){return W.call(t.lookup("icon"))},function(){return"icon-offset"})}},"\n      ",C.View("lookup:labelFormatted",function(){return W.makeRaw(W.mustache(t.lookup("labelFormatted")))}),"\n    "),"\n    ",M.P({"class":"value"},C.View("lookup:valueFormatted",function(){return W.makeRaw(W.mustache(t.lookup("valueFormatted")))})),"\n    ",C._TemplateWith(function(){return{activeIdx:W.call(t.lookup("activeIdx")),reverse:W.call(t.lookup("reverse"))}},function(){return W.include(t.lookupTemplate("widgetPills"))}),"\n  ")})}.call(this),function(){H="object"==typeof H?H:{};var t=H}.call(this),function(){V.__checkName("portfolioPiechart"),V.portfolioPiechart=new V("Template.portfolioPiechart",function(){var t=this;return M.DIV({"class":function(){return["portfolio-piechart-wrapper ",C.If(function(){return W.call(t.lookup("minify"))},function(){return"minify"})]}},M.Raw('\n    <div class="portfolio-piechart-shadow"></div>\n    <div class="js-piechart portfolio-piechart"></div>\n  '))})}.call(this),function(){H="object"==typeof H?H:{};var t=H,r;r=function(t){var r,a,l,i,s;return t=e.sortBy(t,function(t){return n.ASSET_CLASS_TO_ORDER[t.asset_class]}),l=o.sum(t,function(t){return t.amount}),isNaN(l)?(i=o.sum(t,function(t){return t.weight}),s="weight"):(i=l,s="amount"),0===i?r={data:[{amount:1,symbol:"?"}],colors:["#e1e6eb"],holdingsCount:"?",totalValue:1,weightType:"amount"}:(a=e.reject(t,function(t){return 0===parseFloat(t[s].toFixed(2+n.HOLDING_PERCENT_DECIMALS))}),e.find(t,function(t){return!t.symbolColor})&&(t=Y.securityColor.holdingsWithSymbolColor(t)),r={data:t,holdingsCount:e.size(a),totalValue:i,weightType:s})},V.portfolioPiechart.onRendered(function(){var t;return t=this,this.autorun(function(){var e,n,o,a,l,i,s,u,c,p,d,f,h,m,g,k;return l=V.currentData().chartData,e=t.$(".js-piechart"),e.empty(),m=.6,u=[10,10],c=[10,10],k=e.width(),s=e.height(),h=Math.min(k,s)/2,i=r(l),a=d3.select(e.get(0)).append("svg").attr("width",k).attr("height",s).append("svg:g").datum(i.data).attr("transform","translate("+k/2+", "+h+")"),t.data.minify||(a.append("svg:text").attr("class","holdings-count").attr("text-anchor","middle").text(i.holdingsCount),a.append("svg:text").attr("transform","translate(0,"+s/10+")").attr("class","caption").attr("text-anchor","middle").text("holdings")),n=d3.svg.arc().outerRadius(h).innerRadius(h*m),f=d3.layout.pie().sort(null).value(function(t){return t[i.weightType]/i.totalValue}),o=a.selectAll("g.slice").data(f).enter().append("svg:g").attr("class",function(t){return"slice "+t.data.symbol}),g=function(t){var e;return e=d3.interpolate(this._current,t),this._current=e(0),function(t){return n(e(t))}},p=function(t){var e;return e=d3.interpolate({startAngle:1.1*Math.PI,endAngle:1.1*Math.PI},t),function(t){return n(e(t))}},d=o.append("svg:path").attr("fill",function(t,e){return t.data.symbolColor}).attr("d",n)})})}.call(this),function(){V.__checkName("portfolioCards"),V.portfolioCards=new V("Template.portfolioCards",function(){var t=this;return[C._TemplateWith(function(){return{name:W.call(""),"class":W.call("timeframe"),labels:W.call(t.lookup("periodLabels")),values:W.call(t.lookup("periodValues")),selection:W.call(W.dot(t.lookup("template"),"period","get"))}},function(){return W.include(t.lookupTemplate("widgetRadio"))}),"\n\n  ",M.UL({"class":function(){return["pf-card-list ",W.mustache(t.lookup("class"))]}},"\n  ",C.If(function(){return W.call(t.lookup("displayNewPortfolioButton"))},function(){return["\n    ",M.LI({"class":"js-new-portfolio"},"\n      ",M.DIV({"class":"pf-card-wrapper medium"},"\n        ",M.BUTTON({"class":"new-btn"},"\n          ",M.DIV({"class":"icon glyphicon glyphicon-plus"}),"\n          ",M.P({"class":"text"},"Create a Portfolio"),"\n        "),"\n      "),"\n    "),"\n  "]}),"\n  ",C.Each(function(){return W.call(t.lookup("portfolios"))},function(){return["\n    ",M.LI("\n      ",C._TemplateWith(function(){return{template:W.call(t.lookup("cardTemplate")),data:W.call(t.lookup("cardData"))}},function(){return W.include(function(){return W.call(V.__dynamic)})}),"\n    "),"\n  "]}),"\n  "),"\n\n  ",C.If(function(){return W.call(t.lookup("isDeletable"))},function(){return["\n    ",W.include(t.lookupTemplate("confirmDeleting")),"\n  "]})]}),V.__checkName("deletableMediumPortfolioCard"),V.deletableMediumPortfolioCard=new V("Template.deletableMediumPortfolioCard",function(){var t=this;return M.DIV({"class":"pf-card-wrapper medium"},"\n    ",C._TemplateWith(function(){return{portfolio:W.call(t.lookup("portfolio")),cards:W.call(t.lookup("cards")),setOutlink:W.call(t.lookup("setOutlink"))}},function(){return W.include(t.lookupTemplate("mediumPortfolioCard"))}),M.Raw('\n    <div class="shade medium"></div>\n    '),C.If(function(){return W.call(t.lookup("canDelete"))},function(){return["\n      ",M.BUTTON({"class":"js-delete-btn btn delete-btn"},M.SPAN({"class":"desktop"},"Delete"),M.SPAN({"class":"mobile glyphicon glyphicon-remove"})),"\n    "]}),"\n  ")}),V.__checkName("undeletableMediumPortfolioCard"),V.undeletableMediumPortfolioCard=new V("Template.undeletableMediumPortfolioCard",function(){var t=this;return M.DIV({"class":"pf-card-wrapper medium"},"\n    ",C._TemplateWith(function(){return{portfolio:W.call(t.lookup("portfolio")),cards:W.call(t.lookup("cards")),setOutlink:W.call(t.lookup("setOutlink"))}},function(){return W.include(t.lookupTemplate("mediumPortfolioCard"))}),M.Raw('\n    <div class="shade medium"></div>\n  '))}),V.__checkName("mediumPortfolioCard"),V.mediumPortfolioCard=new V("Template.mediumPortfolioCard",function(){var t=this;return M.DIV({"class":"pf-card medium js-pf-card-medium"},"\n    ",M.TABLE({"class":"vertical-align name"},M.TBODY(M.TR(M.TD("\n      ",M.DIV({"class":"text"},C.View("lookup:portfolio.name",function(){return W.mustache(W.dot(t.lookup("portfolio"),"name"))})),"\n    ")))),M.Raw('\n    <div class="name">\n    </div>\n    '),M.DIV({"class":"chart"},"\n      ",C._TemplateWith(function(){return{minify:W.call(!1),chartData:W.call(W.dot(t.lookup("portfolio"),"holdings"))}},function(){return W.include(t.lookupTemplate("portfolioPiechart"))}),"\n    "),"\n    ",W.include(t.lookupTemplate("portfolioCardChart")),"\n    ",M.DIV({"class":"description"},M.P({"class":"text"},C._TemplateWith(function(){return{setOutlink:W.call(t.lookup("setOutlink"))}},function(){return W.include(t.lookupTemplate("markdownWithCleanLink"),function(){return C.View("lookup:portfolio.description",function(){return W.mustache(W.dot(t.lookup("portfolio"),"description"))})})}))),"\n    ",C._TemplateWith(function(){return{portfolio:W.call(t.lookup("portfolio"))}},function(){return W.include(t.lookupTemplate("portfolioCardLink"))}),"\n  ")}),V.__checkName("portfolioCardChart"),V.portfolioCardChart=new V("Template.portfolioCardChart",function(){var t=this;return M.Raw('<div class="js-sparkline linechart-box" style="width: 100%; height: 72px;">\n  </div>')}),V.__checkName("smallPortfolioCard"),V.smallPortfolioCard=new V("Template.smallPortfolioCard",function(){var t=this;return M.DIV({"class":"pf-card-wrapper small"},"\n    ",M.DIV({"class":"pf-card small"},"\n      ",M.TABLE({"class":"vertical-align name"},M.TBODY(M.TR(M.TD("\n        ",M.DIV({"class":"text"},C.View("lookup:portfolio.name",function(){return W.makeRaw(W.mustache(W.dot(t.lookup("portfolio"),"name")))})),"\n      ")))),"\n      ",M.DIV({"class":"chart"},"\n        ",C.If(function(){return W.call(t.lookup("portfolio"))},function(){return["\n          ",C._TemplateWith(function(){return{minify:W.call(!0),chartData:W.call(W.dot(t.lookup("portfolio"),"holdings"))}},function(){return W.include(t.lookupTemplate("portfolioPiechart"))}),"\n        "]}),"\n      "),"\n      ",M.Raw('<div class="shade small"></div>'),"\n    "),"\n    ",C.If(function(){return W.call(t.lookup("includeLink"))},function(){return C._TemplateWith(function(){return{portfolio:W.call(t.lookup("portfolio"))}},function(){return W.include(t.lookupTemplate("portfolioCardLink"))})}),"\n  ")}),V.__checkName("confirmDeleting"),V.confirmDeleting=new V("Template.confirmDeleting",function(){var t=this;return M.Raw('<div class="modal fade js-confirm-deleting-modal confirm-leaving" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <span class="glyphicon glyphicon-remove-circle btn btn-close" title="Close" data-dismiss="modal"></span>\n        <div class="modal-nav">\n          <div class="stripe"><div class="left"></div><div class="right"></div></div>\n          <h2>Delete Portfolio?</h2>\n          <p>Remove "<span class="js-name"></span>" permanently?</p>\n        </div>\n        <div class="actions">\n          <button type="submit" class="js-delete btn btn-primary btn-lg pull-right">Yes, Delete</button>\n          <a class="js-cancel cancel pull-right" data-dismiss="modal">Cancel</a>\n        </div>\n      </div>\n    </div>\n  </div>')}),V.__checkName("portfolioCardLink"),V.portfolioCardLink=new V("Template.portfolioCardLink",function(){var t=this;return M.A({"class":"portfolio-card-link js-portfolio-link",href:function(){return W.mustache(t.lookup("_portfolioUrl"))}},C.View("lookup:portfolio.name",function(){return W.mustache(W.dot(t.lookup("portfolio"),"name"))}))})}.call(this),function(){H="object"==typeof H?H:{};var n=H,o;V.portfolioCards.onCreated(function(){return this.period=new F("1yr"),this.portfolioIdToHistory=new ReactiveDict,this.portfoliosMetadata=new F,this.portfoliosHistory=new F(null)}),V.portfolioCards.onRendered(function(){var n,o;return o=this.data.portfolios.map(function(t){return t.shortId}),n=this,this.autorun(function(e){return RouteUtils.subsReady("benchmarkFunds")?t.apply("portfolios.history",[o],{wait:!1},function(t,o){if(t)throw t;return n.portfoliosMetadata.set(null),n.portfoliosHistory.set(o),e.stop()}):void 0}),this.autorun(function(){var t,o,a,l,i;return(i=n.portfoliosHistory.get())?(l=n.period.get(),o=r.gainsPeriodInterval(l,f.spy()),t=e.map(i,function(t){var e;return e=r.truncate(t.cachedHistory15yr,o),e=r.gainsHistory(e),n.portfolioIdToHistory.set(t.shortId,e),e}),a=r.minMax(t),n.portfoliosMetadata.set({interval:o,minMax:a})):void 0})}),V.portfolioCards.helpers({template:function(){return V.instance()},periodLabels:function(){return PERIOD.LABELS},periodValues:function(){return PERIOD.VALUES},cardTemplate:function(){return V.instance().data.cardTemplate||"undeletableMediumPortfolioCard"},cardData:function(){return{portfolio:this,cards:V.instance(),setOutlink:V.parentData().setOutlink}},isDeletable:function(){return"deletableMediumPortfolioCard"===this.cardTemplate},displayNewPortfolioButton:function(){return this.displayNewPortfolioButton||!1}}),V.portfolioCards.events({"change input":function(t,e){return e.period.set(A(t.target).val()),Analytics.event(EVENT.INDEX.TIME_FRAME,A(t.target).val())},"click .js-new-portfolio":function(t,e){return t.preventDefault(),AccountUIHelpers.requireSignin(EVENT.USER_PROFILE).then(function(){return Y.portfolio.createPortfolioWithRequireOptions({},function(t){return t?void 0:Analytics.event(EVENT.USER_PROFILE.CREATE_PORTFOLIO)})})}}),V.portfolioCardChart.onRendered(function(){var t,e;return t=this.data.cards,e=this,this.autorun(function(){var n,o,r,a;return a=t.portfoliosMetadata.get(),a&&(n=t.portfolioIdToHistory.get(e.data.portfolio.shortId))?(r=a.minMax,o=a.interval,Charts.renderSparkline(e.$(".js-sparkline"),n,r,o)):void 0})}),V.deletableMediumPortfolioCard.helpers({canDelete:function(){return t.userId()===this.portfolio.ownerId}}),o={"click .pf-card-wrapper":function(t,e){var n;return A(t.target).is("a, button, .js-delete-btn span")?void 0:(t.preventDefault(),n="/portfolio/"+this.portfolio.shortId+"-"+this.portfolio.slug,t.metaKey?window.open(n,"_blank"):FlowRouter.go(n))},"click .js-delete-btn":function(t,e){return t.preventDefault(),A(".js-confirm-deleting-modal").modal("show"),A(".js-confirm-deleting-modal .js-name").html(this.portfolio.name),A(".js-confirm-deleting-modal .js-delete").attr("data-id",this.portfolio._id).attr("data-name",this.portfolio.name)},"click a":function(t,e){return t.stopPropagation()}},V.smallPortfolioCard.events(o),V.undeletableMediumPortfolioCard.events(o),V.deletableMediumPortfolioCard.events(o),V.confirmDeleting.events({"click .js-cancel":function(t,e){return t.preventDefault(),e.$(".js-confirm-deleting-modal").modal("hide")},"click .js-delete":function(e,n){var o,r;return e.preventDefault(),n.$(".js-confirm-deleting-modal").modal("hide"),o=A(e.currentTarget).attr("data-id"),r=A(e.currentTarget).attr("data-name"),t.call("deletePortfolio",o,function(t){return null!=t?Alerts.error(t):Alerts.update("Portfolio deleted.")}),Analytics.event(EVENT.USER_PROFILE.DELETE_PORTFOLIO)},"keyup .js-confirm-deleting-modal":function(t,e){return t.which===KEYCODE.Y?A(".js-delete").click():t.which===KEYCODE.N?A(".js-cancel").click():void 0}}),V.smallPortfolioCard.helpers({url:function(){return Y.portfolio.url(this.portfolio)}}),V.portfolioCardLink.helpers({_portfolioUrl:function(){return Y.portfolio.url(this.portfolio)}})}.call(this),function(){V.__checkName("discussionCards"),V.discussionCards=new V("Template.discussionCards",function(){var t=this;return M.DIV({"class":"row discussion-cards"},"\n  ",C.If(function(){return W.call(t.lookup("isReady"))},function(){return["\n    ",C.Each(function(){return{_sequence:W.call(t.lookup("discussions")),_variable:"discussion"}},function(){return["\n      ",M.DIV({"class":"col col-xs-12 col-sm-6"},"\n        ",C._TemplateWith(function(){return W.call(t.lookup("discussion"))},function(){return W.include(t.lookupTemplate("discussionCard"))}),"\n      "),"\n    "]}),"\n  "]},function(){return["\n    ",M.TABLE({"class":"vertical-align loading-spinner"},M.TBODY(M.TR(M.TD("\n      ",W.include(t.lookupTemplate("loadingAnimation")),"\n    ")))),"\n  "]}),"\n  ")}),V.__checkName("discussionCard"),V.discussionCard=new V("Template.discussionCard",function(){var t=this;return M.DIV({"class":"info-card chat-card"},"\n    ",M.DIV({"class":"hgrail-parent"},"\n      ",M.DIV({"class":"hgrail-remainder"},"\n        ",M.Raw('<img class="icon" src="/img/index-features-reddit.svg" alt="reddit">'),"\n        ",M.Raw('<span class="source small">Reddit &middot;</span>'),"\n        ",M.SPAN({"class":"source small"},C.View("lookup:formatDate",function(){return W.mustache(t.lookup("formatDate"),t.lookup("createdAt"),W.kw({relative:!0}))})),"\n        ",M.H3({"class":"title"},M.SPAN({"class":"text"},C.View("lookup:title",function(){return W.mustache(t.lookup("title"))}))),"\n        ",M.P({"class":"caption"},C.View("lookup:commentCount",function(){return W.mustache(t.lookup("commentCount"))})," comments"),"\n        ",M.DIV({"class":"label-wrapper"},"\n          ",C.Each(function(){return{_sequence:W.call(t.lookup("tags")),_variable:"tag"}},function(){return["\n            ",M.SPAN({"class":function(){return["label ",W.mustache(t.lookup("tag"))]}},C.View("lookup:tag.toUpperCase",function(){return W.mustache(W.dot(t.lookup("tag"),"toUpperCase"))})),"\n          "]}),"\n        "),"\n      "),"\n      ",M.DIV({"class":"hgrail-fixed"},"\n        ",C._TemplateWith(function(){return{portfolio:W.call(t.lookup("portfolio"))}},function(){return W.include(t.lookupTemplate("smallPortfolioCard"))}),"\n      "),"\n    "),"\n    ",C._TemplateWith(function(){return{portfolio:W.call(t.lookup("portfolio"))}},function(){return W.include(t.lookupTemplate("portfolioCardLink"))}),"\n  ")}),V.__checkName("redditCommentCards"),V.redditCommentCards=new V("Template.redditCommentCards",function(){var t=this;return M.DIV({"class":"row"},"\n    ",C.Each(function(){return{_sequence:W.call(t.lookup("comments")),_variable:"comment"}},function(){return["\n      ",M.DIV({"class":"col-sm-6 col-xs-12"},"\n        ",C._TemplateWith(function(){return W.call(t.lookup("comment"))},function(){return W.include(t.lookupTemplate("redditCommentCard"))}),"\n      "),"\n    "]}),"\n  ")}),V.__checkName("redditCommentCard"),V.redditCommentCard=new V("Template.redditCommentCard",function(){var t=this;return M.A({href:function(){return W.mustache(t.lookup("portfolioUrl"))},"class":"none-deco"},"\n    ",M.DIV({"class":"reddit-comment-card"},"\n      ",M.DIV({"class":"bg"},"\n        ",M.SVG({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",width:"50px",height:"50px",viewBox:"0 0 512 512","enable-background":"new 0 0 50 50","xml:space":"preserve"},"\n          ",M.PATH({id:"quote-5-icon",d:"M55.178,332.895c-22.22-79.435,26.876-198.974,151.004-223.472l16.886,36.498  c-38.022,14.331-63.218,47.064-66.943,81.466c42.757,6.73,75.459,43.737,75.459,88.385  C231.583,415.014,85.181,440.162,55.178,332.895z M285.595,332.895c-22.22-79.435,26.876-198.974,151.004-223.472l16.886,36.498  c-38.022,14.331-63.218,47.064-66.943,81.466c42.757,6.73,75.459,43.737,75.459,88.385C462,415.014,315.598,440.162,285.595,332.895  z"}),"\n        "),"\n      "),"\n      ",M.DIV({"class":"wrapper-info"},"\n        ",M.SPAN({"class":"small source"},C.View("lookup:authorName",function(){return W.mustache(t.lookup("authorName"))})," ",M.Raw("&middot;")),"\n        ",M.SPAN({"class":"small source"},C.View("lookup:createdAt",function(){return W.mustache(t.lookup("createdAt"))})),"\n        ",M.H3({"class":"reddit-comment-snippet"},C.View("lookup:snippet",function(){return W.mustache(t.lookup("snippet"))})),"\n      "),"\n      ",M.DIV({"class":"wrapper-title small"},"\n        ",M.Raw("<em>of&nbsp;</em>"),"\n        ",M.STRONG({"class":"title"},C.View("lookup:title",function(){return W.mustache(t.lookup("title"))})),"\n      "),"\n    "),"\n  ")})}.call(this),function(){H="object"==typeof H?H:{};var t=H}.call(this),function(){V.__checkName("portfolioSearchResults"),V.portfolioSearchResults=new V("Template.portfolioSearchResults",function(){var t=this;return M.DIV({"class":"hflush component-portfolio-search-results"},"\n    ",C.If(function(){return W.call(t.lookup("isReady"))},function(){return["\n      ",C.Each(function(){return{_sequence:W.call(t.lookup("results")),_variable:"portfolio"}},function(){return["\n        ",C._TemplateWith(function(){return{portfolio:W.call(t.lookup("portfolio")),period:W.call(t.lookup("period"))}},function(){return W.include(t.lookupTemplate("portfolioSearchResult"))}),"\n      "]},function(){return["\n        ",M.DIV({"class":"clearfix portfolio-search-no-results"},"\n          ",M.DIV({"class":"content"},"\n            ",M.IMG({src:"/img/glasses.svg","class":"glasses"}),"\n            ",M.P({"class":"caption"},"No portfolio matches your criteria."),"\n          "),"\n        "),"\n      "]}),"\n    "]},function(){return["\n      ",M.TABLE({"class":"vertical-align loading-spinner"},M.TBODY(M.TR(M.TD("\n        ",W.include(t.lookupTemplate("loadingAnimation")),"\n      ")))),"\n    "]}),"\n  ")}),V.__checkName("portfolioSearchResult"),V.portfolioSearchResult=new V("Template.portfolioSearchResult",function(){var t=this;return M.DIV({"class":"info-card component-portfolio-search-result media"},"\n    ",M.DIV({"class":"media-left"},"\n      ",C._TemplateWith(function(){return{portfolio:W.call(t.lookup("_highlightedPortfolio"))}},function(){return W.include(t.lookupTemplate("smallPortfolioCard"))}),"\n    "),"\n    ",M.DIV({"class":"media-body"},"\n      ",M.DIV({"class":"highlights"},"\n        ",M.DIV({"class":"info-card"},"\n          ",C._TemplateWith(function(){return{labelFormatted:W.call(W.dataMustache(t.lookup("_withPeriod"),"Returns")),icon:W.call("T"),valueFormatted:W.call(t.lookup("_returnsFormatted")),activeIdx:W.call(t.lookup("_returnsIdx"))}},function(){return W.include(t.lookupTemplate("highlightCard"))}),"\n        "),"\n        ",M.DIV({"class":"info-card"},"\n          ",C._TemplateWith(function(){return{labelFormatted:W.call(W.dataMustache(t.lookup("_withPeriod"),"Risk")),icon:W.call("U"),valueFormatted:W.call(t.lookup("_riskFormatted")),activeIdx:W.call(t.lookup("_riskIdx")),reverse:W.call(!0)}},function(){return W.include(t.lookupTemplate("highlightCard"))}),"\n        "),"\n        ",M.DIV({"class":"info-card"},"\n          ",C._TemplateWith(function(){return{labelFormatted:W.call(W.dataMustache(t.lookup("_withPeriod"),"Expenses")),icon:W.call("V"),valueFormatted:W.call(t.lookup("_expensesFormatted")),activeIdx:W.call(t.lookup("_expensesIdx")),reverse:W.call(!0)}},function(){return W.include(t.lookupTemplate("highlightCard"))}),"\n        "),"\n      "),"\n      ",W.With(function(){return W.call(t.lookup("_topHoldings"))},function(){return["\n        ",M.DIV({"class":"holding-info holding-info-mobile"},"\n          ",M.P({"class":"total-holding-count"},"\n            ",M.STRONG(C.View("lookup:_holdingCount",function(){return W.mustache(t.lookup("_holdingCount"))})," Holdings"),"\n          "),"\n          ",M.SPAN({"class":"top-holding-count"},"Top ",C.View("lookup:topHoldings.length",function(){return W.mustache(W.dot(t.lookup("topHoldings"),"length"))})," holdings"),"\n        "),"\n        ",M.P({"class":"holding-info holding-info-desktop"},"\n          ",M.STRONG(C.View("lookup:_holdingCount",function(){return W.mustache(t.lookup("_holdingCount"))})," Holdings"),"\n          ",M.SPAN({"class":"top-holding-count"},"/ Top ",C.View("lookup:topHoldings.length",function(){return W.mustache(W.dot(t.lookup("topHoldings"),"length"))})," = ",C.View("lookup:formatPercent",function(){return W.mustache(t.lookup("formatPercent"),t.lookup("_topHoldingsRatio"),0)})," of portfolio"),"\n        "),"\n        ",M.DIV({"class":"holding-info-symbols"},"\n          ",C.Each(function(){return{_sequence:W.call(t.lookup("relevantHoldings")),_variable:"holding"}},function(){return["\n            ",M.SPAN({"class":"label label-default symbol",
style:function(){return["background-color: ",W.mustache(W.dot(t.lookup("holding"),"symbolColor"))]}},"\n              ",C.Unless(function(){return W.dataMustache(t.lookup("_isCustomHolding"),t.lookup("holding"))},function(){return C.View("lookup:holding.symbol",function(){return W.mustache(W.dot(t.lookup("holding"),"symbol"))})},function(){return"CUSTOM"}),"\n            "),"\n          "]}),"\n        "),"\n      "]}),"\n    "),"\n    ",M.DIV({"class":"portfolio-search-result-relevances"},"\n      ",C.If(function(){return W.call(t.lookup("_relevantDescription"))},function(){return M.DIV({"class":"relevant-description"},M.SPAN({"class":"relevance-title"},"Description:")," ",C.View("lookup:_relevantDescription",function(){return W.makeRaw(W.mustache(t.lookup("_relevantDescription")))}))}),"\n      ",C.If(function(){return W.call(t.lookup("_relevantHoldingNames"))},function(){return M.DIV({"class":"relevant-holding-name"},M.SPAN({"class":"relevance-title"},"Holding Names:")," ",C.View("lookup:_relevantHoldingNames",function(){return W.makeRaw(W.mustache(t.lookup("_relevantHoldingNames")))}))}),"\n      ",C.If(function(){return W.call(W.dot(t.lookup("_relevantSummaryTags"),"length"))},function(){return["\n        ",M.DIV({"class":"relevant-summary-tags"},"\n          ",M.SPAN({"class":"relevance-title"},"Tags:"),"\n          ",C.Each(function(){return W.call(t.lookup("_relevantSummaryTags"))},function(){return["\n            ",M.SPAN({"class":"label portfolio-summary-tag"},"\n              ",C.View("lookup:.",function(){return W.makeRaw(W.mustache(t.lookup(".")))}),"\n            "),"\n          "]}),"\n        "),"\n      "]}),"\n    "),"\n    ",C._TemplateWith(function(){return{portfolio:W.call(t.lookup("portfolio"))}},function(){return W.include(t.lookupTemplate("portfolioCardLink"))}),"\n  ")}),V.__checkName("portfolioSearchFilters"),V.portfolioSearchFilters=new V("Template.portfolioSearchFilters",function(){var t=this;return[M.DIV({"class":"wrapper-desktop-portfolio-search-filter"},"\n    ",M.Raw('<h2 class="text-left">Filters</h2>'),"\n    ",M.UL({"class":"no-list component-portfolio-search-filter"},"\n      ",C.Each(function(){return{_sequence:W.call(t.lookup("filters")),_variable:"filter"}},function(){return["\n        ",C._TemplateWith(function(){return{name:W.call(W.dot(t.lookup("filter"),"name")),min:W.call(W.dot(t.lookup("filter"),"min")),max:W.call(W.dot(t.lookup("filter"),"max")),value:W.call(W.dot(t.lookup("filter"),"value"))}},function(){return W.include(t.lookupTemplate("portfolioSearchFilter"))}),"\n      "]}),"\n    "),"\n  "),"\n\n  ",M.DIV({"class":"wrapper-tablet-portfolio-search-filter"},"\n    ",M.Raw('<div class="text-left">\n      <button type="button" class="btn btn-default btn-lg" data-toggle="modal" data-target=".modal-search-filter">\n        Show Filters\n      </button>\n    </div>'),"\n\n    ",M.DIV({"class":"modal fade modal-search-filter",tabindex:"-1",role:"dialog","aria-hidden":"true"},"\n      ",M.DIV({"class":"modal-dialog"},"\n        ",M.DIV({"class":"modal-content"},"\n          ",M.Raw('<div class="modal-nav">\n            <div class="stripe"><div class="left"></div><div class="right"></div></div>\n            <h2>Filters</h2>\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n          </div>'),"\n          ",M.DIV({"class":"modal-body"},"\n            ",M.UL({"class":"no-list component-portfolio-search-filter"},"\n              ",C.Each(function(){return{_sequence:W.call(t.lookup("filters")),_variable:"filter"}},function(){return["\n                ",C._TemplateWith(function(){return{name:W.call(W.dot(t.lookup("filter"),"name")),min:W.call(W.dot(t.lookup("filter"),"min")),max:W.call(W.dot(t.lookup("filter"),"max")),value:W.call(W.dot(t.lookup("filter"),"value"))}},function(){return W.include(t.lookupTemplate("portfolioSearchFilter"))}),"\n              "]}),"\n            "),"\n          "),"\n        "),"\n      "),"\n    "),"\n  ")]}),V.__checkName("portfolioSearchFilter"),V.portfolioSearchFilter=new V("Template.portfolioSearchFilter",function(){var t=this;return M.LI("\n    ",M.H6(C.View("lookup:name",function(){return W.mustache(t.lookup("name"))})),M.Raw('\n    <input class="js-slider-input" style="display: none" type="text">\n    <div class="js-slider" style="height: 2em; width: 100%"></div>\n    '),M.DIV({"class":"hflush min-max"},"\n      ",M.SPAN({"class":"js-min pull-left"},C.View("lookup:_minValue",function(){return W.mustache(t.lookup("_minValue"))})),"\n      ",M.SPAN({"class":"js-max pull-right"},C.View("lookup:_maxValue",function(){return W.mustache(t.lookup("_maxValue"))})),"\n    "),"\n  ")}),V.__checkName("portfolioSearchShortcuts"),V.portfolioSearchShortcuts=new V("Template.portfolioSearchShortcuts",function(){var t=this;return M.DIV({"class":"no-list swiper-container component-portfolio-search-shortcuts"},M.Raw('\n    <h2 class="pull-left">Popular Portfolios</h2>\n    <div class="pull-right">\n      <div class="swiper-arrow-prev">\n      </div>\n      <div class="swiper-arrow-next">\n      </div>\n    </div>\n    '),M.UL({"class":"swiper-wrapper no-list"},"\n      ",C.Each(function(){return{_sequence:W.call(t.lookup("shortcuts")),_variable:"shortcut"}},function(){return["\n        ",C._TemplateWith(function(){return{label:W.call(W.dot(t.lookup("shortcut"),"label")),tag:W.call(W.dot(t.lookup("shortcut"),"tag")),query:W.call(W.dot(t.lookup("shortcut"),"query"))}},function(){return W.include(t.lookupTemplate("portfolioSearchShortcut"))}),"\n      "]}),"\n    "),M.Raw('\n    <a href="#" class="js-browse-all-tags shortcuts-browse-all-tags-btn">Browse All Tags</a>\n  '))}),V.__checkName("portfolioSearchShortcut"),V.portfolioSearchShortcut=new V("Template.portfolioSearchShortcut",function(){var t=this;return M.LI({"class":function(){return["swiper-slide thumb ",W.mustache(t.lookup("tag"))]}},"\n    ",M.A({href:function(){return W.mustache(t.lookup("_queryToUrl"),t.lookup("query"))},"class":"shortcut-link"},"\n      ",M.H6(C.View("lookup:label",function(){return W.mustache(t.lookup("label"))})),"\n      ",M.Raw('<div class="black-layer"></div>'),"\n    "),"\n  ")})}.call(this),function(){H="object"==typeof H?H:{};var t=H,n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};V.portfolioSearchResult.helpers({_topHoldings:function(){var t,o,r,a,l;return t=3,l=e.chain(this.portfolio.holdings).filter(function(t){return!(0===t.amount)}).first(t).value(),(null!=(o=this.portfolio.relevance)?o["holdings.symbol.simple"]:void 0)&&(a=this.portfolio.relevance["holdings.symbol.simple"],r=e.filter(this.portfolio.holdings,function(t){var e;return e=t.symbol,n.call(a,e)>=0})),{holdings:this.portfolio.holdings,topHoldings:l,relevantHoldings:Y.securityColor.holdingsWithSymbolColor(e.compact(e.union(l,r)))}},_holdingCount:function(){return e.size(this.holdings)},_topHoldingsRatio:function(){var t,e;return e=o.sum(this.holdings,function(t){return t.amount||t.weight}),t=o.sum(this.topHoldings,function(t){return t.amount||t.weight}),t/e},_returnsFormatted:function(){return o.formatPercent(this.portfolio.highlights["returns_"+this.period],2,{smartThreshold:!1})},_riskFormatted:function(){return o.formatPercent(this.portfolio.highlights["stddev_"+this.period],2,{smartThreshold:!1})},_expensesFormatted:function(){return o.formatPercent(this.portfolio.highlights.expense_net,2,{smartThreshold:!1})},_returnsIdx:function(){var t,e;if(RouteUtils.subsReady("fundThresholds"))return e=this.portfolio.highlights["returns_"+this.period],e=r.gainsFromReturns(e,this.period),t=Y.portfolio.makeField("returns",this.period),Y.portfolio.bucket(e,t)},_riskIdx:function(){var t;if(RouteUtils.subsReady("fundThresholds"))return t=Y.portfolio.makeField("risk",this.period),Y.portfolio.bucket(this.portfolio.highlights[t],t)},_expensesIdx:function(){var t;if(RouteUtils.subsReady("fundThresholds"))return t=Y.portfolio.makeField("expenses"),Y.portfolio.bucket(this.portfolio.highlights[t],t)},_isCustomHolding:function(t){return"custom"===t.asset_class?!0:!1},_withPeriod:function(t){var e;return e=AppState.get(APP_STATE.WINDOW_WIDTH),AppState.get(APP_STATE.WINDOW_WIDTH)<=SM.SCREEN_SIZE.TABLET?t:PERIOD.VALUE_TO_LABEL[this.period]+" "+t},_highlightedPortfolio:function(){var t,e;return this.portfolio.name=(null!=(t=this.portfolio.relevance)?t["name.eng"]:void 0)?null!=(e=this.portfolio.relevance)?e["name.eng"][0]:void 0:this.portfolio.name,this.portfolio},_relevantDescription:function(){var t;return null!=(t=this.portfolio.relevance)?t["description.eng"]:void 0},_relevantHoldingNames:function(){var t,e;return null!=(t=this.portfolio.relevance)&&null!=(e=t["holdings.name.simple"])?e.join(", "):void 0},_relevantSummaryTags:function(){var t;return null!=(t=this.portfolio.relevance)?t["summaryTags.eng"]:void 0}}),V.portfolioSearchFilter.onRendered(function(){var t,e;return t=V.currentData(),e=this.$(".js-slider").get(0),noUiSlider.create(e,{start:t.value,connect:!0,range:{min:t.min,max:t.max}})}),V.portfolioSearchFilter.helpers({_minValue:function(){return this.value[0]},_maxValue:function(){return this.value[1]}}),V.portfolioSearchShortcut.helpers({_queryToUrl:function(t){return this.query?FlowRouter.path("discover",{},{q:this.query}):"#"}}),V.portfolioSearchShortcuts.onRendered(function(){var t,e;return t={},t[SM.SCREEN_SIZE.TABLET]={slidesPerView:3},e=new Swiper(".swiper-container",{nextButton:".swiper-arrow-next",prevButton:".swiper-arrow-prev",speed:1e3,autoplay:2500,autoplayDisableOnInteraction:!1,loop:!0,spaceBetween:10,slidesPerView:5,breakpoints:t})}),V.portfolioSearchShortcuts.events({"click .js-browse-all-tags":function(t,e){return t.preventDefault(),Y.dynamicModal.showDynamicModal({classes:"portfolio-summary-tags-modal",template:"PortfolioSummaryTagsModalContent",title:"All Tags"})}})}.call(this),function(){V.__checkName("portfolioExpenses"),V.portfolioExpenses=new V("Template.portfolioExpenses",function(){var t=this;return M.DIV({"class":function(){return["list-box portfolio-expenses ",W.mustache(t.lookup("expenseClass"))]}},M.Raw("\n    <h2>Fees</h2>\n    "),M.DIV({"class":"inner extra-padding"},"\n      ",M.DIV({"class":"container"},"\n        ",M.DIV({"class":"col col-xs-12 col-sm-6 npl breakdown"},"\n          ",C._TemplateWith(function(){return{isReady:W.call(t.lookup("isReady")),invalidReason:W.call(t.lookup("invalidReason")),holdingYears:W.call(W.dot(t.lookup("_instance"),"holdingYears","get")),projectedReturns:W.call(W.dot(t.lookup("_instance"),"projectedReturns","get")),portfolioAmount:W.call(t.lookup("portfolioAmount")),holdingsWithExpenses:W.call(t.lookup("holdingsWithExpenses"))}},function(){return W.include(t.lookupTemplate("portfolioExpenseBreakdown"))}),"\n        "),"\n        ",M.DIV({"class":"col col-xs-12 col-sm-6 npr projection"},"\n          ",C._TemplateWith(function(){return{screenWidth:W.call(t.lookup("screenWidth")),isReady:W.call(t.lookup("isReady")),invalidReason:W.call(t.lookup("invalidReason")),holdingYears:W.call(W.dot(t.lookup("_instance"),"holdingYears","get")),projectedReturns:W.call(W.dot(t.lookup("_instance"),"projectedReturns","get")),portfolioAmount:W.call(t.lookup("portfolioAmount")),portfolioExpenseNet:W.call(t.lookup("portfolioExpenseNet"))}},function(){return W.include(t.lookupTemplate("portfolioExpenseProjection"))}),"\n        "),"\n        ",M.DIV({"class":"hflush projection-controls"},"\n          ",M.DIV({"class":"col-xs-12 col-sm-6 fee-form"},"\n            ",M.Raw("<h5>Holding period&nbsp;</h5>"),"\n            ",M.DIV({"class":"period-input"},"\n              ",M.DIV({"class":"form-group"},"\n                ",M.DIV({"class":"input-with-icon right-icon tight"},"\n                  ",C._TemplateWith(function(){return{data:W.call(t.lookup("_doc")),schema:W.call("ExpensesValidationSchema"),"class":W.call("js-holding-period-form"),action:W.call(t.lookup("_updateHoldingYears"))}},function(){return W.include(t.lookupTemplate("simpleForm"),function(){return["\n                    ",C._TemplateWith(function(){return{"class":W.call("js-holding-period press-enter input-tight form-control"),field:W.call("holdingYears"),hint:W.call("Press Enter")}},function(){return W.include(t.lookupTemplate("simpleInputElement"))}),"\n                  "]})}),"\n                  ",M.Raw('<span class="icon">Years</span>'),"\n                "),"\n              "),"\n            "),"\n            ",M.INPUT({"class":"js-period-slider",style:"display: none",type:"text",value:function(){return W.mustache(W.dot(t.lookup("_instance"),"holdingYears","get"))}}),"\n              ",M.P({"class":"fee-form-caption"},C.View("lookup:_holdingYearsRange.min",function(){return W.mustache(W.dot(t.lookup("_holdingYearsRange"),"min"))})," to ",C.View("lookup:_holdingYearsRange.max",function(){return W.mustache(W.dot(t.lookup("_holdingYearsRange"),"max"))})," years"),"\n          "),"\n          ",M.DIV({"class":"col-xs-12 col-sm-6 fee-form"},"\n            ",M.Raw("<h5>Annual returns&nbsp;</h5>"),"\n            ",M.DIV({"class":"returns-input"},"\n              ",M.DIV({"class":"input-with-icon tight right-icon"},"\n                ",M.DIV({"class":"form-group"},"\n                  ",C._TemplateWith(function(){return{data:W.call(t.lookup("_doc")),schema:W.call("ExpensesValidationSchema"),"class":W.call("js-projection-form"),action:W.call(t.lookup("_updateProjectedReturns"))}},function(){return W.include(t.lookupTemplate("simpleForm"),function(){return["\n                    ",C._TemplateWith(function(){return{"class":W.call("js-assumed-returns press-enter assumed-returns input-tight form-control"),field:W.call("projectedReturns"),hint:W.call("Press Enter")}},function(){return W.include(t.lookupTemplate("simpleInputElement"))}),"\n                  "]})}),"\n                "),"\n                ",M.Raw('<span class="icon">%</span>'),"\n              "),"\n            "),"\n            ",M.INPUT({"class":"js-returns-slider",style:"display: none",type:"text",value:function(){return W.mustache(W.dot(t.lookup("_instance"),"projectedReturns","get"))}}),"\n            ",M.P({"class":"fee-form-caption"},"Before expenses, ",C.View("lookup:_projectedReturnsRange.min",function(){return W.mustache(W.dot(t.lookup("_projectedReturnsRange"),"min"))}),"% to ",C.View("lookup:_projectedReturnsRange.max",function(){return W.mustache(W.dot(t.lookup("_projectedReturnsRange"),"max"))}),"%."),"\n          "),"\n        "),"\n      "),"\n    "),"\n  ")}),V.__checkName("portfolioExpenseBreakdown"),V.portfolioExpenseBreakdown=new V("Template.portfolioExpenseBreakdown",function(){var t=this;return M.DIV({"class":"info-card"},"\n    ",C.If(function(){return W.call(t.lookup("isReady"))},function(){return["\n      ",C.If(function(){return W.call(t.lookup("invalidReason"))},function(){return["\n        ",M.H5({"class":"title"},"Breakdown"),"\n        ",M.DIV({"class":"invalid-expenses"},"\n          ",M.TABLE({"class":"vertical-align"},M.TBODY(M.TR(M.TD("\n            ",M.SPAN({"class":"glyphicon glyphicon-exclamation-sign"}),"\n            ",M.P(C.View("lookup:invalidReason",function(){return W.mustache(t.lookup("invalidReason"))})),"\n          ")))),"\n        "),"\n      "]},function(){return["\n        ",W.With(function(){return W.call(t.lookup("expensesBreakdown"))},function(){return["\n          ",M.DIV("\n            ",M.H5({"class":"title"},"Annual Breakdown"),"\n            ",M.P({"class":"expense-caption"},"For ",C.View("lookup:annualPeriod",function(){return W.mustache(t.lookup("annualPeriod"))}),M.SPAN({"class":"tight-hidden"},", starting with ",C.View("lookup:totalAmount",function(){return W.mustache(t.lookup("totalAmount"))}))),"\n              ",M.DIV({"class":function(){return W.mustache(t.lookup("label"))}},"\n                  ",M.Comment(" <p>{{formatDollars totalExpense.raw}}</p> "),"\n                  ",M.P({"class":"total-annualized colorcode-expense"},C.View("lookup:formatDollars",function(){return W.mustache(t.lookup("formatDollars"),W.dot(t.lookup("totalExpense"),"annualized"))})),"\n                  ",M.DIV({"class":"stem"}),"\n              "),"\n              ",C.Each(function(){return{_sequence:W.call(t.lookup("expenseComponents")),_variable:"comp"}},function(){return["\n                ",M.DIV({"class":function(){return["columns ",W.mustache(W.dot(t.lookup("comp"),"label"))]}},"\n                  ",M.DIV({"class":"branch"}),"\n                  ",M.P({"class":"item-amount colorcode-expense"},C.View("lookup:formatDollars",function(){return W.mustache(t.lookup("formatDollars"),W.dot(t.lookup("comp"),"value","annualized"),0,W.kw({currencyPrefix:!1}))})),"\n                  ",M.DIV({"class":"category-icon"}),"\n                  ",M.P({"class":"description"},C.View("lookup:comp.description",function(){return W.mustache(W.dot(t.lookup("comp"),"description"))})),"\n                  ",M.Comment(" <p>{{formatDollars value.raw}}</p> "),"\n                "),"\n              "]}),"\n          "),"\n          ",M.DIV({"class":"hover-info"},"\n            ",M.P({"class":"icon glyphicon glyphicon-info-sign"}),"\n            ",C.If(function(){return W.call(t.lookup("hasExpenseBreakdown"))},function(){return["\n              ",M.P("Estimated gross annual fee, assuming that you've bought and sold everything in this portfolio once during ",C.View("lookup:annualPeriod",function(){return W.mustache(t.lookup("annualPeriod"))}),".",M.SPAN({"class":"tight-hidden"},M.CharRef({html:"&nbsp;",str:" "}),"Please note Mgmt/Admin fees often change based on the annual performance.")),"\n              ",C.If(function(){return W.call(t.lookup("hasLoad"))},function(){return["\n                ",M.P("Total Front Load = ",M.EM(C.View("lookup:frontLoad",function(){return W.mustache(t.lookup("frontLoad"))}))),"\n                ",M.P("Total Back Load = ",M.EM(C.View("lookup:backLoad",function(){return W.mustache(t.lookup("backLoad"))}))),"\n              "]}),"\n            "]},function(){return["\n              ",M.P("No detailed fee breakdown available for this portfolio's holdings."),"\n            "]}),"\n          "),"\n        "]}),"\n      "]}),"\n    "]},function(){return["\n      ",M.TABLE({"class":"vertical-align"},M.TBODY(M.TR(M.TD("\n            ",W.include(t.lookupTemplate("loadingAnimation")),"\n      ")))),"\n    "]}),"\n  ")}),V.__checkName("portfolioExpenseProjection"),V.portfolioExpenseProjection=new V("Template.portfolioExpenseProjection",function(){var t=this;return M.DIV({"class":"info-card"},"\n    ",C.If(function(){return W.call(t.lookup("isReady"))},function(){return["\n      ",M.DIV("\n        ",M.H5({"class":"title"},C.View("lookup:holdingYears",function(){return W.mustache(t.lookup("holdingYears"))}),"-Year Projection"),"\n        ",C.If(function(){return W.call(t.lookup("invalidReason"))},function(){return["\n          ",M.DIV({"class":"projection-chart-overlay invalid-expenses"},"\n            ",M.TABLE({"class":"vertical-align"},M.TBODY(M.TR(M.TD("\n              ",M.SPAN({"class":"glyphicon glyphicon-exclamation-sign"}),"\n              ",M.P(C.View("lookup:invalidReason",function(){return W.mustache(t.lookup("invalidReason"))})),"\n            ")))),"\n          "),"\n        "]}),"\n        ",M.DIV({"class":"projection-chart-legend"},"\n          ",M.P({"class":"expense-caption"},"\n            ",C.If(function(){return W.call(t.lookup("invalidReason"))},function(){return["\n              ",M.CharRef({html:"&nbsp;",str:" "}),"\n            "]},function(){return["\n              ",M.SPAN({"class":"lost-total colorcode-expense"},C.View("lookup:formatPercent",function(){return W.mustache(t.lookup("formatPercent"),W.dot(t.lookup("_instance"),"returnsLoss","get"),1)})),"\n              ",C.If(function(){return W.call(t.lookup("isPositiveReturn"))},function(){return["\n                 of returns",M.SPAN({"class":"tight-hidden"},M.CharRef({html:"&nbsp;",str:" "}),"will be"),"\n                 ",M.A({"class":"js-fee-explanation fee-explanation","data-trigger":"manual","data-placement":"top",title:function(){return W.mustache(t.lookup("feeExplanation"))}},"lost",M.SPAN({"class":"tight-hidden"},M.CharRef({html:"&nbsp;",str:" "}),"to fees")),"\n              "]},function(){return["\n                 of loss",M.SPAN({"class":"tight-hidden"},M.CharRef({html:"&nbsp;",str:" "}),"will be")," ",M.A({"class":"js-fee-explanation","data-trigger":"manual","data-placement":"top",title:function(){return W.mustache(t.lookup("feeExplanation"))}},"due to fees"),"\n              "]}),"\n            "]}),"\n          "),"\n        "),"\n        ",M.DIV({"class":"projection-chart-wrapper"},"\n          ",M.DIV({"class":"js-projection-chart chart"}),"\n          ",C.Unless(function(){return W.call(t.lookup("invalidReason"))},function(){return["\n            ",M.P({"class":"legend colorcode-expense"},"Portfolio expenses: ",C.View("lookup:expenseNet",function(){return W.mustache(t.lookup("expenseNet"))})),"\n          "]}),"\n        "),"\n      "),"\n    "]},function(){return["\n      ",M.TABLE({"class":"vertical-align"},M.TBODY(M.TR(M.TD("\n            ",W.include(t.lookupTemplate("loadingAnimation")),"\n      ")))),"\n    "]}),"\n  ")})}.call(this),function(){H="object"==typeof H?H:{};var n=H,r,a,l;r=e.object(["marketing","management","load","other"],["12B-1","Mgmt\nAdmin","Sales\nLoad","Other"]),a={simulate:function(t,n,o,r){return e.map(n,function(n){var a,l,i,s,u,c,p,d;return u=e.isFinite(n.expenses.frontLoad)?t*n.weight*n.expenses.frontLoad:0,l=t*n.weight-u,d=e.reduce(e.range(1,r+1),function(t,e){return t+Math.pow(1+o,e)}),s=l*d,p=s*n.expenses.totalMaximum,i=e.isFinite(n.expenses.backLoad)?(s-p)*n.expenses.backLoad:0,a=s-i,c={frontLoad:u,annualExpense:p,backLoad:i,management:p*n.expenses.management/n.expenses.totalMaximum,marketing:p*n.expenses.marketing/n.expenses.totalMaximum,other:p*n.expenses.other/n.expenses.totalMaximum}})},afterExpenseGrowth:function(t,e){return e>=1?t-e:-1+(1+t)*(1-e)},project:function(t,n,o,r){var a,l,i,s,u,c,p,d,f,h,m;return p=a=t,l=this.afterExpenseGrowth(o,n),s=e.map(e.range(r+1),function(t){var e;return e={ideal:p,actual:a},p*=1+o,a*=1+l,e}),c=e.first(s),d=e.last(s),m=d.ideal-d.actual,u=d.ideal-c.ideal,i=d.actual-c.actual,f=0>i?u>=0?1:m/Math.abs(i):m/Math.abs(u),s=e.map(s,function(e,n){return{ideal:e.ideal,actual:e.actual,idx:n-1,base:t}}),s=e.last(s,e.size(s)-1),h={base:t,loss:f,bars:s}}},V.portfolioExpenses.onCreated(function(){return this.holdingYears=new F(30),this.projectedReturns=new F(.05)}),V.portfolioExpenses.helpers({_holdingYearsRange:function(){return ExpensesValidationSchema.schema("holdingYears")},_projectedReturnsRange:function(){return ExpensesValidationSchema.schema("projectedReturns")},_doc:function(){var t,e;return e=V.instance(),t={holdingYears:e.holdingYears.get(),projectedReturns:100*e.projectedReturns.get()}},_updateHoldingYears:function(){var t;return t=V.instance(),function(e,n,o){return t.holdingYears.set(parseInt(this.holdingYears)),Analytics.event(EVENT.PORTFOLIO.SET_HOLDING_PERIOD.INPUT)}},_updateProjectedReturns:function(){var t;return t=V.instance(),function(e,n,o){return t.projectedReturns.set(parseFloat(this.projectedReturns)/100),Analytics.event(EVENT.PORTFOLIO.SET_PROJECTED_RETURNS.INPUT)}}}),V.portfolioExpenses.events({"slide .js-period-slider":function(t,e){return e.$(".js-holding-period").val(t.value),e.holdingYears.set(t.value)},"slideStop .js-period-slider":function(t,e){return e.holdingYears.set(t.value),Analytics.event(EVENT.PORTFOLIO.SET_HOLDING_PERIOD.SLIDER)},"slide .js-returns-slider":function(t,e){return e.$(".js-assumed-returns").val(t.value),e.projectedReturns.set(t.value/100)},"slideStop .js-returns-slider":function(t,e){return e.projectedReturns.set(t.value/100),Analytics.event(EVENT.PORTFOLIO.SET_PROJECTED_RETURNS.SLIDER)}}),V.portfolioExpenses.onRendered(function(){return this.autorun(function(t){return function(){var e,n;return e=t.holdingYears.get(),t.periodSlider||(n=ExpensesValidationSchema.schema("holdingYears"),t.periodSlider=t.$(".js-period-slider").slider({min:n.min,max:n.max,value:e,tooltip:"hide"})),t.periodSlider.slider("setValue",e)}}(this)),this.autorun(function(t){return function(){var e,n;return e=t.projectedReturns.get(),t.returnsSlider||(n=ExpensesValidationSchema.schema("projectedReturns"),t.returnsSlider=t.$(".js-returns-slider").slider({min:n.min,max:n.max,value:100*e,tooltip:"hide"})),t.returnsSlider.slider("setValue",100*e)}}(this))}),V.portfolioExpenseBreakdown.helpers({expensesBreakdown:function(){var t,n,l,i,s,u,c,p,d,f;return t=V.currentData(),t.isReady&&t.holdingsWithExpenses&&e.isNumber(t.holdingYears)&&e.isNumber(t.projectedReturns)?(u=t.holdingsWithExpenses,c=t.portfolioAmount,i=t.holdingYears,s=a.simulate(c,u,t.projectedReturns,i),l=e.isEmpty(s)?null:!0,d=o.sum(s,function(t){return t.frontLoad+t.annualExpense+t.backLoad}),f=o.sum(s,function(t){return t.frontLoad}),p=o.sum(s,function(t){return t.backLoad}),n={hasExpenseBreakdown:l,totalAmount:o.formatDollars(c,0,{smartSuffix:!1}),annualPeriod:pluralize("year",i,!0),frontLoad:l&&o.formatDollars(f,0,{smartSuffix:!1}),backLoad:l&&o.formatDollars(p,0,{smartSuffix:!1}),hasLoad:p+f>0,totalExpense:{raw:l&&d,annualized:l&&d/i},expenseComponents:e.map(e.keys(r),function(t){var n,a;return a="load"===t?o.sum(s,function(t){return t.frontLoad+t.backLoad}):o.sum(e.pluck(s,t),e.identity),n={label:t,description:r[t],value:{raw:l&&a,annualized:l&&a/i}}})}):void 0}}),V.portfolioExpenseProjection.onCreated(function(){return this.returnsLoss=new F(null),this.returnsBars=new F(null)}),V.portfolioExpenseProjection.helpers({isPositiveReturn:function(){return this.projectedReturns>0},startAmount:function(){var t;return t=V.instance().returnsBars.get(),o.formatDollars(e.first(t).base,0,{smartSuffix:!1})},endAmount:function(){var t,n;return t=V.instance().returnsBars.get(),n=e.last(t),o.formatDollars(n.actual,0,{smartSuffix:!1})},assumedReturns:function(){var t;return t=this.projectedReturns,o.formatPercent(t,2)},expenseNet:function(){var t;return t=this.portfolioExpenseNet,o.formatPercent(t,2)},feeExplanation:function(){return""}}),l=function(t){var n,r,a,l;return(l=t.returnsBars.get())?(a=e.last(l),a.ideal>=a.base?(r="gain",n="but"):(r="lose",n="and"),"With user-specified projected returns,\nportfolio will "+r+" "+o.formatDollars(Math.abs(a.ideal-a.base),0,{smartSuffix:!1})+"\ndue to market movement in "+e.size(l)+" years, "+n+" will lose\n"+o.formatDollars(a.ideal-a.actual,0,{smartSuffix:!1})+" due to fees.\nExpenses approximate; past results do not predict future results."):""},V.portfolioExpenseProjection.events({"mouseenter .js-fee-explanation":function(t,e){return A(t.target).find(".tooltip").length?void 0:(A(t.target).tooltip({title:l(e)}),A(t.target).tooltip("show"))},"mouseleave .js-fee-explanation":function(t,e){return A(t.target).tooltip("destroy")},"mouseenter .js-actual-bar-wrapper, mouseleave .js-actual-bar-wrapper":function(t,e){return A(t.currentTarget).prev().children().trigger(t.type)}}),V.portfolioExpenseProjection.onRendered(function(){return this.autorun(function(e){return function(){var n,o,r,l,i,s,u;return o=V.currentData(),r=o.portfolioExpenseNet,s=o.projectedReturns,n=o.portfolioAmount,l=o.holdingYears,o.isReady?(i=a.project(n,r,s,l),u=e,t.defer(function(){return u.returnsLoss.set(i.loss),u.returnsBars.set(i.bars)})):void 0}}(this)),this.autorun(function(t){return function(){var n,r,a,l,i,s,u,c,p,d,f,h,m,g,k,v,b,w,_,T,P,x,R,D;return d=V.currentData(),i=t.returnsBars.get(),n=t.$(".js-projection-chart"),!d.invalidReason&&d.isReady&&i?0===e.size(n)?void AppState.set(APP_STATE.WINDOW_WIDTH,d.windowWidth):(n.empty(),w=[0,0],_=[0,25],x=e.map(i,function(t){return t.idx}),D=e.flatten([e.map(i,function(t){return t.ideal}),e.map(i,function(t){return t.actual}),0]),b=e.min(D),v=e.max(D),c=d3.select(n.get(0)),u=c.append("svg").attr("width",n.width()).attr("height",n.height()),P=n.width()-w[0]-w[1],h=n.height()-_[0]-_[1],a=d3.scale.linear().domain([b,v]).range([0,h]),r=d3.scale.ordinal().domain(x).rangeBands([0,P],.1),u=u.append("g").attr("transform","translate("+w[0]+", "+(h+_[0])+")"),R=a(0),p=u.append("g").attr("transform","scale(1, -1)"),s=p.selectAll("g.bucket").data(i).enter().append("g").attr("class","annual-bar").attr("transform",function(t,e){return"translate("+r(e)+", "+R+") scale("+r.rangeBand()+", 1)"}),k=function(t){return'<p class="years">'+(1+t.idx)+' Years</p>\n<p class="kept">Before expenses<br/>'+o.formatPercent(t.ideal/t.base,2)+'<p>\n<p class="kept amount">'+o.formatDollars(t.ideal,0,{smartSuffix:!1})+'<p>\n<p class="lost-text">After expenses<br/>'+o.formatPercent(t.actual/t.base,2)+'<p>\n<p class="lost-text amount">'+o.formatDollars(t.actual,0,{smartSuffix:!1})+"<p>"},m=s.append("g").attr("transform",function(t){return"translate(0, "+a(t.actual)+") scale(1, "+a(t.ideal-t.actual)+")"}).append("rect").attr("width",1).attr("height",1).attr("class","lost-bar").attr("data-toggle","tooltip").attr("data-container",".portfolio-expenses").attr("data-placement","top").attr("data-tooltip-style","tooltip-light-small").attr("data-html","true").attr("data-trigger","hover").attr("title",k),l=s.append("g").attr("class","js-actual-bar-wrapper").attr("transform",function(t){return"scale(1, "+a(t.actual)+")"}).append("rect").attr("width",1).attr("height",1).attr("class","actual-bar"),f=e.first(i),g=e.last(i),T=d.screenWidth>SM.SCREEN_SIZE.PHONE?15:20,u.append("svg:text").attr("class","label").attr("text-anchor","start").attr("transform","translate(0, "+T+")").text("Start "+o.formatDollars(f.base,0,{smartSuffix:!1})),u.append("svg:text").attr("class","label").attr("text-anchor","end").attr("transform","translate("+P+", "+T+")").text("End "+o.formatDollars(g.actual,0,{smartSuffix:!1})),t.$("[data-toggle=tooltip]").tooltip()):void 0}}(this))})}.call(this),"undefined"==typeof Package&&(Package={}),Package["lab80:sm-portfolio-components"]={UIHelpers:Y}}();

!function(){var a=Package.meteor.Meteor,t=Package.underscore._,e=Package["bigdata:elasticsearch"].ES,l=Package["meteorhacks:search-source"].SearchSource,c=Package["lab80:turtleboat"].TB,o=Package["lab80:turtleboat"].Util,b=Package["lab80:turtleboat"].Calculations,r=Package["lab80:turtleboat"].Discussions,k=Package["lab80:turtleboat"].Discussion,u=Package["lab80:turtleboat"].Portfolios,P=Package["lab80:turtleboat"].Portfolio,g=Package["lab80:turtleboat"].SecurityHelpers,s=Package["lab80:turtleboat"].Funds,i=Package["lab80:turtleboat"].Fund,n=Package["lab80:turtleboat"].FundThresholds,d=Package["lab80:turtleboat"].BenchmarkFunds,h=Package["lab80:turtleboat"].FundTypes,m=Package["lab80:turtleboat"].Stocks,S=Package["lab80:turtleboat"].Stock,f=Package["lab80:turtleboat"].StockThresholds,y=Package["lab80:turtleboat"].AutocompleteSecurities,F=Package["lab80:turtleboat"].WeightedBenchmark,T=Package["lab80:turtleboat"].Users,p=Package["lab80:turtleboat"].User,C=Package["lab80:turtleboat"].Designs,R=Package["lab80:turtleboat"].Comments,B=Package["lab80:turtleboat"].CustomHistory,D=Package["lab80:turtleboat"].RedditLinks,U=Package["lab80:turtleboat"].RedditPosts,H=Package["lab80:turtleboat"].RedditPost,M=Package["lab80:turtleboat"].RedditComments,v=Package["lab80:turtleboat"].International,A=Package["lab80:turtleboat"].PortfolioSummaryTags,E=Package.check.check,I=Package.check.Match;"undefined"==typeof Package&&(Package={}),Package["lab80:search"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n=Package.session.Session,r=Package.tracker.Tracker,c=Package.tracker.Deps,a=Package["accounts-base"].Accounts,o=Package["accounts-base"].AccountsClient,i;(function(){e.startup(function(){var e,t=i.minimumUserInfo(),n=t&&t.app_id;e=n?"https://widget.intercom.io/widget/"+n:"https://static.intercomcdn.com/intercom.v1.js",function(){function t(){var t=c.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var n=c.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}var n=window,r=n.Intercom;if("function"==typeof r)r("reattach_activator"),r("update",intercomSettings);else{var c=document,a=function(){a.c(arguments)};a.q=[],a.c=function(e){a.q.push(e)},n.Intercom=a,t()}}()})}).call(this),function(){var n=!1;e.startup(function(){e._get(e,"settings","public","intercom","id")||console.warn("You must set Meteor.settings.public.intercom.id to use percolate:intercom")}),e.subscribe("currentUserIntercomHash");var c=function(n){var r={app_id:e._get(e,"settings","public","intercom","id")};return n&&t.extend(r,{user_id:n._id,created_at:Math.round(n.createdAt/1e3),user_hash:n.intercomHash}),r};i={minimumUserInfo:c};var a=!1;e.startup(function(){r.autorun(function(){var t=e.user(),n=i.minimumUserInfo(t),r;if(t){if(i.userInfo&&(r=i.userInfo(t,n),r===!1))return}else{if(e._get(e,"settings","public","intercom","allowAnonymous")!==!0)return a=!1,Intercom("shutdown");if(i.anonymousInfo&&(r=i.anonymousInfo(n),r===!1))return}if(n){var c=a?"update":"boot";Intercom(c,n),a=!0}})})}.call(this),"undefined"==typeof Package&&(Package={}),Package["verso:intercom"]={IntercomSettings:i}}();

!function(){var e=Package.meteor.Meteor,a;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:async"]={Async:a}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n;(function(){n={_isCssLoaded:function(){return 0===document.styleSheets.length?!0:t.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!t.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.webapp={WebApp:n}}();

!function(){var e=Package.meteor.Meteor,a=Package["ddp-client"].DDP,a,t;"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:a,LivedataTest:t}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["hot-code-push"]={}}();

!function(){var e=Package.meteor.Meteor,n;(function(){var a=0,r=!1;n={hold:function(){if(!e.isCordova)return{release:function(){}};if(r)throw new Error("Can't show launch screen once it's hidden");a++;var n=!1,t=function(){e.isCordova&&(n||(a--,0===a&&"undefined"!=typeof navigator&&navigator.splashscreen&&(r=!0,navigator.splashscreen.hide())))};return{release:t}}}}).call(this),function(){var a=n.hold(),r=Package.templating&&Package.templating.Template;e.startup(function(){r?Package["iron:router"]?Package["iron:router"].Router.onAfterAction(function(){a.release()}):(r.body.onRendered(function(){a.release()}),setTimeout(function(){a.release()},6e3)):a.release()})}.call(this),"undefined"==typeof Package&&(Package={}),Package["launch-screen"]={LaunchScreen:n}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,a=Package.retry.Retry,r=Package["ddp-client"].DDP,o=Package.mongo.Mongo,i=Package.underscore._,s,c;(function(){var t=__meteor_runtime_config__.autoupdateVersion||"unknown",n=__meteor_runtime_config__.autoupdateVersionRefreshable||"unknown";s=new o.Collection("meteor_autoupdate_clientVersions"),c={},c.newClientAvailable=function(){return!!s.findOne({_id:"version",version:{$ne:t}})||!!s.findOne({_id:"version-refreshable",version:{$ne:n}})},c._ClientVersions=s;var r=!1,u=new a({minCount:0,baseTimeout:3e4}),l=0;c._retrySubscription=function(){e.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){e._debug("autoupdate subscription failed:",t),l++,u.retryLater(l,function(){c._retrySubscription()})},onReady:function(){if(Package.reload)var a=function(a){var s=this;if("version-refreshable"===a._id&&a.version!==n){n=a.version;var c=a.assets&&a.assets.allCss||[],u=[];i.each(document.getElementsByTagName("link"),function(e){"__meteor-css__"===e.className&&u.push(e)});var l=function(t,n){var a=i.once(n);if(t.onload=function(){r=!0,a()},!r)var o=e.setInterval(function(){t.sheet&&(a(),e.clearInterval(o))},50)},d=i.after(c.length,function(){i.each(u,function(e){e.parentNode.removeChild(e)})}),_=function(t){document.getElementsByTagName("head").item(0).appendChild(t),l(t,function(){e.setTimeout(d,200)})};0!==c.length?i.each(c,function(t){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("class","__meteor-css__"),n.setAttribute("href",e._relativeToSiteRootUrl(t.url)),_(n)}):d()}else"version"===a._id&&a.version!==t&&(o&&o.stop(),Package.reload&&Package.reload.Reload._reload())},o=s.find().observe({added:a,changed:a})}})},c._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),Package.autoupdate={Autoupdate:c}}();

ReactiveVar=Package["reactive-var"].ReactiveVar,ReactiveDict=Package["reactive-dict"].ReactiveDict,sorttable=Package["shilman:sorttable"].sorttable,Kadira=Package["meteorhacks:kadira"].Kadira,_s=Package["practicalmeteor:underscore.string"]._s,HTTP=Package.http.HTTP,OnWakeup=Package["lab80:onwakeup"].OnWakeup,IRLibLoader=Package["woogenius:wait-on-lib"].IRLibLoader,PseudoSub=Package["lab80:pseudo-sub"].PseudoSub,QueryManager=Package["lab80:query-manager"].QueryManager,ES=Package["bigdata:elasticsearch"].ES,SearchSource=Package["meteorhacks:search-source"].SearchSource,Analytics=Package["lab80:meteor-analytics"].Analytics,Picker=Package["meteorhacks:picker"].Picker,TB=Package["lab80:turtleboat"].TB,Util=Package["lab80:turtleboat"].Util,Calculations=Package["lab80:turtleboat"].Calculations,Discussions=Package["lab80:turtleboat"].Discussions,Discussion=Package["lab80:turtleboat"].Discussion,Portfolios=Package["lab80:turtleboat"].Portfolios,Portfolio=Package["lab80:turtleboat"].Portfolio,SecurityHelpers=Package["lab80:turtleboat"].SecurityHelpers,Funds=Package["lab80:turtleboat"].Funds,Fund=Package["lab80:turtleboat"].Fund,FundThresholds=Package["lab80:turtleboat"].FundThresholds,BenchmarkFunds=Package["lab80:turtleboat"].BenchmarkFunds,FundTypes=Package["lab80:turtleboat"].FundTypes,Stocks=Package["lab80:turtleboat"].Stocks,Stock=Package["lab80:turtleboat"].Stock,StockThresholds=Package["lab80:turtleboat"].StockThresholds,AutocompleteSecurities=Package["lab80:turtleboat"].AutocompleteSecurities,WeightedBenchmark=Package["lab80:turtleboat"].WeightedBenchmark,Users=Package["lab80:turtleboat"].Users,User=Package["lab80:turtleboat"].User,Designs=Package["lab80:turtleboat"].Designs,Comments=Package["lab80:turtleboat"].Comments,CustomHistory=Package["lab80:turtleboat"].CustomHistory,RedditLinks=Package["lab80:turtleboat"].RedditLinks,RedditPosts=Package["lab80:turtleboat"].RedditPosts,RedditPost=Package["lab80:turtleboat"].RedditPost,RedditComments=Package["lab80:turtleboat"].RedditComments,International=Package["lab80:turtleboat"].International,PortfolioSummaryTags=Package["lab80:turtleboat"].PortfolioSummaryTags,Roles=Package["alanning:roles"].Roles,ErrorLogger=Package["lab80:error-logger"].ErrorLogger,Markdown=Package["perak:markdown"].Markdown,Avatar=Package["utilities:avatar"].Avatar,FastRender=Package["meteorhacks:fast-render"].FastRender,__init_fast_render=Package["meteorhacks:fast-render"].__init_fast_render,SubsManager=Package["meteorhacks:subs-manager"].SubsManager,Injected=Package["meteorhacks:inject-initial"].Injected,Inject=Package["meteorhacks:inject-initial"].Inject,livestamp=Package["copleykj:livestamp"].livestamp,FlowRouter=Package["kadira:flow-router"].FlowRouter,BlazeLayout=Package["kadira:blaze-layout"].BlazeLayout,Mongo=Package.mongo.Mongo,Session=Package.session.Session,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Tracker=Package.tracker.Tracker,Deps=Package.tracker.Deps,Log=Package.logging.Log,Reload=Package.reload.Reload,Random=Package.random.Random,EJSON=Package.ejson.EJSON,Spacebars=Package.spacebars.Spacebars,check=Package.check.check,Match=Package.check.Match,SM=Package["lab80:sm-globals"].SM,UIHelpers=Package["lab80:sm-portfolio-components"].UIHelpers,moment=Package["momentjs:moment"].moment,IntercomSettings=Package["verso:intercom"].IntercomSettings,Accounts=Package["accounts-base"].Accounts,AccountsClient=Package["accounts-base"].AccountsClient,Async=Package["meteorhacks:async"].Async,SimpleSchema=Package["aldeed:simple-schema"].SimpleSchema,MongoObject=Package["aldeed:simple-schema"].MongoObject,Meteor=Package.meteor.Meteor,WebApp=Package.webapp.WebApp,_=Package.underscore._,DDP=Package["ddp-client"].DDP,LaunchScreen=Package["launch-screen"].LaunchScreen,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Template=Package.templating.Template,Autoupdate=Package.autoupdate.Autoupdate,HTML=Package.htmljs.HTML;

(function(){Template.__checkName("markdownWithCleanLink"),Template.markdownWithCleanLink=new Template("Template.markdownWithCleanLink",function(){var e=this;return Spacebars.include(e.lookupTemplate("markdown"),function(){return Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})})})})}).call(this);

(function(){Template.__checkName("simpleForm"),Template.simpleForm=new Template("Template.simpleForm",function(){var e=this;return Blaze._TemplateWith(function(){return{"class":Spacebars.call(e.lookup("class")),schema:Spacebars.call(e.lookup("schema")),data:Spacebars.call(e.lookup("data")),doc:Spacebars.call(e.lookup("doc")),root:Spacebars.call(e.lookup("root")),action:Spacebars.call(e.lookup("action")),status:Spacebars.call(e.lookup("status")),weightType:Spacebars.call(e.lookup("weightType")),groupId:Spacebars.call(e.lookup("groupId"))}},function(){return Spacebars.include(e.lookupTemplate("wrapperFormBlock"),function(){return["\n    ",Blaze._InOuterTemplateScope(e,function(){return Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})})}),"\n  "]})})}),Template.__checkName("wrapperFormBlock"),Template.wrapperFormBlock=new Template("Template.wrapperFormBlock",function(){var e=this;return HTML.FORM(HTML.Attrs({"class":function(){return Spacebars.mustache(e.lookup("class"))},onsubmit:"return false;"},function(){return Spacebars.attrMustache(e.lookup("attrs"))}),"\n    ",Blaze._InOuterTemplateScope(e,function(){return Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup("data")),context:Spacebars.call(e.lookup("context")),root:Spacebars.call(e.lookup("root")),weightType:Spacebars.call(e.lookup("weightType")),groupId:Spacebars.call(e.lookup("groupId"))}},function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})})}),"\n  ")}),Template.__checkName("simpleInput"),Template.simpleInput=new Template("Template.simpleInput",function(){var e=this;return Blaze._TemplateWith(function(){return{schema:Spacebars.call(e.lookup("schema")),data:Spacebars.call(e.lookup("data")),context:Spacebars.call(e.lookup("context")),id:Spacebars.call(e.lookup("id")),"class":Spacebars.call(e.lookup("class")),title:Spacebars.call(e.lookup("label")),field:Spacebars.call(e.lookup("field")),type:Spacebars.call(e.lookup("type")),placeholder:Spacebars.call(e.lookup("placeholder")),hint:Spacebars.call(e.lookup("hint")),rows:Spacebars.call(e.lookup("rows")),disabled:Spacebars.call(e.lookup("disabled"))}},function(){return Spacebars.include(e.lookupTemplate("simpleInputElement"))})}),Template.__checkName("simpleInputElement"),Template.simpleInputElement=new Template("Template.simpleInputElement",function(){var e=this;return HTML.DIV({"class":"reactive-input-container"},"\n    ",HTML.DIV({"class":function(){return["form-group ",Blaze.If(function(){return Spacebars.call(e.lookup("changed"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("errorMessage"))},function(){return"has-error"})})]}},"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("title"))},function(){return HTML.LABEL({"class":"control-label","for":function(){return Spacebars.mustache(e.lookup("id"))}},Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))}))}),"\n\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("rows"))},function(){return["\n      ",HTML.TEXTAREA({name:function(){return Spacebars.mustache(e.lookup("field"))},id:function(){return Spacebars.mustache(e.lookup("id"))},placeholder:function(){return Spacebars.mustache(e.lookup("placeholder"))},autocomplete:"off","class":function(){return["js-field reactive-element form-control ",Spacebars.mustache(e.lookup("class"))]},rows:function(){return Spacebars.mustache(e.lookup("rows"))},"data-org":function(){return Spacebars.mustache(e.lookup("value"))},disabled:function(){return Spacebars.mustache(e.lookup("disabled"))},value:function(){return Spacebars.mustache(e.lookup("value"))}}),"\n      "]},function(){return["\n      ",HTML.INPUT({type:function(){return Spacebars.mustache(e.lookup("type"))},name:function(){return Spacebars.mustache(e.lookup("field"))},id:function(){return Spacebars.mustache(e.lookup("id"))},placeholder:function(){return Spacebars.mustache(e.lookup("placeholder"))},autocomplete:"off","class":function(){return["js-field reactive-element form-control ",Spacebars.mustache(e.lookup("class"))]},"data-org":function(){return Spacebars.mustache(e.lookup("value"))},disabled:function(){return Spacebars.mustache(e.lookup("disabled"))},value:function(){return Spacebars.mustache(e.lookup("value"))}}),"\n      "]}),"\n\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("changed"))},function(){return["\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("errorMessage"))},function(){return["\n          ",HTML.SPAN({"class":"help-block"},Blaze.View("lookup:errorMessage",function(){return Spacebars.mustache(e.lookup("errorMessage"))})),"\n        "]},function(){return["\n          ",Blaze.If(function(){return Spacebars.call(e.lookup("hint"))},function(){return HTML.SPAN({"class":"hint-block"},Blaze.View("lookup:hint",function(){return Spacebars.mustache(e.lookup("hint"))}))}),"\n        "]}),"\n      "]},function(){return["\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("hint"))},function(){return HTML.SPAN({"class":"hint-block"},Blaze.View("lookup:hint",function(){return Spacebars.mustache(e.lookup("hint"))}))}),"\n      "]}),"\n    "),"\n  ")}),Template.__checkName("transformInput"),Template.transformInput=new Template("Template.transformInput",function(){var e=this;return Blaze._TemplateWith(function(){return{schema:Spacebars.call(e.lookup("schema")),data:Spacebars.call(e.lookup("data")),context:Spacebars.call(e.lookup("context")),transformed:Spacebars.call(e.lookup("transformed")),disabled:Spacebars.call(e.lookup("disabled")),hidden:Spacebars.call(e.lookup("hidden")),id:Spacebars.call(e.lookup("id")),"class":Spacebars.call(e.lookup("class")),title:Spacebars.call(e.lookup("label")),field:Spacebars.call(e.lookup("field")),type:Spacebars.call(e.lookup("type")),placeholder:Spacebars.call(e.lookup("placeholder")),hint:Spacebars.call(e.lookup("hint")),rows:Spacebars.call(e.lookup("rows"))}},function(){return Spacebars.include(e.lookupTemplate("complexInputElement"))})}),Template.__checkName("complexInputElement"),Template.complexInputElement=new Template("Template.complexInputElement",function(){var e=this;return HTML.DIV({"class":"reactive-input-container"},"\n    ",HTML.DIV({"class":function(){return["form-group ",Blaze.If(function(){return Spacebars.call(e.lookup("changed"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("errorMessage"))},function(){return"has-error"})})]}},"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("title"))},function(){return HTML.LABEL({"class":"control-label","for":function(){return Spacebars.mustache(e.lookup("id"))}},Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))}))}),"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("rows"))},function(){return["\n      ",HTML.TEXTAREA({name:function(){return Spacebars.mustache(e.lookup("field"))},id:function(){return Spacebars.mustache(e.lookup("id"))},rows:function(){return Spacebars.mustache(e.lookup("rows"))},placeholder:function(){return Spacebars.mustache(e.lookup("placeholder"))},disabled:function(){return Spacebars.mustache(e.lookup("disabled"))},autocomplete:"off","class":function(){return["js-field reactive-element form-control ",Spacebars.mustache(e.lookup("class"))," ",Blaze.If(function(){return Spacebars.call(e.lookup("hidden"))},function(){return"hidden"})]},"data-org":function(){return Spacebars.mustache(e.lookup("transformed"))},value:function(){return Spacebars.mustache(e.lookup("transformed"))}}),"\n      "]},function(){return["\n      ",HTML.INPUT({type:function(){return Spacebars.mustache(e.lookup("type"))},name:function(){return Spacebars.mustache(e.lookup("field"))},id:function(){return Spacebars.mustache(e.lookup("id"))},placeholder:function(){return Spacebars.mustache(e.lookup("placeholder"))},disabled:function(){return Spacebars.mustache(e.lookup("disabled"))},autocomplete:"off","class":function(){return["js-field reactive-element form-control ",Spacebars.mustache(e.lookup("class"))," ",Blaze.If(function(){return Spacebars.call(e.lookup("hidden"))},function(){return"hidden"})]},"data-org":function(){return Spacebars.mustache(e.lookup("transformed"))},value:function(){return Spacebars.mustache(e.lookup("transformed"))}}),"\n      "]}),"\n\n      ",Blaze.Unless(function(){return Spacebars.call(e.lookup("hidden"))},function(){return["\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("changed"))},function(){return["\n          ",Blaze.If(function(){return Spacebars.call(e.lookup("errorMessage"))},function(){return["\n            ",HTML.SPAN({"class":"help-block"},Blaze.View("lookup:errorMessage",function(){return Spacebars.mustache(e.lookup("errorMessage"))})),"\n          "]},function(){return["\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("hint"))},function(){return HTML.SPAN({"class":"hint-block"},Blaze.View("lookup:hint",function(){return Spacebars.mustache(e.lookup("hint"))}))}),"\n          "]}),"\n        "]},function(){return["\n          ",Blaze.If(function(){return Spacebars.call(e.lookup("hint"))},function(){return HTML.SPAN({"class":"hint-block"},Blaze.View("lookup:hint",function(){return Spacebars.mustache(e.lookup("hint"))}))}),"\n        "]}),"\n      "]}),"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("alertList"),Template.alertList=new Template("Template.alertList",function(){var e=this;return HTML.DIV({"class":"alerts"},"\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("alerts"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("alertItem")),"\n    "]}),"\n  ")}),Template.__checkName("alertItem"),Template.alertItem=new Template("Template.alertItem",function(){var e=this;return HTML.DIV({"class":function(){return["js-alert-",Spacebars.mustache(e.lookup("_id"))," alert fade in ",Spacebars.mustache(e.lookup("kind"))]}},HTML.Raw('\n    <button type="button" class="close" data-dismiss="alert">&times;</button>\n    '),Blaze.View("lookup:message",function(){return Spacebars.mustache(e.lookup("message"))}),"\n  ")})}).call(this);

(function(){Template.__checkName("footer"),Template.footer=new Template("Template.footer",function(){var e=this;return HTML.DIV({"class":"area footer"},"\n    ",HTML.DIV({"class":"container page-width"},"\n      ",HTML.H3("Made in San Francisco and Seoul by ",Blaze._TemplateWith(function(){return{url:Spacebars.call("/about")}},function(){return Spacebars.include(e.lookupTemplate("routerGo"),function(){return"Lab80"})})),"\n      ",Blaze._TemplateWith(function(){return{url:Spacebars.call("/privacy")}},function(){return Spacebars.include(e.lookupTemplate("routerGo"),function(){return"Privacy"})}),HTML.Raw("&nbsp;"),"•",HTML.Raw("&nbsp;"),Blaze._TemplateWith(function(){return{url:Spacebars.call("/terms-of-service")}},function(){return Spacebars.include(e.lookupTemplate("routerGo"),function(){return"Terms of Service"})}),HTML.Raw("&nbsp;"),"•",HTML.Raw("&nbsp;"),HTML.Raw('<span class="desktop">Contact:&nbsp;</span>'),HTML.Raw('<a href="mailto:hellomoney@lab80.co">hellomoney@lab80.co</a>'),"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("headerHero"),Template.headerHero=new Template("Template.headerHero",function(){var e=this;return HTML.HEADER({"class":"navbar navbar-fixed-top hero",role:"navigation"},"\n    ",HTML.DIV({"class":"container page-width"},"\n      ",HTML.DIV({"class":"parent"},"\n        ",HTML.DIV({"class":"actions"},"\n          ",HTML.UL({"class":"nav navbar-left"},"\n            ",HTML.LI(Blaze._TemplateWith(function(){return{url:Spacebars.call("/discover")}},function(){return Spacebars.include(e.lookupTemplate("routerGo"),function(){return"Discover"})})),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return["\n            ",HTML.LI({"class":""},HTML.A({href:"#","class":"js-new-portfolio-btn new"},"New",HTML.CharRef({html:"&nbsp;",str:" "}),"Portfolio")),"\n            "]}),"\n          "),"\n          ",Blaze._TemplateWith(function(){return{placeholder:Spacebars.call("Create a portfolio from 24,000+ funds and stocks")}},function(){return Spacebars.include(e.lookupTemplate("startNewPortfolioHeaderTypeahead"))}),"\n          ",Spacebars.include(e.lookupTemplate("headerRightSide")),"\n        "),"\n        ",Spacebars.include(e.lookupTemplate("logoLink")),"\n      "),"\n    "),"\n  ")}),Template.__checkName("headerPortfolio"),Template.headerPortfolio=new Template("Template.headerPortfolio",function(){var e=this;return HTML.HEADER({"class":"navbar navbar-fixed-top js-navbar",role:"navigation"},"\n    ",HTML.DIV({"class":"container page-width"},"\n      ",HTML.DIV({"class":"parent"},"\n        ",HTML.DIV({"class":"actions"},"\n          ",HTML.UL({"class":"nav navbar-left"},"\n            ",Blaze._TemplateWith(function(){return{root:Spacebars.call(e.lookup("root"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioHeaderExtras"))}),"\n            ",HTML.Raw('<li class=""><button class="js-new-portfolio-btn btn btn-default navbar-btn" title="New Portfolio" alt="New Portfolio"><span class="icon glyphicon glyphicon-pencil"></span><span class="btn-text">New&nbsp;Portfolio</span></button></li>'),"\n          "),"\n          ",Spacebars.include(e.lookupTemplate("headerRightSide")),"\n        "),"\n        ",Spacebars.include(e.lookupTemplate("logoLink")),"\n      "),"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("addHoldingTypeahead"),Template.addHoldingTypeahead=new Template("Template.addHoldingTypeahead",function(){var e=this;return HTML.LI({"class":"holding-search-wrapper js-holding-search-wrapper"},"\n    ",HTML.DIV({"class":"js-holding-search shaded padded"},"\n      ",Blaze._TemplateWith(function(){return{portfolio:Spacebars.call(e.lookup("portfolio")),groupId:Spacebars.call(e.lookup("groupId")),searchedHolding:Spacebars.call(e.lookup("searchedHolding")),weightType:Spacebars.call(e.lookup("weightType")),placeholder:Spacebars.call("Add a holding...")}},function(){return Spacebars.include(e.lookupTemplate("typeaheadInput"))}),"\n      ",HTML.DIV({"class":"col weight"},"\n        ",HTML.DIV({"class":function(){return["input-with-icon tight ",Blaze.If(function(){return Spacebars.call(e.lookup("isWeightPercent"))},function(){return"right-icon"},function(){return"left-icon"})]}},"\n          ",HTML.FORM({"class":"js-typeahead-weight-form"},"\n            ",Blaze._TemplateWith(function(){return{schema:Spacebars.call("HoldingValidationSchema"),field:Spacebars.call("weight"),hint:Spacebars.call("Press Enter"),"class":Spacebars.call("js-weight input-tight form-control press-enter"),disabled:Spacebars.call(e.lookup("isHoldingSelected")),hidden:Spacebars.call(e.lookup("isWeightAmount"))}},function(){return Spacebars.include(e.lookupTemplate("transformInput"))}),"\n            ",Blaze._TemplateWith(function(){return{schema:Spacebars.call("HoldingValidationSchema"),field:Spacebars.call("amount"),hint:Spacebars.call("Press Enter"),"class":Spacebars.call("js-amount input-tight form-control press-enter"),disabled:Spacebars.call(e.lookup("isHoldingSelected")),hidden:Spacebars.call(e.lookup("isWeightPercent"))}},function(){return Spacebars.include(e.lookupTemplate("transformInput"))}),"\n            ",HTML.SPAN({"class":"icon"},Blaze.View("lookup:weightUnit",function(){return Spacebars.mustache(e.lookup("weightUnit"))})),"\n          "),"\n        "),"\n      "),"\n      ",HTML.Raw('<a class="js-placeholder-holding-link placeholder-holding">Add cash or custom holding</a>'),"\n    "),"\n  ")}),Template.__checkName("typeaheadInput"),Template.typeaheadInput=new Template("Template.typeaheadInput",function(){var e=this;return HTML.FORM({"class":"typeahead",onsubmit:"return false;"},"\n    ",HTML.DIV({"class":"input-with-icon base left-icon"},"\n      ",HTML.INPUT({type:"text","class":"form-control typeahead input-base",name:"funds",autocomplete:"off",spellcheck:"off",placeholder:function(){return Spacebars.mustache(e.lookup("placeholder"))}}),"\n      ",HTML.Raw('<span class="icon"><span class="glyphicon glyphicon-search"></span></span>'),"\n    "),"\n  ")}),Template.__checkName("fundResult"),Template.fundResult=new Template("Template.fundResult",function(){var e=this;return HTML.LI("\n    ",HTML.A({"class":"result-item js-typeahead-result"},"\n      ",HTML.SPAN({"class":"symbol",style:function(){return["background: ",Spacebars.mustache(e.lookup("symbolColor"))]}},Blaze.View("lookup:symbol",function(){return Spacebars.mustache(e.lookup("symbol"))})),"\n      ",HTML.SPAN({"class":"name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n    "),"\n  ")}),Template.__checkName("emptyResult"),Template.emptyResult=new Template("Template.emptyResult",function(){var e=this;return HTML.LI({"class":"result-item no-result"},'No results found for: "',Blaze.View("lookup:query",function(){return Spacebars.mustache(e.lookup("query"))}),'"')}),Template.__checkName("startNewPortfolioHeaderTypeahead"),Template.startNewPortfolioHeaderTypeahead=new Template("Template.startNewPortfolioHeaderTypeahead",function(){var e=this;return HTML.DIV({"class":"search-wrapper"},"\n    ",HTML.FORM({"class":"typeahead"},"\n      ",HTML.DIV({"class":"input-with-icon base left-icon"},"\n        ",HTML.INPUT({type:"text","class":"form-control typeahead input-base",name:"funds",autocomplete:"off",spellcheck:"off",placeholder:function(){return Spacebars.mustache(e.lookup("placeholder"))}}),"\n        ",HTML.Raw('<span class="icon"><span class="glyphicon glyphicon-search"></span></span>'),"\n      "),"\n    "),"\n  ")}),Template.__checkName("startNewPortfolioHeadline"),Template.startNewPortfolioHeadline=new Template("Template.startNewPortfolioHeadline",function(){var e=this;return HTML.FORM({"class":"typeahead"},"\n    ",HTML.DIV({"class":"input-with-icon lg left-icon"},"\n      ",HTML.INPUT({type:"text","class":"form-control typeahead input-lg active",name:"funds",autocomplete:"off",spellcheck:"off",placeholder:function(){return Spacebars.mustache(e.lookup("placeholder"))}}),"\n      ",HTML.Raw('<span class="icon"><span class="glyphicon glyphicon-search"></span></span>'),"\n    "),"\n  ")})}).call(this);

(function(){Template.body.addContent(function(){var t=this;return""}),Meteor.startup(Template.body.renderToDocument)}).call(this);

(function(){Template.__checkName("logoSearch"),Template.logoSearch=new Template("Template.logoSearch",function(){var c=this;return HTML.A({href:"/search","class":"link"},HTML.Raw("\n    <!-- Full logo-->\n    "),HTML.SVG({version:"1.1","class":"vector full",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"200px",height:"54.333px",viewBox:"0 0 200 54.333","enable-background":"new 0 0 200 54.333","xml:space":"preserve"},"\n    ",HTML.PATH({"class":"shadow",d:"M198.538,28.473c-0.646-1.207-1.858-1.958-3.164-1.958c-0.382,0-0.76,0.066-1.12,0.193\n    c0.37-1.69,0.956-4.268,1.304-4.839l0.025-0.036c0.874-1.29,0.975-2.85,0.271-4.176c-1.283-2.419-4.669-3.065-6.467-3.065\n    c-1.822,0-3.317,0.564-4.255,1.596c-1.728-1.309-4.091-1.456-5.061-1.456c-1.327,0-3.173,0.264-4.429,1.52\n    c-0.302,0.302-0.628,0.819-0.972,1.539c-1.163-1.58-2.887-2.677-4.915-3.113c-0.768-0.174-1.558-0.262-2.345-0.262\n    c-3.464,0-6.656,1.597-9.051,4.512c-0.224-0.592-0.517-1.13-0.874-1.605c-1.131-1.504-2.882-2.332-4.93-2.332\n    c-1.142,0-2.303,0.376-3.452,1.119c-1.723-1.24-4.014-1.378-4.944-1.378c-1.317,0-3.152,0.259-4.418,1.494l-0.082,0.083\n    c-0.354,0.376-0.716,0.985-1.103,1.856c-0.26-0.474-0.558-0.905-0.89-1.285c-1.095-1.255-2.55-1.946-4.095-1.946\n    c-0.388,0-0.779,0.044-1.162,0.131c-0.782,0.176-1.521,0.507-2.199,0.985c-0.809-0.707-1.789-1.094-2.787-1.094\n    c-2.063,0-4.227,1.378-6.142,3.895c-0.22-0.562-0.503-1.074-0.844-1.528c-1.131-1.504-2.882-2.332-4.93-2.332\n    c-1.566,0-3.151,0.7-4.718,2.083c-0.023-0.027-0.046-0.054-0.069-0.081c-0.798-0.914-2.257-2.003-4.678-2.003\n    c-1.142,0-2.303,0.376-3.452,1.119c-1.723-1.24-4.014-1.378-4.944-1.378c-1.317,0-3.152,0.259-4.418,1.493l-0.039,0.038\n    l-0.047,0.049c-0.465,0.493-0.976,1.462-1.523,2.887c-0.366-1.114-0.886-2.06-1.551-2.822c-1.095-1.255-2.55-1.946-4.095-1.946\n    c-0.388,0-0.779,0.044-1.162,0.131c-0.783,0.176-1.521,0.508-2.199,0.985c-0.809-0.707-1.788-1.094-2.787-1.094\n    c-1.657,0-3.407,0.911-5.031,2.595c1.331-4.058,2.57-7.007,2.917-7.539C78.59,8.217,78.698,6.656,78,5.339\n    c-1.143-2.155-4.015-2.922-6.322-2.922c-1.317,0-3.156,0.263-4.441,1.517c-0.096,0.096-0.193,0.214-0.294,0.356\n    c-1.755-1.732-4.649-1.873-5.535-1.873c-1.317,0-3.152,0.259-4.418,1.494l-0.025,0.025c-1.102,1.102-3.115,6.609-4.754,12.96\n    c-1.15-1.367-2.761-2.322-4.605-2.719c-0.767-0.174-1.558-0.262-2.345-0.262c-3.227,0-6.17,1.413-8.439,3.833\n    c1.249-4.23,2.527-7.598,2.937-8.26c0.832-1.29,0.91-2.836,0.204-4.131c-1.163-2.135-4.03-2.895-6.325-2.895\n    c-1.351,0-3.224,0.268-4.471,1.547c-0.104,0.104-0.21,0.237-0.321,0.401c-0.489-0.526-1.137-0.991-1.933-1.386\n    c-1.225-0.609-2.599-0.945-3.867-0.945c-6.51,0-8.971,8.313-10.257,14.565c-0.184,0.918-0.376,2.121-0.598,3.514L12.19,20.17\n    c-6.075,2.179-9.695,7.044-9.695,13.048c0,3.756,2.615,7.546,8.458,7.546c5.802,0,9.63-4.2,11.378-12.485\n    c0.173-0.011,0.345-0.025,0.514-0.04c-0.806,9.09,0.668,15.893,4.384,20.228c2.937,3.426,7.121,5.163,12.434,5.163\n    c3.607,0,6.807-0.929,10.194-1.913c3.648-1.059,7.421-2.154,12.1-2.154c1.212,0,1.768,0.129,1.985,0.202\n    c0.634,1.439,2.096,2.397,3.682,2.397c1.272,0,2.476-0.612,3.22-1.636c0.818-1.069,1.253-2.413,1.253-3.883\n    c0-2.666-1.015-4.972-2.729-6.649c1.279-0.415,2.528-1.136,3.734-2.17c1.638,1.604,3.727,2.45,6.059,2.45\n    c3.784,0,7.433-2.117,9.914-5.708c0.272,1.835,0.892,3.269,1.883,4.367c1.172,1.297,2.776,1.982,4.639,1.982\n    c1.727,0,3.555-1.11,4.074-3.014c0.157,0.28,0.332,0.544,0.524,0.79c0.796,1.015,2.286,2.225,4.866,2.225\n    c1.728,0,3.557-1.11,4.074-3.013c0.157,0.28,0.332,0.543,0.524,0.789c0.796,1.015,2.286,2.224,4.866,2.224\n    c2.162,0,4.259-0.852,6.236-2.532c1.632,1.566,3.698,2.392,5.996,2.392c3.405,0,6.71-1.706,9.16-4.704\n    c0.339,1.134,0.86,2.094,1.553,2.861c1.172,1.297,2.776,1.982,4.639,1.982c1.726,0,3.555-1.11,4.074-3.014\n    c0.157,0.28,0.332,0.544,0.525,0.79c0.796,1.015,2.287,2.224,4.866,2.224c2.233,0,4.394-0.908,6.428-2.698\n    c2.071,1.791,4.871,2.698,8.328,2.698c2.534,0,4.865-0.783,6.932-2.328c0.335,0.428,0.716,0.803,1.139,1.12\n    c-1.254,1.627-2.061,4.332-0.966,6.718c0.457,0.995,1.949,3.311,5.929,3.312c0.425,0,0.864-0.026,1.343-0.08\n    c3.981-0.482,7.081-3.334,9.477-8.716c2.376-1.242,4.588-3.399,5.877-5.02c1.18-1.446,1.989-2.841,2.294-3.366l0.009-0.015\n    C199.145,31.299,199.214,29.737,198.538,28.473z M34.671,36.503c1.457,1.784,4.289,3.911,9.509,3.911\n    c2.707,0,5.176-0.892,7.346-2.651c0.397,0.591,0.871,1.083,1.401,1.483c-1.713,0.733-3.356,1.57-4.919,2.368\n    c-3.254,1.662-6.328,3.231-8.801,3.231c-1.421,0-2.441-0.446-3.211-1.405c-1.189-1.48-1.859-4.185-1.964-7.823\n    C34.241,35.943,34.456,36.24,34.671,36.503z M25.236,15.044c-0.251,0.982-0.49,1.966-0.703,2.896\n    c-0.053,0.023-0.108,0.046-0.163,0.069C24.663,16.867,24.954,15.885,25.236,15.044z"}),"\n      ",HTML.PATH({"class":"dark",d:"M197.043,26.976c-0.646-1.207-1.858-1.958-3.164-1.958c-0.382,0-0.76,0.066-1.12,0.193\n      c0.37-1.69,0.956-4.268,1.304-4.839l0.025-0.036c0.874-1.29,0.975-2.85,0.271-4.176c-1.283-2.419-4.669-3.065-6.467-3.065\n      c-1.822,0-3.317,0.564-4.255,1.596c-1.728-1.309-4.091-1.456-5.061-1.456c-1.327,0-3.173,0.264-4.429,1.52\n      c-0.302,0.302-0.628,0.819-0.972,1.539c-1.163-1.58-2.887-2.677-4.915-3.113c-0.768-0.174-1.558-0.262-2.345-0.262\n      c-3.464,0-6.656,1.597-9.051,4.512c-0.224-0.592-0.517-1.13-0.874-1.605c-1.131-1.504-2.882-2.332-4.93-2.332\n      c-1.142,0-2.303,0.376-3.452,1.119c-1.723-1.24-4.014-1.378-4.944-1.378c-1.317,0-3.152,0.259-4.418,1.494l-0.082,0.083\n      c-0.354,0.376-0.716,0.985-1.103,1.856c-0.26-0.474-0.558-0.905-0.89-1.285c-1.095-1.255-2.55-1.946-4.095-1.946\n      c-0.388,0-0.779,0.044-1.162,0.131c-0.782,0.176-1.521,0.507-2.199,0.985c-0.809-0.707-1.789-1.094-2.787-1.094\n      c-2.063,0-4.227,1.378-6.142,3.895c-0.22-0.562-0.503-1.074-0.844-1.528c-1.131-1.504-2.882-2.332-4.93-2.332\n      c-1.566,0-3.151,0.7-4.718,2.083c-0.023-0.027-0.046-0.054-0.069-0.081c-0.798-0.914-2.257-2.003-4.678-2.003\n      c-1.142,0-2.303,0.376-3.452,1.119c-1.723-1.24-4.014-1.378-4.944-1.378c-1.317,0-3.152,0.259-4.418,1.493l-0.039,0.038\n      l-0.047,0.049c-0.465,0.493-0.976,1.462-1.523,2.887c-0.366-1.114-0.886-2.06-1.551-2.822c-1.095-1.255-2.55-1.946-4.095-1.946\n      c-0.388,0-0.779,0.044-1.162,0.131c-0.783,0.176-1.521,0.508-2.199,0.985c-0.809-0.707-1.788-1.094-2.787-1.094\n      c-1.657,0-3.407,0.911-5.031,2.595c1.331-4.058,2.57-7.007,2.917-7.539c0.876-1.293,0.984-2.855,0.286-4.172\n      c-1.14-2.149-4.012-2.917-6.319-2.917c-1.317,0-3.156,0.263-4.441,1.517c-0.096,0.096-0.193,0.214-0.294,0.356\n      c-1.755-1.732-4.649-1.873-5.535-1.873c-1.317,0-3.152,0.259-4.418,1.494L55.47,2.44c-1.102,1.102-3.115,6.609-4.754,12.96\n      c-1.15-1.367-2.761-2.322-4.605-2.719c-0.767-0.174-1.558-0.262-2.345-0.262c-3.227,0-6.17,1.413-8.439,3.832\n      c1.249-4.229,2.527-7.596,2.937-8.258c0.832-1.29,0.91-2.836,0.204-4.131c-1.163-2.135-4.03-2.895-6.325-2.895\n      c-1.351,0-3.224,0.268-4.471,1.547c-0.104,0.104-0.21,0.237-0.321,0.401c-0.489-0.526-1.137-0.991-1.933-1.386\n      c-1.225-0.609-2.598-0.944-3.867-0.944c-6.51,0-8.971,8.313-10.257,14.565c-0.184,0.918-0.376,2.121-0.598,3.514l-0.002,0.011\n      C4.62,20.854,1,25.719,1,31.723c0,3.756,2.615,7.546,8.458,7.546c5.802,0,9.63-4.2,11.378-12.485\n      c0.173-0.011,0.345-0.025,0.514-0.04c-0.806,9.09,0.668,15.893,4.384,20.228c2.937,3.426,7.121,5.163,12.434,5.163\n      c3.607,0,6.807-0.929,10.194-1.913c3.648-1.059,7.421-2.154,12.1-2.154c1.212,0,1.768,0.129,1.985,0.202\n      c0.634,1.439,2.096,2.397,3.682,2.397c1.272,0,2.476-0.612,3.22-1.636c0.818-1.069,1.253-2.413,1.253-3.883\n      c0-2.666-1.016-4.973-2.729-6.65c1.28-0.415,2.529-1.136,3.734-2.17c1.638,1.604,3.727,2.45,6.059,2.45\n      c3.784,0,7.433-2.117,9.914-5.708c0.272,1.835,0.892,3.269,1.883,4.367c1.172,1.297,2.776,1.982,4.639,1.982\n      c1.727,0,3.555-1.11,4.074-3.014c0.157,0.28,0.332,0.544,0.524,0.789c0.796,1.015,2.286,2.225,4.866,2.225\n      c1.728,0,3.557-1.11,4.074-3.013c0.157,0.28,0.332,0.543,0.524,0.789c0.796,1.015,2.286,2.224,4.866,2.224\n      c2.162,0,4.259-0.852,6.236-2.532c1.632,1.566,3.698,2.392,5.996,2.392c3.405,0,6.71-1.706,9.16-4.704\n      c0.339,1.134,0.86,2.094,1.553,2.861c1.172,1.297,2.776,1.982,4.639,1.982c1.726,0,3.555-1.11,4.074-3.014\n      c0.157,0.28,0.332,0.544,0.525,0.79c0.796,1.015,2.287,2.224,4.866,2.224c2.233,0,4.394-0.908,6.428-2.698\n      c2.071,1.791,4.871,2.698,8.328,2.698c2.534,0,4.865-0.783,6.932-2.328c0.335,0.428,0.716,0.803,1.139,1.12\n      c-1.254,1.627-2.061,4.332-0.966,6.718c0.457,0.995,1.949,3.311,5.929,3.312c0.425,0,0.864-0.026,1.343-0.08\n      c3.981-0.482,7.081-3.334,9.477-8.716c2.376-1.242,4.588-3.399,5.877-5.02c1.18-1.446,1.989-2.841,2.294-3.366l0.009-0.015\n      C197.65,29.802,197.719,28.24,197.043,26.976z M33.176,35.007c1.457,1.784,4.289,3.911,9.509,3.911c2.707,0,5.176-0.892,7.346-2.651\n      c0.397,0.591,0.871,1.083,1.402,1.483c-1.714,0.733-3.357,1.57-4.92,2.369c-3.254,1.662-6.328,3.231-8.801,3.231\n      c-1.421,0-2.441-0.446-3.211-1.405c-1.189-1.48-1.859-4.185-1.964-7.824C32.746,34.447,32.961,34.744,33.176,35.007z"}),"\n      ",HTML.G("\n        ",HTML.PATH({"class":"light",d:"M192.534,27.498c-0.316,0.386-1.122,1.998-2.173,3.12c-1.542,1.718-2.699,2.84-4.066,3.506\n        c0.526-1.648,0.981-3.365,1.402-5.048c1.122-4.627,1.928-9.71,2.944-11.147c1.472-2.173-4.872-3.505-5.889-1.788\n        c-0.561,0.876-1.052,4.347-1.718,8.483c-0.631,2.664-2.138,7.186-3.891,7.186c-3.33,0,0.315-11.358,2.033-13.882\n        c1.472-2.173-4.487-3.19-5.889-1.788c-0.631,0.631-2.782,6.742-3.214,11.967c-0.362,0.613-0.896,1.511-1.552,2.264\n        c-2.103,2.419-3.681,2.874-5.468,2.874c-2.243,0-3.681-1.227-4.101-3.505c0.28,0.105,0.561,0.175,0.911,0.245\n        c2.699,0.28,6.38-1.016,8.203-5.679c1.963-5.048-0.175-8.237-3.435-8.939c-4.802-1.087-9.85,2.559-11.287,9.464\n        c-0.375,1.836-0.403,3.464-0.124,4.869c-0.77,1.069-1.741,2.107-2.713,2.107c-2.278,0-0.07-6.38,0.315-7.782\n        c1.122-3.891,1.052-8.273-2.734-8.273c-2.243,0-4.943,3.33-7.046,7.291c0.771-2.384,1.612-4.242,2.208-5.118\n        c1.472-2.173-4.452-3.19-5.889-1.788c-0.42,0.444-1.621,3.515-2.479,7.104c-0.824,0.637-1.731,1.075-2.671,1.239\n        c0.841-6.169-1.297-9.254-3.611-8.729c-3.576,0.806-4.662,7.712-1.823,10.411c-0.631,2.874-2.243,5.784-3.47,5.784\n        c-2.103,0-1.998-3.891-1.157-7.116c0.666-2.594,1.578-4.312,2.384-5.363c0.771-1.017-0.245-3.751-1.577-3.751\n        c-2.278,0-5.714,4.417-6.695,9.114c-0.351,1.712-0.361,3.371-0.078,4.853c-0.772,1.075-1.747,2.122-2.724,2.122\n        c-2.279,0-0.07-6.38,0.315-7.782c1.122-3.891,1.052-8.273-2.734-8.273c-1.963,0-4.277,2.524-6.204,5.819\n        c0.421-3.085-0.246-5.819-3.26-5.819c-2.243,0-4.943,3.33-7.046,7.291c0.771-2.384,1.612-4.242,2.208-5.118\n        c1.472-2.173-4.452-3.19-5.889-1.788c-0.33,0.349-1.144,2.323-1.893,4.895c-0.166,0.218-0.338,0.433-0.521,0.633\n        c-1.087,1.227-2.419,2.068-3.821,2.313c0.841-6.169-1.297-9.254-3.611-8.729c-3.576,0.806-4.662,7.712-1.823,10.412\n        c-0.631,2.874-2.243,5.784-3.47,5.784c-2.103,0-1.998-3.891-1.157-7.116c0.666-2.594,1.577-4.312,2.383-5.364\n        c0.771-1.016-0.245-3.751-1.577-3.751c-2.278,0-5.714,4.417-6.695,9.114c-0.34,1.659-0.36,3.268-0.103,4.716\n        c-0.786,1.121-1.807,2.26-2.806,2.26c-4.732,0,3.295-23.171,5.013-25.695c1.472-2.174-4.452-3.19-5.889-1.788\n        c-0.778,0.778-5.986,15.558-6.14,24.551c-0.818,1.283-2.051,2.932-3.254,2.932c-4.732,0,3.295-23.171,5.013-25.695\n        c1.472-2.174-4.452-3.19-5.889-1.788c-0.734,0.734-5.415,13.941-6.069,22.983c-0.086,0.032-0.168,0.091-0.239,0.188\n        c-0.28,0.385-0.981,1.788-1.928,2.874c-2.103,2.419-3.681,2.874-5.468,2.874c-2.243,0-3.681-1.227-4.101-3.506\n        c0.28,0.106,0.561,0.176,0.911,0.246c2.699,0.28,6.38-1.017,8.203-5.679c1.963-5.048-0.175-8.238-3.435-8.939\n        c-4.802-1.087-9.85,2.559-11.287,9.464c-1.402,6.871,1.998,10.867,8.518,10.867c3.611,0,5.994-2.103,7.642-4.277\n        c0.443-0.579,0.818-1.132,1.117-1.593c0.091,3.471,1.072,5.87,3.579,5.87c2.881,0,5.277-2.496,6.78-4.523\n        c0.297,2.728,1.322,4.523,3.489,4.523c2.836,0,5.201-2.417,6.708-4.426c0.959,2.558,2.948,4.286,5.665,4.286\n        c3.891,0,7.747-3.12,9.36-8.413c1.563-0.307,2.955-1.317,4.105-2.473c-0.265,1.225-0.481,2.488-0.605,3.71\n        c-0.421,4.137,0.21,7.817,3.576,7.817c0.456,0,1.192-0.28,1.227-1.052c0.035-0.841,0.105-1.718,0.21-2.594\n        c1.052-4.978,4.101-11.252,5.609-11.252c0.771,0,0.561,1.297,0.28,2.524C99.088,28.9,97.756,35.7,102.594,35.7\n        c0.456,0,1.192-0.28,1.227-1.052c0.07-1.648,0.421-3.365,0.841-4.978c1.332-4.417,3.716-8.868,4.978-8.868\n        c0.771,0,0.561,1.297,0.28,2.524c-1.367,5.573-2.699,12.374,2.138,12.374c2.787,0,5.106-2.335,6.606-4.322\n        c0.974,2.5,2.945,4.182,5.625,4.182c3.891,0,7.747-3.12,9.36-8.413c0.966-0.19,1.867-0.648,2.686-1.243\n        c-0.112,0.663-0.204,1.327-0.27,1.979c-0.421,4.137,0.21,7.817,3.576,7.817c0.456,0,1.192-0.28,1.227-1.052\n        c0.035-0.841,0.105-1.753,0.21-2.594c1.052-4.978,4.101-11.252,5.609-11.252c0.771,0,0.561,1.297,0.28,2.524\n        C145.6,28.9,144.268,35.7,149.106,35.7c2.799,0,5.126-2.356,6.626-4.349c1.241,2.809,4.084,4.349,8.13,4.349\n        c3.611,0,5.994-2.103,7.642-4.277c0.187-0.244,0.358-0.481,0.52-0.711c0.158,2.856,1.147,4.988,3.685,4.988\n        c2.384,0,4.277-1.017,5.714-2.489c-0.21,0.911-0.421,1.788-0.666,2.629c-2.734,0.491-4.872,1.577-6.345,3.33\n        c-1.507,1.753-1.858,5.889,3.471,5.293c3.47-0.42,5.819-3.715,7.537-7.992c2.243-0.806,4.627-3.12,5.854-4.662\n        c1.087-1.332,1.823-2.629,2.068-3.05C193.972,27.813,192.99,26.832,192.534,27.498z M39.189,24.332\n        c1.332-5.118,3.225-6.941,4.382-6.38c1.472,0.666-1.753,9.325-4.417,8.623c-0.14-0.035-0.245-0.105-0.386-0.175\n        C38.873,25.77,39.013,25.068,39.189,24.332z M161.338,24.834c1.332-5.118,3.225-6.941,4.382-6.38\n        c1.472,0.666-1.753,9.325-4.417,8.623c-0.14-0.035-0.245-0.105-0.386-0.175C161.022,26.271,161.163,25.57,161.338,24.834z\n        M176.795,41.905c-2.91,0,0.245-3.54,3.33-4.101C179.214,40.257,178.127,41.905,176.795,41.905z"}),"\n        ",HTML.PATH({"class":"light",d:"M59.383,37.898c-8.273,0-15.914,7.712-22.645,7.712c-11.217,0-8.062-19.35-6.801-25.064\n        c1.472-6.415,3.961-13.531,4.837-14.897c1.402-2.174-4.557-3.19-5.959-1.753c-0.491,0.491-2.699,6.941-4.137,13.847\n        c-1.682,0.981-4.171,1.858-6.695,1.963C19,14.307,20.893,6.77,24.223,5.017c0.981-0.491-1.437-2.174-3.646-2.174\n        c-3.505,0-5.784,4.663-7.326,12.164c-0.246,1.227-0.526,3.12-0.876,5.258c-6.029,1.473-9.359,5.609-9.359,10.727\n        c0,2.418,1.648,4.557,5.468,4.557c6.24,0,7.992-7.362,8.693-11.358c0.035-0.315,0.105-0.666,0.175-1.052\n        c0.421,0,0.806-0.035,1.227-0.035c2.243,0,3.996-0.421,5.293-1.052c-1.332,8.623-2.524,26.361,13.321,26.361\n        c6.906,0,12.83-4.067,22.294-4.067c2.524,0,4.136,0.455,4.697,1.928c0.28,0.771,1.332,0.911,1.788,0.245\n        c0.386-0.491,0.666-1.192,0.666-2.103C66.639,40.212,63.239,37.898,59.383,37.898z M6.907,33.306c-0.841,0-1.648-0.666-1.648-1.788\n        c0-3.19,2.173-5.994,6.415-7.396C10.728,28.819,9.29,33.306,6.907,33.306z"}),"\n      "),"\n    "),HTML.Raw('\n    <!-- "H" only -->\n    '),HTML.SVG({version:"1.1","class":"vector mini",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"73.5px",height:"54.333px",viewBox:"0 0 73.5 54.333","enable-background":"new 0 0 73.5 54.333","xml:space":"preserve"},"\n      ",HTML.PATH({"class":"shadow",fill:"#14171A","enable-background":"new    ",d:"M52.933,39.09c-1.714,0.733-3.357,1.57-4.92,2.369\n      c-3.254,1.662-6.328,3.231-8.801,3.231c-1.421,0-2.441-0.446-3.211-1.405c-1.189-1.48-2.223-1.5-1.964-7.824\n      s1.325-13.431,2.79-17.87s2.527-7.596,2.937-8.258c0.832-1.29,0.91-2.836,0.204-4.131c-1.163-2.135-4.03-2.895-6.325-2.895\n      c-1.351,0-3.224,0.268-4.471,1.547c-0.104,0.104-0.21,0.237-0.321,0.401c-0.489-0.526-1.137-0.991-1.933-1.386\n      c-1.225-0.609-2.598-0.944-3.867-0.944c-6.51,0-8.971,8.313-10.257,14.565c-0.184,0.918-0.376,2.121-0.598,3.514l-0.002,0.011\n      C6.12,22.194,2.5,27.059,2.5,33.063c0,3.756,2.615,7.546,8.458,7.546c5.802,0,9.63-4.2,11.378-12.485\n      c0.173-0.011,0.345-0.025,0.514-0.04c-0.806,9.09,0.668,15.893,4.384,20.228c2.937,3.426,7.121,5.163,12.434,5.163\n      c3.607,0,6.807-0.929,10.194-1.913c3.648-1.059,7.421-2.154,12.1-2.154c1.212,0,1.768,0.129,1.985,0.202\n      c0.634,1.439,2.096,2.397,3.682,2.397c1.272,0,2.476-0.612,3.22-1.636c0.818-1.069,1.253-2.413,1.253-3.883\n      c0-2.666-1.016-4.973-2.729-6.65c0,0-2.925-3.068-8.037-2.888S52.933,39.09,52.933,39.09z"}),"\n      ",HTML.PATH({"class":"dark",d:"M51.433,37.75c-1.714,0.733-3.357,1.57-4.92,2.369c-3.254,1.662-6.328,3.231-8.801,3.231\n      c-1.421,0-2.441-0.446-3.211-1.405c-1.189-1.48-2.223-1.5-1.964-7.824s1.325-13.431,2.79-17.87s2.527-7.596,2.937-8.258\n      c0.832-1.29,0.91-2.836,0.204-4.131c-1.163-2.135-4.03-2.895-6.325-2.895c-1.351,0-3.224,0.268-4.471,1.547\n      c-0.104,0.104-0.21,0.237-0.321,0.401c-0.489-0.526-1.137-0.991-1.933-1.386c-1.225-0.609-2.598-0.944-3.867-0.944\n      c-6.51,0-8.971,8.313-10.257,14.565c-0.184,0.918-0.376,2.121-0.598,3.514l-0.002,0.011C4.62,20.854,1,25.719,1,31.723\n      c0,3.756,2.615,7.546,8.458,7.546c5.802,0,9.63-4.2,11.378-12.485c0.173-0.011,0.345-0.025,0.514-0.04\n      c-0.806,9.09,0.668,15.893,4.384,20.228c2.937,3.426,7.121,5.163,12.434,5.163c3.607,0,6.807-0.929,10.194-1.913\n      c3.648-1.059,7.421-2.154,12.1-2.154c1.212,0,1.768,0.129,1.985,0.202c0.634,1.439,2.096,2.397,3.682,2.397\n      c1.272,0,2.476-0.612,3.22-1.636c0.818-1.069,1.253-2.413,1.253-3.883c0-2.666-1.016-4.973-2.729-6.65c0,0-2.925-3.068-8.037-2.888\n      S51.433,37.75,51.433,37.75z"}),"\n      ",HTML.G("\n        ",HTML.PATH({"class":"light",d:"M59.383,37.898c-8.273,0-15.914,7.712-22.645,7.712c-11.217,0-8.062-19.35-6.801-25.064\n        c1.472-6.415,3.961-13.531,4.837-14.897c1.402-2.174-4.557-3.19-5.959-1.753c-0.491,0.491-2.699,6.941-4.137,13.847\n        c-1.682,0.981-4.171,1.858-6.695,1.963C19,14.307,20.893,6.77,24.223,5.017c0.981-0.491-1.437-2.174-3.646-2.174\n        c-3.505,0-5.784,4.663-7.326,12.164c-0.246,1.227-0.526,3.12-0.876,5.258c-6.029,1.473-9.359,5.609-9.359,10.727\n        c0,2.418,1.648,4.557,5.468,4.557c6.24,0,7.992-7.362,8.693-11.358c0.035-0.315,0.105-0.666,0.175-1.052\n        c0.421,0,0.806-0.035,1.227-0.035c2.243,0,3.996-0.421,5.293-1.052c-1.332,8.623-2.524,26.361,13.321,26.361\n        c6.906,0,12.83-4.067,22.294-4.067c2.524,0,4.136,0.455,4.697,1.928c0.28,0.771,1.332,0.911,1.788,0.245\n        c0.386-0.491,0.666-1.192,0.666-2.103C66.639,40.212,63.239,37.898,59.383,37.898z M6.907,33.306c-0.841,0-1.648-0.666-1.648-1.788\n        c0-3.19,2.173-5.994,6.415-7.396C10.728,28.819,9.29,33.306,6.907,33.306z"}),"\n      "),"\n    "),HTML.Raw('\n    <span class="label label-primary">BETA</span>\n  '))}),Template.__checkName("logoLink"),Template.logoLink=new Template("Template.logoLink",function(){var c=this;return HTML.A({"class":"logo-link",href:"/"},HTML.Raw("\n    <!-- Full logo-->\n    "),HTML.DIV({"class":"logo"},"\n      ",HTML.DIV({"class":"full"},"\n        ",HTML.SVG({version:"1.1","class":"vector",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"200px",height:"54.333px",viewBox:"0 0 200 54.333","enable-background":"new 0 0 200 54.333","xml:space":"preserve"},"\n          ",HTML.TITLE("Hello Money: Portfolio Visualizer"),"\n          ",HTML.PATH({"class":"shadow",d:"M198.538,28.473c-0.646-1.207-1.858-1.958-3.164-1.958c-0.382,0-0.76,0.066-1.12,0.193\n          c0.37-1.69,0.956-4.268,1.304-4.839l0.025-0.036c0.874-1.29,0.975-2.85,0.271-4.176c-1.283-2.419-4.669-3.065-6.467-3.065\n          c-1.822,0-3.317,0.564-4.255,1.596c-1.728-1.309-4.091-1.456-5.061-1.456c-1.327,0-3.173,0.264-4.429,1.52\n          c-0.302,0.302-0.628,0.819-0.972,1.539c-1.163-1.58-2.887-2.677-4.915-3.113c-0.768-0.174-1.558-0.262-2.345-0.262\n          c-3.464,0-6.656,1.597-9.051,4.512c-0.224-0.592-0.517-1.13-0.874-1.605c-1.131-1.504-2.882-2.332-4.93-2.332\n          c-1.142,0-2.303,0.376-3.452,1.119c-1.723-1.24-4.014-1.378-4.944-1.378c-1.317,0-3.152,0.259-4.418,1.494l-0.082,0.083\n          c-0.354,0.376-0.716,0.985-1.103,1.856c-0.26-0.474-0.558-0.905-0.89-1.285c-1.095-1.255-2.55-1.946-4.095-1.946\n          c-0.388,0-0.779,0.044-1.162,0.131c-0.782,0.176-1.521,0.507-2.199,0.985c-0.809-0.707-1.789-1.094-2.787-1.094\n          c-2.063,0-4.227,1.378-6.142,3.895c-0.22-0.562-0.503-1.074-0.844-1.528c-1.131-1.504-2.882-2.332-4.93-2.332\n          c-1.566,0-3.151,0.7-4.718,2.083c-0.023-0.027-0.046-0.054-0.069-0.081c-0.798-0.914-2.257-2.003-4.678-2.003\n          c-1.142,0-2.303,0.376-3.452,1.119c-1.723-1.24-4.014-1.378-4.944-1.378c-1.317,0-3.152,0.259-4.418,1.493l-0.039,0.038\n          l-0.047,0.049c-0.465,0.493-0.976,1.462-1.523,2.887c-0.366-1.114-0.886-2.06-1.551-2.822c-1.095-1.255-2.55-1.946-4.095-1.946\n          c-0.388,0-0.779,0.044-1.162,0.131c-0.783,0.176-1.521,0.508-2.199,0.985c-0.809-0.707-1.788-1.094-2.787-1.094\n          c-1.657,0-3.407,0.911-5.031,2.595c1.331-4.058,2.57-7.007,2.917-7.539C78.59,8.217,78.698,6.656,78,5.339\n          c-1.143-2.155-4.015-2.922-6.322-2.922c-1.317,0-3.156,0.263-4.441,1.517c-0.096,0.096-0.193,0.214-0.294,0.356\n          c-1.755-1.732-4.649-1.873-5.535-1.873c-1.317,0-3.152,0.259-4.418,1.494l-0.025,0.025c-1.102,1.102-3.115,6.609-4.754,12.96\n          c-1.15-1.367-2.761-2.322-4.605-2.719c-0.767-0.174-1.558-0.262-2.345-0.262c-3.227,0-6.17,1.413-8.439,3.833\n          c1.249-4.23,2.527-7.598,2.937-8.26c0.832-1.29,0.91-2.836,0.204-4.131c-1.163-2.135-4.03-2.895-6.325-2.895\n          c-1.351,0-3.224,0.268-4.471,1.547c-0.104,0.104-0.21,0.237-0.321,0.401c-0.489-0.526-1.137-0.991-1.933-1.386\n          c-1.225-0.609-2.599-0.945-3.867-0.945c-6.51,0-8.971,8.313-10.257,14.565c-0.184,0.918-0.376,2.121-0.598,3.514L12.19,20.17\n          c-6.075,2.179-9.695,7.044-9.695,13.048c0,3.756,2.615,7.546,8.458,7.546c5.802,0,9.63-4.2,11.378-12.485\n          c0.173-0.011,0.345-0.025,0.514-0.04c-0.806,9.09,0.668,15.893,4.384,20.228c2.937,3.426,7.121,5.163,12.434,5.163\n          c3.607,0,6.807-0.929,10.194-1.913c3.648-1.059,7.421-2.154,12.1-2.154c1.212,0,1.768,0.129,1.985,0.202\n          c0.634,1.439,2.096,2.397,3.682,2.397c1.272,0,2.476-0.612,3.22-1.636c0.818-1.069,1.253-2.413,1.253-3.883\n          c0-2.666-1.015-4.972-2.729-6.649c1.279-0.415,2.528-1.136,3.734-2.17c1.638,1.604,3.727,2.45,6.059,2.45\n          c3.784,0,7.433-2.117,9.914-5.708c0.272,1.835,0.892,3.269,1.883,4.367c1.172,1.297,2.776,1.982,4.639,1.982\n          c1.727,0,3.555-1.11,4.074-3.014c0.157,0.28,0.332,0.544,0.524,0.79c0.796,1.015,2.286,2.225,4.866,2.225\n          c1.728,0,3.557-1.11,4.074-3.013c0.157,0.28,0.332,0.543,0.524,0.789c0.796,1.015,2.286,2.224,4.866,2.224\n          c2.162,0,4.259-0.852,6.236-2.532c1.632,1.566,3.698,2.392,5.996,2.392c3.405,0,6.71-1.706,9.16-4.704\n          c0.339,1.134,0.86,2.094,1.553,2.861c1.172,1.297,2.776,1.982,4.639,1.982c1.726,0,3.555-1.11,4.074-3.014\n          c0.157,0.28,0.332,0.544,0.525,0.79c0.796,1.015,2.287,2.224,4.866,2.224c2.233,0,4.394-0.908,6.428-2.698\n          c2.071,1.791,4.871,2.698,8.328,2.698c2.534,0,4.865-0.783,6.932-2.328c0.335,0.428,0.716,0.803,1.139,1.12\n          c-1.254,1.627-2.061,4.332-0.966,6.718c0.457,0.995,1.949,3.311,5.929,3.312c0.425,0,0.864-0.026,1.343-0.08\n          c3.981-0.482,7.081-3.334,9.477-8.716c2.376-1.242,4.588-3.399,5.877-5.02c1.18-1.446,1.989-2.841,2.294-3.366l0.009-0.015\n          C199.145,31.299,199.214,29.737,198.538,28.473z M34.671,36.503c1.457,1.784,4.289,3.911,9.509,3.911\n          c2.707,0,5.176-0.892,7.346-2.651c0.397,0.591,0.871,1.083,1.401,1.483c-1.713,0.733-3.356,1.57-4.919,2.368\n          c-3.254,1.662-6.328,3.231-8.801,3.231c-1.421,0-2.441-0.446-3.211-1.405c-1.189-1.48-1.859-4.185-1.964-7.823\n          C34.241,35.943,34.456,36.24,34.671,36.503z M25.236,15.044c-0.251,0.982-0.49,1.966-0.703,2.896\n          c-0.053,0.023-0.108,0.046-0.163,0.069C24.663,16.867,24.954,15.885,25.236,15.044z"}),"\n          ",HTML.PATH({"class":"dark",d:"M197.043,26.976c-0.646-1.207-1.858-1.958-3.164-1.958c-0.382,0-0.76,0.066-1.12,0.193\n          c0.37-1.69,0.956-4.268,1.304-4.839l0.025-0.036c0.874-1.29,0.975-2.85,0.271-4.176c-1.283-2.419-4.669-3.065-6.467-3.065\n          c-1.822,0-3.317,0.564-4.255,1.596c-1.728-1.309-4.091-1.456-5.061-1.456c-1.327,0-3.173,0.264-4.429,1.52\n          c-0.302,0.302-0.628,0.819-0.972,1.539c-1.163-1.58-2.887-2.677-4.915-3.113c-0.768-0.174-1.558-0.262-2.345-0.262\n          c-3.464,0-6.656,1.597-9.051,4.512c-0.224-0.592-0.517-1.13-0.874-1.605c-1.131-1.504-2.882-2.332-4.93-2.332\n          c-1.142,0-2.303,0.376-3.452,1.119c-1.723-1.24-4.014-1.378-4.944-1.378c-1.317,0-3.152,0.259-4.418,1.494l-0.082,0.083\n          c-0.354,0.376-0.716,0.985-1.103,1.856c-0.26-0.474-0.558-0.905-0.89-1.285c-1.095-1.255-2.55-1.946-4.095-1.946\n          c-0.388,0-0.779,0.044-1.162,0.131c-0.782,0.176-1.521,0.507-2.199,0.985c-0.809-0.707-1.789-1.094-2.787-1.094\n          c-2.063,0-4.227,1.378-6.142,3.895c-0.22-0.562-0.503-1.074-0.844-1.528c-1.131-1.504-2.882-2.332-4.93-2.332\n          c-1.566,0-3.151,0.7-4.718,2.083c-0.023-0.027-0.046-0.054-0.069-0.081c-0.798-0.914-2.257-2.003-4.678-2.003\n          c-1.142,0-2.303,0.376-3.452,1.119c-1.723-1.24-4.014-1.378-4.944-1.378c-1.317,0-3.152,0.259-4.418,1.493l-0.039,0.038\n          l-0.047,0.049c-0.465,0.493-0.976,1.462-1.523,2.887c-0.366-1.114-0.886-2.06-1.551-2.822c-1.095-1.255-2.55-1.946-4.095-1.946\n          c-0.388,0-0.779,0.044-1.162,0.131c-0.783,0.176-1.521,0.508-2.199,0.985c-0.809-0.707-1.788-1.094-2.787-1.094\n          c-1.657,0-3.407,0.911-5.031,2.595c1.331-4.058,2.57-7.007,2.917-7.539c0.876-1.293,0.984-2.855,0.286-4.172\n          c-1.14-2.149-4.012-2.917-6.319-2.917c-1.317,0-3.156,0.263-4.441,1.517c-0.096,0.096-0.193,0.214-0.294,0.356\n          c-1.755-1.732-4.649-1.873-5.535-1.873c-1.317,0-3.152,0.259-4.418,1.494L55.47,2.44c-1.102,1.102-3.115,6.609-4.754,12.96\n          c-1.15-1.367-2.761-2.322-4.605-2.719c-0.767-0.174-1.558-0.262-2.345-0.262c-3.227,0-6.17,1.413-8.439,3.832\n          c1.249-4.229,2.527-7.596,2.937-8.258c0.832-1.29,0.91-2.836,0.204-4.131c-1.163-2.135-4.03-2.895-6.325-2.895\n          c-1.351,0-3.224,0.268-4.471,1.547c-0.104,0.104-0.21,0.237-0.321,0.401c-0.489-0.526-1.137-0.991-1.933-1.386\n          c-1.225-0.609-2.598-0.944-3.867-0.944c-6.51,0-8.971,8.313-10.257,14.565c-0.184,0.918-0.376,2.121-0.598,3.514l-0.002,0.011\n          C4.62,20.854,1,25.719,1,31.723c0,3.756,2.615,7.546,8.458,7.546c5.802,0,9.63-4.2,11.378-12.485\n          c0.173-0.011,0.345-0.025,0.514-0.04c-0.806,9.09,0.668,15.893,4.384,20.228c2.937,3.426,7.121,5.163,12.434,5.163\n          c3.607,0,6.807-0.929,10.194-1.913c3.648-1.059,7.421-2.154,12.1-2.154c1.212,0,1.768,0.129,1.985,0.202\n          c0.634,1.439,2.096,2.397,3.682,2.397c1.272,0,2.476-0.612,3.22-1.636c0.818-1.069,1.253-2.413,1.253-3.883\n          c0-2.666-1.016-4.973-2.729-6.65c1.28-0.415,2.529-1.136,3.734-2.17c1.638,1.604,3.727,2.45,6.059,2.45\n          c3.784,0,7.433-2.117,9.914-5.708c0.272,1.835,0.892,3.269,1.883,4.367c1.172,1.297,2.776,1.982,4.639,1.982\n          c1.727,0,3.555-1.11,4.074-3.014c0.157,0.28,0.332,0.544,0.524,0.789c0.796,1.015,2.286,2.225,4.866,2.225\n          c1.728,0,3.557-1.11,4.074-3.013c0.157,0.28,0.332,0.543,0.524,0.789c0.796,1.015,2.286,2.224,4.866,2.224\n          c2.162,0,4.259-0.852,6.236-2.532c1.632,1.566,3.698,2.392,5.996,2.392c3.405,0,6.71-1.706,9.16-4.704\n          c0.339,1.134,0.86,2.094,1.553,2.861c1.172,1.297,2.776,1.982,4.639,1.982c1.726,0,3.555-1.11,4.074-3.014\n          c0.157,0.28,0.332,0.544,0.525,0.79c0.796,1.015,2.287,2.224,4.866,2.224c2.233,0,4.394-0.908,6.428-2.698\n          c2.071,1.791,4.871,2.698,8.328,2.698c2.534,0,4.865-0.783,6.932-2.328c0.335,0.428,0.716,0.803,1.139,1.12\n          c-1.254,1.627-2.061,4.332-0.966,6.718c0.457,0.995,1.949,3.311,5.929,3.312c0.425,0,0.864-0.026,1.343-0.08\n          c3.981-0.482,7.081-3.334,9.477-8.716c2.376-1.242,4.588-3.399,5.877-5.02c1.18-1.446,1.989-2.841,2.294-3.366l0.009-0.015\n          C197.65,29.802,197.719,28.24,197.043,26.976z M33.176,35.007c1.457,1.784,4.289,3.911,9.509,3.911c2.707,0,5.176-0.892,7.346-2.651\n          c0.397,0.591,0.871,1.083,1.402,1.483c-1.714,0.733-3.357,1.57-4.92,2.369c-3.254,1.662-6.328,3.231-8.801,3.231\n          c-1.421,0-2.441-0.446-3.211-1.405c-1.189-1.48-1.859-4.185-1.964-7.824C32.746,34.447,32.961,34.744,33.176,35.007z"}),"\n          ",HTML.G("\n            ",HTML.PATH({"class":"light",d:"M192.534,27.498c-0.316,0.386-1.122,1.998-2.173,3.12c-1.542,1.718-2.699,2.84-4.066,3.506\n            c0.526-1.648,0.981-3.365,1.402-5.048c1.122-4.627,1.928-9.71,2.944-11.147c1.472-2.173-4.872-3.505-5.889-1.788\n            c-0.561,0.876-1.052,4.347-1.718,8.483c-0.631,2.664-2.138,7.186-3.891,7.186c-3.33,0,0.315-11.358,2.033-13.882\n            c1.472-2.173-4.487-3.19-5.889-1.788c-0.631,0.631-2.782,6.742-3.214,11.967c-0.362,0.613-0.896,1.511-1.552,2.264\n            c-2.103,2.419-3.681,2.874-5.468,2.874c-2.243,0-3.681-1.227-4.101-3.505c0.28,0.105,0.561,0.175,0.911,0.245\n            c2.699,0.28,6.38-1.016,8.203-5.679c1.963-5.048-0.175-8.237-3.435-8.939c-4.802-1.087-9.85,2.559-11.287,9.464\n            c-0.375,1.836-0.403,3.464-0.124,4.869c-0.77,1.069-1.741,2.107-2.713,2.107c-2.278,0-0.07-6.38,0.315-7.782\n            c1.122-3.891,1.052-8.273-2.734-8.273c-2.243,0-4.943,3.33-7.046,7.291c0.771-2.384,1.612-4.242,2.208-5.118\n            c1.472-2.173-4.452-3.19-5.889-1.788c-0.42,0.444-1.621,3.515-2.479,7.104c-0.824,0.637-1.731,1.075-2.671,1.239\n            c0.841-6.169-1.297-9.254-3.611-8.729c-3.576,0.806-4.662,7.712-1.823,10.411c-0.631,2.874-2.243,5.784-3.47,5.784\n            c-2.103,0-1.998-3.891-1.157-7.116c0.666-2.594,1.578-4.312,2.384-5.363c0.771-1.017-0.245-3.751-1.577-3.751\n            c-2.278,0-5.714,4.417-6.695,9.114c-0.351,1.712-0.361,3.371-0.078,4.853c-0.772,1.075-1.747,2.122-2.724,2.122\n            c-2.279,0-0.07-6.38,0.315-7.782c1.122-3.891,1.052-8.273-2.734-8.273c-1.963,0-4.277,2.524-6.204,5.819\n            c0.421-3.085-0.246-5.819-3.26-5.819c-2.243,0-4.943,3.33-7.046,7.291c0.771-2.384,1.612-4.242,2.208-5.118\n            c1.472-2.173-4.452-3.19-5.889-1.788c-0.33,0.349-1.144,2.323-1.893,4.895c-0.166,0.218-0.338,0.433-0.521,0.633\n            c-1.087,1.227-2.419,2.068-3.821,2.313c0.841-6.169-1.297-9.254-3.611-8.729c-3.576,0.806-4.662,7.712-1.823,10.412\n            c-0.631,2.874-2.243,5.784-3.47,5.784c-2.103,0-1.998-3.891-1.157-7.116c0.666-2.594,1.577-4.312,2.383-5.364\n            c0.771-1.016-0.245-3.751-1.577-3.751c-2.278,0-5.714,4.417-6.695,9.114c-0.34,1.659-0.36,3.268-0.103,4.716\n            c-0.786,1.121-1.807,2.26-2.806,2.26c-4.732,0,3.295-23.171,5.013-25.695c1.472-2.174-4.452-3.19-5.889-1.788\n            c-0.778,0.778-5.986,15.558-6.14,24.551c-0.818,1.283-2.051,2.932-3.254,2.932c-4.732,0,3.295-23.171,5.013-25.695\n            c1.472-2.174-4.452-3.19-5.889-1.788c-0.734,0.734-5.415,13.941-6.069,22.983c-0.086,0.032-0.168,0.091-0.239,0.188\n            c-0.28,0.385-0.981,1.788-1.928,2.874c-2.103,2.419-3.681,2.874-5.468,2.874c-2.243,0-3.681-1.227-4.101-3.506\n            c0.28,0.106,0.561,0.176,0.911,0.246c2.699,0.28,6.38-1.017,8.203-5.679c1.963-5.048-0.175-8.238-3.435-8.939\n            c-4.802-1.087-9.85,2.559-11.287,9.464c-1.402,6.871,1.998,10.867,8.518,10.867c3.611,0,5.994-2.103,7.642-4.277\n            c0.443-0.579,0.818-1.132,1.117-1.593c0.091,3.471,1.072,5.87,3.579,5.87c2.881,0,5.277-2.496,6.78-4.523\n            c0.297,2.728,1.322,4.523,3.489,4.523c2.836,0,5.201-2.417,6.708-4.426c0.959,2.558,2.948,4.286,5.665,4.286\n            c3.891,0,7.747-3.12,9.36-8.413c1.563-0.307,2.955-1.317,4.105-2.473c-0.265,1.225-0.481,2.488-0.605,3.71\n            c-0.421,4.137,0.21,7.817,3.576,7.817c0.456,0,1.192-0.28,1.227-1.052c0.035-0.841,0.105-1.718,0.21-2.594\n            c1.052-4.978,4.101-11.252,5.609-11.252c0.771,0,0.561,1.297,0.28,2.524C99.088,28.9,97.756,35.7,102.594,35.7\n            c0.456,0,1.192-0.28,1.227-1.052c0.07-1.648,0.421-3.365,0.841-4.978c1.332-4.417,3.716-8.868,4.978-8.868\n            c0.771,0,0.561,1.297,0.28,2.524c-1.367,5.573-2.699,12.374,2.138,12.374c2.787,0,5.106-2.335,6.606-4.322\n            c0.974,2.5,2.945,4.182,5.625,4.182c3.891,0,7.747-3.12,9.36-8.413c0.966-0.19,1.867-0.648,2.686-1.243\n            c-0.112,0.663-0.204,1.327-0.27,1.979c-0.421,4.137,0.21,7.817,3.576,7.817c0.456,0,1.192-0.28,1.227-1.052\n            c0.035-0.841,0.105-1.753,0.21-2.594c1.052-4.978,4.101-11.252,5.609-11.252c0.771,0,0.561,1.297,0.28,2.524\n            C145.6,28.9,144.268,35.7,149.106,35.7c2.799,0,5.126-2.356,6.626-4.349c1.241,2.809,4.084,4.349,8.13,4.349\n            c3.611,0,5.994-2.103,7.642-4.277c0.187-0.244,0.358-0.481,0.52-0.711c0.158,2.856,1.147,4.988,3.685,4.988\n            c2.384,0,4.277-1.017,5.714-2.489c-0.21,0.911-0.421,1.788-0.666,2.629c-2.734,0.491-4.872,1.577-6.345,3.33\n            c-1.507,1.753-1.858,5.889,3.471,5.293c3.47-0.42,5.819-3.715,7.537-7.992c2.243-0.806,4.627-3.12,5.854-4.662\n            c1.087-1.332,1.823-2.629,2.068-3.05C193.972,27.813,192.99,26.832,192.534,27.498z M39.189,24.332\n            c1.332-5.118,3.225-6.941,4.382-6.38c1.472,0.666-1.753,9.325-4.417,8.623c-0.14-0.035-0.245-0.105-0.386-0.175\n            C38.873,25.77,39.013,25.068,39.189,24.332z M161.338,24.834c1.332-5.118,3.225-6.941,4.382-6.38\n            c1.472,0.666-1.753,9.325-4.417,8.623c-0.14-0.035-0.245-0.105-0.386-0.175C161.022,26.271,161.163,25.57,161.338,24.834z\n            M176.795,41.905c-2.91,0,0.245-3.54,3.33-4.101C179.214,40.257,178.127,41.905,176.795,41.905z"
}),"\n            ",HTML.PATH({"class":"light",d:"M59.383,37.898c-8.273,0-15.914,7.712-22.645,7.712c-11.217,0-8.062-19.35-6.801-25.064\n            c1.472-6.415,3.961-13.531,4.837-14.897c1.402-2.174-4.557-3.19-5.959-1.753c-0.491,0.491-2.699,6.941-4.137,13.847\n            c-1.682,0.981-4.171,1.858-6.695,1.963C19,14.307,20.893,6.77,24.223,5.017c0.981-0.491-1.437-2.174-3.646-2.174\n            c-3.505,0-5.784,4.663-7.326,12.164c-0.246,1.227-0.526,3.12-0.876,5.258c-6.029,1.473-9.359,5.609-9.359,10.727\n            c0,2.418,1.648,4.557,5.468,4.557c6.24,0,7.992-7.362,8.693-11.358c0.035-0.315,0.105-0.666,0.175-1.052\n            c0.421,0,0.806-0.035,1.227-0.035c2.243,0,3.996-0.421,5.293-1.052c-1.332,8.623-2.524,26.361,13.321,26.361\n            c6.906,0,12.83-4.067,22.294-4.067c2.524,0,4.136,0.455,4.697,1.928c0.28,0.771,1.332,0.911,1.788,0.245\n            c0.386-0.491,0.666-1.192,0.666-2.103C66.639,40.212,63.239,37.898,59.383,37.898z M6.907,33.306c-0.841,0-1.648-0.666-1.648-1.788\n            c0-3.19,2.173-5.994,6.415-7.396C10.728,28.819,9.29,33.306,6.907,33.306z"}),"\n          "),"\n        "),"\n      "),"\n      ",HTML.Raw('<!-- "H" only -->'),"\n      ",HTML.DIV({"class":"mini"},"\n        ",HTML.SVG({version:"1.1","class":"vector",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"73.5px",height:"54.333px",viewBox:"0 0 73.5 54.333","enable-background":"new 0 0 73.5 54.333","xml:space":"preserve"},"\n          ",HTML.PATH({"class":"shadow",fill:"#14171A","enable-background":"new    ",d:"M52.933,39.09c-1.714,0.733-3.357,1.57-4.92,2.369\n          c-3.254,1.662-6.328,3.231-8.801,3.231c-1.421,0-2.441-0.446-3.211-1.405c-1.189-1.48-2.223-1.5-1.964-7.824\n          s1.325-13.431,2.79-17.87s2.527-7.596,2.937-8.258c0.832-1.29,0.91-2.836,0.204-4.131c-1.163-2.135-4.03-2.895-6.325-2.895\n          c-1.351,0-3.224,0.268-4.471,1.547c-0.104,0.104-0.21,0.237-0.321,0.401c-0.489-0.526-1.137-0.991-1.933-1.386\n          c-1.225-0.609-2.598-0.944-3.867-0.944c-6.51,0-8.971,8.313-10.257,14.565c-0.184,0.918-0.376,2.121-0.598,3.514l-0.002,0.011\n          C6.12,22.194,2.5,27.059,2.5,33.063c0,3.756,2.615,7.546,8.458,7.546c5.802,0,9.63-4.2,11.378-12.485\n          c0.173-0.011,0.345-0.025,0.514-0.04c-0.806,9.09,0.668,15.893,4.384,20.228c2.937,3.426,7.121,5.163,12.434,5.163\n          c3.607,0,6.807-0.929,10.194-1.913c3.648-1.059,7.421-2.154,12.1-2.154c1.212,0,1.768,0.129,1.985,0.202\n          c0.634,1.439,2.096,2.397,3.682,2.397c1.272,0,2.476-0.612,3.22-1.636c0.818-1.069,1.253-2.413,1.253-3.883\n          c0-2.666-1.016-4.973-2.729-6.65c0,0-2.925-3.068-8.037-2.888S52.933,39.09,52.933,39.09z"}),"\n          ",HTML.PATH({"class":"dark",d:"M51.433,37.75c-1.714,0.733-3.357,1.57-4.92,2.369c-3.254,1.662-6.328,3.231-8.801,3.231\n          c-1.421,0-2.441-0.446-3.211-1.405c-1.189-1.48-2.223-1.5-1.964-7.824s1.325-13.431,2.79-17.87s2.527-7.596,2.937-8.258\n          c0.832-1.29,0.91-2.836,0.204-4.131c-1.163-2.135-4.03-2.895-6.325-2.895c-1.351,0-3.224,0.268-4.471,1.547\n          c-0.104,0.104-0.21,0.237-0.321,0.401c-0.489-0.526-1.137-0.991-1.933-1.386c-1.225-0.609-2.598-0.944-3.867-0.944\n          c-6.51,0-8.971,8.313-10.257,14.565c-0.184,0.918-0.376,2.121-0.598,3.514l-0.002,0.011C4.62,20.854,1,25.719,1,31.723\n          c0,3.756,2.615,7.546,8.458,7.546c5.802,0,9.63-4.2,11.378-12.485c0.173-0.011,0.345-0.025,0.514-0.04\n          c-0.806,9.09,0.668,15.893,4.384,20.228c2.937,3.426,7.121,5.163,12.434,5.163c3.607,0,6.807-0.929,10.194-1.913\n          c3.648-1.059,7.421-2.154,12.1-2.154c1.212,0,1.768,0.129,1.985,0.202c0.634,1.439,2.096,2.397,3.682,2.397\n          c1.272,0,2.476-0.612,3.22-1.636c0.818-1.069,1.253-2.413,1.253-3.883c0-2.666-1.016-4.973-2.729-6.65c0,0-2.925-3.068-8.037-2.888\n          S51.433,37.75,51.433,37.75z"}),"\n          ",HTML.G("\n            ",HTML.PATH({"class":"light",d:"M59.383,37.898c-8.273,0-15.914,7.712-22.645,7.712c-11.217,0-8.062-19.35-6.801-25.064\n            c1.472-6.415,3.961-13.531,4.837-14.897c1.402-2.174-4.557-3.19-5.959-1.753c-0.491,0.491-2.699,6.941-4.137,13.847\n            c-1.682,0.981-4.171,1.858-6.695,1.963C19,14.307,20.893,6.77,24.223,5.017c0.981-0.491-1.437-2.174-3.646-2.174\n            c-3.505,0-5.784,4.663-7.326,12.164c-0.246,1.227-0.526,3.12-0.876,5.258c-6.029,1.473-9.359,5.609-9.359,10.727\n            c0,2.418,1.648,4.557,5.468,4.557c6.24,0,7.992-7.362,8.693-11.358c0.035-0.315,0.105-0.666,0.175-1.052\n            c0.421,0,0.806-0.035,1.227-0.035c2.243,0,3.996-0.421,5.293-1.052c-1.332,8.623-2.524,26.361,13.321,26.361\n            c6.906,0,12.83-4.067,22.294-4.067c2.524,0,4.136,0.455,4.697,1.928c0.28,0.771,1.332,0.911,1.788,0.245\n            c0.386-0.491,0.666-1.192,0.666-2.103C66.639,40.212,63.239,37.898,59.383,37.898z M6.907,33.306c-0.841,0-1.648-0.666-1.648-1.788\n            c0-3.19,2.173-5.994,6.415-7.396C10.728,28.819,9.29,33.306,6.907,33.306z"}),"\n          "),"\n        "),"\n      "),"\n      ",HTML.Raw('<span class="label label-primary">BETA</span>'),"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("dynamicModal"),Template.dynamicModal=new Template("Template.dynamicModal",function(){var a=this;return HTML.DIV({"class":function(){return["modal fade js-dynamic-modal ",Spacebars.mustache(a.lookup("classes"))]},tabindex:"-1",role:"dialog","aria-hidden":"true"},"\n    ",HTML.DIV({"class":"modal-dialog"},"\n      ",HTML.DIV({"class":"modal-content"},"\n        ",HTML.DIV({"class":"modal-nav"},"\n          ",HTML.Raw('<div class="stripe"><div class="left"></div><div class="right"></div></div>'),"\n          ",HTML.Raw('<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>'),"\n          ",HTML.H2({"class":"title"},Blaze.View("lookup:title",function(){return Spacebars.mustache(a.lookup("title"))})),"\n        "),"\n        ",Blaze._TemplateWith(function(){return{template:Spacebars.call(a.lookup("template")),data:Spacebars.call(a.lookup("."))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n      "),"\n    "),"\n  ")}),Template.__checkName("addFeeModalContent"),Template.addFeeModalContent=new Template("Template.addFeeModalContent",function(){var a=this;return Blaze._TemplateWith(function(){return{schema:Spacebars.call("FeeValidationSchema"),action:Spacebars.call(a.lookup("editFee")),doc:Spacebars.call(a.lookup("portfolio"))}},function(){return Spacebars.include(a.lookupTemplate("simpleForm"),function(){return["\n    ",HTML.DIV({"class":"input-fields"},"\n      ",HTML.FIELDSET("\n        ",Blaze._TemplateWith(function(){return{field:Spacebars.call("feeName"),"class":Spacebars.call("input-lg form-control js-fee-name-input"),hint:Spacebars.call(" "),placeholder:Spacebars.call("Fee Name")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n        ",HTML.DIV({"class":"input-with-icon tight right-icon"},"\n          ",Blaze._TemplateWith(function(){return{field:Spacebars.call("feeRatio"),"class":Spacebars.call("input-lg form-control fee-ratio-input js-fee-ratio-input"),hint:Spacebars.call(a.lookup("feeHint")),placeholder:Spacebars.call("1.00")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n          ",HTML.SPAN({"class":"icon fee-ratio-input-icon"},"%"),"\n        "),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"actions"},"\n      ",HTML.BUTTON({type:"submit","class":"btn btn-primary btn-lg pull-right js-submit"},"Set"),"\n      ",HTML.A({"class":"cancel pull-right desktop","data-dismiss":"modal"},"Cancel"),"\n    "),"\n  "]})})}),Template.__checkName("PortfolioSummaryTagsModalContent"),Template.PortfolioSummaryTagsModalContent=new Template("Template.PortfolioSummaryTagsModalContent",function(){var a=this;return HTML.DIV({"class":"modal-body portfolio-summary-tags-modal-body"},"\n    ",Blaze.Each(function(){return{_sequence:Spacebars.call(a.lookup("portfolioSummaryTagList")),_variable:"tag"}},function(){return["\n      ",HTML.DIV({"class":"text-center"},"\n        ",HTML.A({"class":"js-tag-link",href:function(){return Spacebars.mustache(a.lookup("_tagUrl"),a.lookup("tag"))}},"\n          ",HTML.SPAN({"class":"label portfolio-summary-tag"},Blaze.View("lookup:tag",function(){return Spacebars.mustache(a.lookup("tag"))})),"\n        "),"\n      "),"\n    "]}),"\n  ")}),Template.__checkName("confirmationModal"),Template.confirmationModal=new Template("Template.confirmationModal",function(){var a=this;return HTML.DIV({"class":"modal fade js-confirmation-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},"\n    ",HTML.DIV({"class":"modal-dialog"},"\n      ",HTML.DIV({"class":"modal-content"},"\n        ",HTML.Raw('<span class="glyphicon glyphicon-remove-circle btn btn-close js-close" title="Close" data-dismiss="modal"></span>'),"\n          ",HTML.DIV({"class":"modal-nav"},"\n            ",HTML.Raw('<div class="stripe"><div class="left"></div><div class="right"></div></div>'),"\n            ",HTML.H2(Blaze.View("lookup:title",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("title")))})),"\n            ",HTML.P(Blaze.View("lookup:subtitle",function(){return Spacebars.mustache(a.lookup("subtitle"))})),"\n          "),"\n          ",HTML.DIV({"class":"actions"},"\n            ",HTML.A({href:"#","class":"js-okay btn btn-primary btn-lg pull-right","data-dismiss":"modal"},Blaze.If(function(){return Spacebars.call(a.lookup("okayButtonText"))},function(){return Blaze.View("lookup:okayButtonText",function(){return Spacebars.mustache(a.lookup("okayButtonText"))})},function(){return"Okay"})),"\n            ",HTML.A({href:"#","class":"js-cancel cancel pull-right","data-dismiss":"modal"},Blaze.If(function(){return Spacebars.call(a.lookup("cancelButtonText"))},function(){return Blaze.View("lookup:cancelButtonText",function(){return Spacebars.mustache(a.lookup("cancelButtonText"))})},function(){return"Cancel"})),"\n        "),"\n      "),"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("notificationBar"),Template.notificationBar=new Template("Template.notificationBar",function(){var n=this;return HTML.DIV({"class":"notification-bar js-notification-bar"},"\n      ",Blaze._TemplateWith(function(){return{template:Spacebars.call(n.lookup("content")),data:Spacebars.call(n.lookup("cardData"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n  ")}),Template.__checkName("createYourOwnContent"),Template.createYourOwnContent=new Template("Template.createYourOwnContent",function(){var n=this;return Blaze.Unless(function(){return Spacebars.call(n.lookup("hideCreateYourOwnBar"))},function(){return["\n    ",HTML.DIV({"class":"container wide-container"},"\n      ",HTML.DIV({"class":"notification-bar-content js-create-portfolio-bar"},"\n        ",HTML.P({"class":"notification-bar-content-caption"},"\n          ",HTML.SPAN({"class":"mobile"},"Create Your Own Portfolio"),"\n          ",HTML.SPAN({"class":"desktop"},"Design Your Portfolio"),"\n          ",HTML.SPAN({"class":"desktop"},"from 24,000+ Stocks and Funds"),"\n        "),"\n        ",HTML.BUTTON({type:"button","class":"js-create-us-portfolio btn btn-sm btn-primary notification-bar-button"},HTML.SPAN({"class":"currency-flag USA"}),HTML.SPAN({"class":"hidden-xs"},"US Portfolio")),"\n        ",HTML.BUTTON({type:"button","class":"js-create-ca-portfolio btn btn-sm btn-primary notification-bar-button"},HTML.SPAN({"class":"currency-flag CAN"}),HTML.SPAN({"class":"hidden-xs"},"Canadian Portfolio")),"\n        ",HTML.A({href:"#","class":"js-close notification-bar-close glyphicon glyphicon-remove"}),"\n      "),"\n    "),"\n  "]})})}).call(this);

(function(){Template.__checkName("portfolioImportTextareaController"),Template.portfolioImportTextareaController=new Template("Template.portfolioImportTextareaController",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("modal"))},function(){return["\n    ",Spacebars.With(function(){return Spacebars.call(e.lookup("setHelpers"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("portfolioImportTextareaModal")),"\n    "]}),"\n  "]},function(){return["\n    ",Spacebars.With(function(){return Spacebars.call(e.lookup("setHelpers"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("portfolioImportTextarea")),"\n    "]}),"\n  "]})}),Template.__checkName("portfolioImportTextarea"),Template.portfolioImportTextarea=new Template("Template.portfolioImportTextarea",function(){var e=this;return[Blaze._TemplateWith(function(){return{country:Spacebars.call(e.lookup("_country")),classes:Spacebars.call("hidden-xs")}},function(){return Spacebars.include(e.lookupTemplate("portfolioCountrySelector"))}),"\n  ",HTML.DIV({"class":function(){return["form-group portfolio-import-textarea ",Blaze.If(function(){return Spacebars.call(e.lookup("hasError"))},function(){return"disabled"})]}},"\n    ",HTML.DIV({"class":"portfolio-import-textarea-form-wrapper js-portfolio-import-form-wrapper"},"\n      ",Blaze._TemplateWith(function(){return{dragover:Spacebars.call(e.lookup("dragover")),modal:Spacebars.call(e.lookup("modal"))}},function(){return Spacebars.include(e.lookupTemplate("textareaDropper"))}),"\n      ",HTML.DIV({"class":function(){return["form-control js-portfolio-import-form portfolio-import-textarea-form ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("dragover"),"get"))},function(){return"dragging"})]}},"\n        ",HTML.DIV({"class":"tokens"},"\n          ",Blaze.If(function(){return Spacebars.call(e.lookup("fileUploaded"))},function(){return["\n            ",Spacebars.include(e.lookupTemplate("reactiveHeader")),"\n          "]}),"\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("portfolioHoldings"))},function(){return["\n            ",HTML.DIV({"class":function(){return["token js-token ",Blaze.Unless(function(){return Spacebars.call(e.lookup("weightAdded"))},function(){return"editing"})]}},"\n              ",Blaze._TemplateWith(function(){return{symbol:Spacebars.call(e.lookup("symbol")),symbolColor:Spacebars.call(e.lookup("symbolColor")),name:Spacebars.call(e.lookup("name")),displayName:Spacebars.call(e.lookup("displayName")),_id:Spacebars.call(e.lookup("_id"))}},function(){return Spacebars.include(e.lookupTemplate("editableTokenName"))}),"\n              ",Blaze._TemplateWith(function(){return{weight:Spacebars.call(e.lookup("weight")),amount:Spacebars.call(e.lookup("amount")),_id:Spacebars.call(e.lookup("_id"))}},function(){return Spacebars.include(e.lookupTemplate("editableTokenWeight"))}),"\n              ",HTML.A({href:"#","class":"js-delete-holding delete-btn glyphicon glyphicon-remove"}),"\n            "),"\n          "]}),"\n          ",Blaze._TemplateWith(function(){return{searchType:Spacebars.call(e.lookup("searchType")),root:Spacebars.call(e.lookup("root"))}},function(){return Spacebars.include(e.lookupTemplate("dynamicInput"))}),"\n          ",HTML.Raw('<div style="clear:both;"></div>'),"\n        "),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"row portfolio-import-textarea-footer"},"\n      ",HTML.DIV({"class":"caption-wrapper col col-sm-7"},"\n        ",HTML.DIV({"class":"caption js-caption"},Blaze.View("lookup:caption",function(){return Spacebars.mustache(e.lookup("caption"))})),"\n        ",HTML.DIV({"class":"upload-buttons"},"\n          ",HTML.Raw('<a href="#" class="upload-btn js-upload-btn">Select CSV File</a>')," ",HTML.Raw('<span class="glyphicon glyphicon-question-sign upload-instruction js-upload-instruction"></span>'),HTML.Raw("&nbsp;"),"|",HTML.Raw("&nbsp;"),HTML.Raw('<a href="#" class="upload-btn js-clear-btn">Clear All</a>'),"\n          ",HTML.DIV({"class":"portfolio-import-textarea-form-country"},"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("country"))},function(){return[HTML.CharRef({html:"&nbsp;",str:" "}),"|",HTML.CharRef({html:"&nbsp;",str:" "})]}),"\n            ",Blaze._TemplateWith(function(){return{country:Spacebars.call(e.lookup("_country"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioCountryBadge"))}),"\n          "),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"submit-wrapper col col-sm-5"},"\n        ",HTML.BUTTON({type:"button","class":function(){return["js-submit btn-flat-lg btn-flat-white submit-btn btn btn-responsive ",Blaze.If(function(){return Spacebars.call(e.lookup("disabled"))},function(){return"disabled"})]}},"Build",Blaze.If(function(){return Spacebars.call(e.lookup("isDesktop"))},function(){return[HTML.CharRef({html:"&nbsp;",str:" "}),HTML.SPAN({"class":"mobile"},"It"),HTML.SPAN({"class":"desktop"},"Portfolio")]})),"\n      "),"\n    "),"\n  ")]}),Template.__checkName("portfolioImportTextareaModal"),Template.portfolioImportTextareaModal=new Template("Template.portfolioImportTextareaModal",function(){var e=this;return HTML.DIV({"class":"modal fade portfolio-import-modal js-portfolio-import-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},"\n    ",HTML.DIV({"class":"modal-dialog"},"\n      ",HTML.DIV({"class":"modal-content"},"\n        ",HTML.Raw('<div class="modal-nav">\n          <span class="glyphicon glyphicon-remove-circle btn btn-close close" title="Close" data-dismiss="modal"></span>\n          <h2 class="title">Upload CSV File</h2>\n          <div class="stripe"><div class="left"></div><div class="right"></div></div>\n        </div>'),"\n        ",HTML.DIV({"class":"modal-body"},"\n          ",HTML.DIV({"class":function(){return["portfolio-import-textarea ",Blaze.If(function(){return Spacebars.call(e.lookup("hasError"))},function(){return"disabled"})]}},"\n            ",HTML.DIV({"class":function(){return["form-control js-portfolio-import-form portfolio-import-textarea-form ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("dragover"),"get"))},function(){return"dragging"})]}},"\n              ",Blaze._TemplateWith(function(){return{dragover:Spacebars.call(e.lookup("dragover")),modal:Spacebars.call(e.lookup("modal")),modalPortfolio:Spacebars.call(e.lookup("modalPortfolio"))}},function(){return Spacebars.include(e.lookupTemplate("textareaDropper"))}),"\n              ",HTML.DIV({"class":"tokens"},"\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("fileUploaded"))},function(){return["\n                  ",Spacebars.include(e.lookupTemplate("reactiveHeader")),"\n                "]}),"\n                ",Blaze.Each(function(){return Spacebars.call(e.lookup("portfolioHoldings"))},function(){return["\n                  ",HTML.DIV({"class":function(){return["token js-token ",Blaze.Unless(function(){return Spacebars.call(e.lookup("weightAdded"))},function(){return"editing"})]}},"\n                    ",Blaze._TemplateWith(function(){return{symbol:Spacebars.call(e.lookup("symbol")),symbolColor:Spacebars.call(e.lookup("symbolColor")),name:Spacebars.call(e.lookup("name")),displayName:Spacebars.call(e.lookup("displayName")),_id:Spacebars.call(e.lookup("_id"))}},function(){return Spacebars.include(e.lookupTemplate("editableTokenName"))}),"\n                    ",Blaze._TemplateWith(function(){return{weight:Spacebars.call(e.lookup("weight")),amount:Spacebars.call(e.lookup("amount")),_id:Spacebars.call(e.lookup("_id"))}},function(){return Spacebars.include(e.lookupTemplate("editableTokenWeight"))}),"\n                    ",HTML.A({href:"#","class":"js-delete-holding delete-btn glyphicon glyphicon-remove"}),"\n                  "),"\n                "]}),"\n                ",Blaze._TemplateWith(function(){return{searchType:Spacebars.call(e.lookup("searchType")),root:Spacebars.call(e.lookup("root"))}},function(){return Spacebars.include(e.lookupTemplate("dynamicInput"))}),"\n                ",HTML.Raw('<div style="clear:both;"></div>'),"\n              "),"\n            "),"\n            ",HTML.DIV({"class":"caption js-caption"},Blaze.View("lookup:caption",function(){return Spacebars.mustache(e.lookup("caption"))})),"\n          "),"\n          ",HTML.DIV({"class":"actions portfolio-import-textarea-footer"},"\n            ",HTML.Raw('<div class="pull-left">\n              <div class="upload-buttons">\n                <a href="#" class="upload-btn js-upload-btn">Select CSV File</a> <span class="glyphicon glyphicon-question-sign upload-instruction js-upload-instruction"></span> | <a href="#" class="upload-btn js-clear-btn">Clear All</a>\n              </div>\n            </div>'),"\n            ",HTML.BUTTON({type:"button","class":function(){return["js-submit btn btn-primary submit-btn btn-lg ",Blaze.If(function(){return Spacebars.call(e.lookup("disabled"))},function(){return"disabled"})]}},"Upload"),"\n            ",HTML.Raw('<a class="cancel pull-right desktop" data-dismiss="modal">Cancel</a>'),"\n            ",HTML.Raw("<!-- placeholder -->"),"\n            ",HTML.Raw('<div style="clear:both;"></div>'),"\n          "),"\n        "),"\n      "),"\n    "),"\n  ")}),Template.__checkName("reactiveHeader"),Template.reactiveHeader=new Template("Template.reactiveHeader",function(){var e=this;return HTML.DIV({"class":"token header"},HTML.Raw('\n    <span class="token-name-symbol token-ingredient">Symbol</span>\n    '),HTML.SPAN({"class":"token-weight token-ingredient"},"\n      ",Blaze._TemplateWith(function(){return{name:Spacebars.call("valueField"),labels:Spacebars.call(e.lookup("headerValues")),values:Spacebars.call(e.lookup("headerValues")),selection:Spacebars.call(e.lookup("selection")),classes:Spacebars.call("js-textarea-header-dropdown")}},function(){return Spacebars.include(e.lookupTemplate("widgetDropdown"))}),"\n    "),HTML.Raw('\n    <!-- placeholder -->\n    <div style="clear:both;"></div>\n  '))}),Template.__checkName("textareaDropper"),Template.textareaDropper=new Template("Template.textareaDropper",function(){var e=this;return[HTML.Raw('<!-- http://stackoverflow.com/questions/7110353/html5-dragleave-fired-when-hovering-a-child-element -->\n  <div class="portfolio-import-textarea-dropper js-dropper"></div>\n  '),HTML.DIV({"class":"portfolio-import-textarea-dropper-dialogue js-dropper-dialogue"},"\n    ",HTML.DIV({"class":"portfolio-import-textarea-dropper-dialogue-wrapper"},"\n      ",Blaze._TemplateWith(function(){return{template:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"dropperDynamicDialogue","get")),data:Spacebars.call(e.lookup("dataForDialogue"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n    "),"\n  "),HTML.Raw('\n  <!-- For file upload -->\n  <input type="file" class="js-upload-file" style="display: none">')]}),Template.__checkName("dialogueDefault"),Template.dialogueDefault=new Template("Template.dialogueDefault",function(){var e=this;return HTML.Raw('<div class="dialogue dialogue-default">\n    <div class="dialogue-title">\n      Drop CSV file here.\n    </div>\n  </div>')}),Template.__checkName("dialogueLoading"),Template.dialogueLoading=new Template("Template.dialogueLoading",function(){var e=this;return HTML.DIV({"class":"dialogue dialogue-loading"},"\n    ",HTML.DIV({"class":"dialogue-text"},"Processing ",HTML.B(Blaze.View("lookup:fileName.get",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileName"),"get"))}))),"\n    ",Spacebars.include(e.lookupTemplate("loadingAnimation")),"\n  ")}),Template.__checkName("dialogueChangeCountry"),Template.dialogueChangeCountry=new Template("Template.dialogueChangeCountry",function(){var e=this;return HTML.DIV({"class":"portfolio-import-textarea-dropper-dialogue js-dropper-dialogue-country"},"\n    ",HTML.DIV({"class":"portfolio-import-textarea-dropper-dialogue-wrapper"},"\n      ",HTML.DIV({"class":"dialogue dialogue-confirm"},"\n        ",HTML.DIV({"class":"dialogue-title"},"\n          Change to ",Blaze.View("lookup:country",function(){return Spacebars.mustache(e.lookup("country"))}),"?\n        "),"\n        ",HTML.Raw('<div class="dialogue-text">\n          Current entries will be lost.\n        </div>'),"\n        ",HTML.Raw('<button type="button" class="js-dropper-confirm-cancel btn btn-default">Cancel</button>'),"\n        ",HTML.Raw('<button type="button" class="js-dropper-confirm-ok btn btn-primary">Change</button>'),"\n      "),"\n    "),"\n  ")}),Template.__checkName("dialogueConfirm"),Template.dialogueConfirm=new Template("Template.dialogueConfirm",function(){var e=this;return HTML.Raw('<div class="dialogue dialogue-confirm">\n    <div class="dialogue-title">\n      Upload file?\n    </div>\n    <div class="dialogue-text">\n      Current entries will be lost.\n    </div>\n    <button type="button" class="js-dropper-confirm-cancel btn btn-default">Cancel</button>\n    <button type="button" class="js-dropper-confirm-ok btn btn-primary">Upload</button>\n  </div>')}),Template.__checkName("dialogueError"),Template.dialogueError=new Template("Template.dialogueError",function(){var e=this;return HTML.DIV({"class":"dialogue dialogue-error"},"\n    ",HTML.DIV({"class":"dialogue-title"},"\n      ",HTML.B(Blaze.View("lookup:fileName.get",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fileName"),"get"))}))," did not upload correctly.\n    "),"\n    ",HTML.DIV({"class":"dialogue-text"},"\n      ",Blaze.View("lookup:errorText.get",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("errorText"),"get"))}),"\n    "),HTML.Raw('\n    <button type="button" class="js-dropper-error-ok btn btn-primary">OK</button>\n  '))}),Template.__checkName("dynamicInput"),Template.dynamicInput=new Template("Template.dynamicInput",function(){var e=this;return Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("searchType")),data:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})})}),Template.__checkName("editableTokenName"),Template.editableTokenName=new Template("Template.editableTokenName",function(){var e=this;return Blaze._TemplateWith(function(){return{editTemplate:Spacebars.call("securitySearchTypeahead"),editing:Spacebars.call(e.lookup("editing"))}},function(){return Spacebars.include(e.lookupTemplate("editableUI"),function(){return["\n    ",HTML.SPAN({"class":"token-name-symbol token-ingredient js-token-ingredient"},"\n      ",HTML.SPAN({"class":"token-symbol label",style:function(){return["background: ",Spacebars.mustache(e.lookup("symbolColor")),";"]}},Blaze.View("lookup:symbol",function(){return Spacebars.mustache(e.lookup("symbol"))})),"\n      ",HTML.SPAN({"class":"token-name"},Blaze.If(function(){return Spacebars.call(e.lookup("displayName"))},function(){return Blaze.View("lookup:displayName",function(){return Spacebars.mustache(e.lookup("displayName"))})},function(){return Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})})),"\n    "),"\n  "]})})}),Template.__checkName("editableTokenWeight"),Template.editableTokenWeight=new Template("Template.editableTokenWeight",function(){var e=this;return Blaze._TemplateWith(function(){return{editTemplate:Spacebars.call("weightInput"),editing:Spacebars.call(e.lookup("editing"))}},function(){return Spacebars.include(e.lookupTemplate("editableUI"),function(){return["\n    ",Spacebars.With(function(){return{value:Spacebars.call(e.lookup("getValue")),_id:Spacebars.call(e.lookup("_id")),amount:Spacebars.call(e.lookup("amount")),weight:Spacebars.call(e.lookup("weight"))}},function(){return["\n      ",HTML.SPAN({"class":function(){return["token-weight js-token-weight token-ingredient js-token-ingredient ",Blaze.Unless(function(){return Spacebars.call(e.lookup("value"))},function(){return"has-error"})]}},Blaze.If(function(){return Spacebars.call(e.lookup("value"))},function(){return Blaze.View("lookup:value",function(){return Spacebars.mustache(e.lookup("value"))})},function(){return"N/A"})),"\n      ",HTML.Comment(" placeholder "),"\n      ",HTML.DIV({"class":"token-placeholder",style:"clear:both;"}),"\n    "]}),"\n  "]})})}),Template.__checkName("editableUI"),Template.editableUI=new Template("Template.editableUI",function(){var e=this;return Blaze.Unless(function(){return Spacebars.call(e.lookup("editing"))},function(){return["\n    ",Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})}),"\n  "]},function(){return["\n    ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("editTemplate")),data:Spacebars.call(e.lookup("parentData"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n  "]})}),Template.__checkName("securitySearchTypeahead"),Template.securitySearchTypeahead=new Template("Template.securitySearchTypeahead",function(){var e=this;return HTML.Raw('<span class="typeahead js-input-field">\n    <input autofocus="" type="text" class="typeahead-input">\n  </span>')}),Template.__checkName("weightInput"),Template.weightInput=new Template("Template.weightInput",function(){var e=this;return HTML.Raw('<input autofocus="" type="text" class="js-input-field js-weight-input weight-input press-enter">\n  <span class="hint-block">Press Enter</span>')})}).call(this);

(function(){Template.__checkName("portfolioShare"),Template.portfolioShare=new Template("Template.portfolioShare",function(){var e=this;return HTML.DIV({"class":"share-group"},HTML.Raw('\n    <div class="col-label pull-left">\n      <p class="share-group-label">\n        <span class="hidden-sm hidden-md hidden-lg">Get Feedback</span>\n        <span class="hidden-xs">Share for Feedback</span>\n      </p>\n    </div>\n    '),HTML.DIV({"class":"share-buttons pull-right js-comment-container"},"\n      ",Blaze.Unless(function(){return Spacebars.call(e.lookup("redditPosts"))},function(){return["\n      ",HTML.BUTTON({"class":"btn btn-reddit share-btn js-share-btn-reddit"},HTML.IMG({"class":"share-icon reddit",src:"/img/sns-reddit.svg",alt:"Reddit Icon"}),HTML.SPAN({"class":"btn-text hidden-xs"},"reddit")),"\n      "]},function(){return["\n      ",HTML.DIV({"class":"btn-group share-btn-group"},"\n        ",HTML.BUTTON({"class":"btn btn-reddit js-share-btn-reddit"},HTML.IMG({"class":"share-icon reddit",src:"/img/sns-reddit.svg",alt:"Reddit Icon"}),HTML.SPAN({"class":"btn-text hidden-xs"},"reddit")),"\n        ",HTML.BUTTON({"class":function(){return["btn btn-reddit btn-toggle js-toggle-reddit-btn ",Blaze.If(function(){return Spacebars.call(e.lookup("isRedditExpanded"))},function(){return"active"})]}},"\n          ",Blaze.View("lookup:getTotalCommentCount",function(){return Spacebars.mustache(e.lookup("getTotalCommentCount"))}),"\n        "),"\n      "),"\n      "]}),"\n      ",HTML.BUTTON({"class":"btn btn-primary share-btn btn-link js-share-btn-link hidden-sm hidden-xs","data-clipboard-text":function(){return Spacebars.mustache(e.lookup("getLinkUrl"))}},HTML.Raw('<img class="share-icon" src="/img/icon-share-link.svg" alt="Link Icon">'),HTML.Raw('<span class="btn-text">Copy</span>')),"\n      ",HTML.Raw('<button class="btn btn-primary share-btn btn-email js-share-btn-email"><img class="share-icon" src="/img/icon-share-email.svg" alt="Email Icon"><span class="btn-text hidden-xs">Email</span></button>'),"\n    "),"\n    ",Spacebars.With(function(){return{pos:Spacebars.call(e.lookup("redditPosition"))}},function(){return["\n      ",Blaze._TemplateWith(function(){return{isOpen:Spacebars.call(e.lookup("isRedditExpanded")),top:Spacebars.call(Spacebars.dot(e.lookup("pos"),"top")),bottom:Spacebars.call(Spacebars.dot(e.lookup("pos"),"bottom")),right:Spacebars.call(Spacebars.dot(e.lookup("pos"),"right")),"class":Spacebars.call("reddit-threads"),arrow:Spacebars.call(Spacebars.dot(e.lookup("pos"),"arrow")),redditPosts:Spacebars.call(e.lookup("redditPosts")),container:Spacebars.call(".js-comment-container"),nocalc:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("commentsPopover"))}),"\n    "]}),"\n  ")}),Template.__checkName("redditPostsThread"),Template.redditPostsThread=new Template("Template.redditPostsThread",function(){var e=this;return[HTML.DIV({"class":"comments-header"},"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("hasMultipleRedditPosts"))},function(){return["\n      ",HTML.SPAN({"class":"reddit-threads-selector"},HTML.A({href:"#","class":"js-prev-reddit"},HTML.CharRef({html:"&lt;",str:"<"}))," ",Blaze.View("lookup:currentSelection",function(){return Spacebars.mustache(e.lookup("currentSelection"))})," of ",Blaze.View("lookup:redditPosts.length",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("redditPosts"),"length"))})," ",HTML.A({href:"#","class":"js-next-reddit"},HTML.CharRef({html:"&gt;",str:">"}))),"\n    "]}),"\n    ",Spacebars.With(function(){return{post:Spacebars.call(e.lookup("getCurrentRedditPost"))}},function(){return["\n      ",HTML.A({"class":"comments-header-title js-reddit-post",href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("post"),"url"))},target:"_blank"},"\n        ",HTML.SPAN({"class":"glyphicon glyphicon-new-window icon"}),"\n        ",HTML.H3({"class":"comments-header-label"},Spacebars.include(e.lookupTemplate("markdownWithCleanLink"),function(){return Blaze.View("lookup:sanitize",function(){return Spacebars.mustache(e.lookup("sanitize"),Spacebars.dot(e.lookup("post"),"title"))})})),"\n        ",HTML.P({"class":"help-block"},Blaze.View("lookup:pluralize",function(){return Spacebars.mustache(e.lookup("pluralize"),"point",Spacebars.dot(e.lookup("post"),"points"))})," ",Blaze.View("lookup:livestamp",function(){return Spacebars.mustache(e.lookup("livestamp"),Spacebars.dot(e.lookup("post"),"createdAt"))})," in /r/",Blaze.View("lookup:post.subreddit",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("post"),"subreddit"))})),"\n        ",HTML.SPAN({"class":"comments-counter"},Blaze.View("lookup:pluralize",function(){return Spacebars.mustache(e.lookup("pluralize"),"comment",Spacebars.dot(e.lookup("post"),"commentCount"))})),"\n      "),"\n    "]}),"\n  "),"\n  ",Blaze._TemplateWith(function(){return{post:Spacebars.call(e.lookup("getCurrentRedditPost")),comments:Spacebars.call(e.lookup("getComments")),isCommentReady:Spacebars.call(e.lookup("isCommentReady"))}},function(){return Spacebars.include(e.lookupTemplate("redditCommentsThread"))})]}),Template.__checkName("redditCommentsThread"),Template.redditCommentsThread=new Template("Template.redditCommentsThread",function(){var e=this;return[HTML.DIV({"class":"comments js-comments"},"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("isCommentReady"))},function(){return["\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("comments"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),Spacebars.dot(e.lookup("."),"url"))},target:"_blank"},"\n          ",HTML.DIV({"class":"comment-item"},"\n            ",HTML.DIV({"class":"comment-item-header"},"\n              ",HTML.SPAN({"class":"name"},Blaze.View("lookup:..authorName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"authorName"))})),"\n              ",HTML.SPAN({"class":"date"},Blaze.View("lookup:pluralize",function(){return Spacebars.mustache(e.lookup("pluralize"),"point",e.lookup("points"))})," ",Blaze.View("lookup:livestamp",function(){return Spacebars.mustache(e.lookup("livestamp"),Spacebars.dot(e.lookup("."),"createdAt"))})),"\n            "),"\n            ",HTML.DIV({"class":"comment-item-body"},"\n              ",HTML.DIV({"class":"comment-item-body-text"},Spacebars.include(e.lookupTemplate("markdownWithCleanLink"),function(){return Blaze.View("lookup:sentenceWithComments",function(){return Spacebars.mustache(e.lookup("sentenceWithComments"),e.lookup("."))})})),"\n            "),"\n          "),"\n        "),"\n      "]}),"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("moreCommentsNeeded"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),Spacebars.dot(e.lookup("post"),"url"))},target:"_blank"},"\n          ",HTML.DIV({"class":"comment-item see-more-comments-box"},"\n            ",HTML.DIV({"class":"comment-item-body"},"\n              ",HTML.DIV({"class":"comment-item-body-more"},"See More Comments"),"\n            "),"\n          "),"\n        "),"\n      "]}),"\n    "]},function(){return["\n      ",HTML.DIV({"class":"comment-item"},"\n        ",Spacebars.include(e.lookupTemplate("loadingAnimation")),"\n      "),"\n    "]}),"\n  "),HTML.Raw('\n  <!-- placeholder -->\n  <div style="clear: both;"></div>')]})}).call(this);

(function(){Template.__checkName("headerRightSide"),Template.headerRightSide=new Template("Template.headerRightSide",function(){var n=this;return HTML.UL({"class":"nav user"},"\n    ",Blaze.If(function(){return Spacebars.call(n.lookup("currentUser"))},function(){return["\n      ",Spacebars.include(n.lookupTemplate("userProfileDropdown")),"\n    "]},function(){return["\n      ",Spacebars.include(n.lookupTemplate("socialSigninHeader")),"\n    "]}),HTML.Raw('\n    <!-- <div class="gradient"></div> -->\n  '))}),Template.__checkName("socialSigninHeader"),Template.socialSigninHeader=new Template("Template.socialSigninHeader",function(){var n=this;return HTML.Raw('<li><a class="btn btn-primary btn-signin js-signin-btn" href="#">Sign In</a></li>')}),Template.__checkName("userProfileDropdown"),Template.userProfileDropdown=new Template("Template.userProfileDropdown",function(){var n=this;return HTML.LI({"class":"dropdown"},"\n    ",HTML.A({href:"#","class":"dropdown-toggle username","data-toggle":"dropdown"},"\n      ",HTML.DIV({"class":"profile-img-wrapper"},Blaze._TemplateWith(function(){return{user:Spacebars.call(n.lookup("currentUser")),shape:Spacebars.call("circle")}},function(){return Spacebars.include(n.lookupTemplate("avatar"))})),"\n      ",HTML.DIV({"class":"display-name"},Blaze.View("lookup:displayName",function(){return Spacebars.mustache(n.lookup("displayName"))})),"\n      ",HTML.DIV({"class":"pf-count badge"},Blaze.View("lookup:currentUser.profile.portfolioCount",function(){return Spacebars.mustache(Spacebars.dot(n.lookup("currentUser"),"profile","portfolioCount"))})),"\n      ",HTML.Raw('<div class="caret"></div>'),"\n    "),"\n    ",HTML.UL({"class":"dropdown-menu lg",role:"menu"},"\n      ",HTML.LI(HTML.A({"class":"js-my-page-btn",href:function(){return Spacebars.mustache(n.lookup("profileUrl"))}},"My Page")),"\n      ",HTML.Raw('<li><a href="/settings">Settings</a></li>'),"\n      ",HTML.Raw('<li><a class="js-logout-btn" href="#">Log Out</a></li>'),"\n    "),"\n  ")}),Template.__checkName("socialSigninModal"),Template.socialSigninModal=new Template("Template.socialSigninModal",function(){var n=this;return HTML.DIV({"class":"modal fade js-social-signin-modal login-signup",tabindex:"-1",role:"dialog","aria-hidden":"true"},"\n    ",HTML.DIV({"class":"modal-dialog"},"\n      ",HTML.DIV({"class":"modal-content"},"\n        ",HTML.Raw('<div class="modal-nav">\n          <span class="glyphicon glyphicon-remove-circle btn btn-close" title="Close" data-dismiss="modal"></span>\n          <h2 class="title">Welcome<span class="desktop">&nbsp;to Hello Money</span></h2>\n          <div class="stripe"><div class="left"></div><div class="right"></div></div>\n        </div>'),"\n        ",HTML.DIV({"class":"modal-body"},"\n          ",HTML.DIV({"class":"input-fields"},"\n            ",HTML.DIV({"class":"row"},"\n              ",HTML.DIV({"class":"col col-xs-12"},"\n                ",Blaze._TemplateWith(function(){return{modal:Spacebars.call(n.lookup("modal")),action:Spacebars.call(n.lookup("action")),gaContext:Spacebars.call(n.lookup("gaContext"))}},function(){return Spacebars.include(n.lookupTemplate("signinWithRedditBtn"))}),"\n              "),"\n              ",HTML.DIV({"class":"col col-xs-12"},"\n                ",Blaze._TemplateWith(function(){return{modal:Spacebars.call(n.lookup("modal")),action:Spacebars.call(n.lookup("action")),gaContext:Spacebars.call(n.lookup("gaContext"))}},function(){return Spacebars.include(n.lookupTemplate("signinWithTwitterBtn"))}),"\n              "),"\n              ",HTML.DIV({"class":"col col-xs-12"},"\n                ",Blaze._TemplateWith(function(){return{modal:Spacebars.call(n.lookup("modal")),action:Spacebars.call(n.lookup("action")),gaContext:Spacebars.call(n.lookup("gaContext"))}},function(){return Spacebars.include(n.lookupTemplate("signinWithFacebookBtn"))}),"\n              "),"\n              ",HTML.Raw('<div class="col col-xs-12">\n                <span class="or-wrapper">\n                  <span class="or-text">or</span>\n                </span>\n              </div>'),"\n              ",HTML.DIV({"class":"col col-xs-12"},"\n                ",Blaze._TemplateWith(function(){return{modal:Spacebars.call(n.lookup("modal")),action:Spacebars.call(n.lookup("action")),gaContext:Spacebars.call(n.lookup("gaContext"))}},function(){return Spacebars.include(n.lookupTemplate("signinWithEmailForm"))}),"\n              "),"\n            "),"\n          "),"\n        "),"\n        ",Blaze.If(function(){return Spacebars.call(n.lookup("signingInWith"))},function(){return["\n          ",HTML.DIV({"class":"signin-modal-signing-in"},"\n            ",HTML.DIV({"class":"signin-modal-signing-in-content"},"\n              ",HTML.DIV({"class":"signin-modal-signing-in-title"},"\n                Signing in with ",Blaze.View("lookup:signingInWith",function(){return Spacebars.mustache(n.lookup("signingInWith"))}),"\n              "),"\n              ",Spacebars.include(n.lookupTemplate("loadingAnimation")),"\n            "),"\n          "),"\n        "]}),"\n      "),"\n    "),"\n  ")}),Template.__checkName("inlineSocialSignin"),Template.inlineSocialSignin=new Template("Template.inlineSocialSignin",function(){var n=this;return HTML.DIV({"class":"hflush join-us"},HTML.Raw('\n    <div class="overlay blue"></div>\n    '),HTML.DIV({"class":"container page-width banner-content"},"\n      ",HTML.Raw("<h2>Be Your Own Advisor.</h2>"),"\n      ",HTML.Raw('<p class="lead mobile">We can figure out investing for ourselves.</p>'),"\n      ",HTML.Raw('<p class="lead desktop">Join a league of investors using Hello Money to design portfolios.</p>'),"\n      ",HTML.DIV({"class":"sign-in"},"\n        ",HTML.DIV({"class":"row signin-buttons"},"\n          ",HTML.DIV({"class":"col col-xs-12"},"\n            ",Blaze._TemplateWith(function(){return{modal:Spacebars.call(n.lookup("modal")),action:Spacebars.call(n.lookup("createDefaultPortfolio")),gaContext:Spacebars.call(n.lookup("inlineSigninContext"))}},function(){return Spacebars.include(n.lookupTemplate("signinWithRedditBtn"))}),"\n          "),"\n          ",HTML.DIV({"class":"col col-xs-12"},"\n            ",Blaze._TemplateWith(function(){return{action:Spacebars.call(n.lookup("createDefaultPortfolio")),gaContext:Spacebars.call(n.lookup("inlineSigninContext"))}},function(){return Spacebars.include(n.lookupTemplate("signinWithTwitterBtn"))}),"\n          "),"\n          ",HTML.DIV({"class":"col col-xs-12"},"\n            ",Blaze._TemplateWith(function(){return{action:Spacebars.call(n.lookup("createDefaultPortfolio")),gaContext:Spacebars.call(n.lookup("inlineSigninContext"))}},function(){return Spacebars.include(n.lookupTemplate("signinWithFacebookBtn"))}),"\n          "),"\n        "),"\n        ",HTML.Raw('<div class="row or-row">\n          <div class="col col-xs-12">\n            <span class="or-wrapper">\n              <div class="or-bg"></div>\n              <span class="or-text">or</span>\n            </span>\n          </div>\n        </div>'),"\n        ",HTML.DIV({"class":"row signin-form"},"\n          ",HTML.DIV({"class":"col col-xs-12"},"\n            ",Blaze._TemplateWith(function(){return{action:Spacebars.call(n.lookup("createDefaultPortfolio")),gaContext:Spacebars.call(n.lookup("inlineSigninContext"))}},function(){return Spacebars.include(n.lookupTemplate("signinWithEmailForm"))}),"\n          "),"\n        "),"\n      "),"\n    "),"\n  ")}),Template.__checkName("signinWithFacebookBtn"),Template.signinWithFacebookBtn=new Template("Template.signinWithFacebookBtn",function(){var n=this;return HTML.Raw('<div class="js-facebook btn btn-lg signin facebook"><img src="/img/sns-facebook.svg" class="logo"><span class="btn-text">Sign in with Facebook</span></div>')}),Template.__checkName("signinWithTwitterBtn"),Template.signinWithTwitterBtn=new Template("Template.signinWithTwitterBtn",function(){var n=this;return HTML.Raw('<div class="js-twitter btn btn-lg signin twitter"><img src="/img/sns-twitter-white.svg" class="logo"><span class="btn-text">Sign in with Twitter</span></div>')}),Template.__checkName("signinWithRedditBtn"),Template.signinWithRedditBtn=new Template("Template.signinWithRedditBtn",function(){var n=this;return HTML.Raw('<div class="js-reddit btn btn-lg signin reddit btn-reddit"><img src="/img/sns-reddit.svg" class="logo"><span class="btn-text">Sign in with Reddit</span></div>')}),Template.__checkName("signinWithEmailForm"),Template.signinWithEmailForm=new Template("Template.signinWithEmailForm",function(){var n=this;return Blaze._TemplateWith(function(){return{"class":Spacebars.call("js-login-form signin-email"),schema:Spacebars.call("UserValidationSchema"),action:Spacebars.call(n.lookup("signinWithEmail")),status:Spacebars.call(n.lookup("formStatus"))}},function(){return Spacebars.include(n.lookupTemplate("simpleForm"),function(){return["\n  ",HTML.DIV({"class":"signin-email-input-fields"},"\n    ",HTML.H3("See all your portfolios in one place."),"\n      ",Blaze._TemplateWith(function(){return{field:Spacebars.call("email"),placeholder:Spacebars.call("Your Email"),hint:Spacebars.call("example: you@mail.com"),"class":Spacebars.call("input-lg")}},function(){return Spacebars.include(n.lookupTemplate("simpleInput"))}),"\n      ",Blaze._TemplateWith(function(){return{type:Spacebars.call("password"),field:Spacebars.call("password"),placeholder:Spacebars.call("Password"),hint:Spacebars.call("8-20 letters, numbers, and special characters"),"class":Spacebars.call("input-lg")}},function(){return Spacebars.include(n.lookupTemplate("simpleInput"))}),"\n  "),"\n  ",HTML.DIV({"class":"signin-email-buttons"},"\n    ",HTML.DIV({"class":"signin-email-buttons-submit"},"\n      ",HTML.BUTTON({type:"button","class":"js-sign-up btn btn-flat-primary btn-flat-fat"},"Create Account"),"\n      ",HTML.BUTTON({type:"submit","class":"btn btn-2d-primary btn-flat-fat"},"Sign In"),"\n    "),"\n    ",HTML.DIV({"class":"signin-email-buttons-other"},"\n      ",HTML.INPUT({id:"remember",type:"checkbox","class":"js-remember round-checkbox",name:"remember",checked:"checked"})," ",HTML.LABEL({"for":"remember"}),"Keep me signed in ",HTML.SPAN({"class":"separator"},"|"),"\n      ",Blaze._TemplateWith(function(){return{url:Spacebars.call("/accounts/forgot-password"),"class":Spacebars.call("js-forgot-password"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return[" Forgot ",HTML.SPAN({"class":"desktop"},"your",HTML.CharRef({html:"&nbsp;",str:" "})),"password?"]})}),"\n    "),"\n  "),"\n  "]})})}),Template.__checkName("completeAccountModal"),Template.completeAccountModal=new Template("Template.completeAccountModal",function(){var n=this;return HTML.DIV({"class":"modal fade js-complete-account-modal complete-account-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},"\n    ",HTML.DIV({"class":"modal-dialog"},"\n      ",HTML.DIV({"class":"modal-content"},"\n        ",HTML.Raw('<div class="modal-nav">\n          <h2 class="title">Complete Your Account</h2>\n          <div class="subtitle">To complete your account, add the best email address for us to keep in touch with you.</div>\n          <div class="stripe"><div class="left"></div><div class="right"></div></div>\n        </div>'),"\n        ",HTML.DIV({"class":"modal-body"},"\n          ",Blaze._TemplateWith(function(){return{schema:Spacebars.call("UserValidationSchema"),action:Spacebars.call(n.lookup("addEmailOnAccount")),status:Spacebars.call(n.lookup("formStatus"))}},function(){return Spacebars.include(n.lookupTemplate("simpleForm"),function(){return["\n            ",HTML.DIV({"class":"input-fields"},"\n              ",Blaze._TemplateWith(function(){return{field:Spacebars.call("email"),placeholder:Spacebars.call("Your Email"),hint:Spacebars.call("example: you@mail.com"),"class":Spacebars.call("input-lg")}},function(){return Spacebars.include(n.lookupTemplate("simpleInput"))}),"\n            "),"\n            ",HTML.DIV({"class":"actions"},"\n              ",HTML.P({"class":"pull-left padded caption"},"We'll let you know if anything goes wonky with your account :)"),"\n              ",HTML.BUTTON({type:"submit","class":function(){return["btn btn-primary btn-lg pull-right ",Blaze.Unless(function(){return Spacebars.call(n.lookup("isFormValid"))},function(){return"disabled"})]}},"Add Email"),"\n            "),"\n          "]})}),"\n        "),"\n      "),"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("timelineBoomBust"),Template.timelineBoomBust=new Template("Template.timelineBoomBust",function(){var a=this;return[Blaze.If(function(){return Spacebars.call(a.lookup("isAvailable"))},function(){return HTML.H2("Boom and Bust")}),"\n  ",HTML.DIV({"class":function(){return["container nplr ",Blaze.Unless(function(){return Spacebars.call(a.lookup("isAvailable"))},function(){return"hidden"})]}},"\n    ",HTML.DIV({"class":function(){return["info-card bust ",Blaze.Unless(function(){return Spacebars.dataMustache(a.lookup("isAvailable"),".js-bust-1")},function(){return"unavailable"})]},"data-caption":"opacity","data-title":"2002 Crash","data-desc":["Feb 28 ",HTML.CharRef({html:"&ndash;",str:"–"})," Oct 31, 2002"]},"\n      ",HTML.Raw('<div class="js-bust-1 boom-bust-graph" data-start="2002-02-28" data-stop="2002-10-31">\n      </div>'),"\n      ",HTML.Raw("<h3>2002&nbsp;Crash</h3>"),"\n      ",HTML.SPAN({"class":function(){return["label ",Spacebars.mustache(a.lookup("label"),".js-bust-1")]}},Blaze.View("lookup:formattedGains",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("formattedGains"),".js-bust-1"))})),"\n    "),"\n    ",HTML.DIV({"class":function(){return["info-card boom ",Blaze.Unless(function(){return Spacebars.dataMustache(a.lookup("isAvailable"),".js-boom-1")},function(){return"unavailable"})]},"data-caption":"opacity","data-title":"2002–07 Boom","data-desc":["Oct 31, 2002 ",HTML.CharRef({html:"&ndash;",str:"–"})," Oct 31, 2007"]},"\n      ",HTML.Raw('<div class="js-boom-1 boom-bust-graph" data-start="2002-10-31" data-stop="2007-10-31"></div>'),"\n      ",HTML.Raw("<h3>2002&ndash;07</h3>"),"\n      ",HTML.SPAN({"class":function(){return["label ",Spacebars.mustache(a.lookup("label"),".js-boom-1")]}},Blaze.View("lookup:formattedGains",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("formattedGains"),".js-boom-1"))})),"\n    "),"\n    ",HTML.DIV({"class":function(){return["info-card bust ",Blaze.Unless(function(){return Spacebars.dataMustache(a.lookup("isAvailable"),".js-bust-2")},function(){return"unavailable"})]},"data-caption":"opacity","data-title":"2008 Crash","data-desc":["Oct 31, 2007 ",HTML.CharRef({html:"&ndash;",str:"–"})," Mar 31, 2009"]},"\n      ",HTML.Raw('<div class="js-bust-2 boom-bust-graph" data-start="2007-10-31" data-stop="2009-03-31"></div>'),"\n      ",HTML.Raw("<h3>2008&nbsp;Crash</h3>"),"\n      ",HTML.SPAN({"class":function(){return["label ",Spacebars.mustache(a.lookup("label"),".js-bust-2")]}},Blaze.View("lookup:formattedGains",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("formattedGains"),".js-bust-2"))})),"\n    "),"\n    ",HTML.DIV({"class":"info-card boom","data-caption":"opacity","data-title":"2009–14 Boom","data-desc":["Mar 31, 2009 ",HTML.CharRef({html:"&ndash;",str:"–"})," Apr 30, 2014"]},"\n      ",HTML.Raw('<div class="js-boom-2 boom-bust-graph" data-start="2009-03-31" data-stop="2014-04-30"></div>'),"\n      ",HTML.Raw("<h3>2009&ndash;14</h3>"),"\n      ",HTML.SPAN({"class":function(){return["label ",Spacebars.mustache(a.lookup("label"),".js-boom-2")]}},Blaze.View("lookup:formattedGains",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("formattedGains"),".js-boom-2"))})),"\n    "),"\n  ")]})}).call(this);

(function(){Template.__checkName("timelineGraph"),Template.timelineGraph=new Template("Template.timelineGraph",function(){var e=this;return[HTML.Raw("<!-- Expenses here -->\n  "),HTML.DIV({"class":"js-timeline list-box history timeline"},"\n    ",HTML.Raw("<h2>Performance</h2>"),"\n    ",HTML.Raw('<!-- <div class="action-group top pull-right">\n      {{> widgetRadio name="timeframe" class="timeframe" labels=periodLabels values=periodValues selection=root.period.get}}\n    </div> -->'),"\n    ",HTML.DIV({"class":"inner"},"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("isPortfolioTimeLine"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("shortHoldingBox")),"\n      "]}),"\n\n      ",HTML.DIV({"class":"container highlights"},"\n        ",Blaze._TemplateWith(function(){return{root:Spacebars.call(e.lookup("root")),type:Spacebars.call(e.lookup("type")),source:Spacebars.call(e.lookup("source"))}},function(){return Spacebars.include(e.lookupTemplate("timelineHighlights"))}),"\n      "),"\n      ",HTML.DIV({"class":"padded legend timeline-graph-title"},"\n        ",HTML.Raw('<span class="color pf"></span>'),"\n        ",HTML.H3({"class":"name pf"},Blaze.View("lookup:getTimelineGraphName",function(){return Spacebars.mustache(e.lookup("getTimelineGraphName"))})),"\n        ",Blaze.Unless(function(){return Spacebars.call(e.lookup("hideBenchmarks"))},function(){return["\n          ",HTML.SPAN({"class":"color"}),"\n          ",HTML.H3({"class":"name index"},"Benchmark"),"\n          ",HTML.DIV({"class":"js-benchmark btn-group benchmark"},"\n            ",Spacebars.With(function(){return{benchmarks:Spacebars.call(e.lookup("benchmarks")),root:Spacebars.call(e.lookup("root"))}},function(){return["\n            ",Blaze._TemplateWith(function(){return{name:Spacebars.call("benchmark"),labels:Spacebars.call(e.lookup("benchmarkLabels")),values:Spacebars.call(e.lookup("benchmarkValues")),selection:Spacebars.call(Spacebars.dot(e.lookup("root"),"benchmark","get")),classes:Spacebars.call("sm")}},function(){return Spacebars.include(e.lookupTemplate("widgetDropdown"))}),"\n            "]}),"\n          "),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("isPortfolioTimeLine"))},function(){return["\n        ",HTML.DIV({"class":"js-rebalance-interval btn-group rebalance"},"\n          ",Blaze._TemplateWith(function(){return{name:Spacebars.call("rebalanceInterval"),labels:Spacebars.call(e.lookup("rebalanceLabels")),values:Spacebars.call(e.lookup("rebalanceValues")),selection:Spacebars.call(Spacebars.dot(e.lookup("root"),"rebalanceInterval","get")),classes:Spacebars.call("rebalanceClasses sm")}},function(){return Spacebars.include(e.lookupTemplate("widgetDropdown"))}),"\n        "),"\n        "]}),"\n      "),"\n      ",HTML.DIV({"class":"padded timeline-graph"},"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("isHoldingsLoading"))},function(){return["\n          ",Spacebars.include(e.lookupTemplate("loadingAnimation")),"\n        "]},function(){return["\n          ",Blaze._TemplateWith(function(){return{root:Spacebars.call(e.lookup("root"))}},function(){return Spacebars.include(e.lookupTemplate("timelineChart"))}),"\n        "]}),"\n      "),"\n      ",HTML.DIV({"class":"padded timeline-boom-bust"},"\n        ",Blaze._TemplateWith(function(){return{source:Spacebars.call(e.lookup("source")),root:Spacebars.call(e.lookup("root")),type:Spacebars.call(e.lookup("type"))}},function(){return Spacebars.include(e.lookupTemplate("timelineBoomBust"))}),"\n      "),"\n    "),"\n  ")]}),Template.__checkName("shortHoldingBox"),Template.shortHoldingBox=new Template("Template.shortHoldingBox",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("getHoldingWithShortestHistory"))},function(){return["\n  ",HTML.DIV({"class":"short-history container"},"\n    ",HTML.DIV({"class":function(){return["short-holding-box-wrapper ",Blaze.If(function(){return Spacebars.call(e.lookup("getHoldingWithShortestHistory"))},function(){return"box-active"})]}},"\n      ",HTML.DIV({"class":"arrow-down"}),"\n      ",HTML.DIV({"class":"row"},"\n        ",HTML.DIV({"class":"col-sm-4 available-history"},"\n          ",HTML.H5("Available",HTML.SPAN({"class":"hidden-md hidden-xs"}," History"),": ",Blaze.View("lookup:availableDuration",function(){return Spacebars.mustache(e.lookup("availableDuration"))})),"\n          ",HTML.SPAN({"class":"date"},Blaze.View("lookup:startDateFormatted",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("startDateFormatted")))})),"\n        "),"\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup("getHoldingWithShortestHistory"))},function(){return["\n        ",HTML.DIV({"class":"short-holding-box"},"\n          ",HTML.DIV({"class":"col-sm-8 short-holding"},"\n            ",HTML.SPAN({"class":"label label-default symbol",style:function(){return["background-color: ",Spacebars.mustache(Spacebars.dot(e.lookup("shortHolding"),"symbolColor"))]}},Blaze.View("lookup:shortHolding.symbol",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("shortHolding"),"symbol"))}))," ",Blaze.View("lookup:caption",function(){return Spacebars.mustache(e.lookup("caption"))}),"\n            ",HTML.A({href:"","class":"js-turn-off-holding","data-symbol":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("shortHolding"),"symbol"))}},"Turn off"),"\n          "),"\n        "),"\n        "]}),"\n      "),"\n    "),"\n  "),"\n  "]})}),Template.__checkName("timelineHighlights"),Template.timelineHighlights=new Template("Template.timelineHighlights",function(){var e=this;return HTML.DIV({"class":"container"},"\n    ",HTML.DIV({"class":"js-returns info-card","data-caption":"slide","data-title":"Annualized returns after expenses, dividends reinvested","data-desc":function(){return Spacebars.mustache(e.lookup("formatString"),e.lookup("returnsIdx"))},"data-color-scheme":"returns","data-color-idx":function(){return Spacebars.mustache(e.lookup("returnsIdx"))}},"\n      ",Blaze._TemplateWith(function(){return{icon:Spacebars.call("T"),labelFormatted:Spacebars.call("Returns"),valueFormatted:Spacebars.call(Spacebars.dataMustache(e.lookup("formatPercent"),e.lookup("returns"))),activeIdx:Spacebars.call(e.lookup("returnsIdx"))}},function(){return Spacebars.include(e.lookupTemplate("highlightCard"))}),"\n    "),"\n\n    ",Blaze.Unless(function(){return Spacebars.call(e.lookup("isYtd"))},function(){return["\n    ",HTML.DIV({"class":"js-risk info-card","data-caption":"slide","data-title":"Standard deviation of monthly returns","data-desc":function(){return Spacebars.mustache(e.lookup("formatString"),e.lookup("riskIdx"))},"data-color-scheme":"risk","data-color-idx":function(){return Spacebars.mustache(e.lookup("riskIdx"))}},"\n      ",Blaze._TemplateWith(function(){return{icon:Spacebars.call("U"),labelFormatted:Spacebars.call("Risk"),valueFormatted:Spacebars.call(Spacebars.dataMustache(e.lookup("formatPercent"),e.lookup("risk"))),activeIdx:Spacebars.call(e.lookup("riskIdx")),reverse:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("highlightCard"))}),"\n    "),"\n    "]},function(){return["\n    ",HTML.DIV({"class":"js-risk info-card translucent","data-caption":"slide","data-title":"Standard deviation of monthly returns","data-desc":"Not Applicable","data-color-scheme":"risk"},"\n      ",HTML.SPAN({"class":"mini-icon","data-icon":"U"}),"\n      ",HTML.H3({"class":"icon-offset"},"Risk"),"\n      ",HTML.P({"class":"value"},HTML.DIV({"class":"no-history truncate-1line"},"N/A")),"\n      ",Spacebars.include(e.lookupTemplate("widgetPills")),"\n    "),"\n    "]}),"\n\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("isStockTimeline"))},function(){return["\n      ",HTML.DIV({"class":"js-yield info-card","data-caption":"slide","data-title":function(){return[Spacebars.mustache(e.lookup("getTimelineGraphName")),"'s annual yield"]},"data-desc":function(){return Spacebars.mustache(e.lookup("formatString"),e.lookup("yieldsIdx"))},"data-color-scheme":"yield","data-color-idx":function(){return Spacebars.mustache(e.lookup("yieldsIdx"))}},"\n        ",HTML.SPAN({"class":"mini-icon","data-icon":"V"}),"\n        ",HTML.H3({"class":"icon-offset"},"\n          ",HTML.SPAN({"class":"hidden-xs"},"Current "),"Yield\n        "),"\n        ",HTML.P({"class":"value"},Blaze.View("lookup:formatPercent",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("formatPercent"),e.lookup("yields")))})),"\n        ",Blaze._TemplateWith(function(){return{activeIdx:Spacebars.call(e.lookup("yieldsIdx"))}},function(){return Spacebars.include(e.lookupTemplate("widgetPills"))}),"\n      "),"\n    "]},function(){return["\n      ",HTML.DIV({"class":"js-expenses info-card","data-caption":"slide","data-title":function(){return[Spacebars.mustache(e.lookup("getTimelineGraphName")),"'s annual expense ratio"]},"data-desc":function(){return Spacebars.mustache(e.lookup("formatString"),e.lookup("expensesIdx"))},"data-color-scheme":"expenses","data-color-idx":function(){return Spacebars.mustache(e.lookup("expensesIdx"))}},"\n      ",Blaze._TemplateWith(function(){return{icon:Spacebars.call("V"),labelFormatted:Spacebars.call("Expenses"),valueFormatted:Spacebars.call(Spacebars.dataMustache(e.lookup("formatPercent"),e.lookup("expenses"))),activeIdx:Spacebars.call(e.lookup("expensesIdx")),reverse:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("highlightCard"))}),"\n      "),"\n    "]}),"\n  ")}),Template.__checkName("timelineChart"),Template.timelineChart=new Template("Template.timelineChart",function(){var e=this;return HTML.DIV({"class":"timeline-chart-wrapper"},HTML.Raw('\n    <div class="js-timeline-chart timeline-chart chart">\n    </div>\n    '),Blaze.Unless(function(){return Spacebars.call(e.lookup("isTimeLineGraphAvailable"))},function(){return["\n    ",HTML.DIV({"class":"timeline-chart-overlay"},"\n      ",HTML.DIV({"class":"not-available-label"},"\n        ",Spacebars.With(function(){return{holdingWithoutHistory:Spacebars.call(e.lookup("getHoldingWithNoHistory")),isEmpty:Spacebars.call(e.lookup("isHoldingsEmpty"))}},function(){return["\n        ",HTML.DIV({"class":"holding-without-history-box"},"\n          ",HTML.DIV({"class":"holding-without-history"},"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("isEmpty"))},function(){return["\n            ",HTML.P("No holdings to display.",HTML.CharRef({html:"&nbsp;",str:" "}),HTML.BR(),"Add an account or a holding with a weight."),"\n            "]},function(){return["\n            ",HTML.P(HTML.SPAN({"class":"label label-default symbol",style:function(){return["background-color: ",Spacebars.mustache(Spacebars.dot(e.lookup("holdingWithoutHistory"),"symbolColor"))]}},Blaze.View("lookup:holdingWithoutHistory.symbol",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("holdingWithoutHistory"),"symbol"))}))," is missing performance history data"),"\n            ",HTML.A({href:"","class":"js-turn-off-holding","data-symbol":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("holdingWithoutHistory"),"symbol"))}},"Turn it off"),"\n            "]}),"\n          "),"\n        "),"\n        "]}),"\n      "),"\n    "),"\n    "]}),"\n  ")})}).call(this);

(function(){Template.__checkName("viewIncludes"),Template.viewIncludes=new Template("Template.viewIncludes",function(){var e=this;return[Spacebars.include(e.lookupTemplate("headerHero")),"\n  ",Spacebars.include(e.lookupTemplate("viewIncludesNoHeader"))]}),Template.__checkName("viewIncludesNoHeader"),Template.viewIncludesNoHeader=new Template("Template.viewIncludesNoHeader",function(){var e=this;return Spacebars.include(e.lookupTemplate("alertList"))})}).call(this);

(function(){Template.__checkName("commentsPopover"),Template.commentsPopover=new Template("Template.commentsPopover",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("isOpen"))},function(){return["\n    ",HTML.DIV({"class":function(){return["comments-popover-wrapper js-comments-popover-wrapper ",Spacebars.mustache(e.lookup("class"))]},style:function(){return[Spacebars.mustache(e.lookup("calculatedPosition"))," width:",Spacebars.mustache(e.lookup("width")),"px;"]}},"\n      ",HTML.DIV({"class":"comments-popover js-comments-popover",tabindex:"1"},"\n        ",HTML.DIV({"class":function(){return["comments-popover-arrow-wrapper ",Spacebars.mustache(e.lookup("arrow"))]},style:function(){return Spacebars.mustache(e.lookup("arrowPosition"))}},"\n          ",HTML.DIV({"class":"comments-popover-arrow"}),"\n        "),"\n        ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("getCommentsTemplate"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n      "),"\n    "),"\n  "]})}),Template.__checkName("commentsThread"),Template.commentsThread=new Template("Template.commentsThread",function(){var e=this;return HTML.DIV({"class":"padded-thread"},"\n    ",Spacebars.include(e.lookupTemplate("commentsThreadHeader")),"\n    ",HTML.DIV({"class":"comments js-comments"},"\n      ",Blaze._TemplateWith(function(){return{comments:Spacebars.call(e.lookup("comments"))}},function(){return Spacebars.include(e.lookupTemplate("commentItemHelper"))}),"\n    "),"\n    ",Spacebars.include(e.lookupTemplate("commentsThreadTextarea")),HTML.Raw('\n    <!-- placeholder -->\n    <div style="clear: both;"></div>\n  '))}),Template.__checkName("commentsThreadHeader"),Template.commentsThreadHeader=new Template("Template.commentsThreadHeader",function(){var e=this;return HTML.DIV({"class":"comments-header"},"\n    ",Blaze.View("lookup:commentsHeaderSummary",function(){return Spacebars.mustache(e.lookup("commentsHeaderSummary"))}),HTML.Raw('\n    <a href="#" class="js-comments-close comments-header-btn glyphicon glyphicon-remove"></a>\n  '))}),Template.__checkName("commentItemHelper"),Template.commentItemHelper=new Template("Template.commentItemHelper",function(){var e=this;return Blaze.Each(function(){return Spacebars.call(e.lookup("comments"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("commentItem")),"\n  "]})}),Template.__checkName("commentItem"),Template.commentItem=new Template("Template.commentItem",function(){var e=this;return HTML.DIV({"class":function(){return["comment-item js-comment-item fade in ",Blaze.If(function(){return Spacebars.call(e.lookup("deleted"))},function(){return"is-deleted"})]}},"\n    ",Blaze.Unless(function(){return Spacebars.call(e.lookup("deleted"))},function(){return["\n      ",HTML.DIV({"class":"comment-item-avatar"},"\n        ",Blaze._TemplateWith(function(){return{user:Spacebars.call(e.lookup("authorUser")),shape:Spacebars.call("circle")}},function(){return Spacebars.include(e.lookupTemplate("avatar"))}),"\n      "),"\n      ",HTML.DIV({"class":"comment-item-header"},"\n        ",HTML.SPAN({"class":"name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n        ",HTML.SPAN({"class":"date"},Blaze.View("lookup:formattedDate",function(){return Spacebars.mustache(e.lookup("formattedDate"))})),"\n      "),"\n      ",HTML.DIV({"class":"comment-item-body"},"\n        ",Blaze.Unless(function(){return Spacebars.call(e.lookup("editing"))},function(){return["\n          ",Spacebars.include(e.lookupTemplate("markdownWithCleanLink"),function(){return Blaze.View("lookup:body",function(){return Spacebars.mustache(e.lookup("body"))})}),"\n        "]},function(){return["\n          ",HTML.TEXTAREA({"class":"expanding js-comment-edit-textarea comment-edit-textarea",value:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("cachedBody"))},function(){return Blaze.View("lookup:cachedBody",function(){return Spacebars.mustache(e.lookup("cachedBody"))})},function(){return Blaze.View("lookup:body",function(){return Spacebars.mustache(e.lookup("body"))})})}}),"\n          ",HTML.DIV({"class":"comment-edit-caption"},"Press ESC to ",HTML.BUTTON({type:"button","class":"comment-edit-btn red-btn inline-btn js-comment-edit-cancel-btn"},"cancel")),"\n        "]}),"\n      "),"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("isAuthor"))},function(){return["\n        ",HTML.DIV({"class":"edit-button-group"},"\n          ",Blaze.Unless(function(){return Spacebars.call(e.lookup("editing"))},function(){return["\n            ",HTML.BUTTON({type:"button",title:"Edit Comment","class":"js-comment-edit-btn comment-edit-btn"},"EDIT")," | ",HTML.BUTTON({type:"button",title:"Delete Comment","class":"js-comment-delete-btn comment-edit-btn red-btn"},"DELETE"),"\n          "]},function(){return["\n            ",HTML.BUTTON({type:"button","class":"js-comment-edit-submit-btn comment-edit-btn"},"DONE"),"\n          "]}),"\n        "),"\n      "]}),"\n    "]},function(){return["\n      ",HTML.DIV({"class":"comment-item-deleted"},"\n        Comment deleted. ",HTML.BUTTON({type:"button","class":"comment-edit-btn red-btn inline-btn js-comment-delete-cancel-btn"},HTML.U("cancel")),"\n      "),"\n    "]}),"\n  ")}),Template.__checkName("commentsThreadTextarea"),Template.commentsThreadTextarea=new Template("Template.commentsThreadTextarea",function(){var e=this;return HTML.DIV({"class":"comments-form"},"\n    ",HTML.TEXTAREA({placeholder:"Leave a comment...",name:"design-comment","class":"js-comment-textarea comment-textarea"}),HTML.Raw('\n    <button type="button" class="btn comment-submit-button js-submit">Post Comment</button>\n  '))})}).call(this);

(function(){Template.__checkName("design"),Template.design=new Template("Template.design",function(){var n=this;return HTML.DIV({"class":"js-design view design",style:"overflow-y: hidden;"},"\n    ",Spacebars.With(function(){return Spacebars.call(n.lookup("addRootToContext"))},function(){return["\n      ",HTML.HEADER({"class":"navbar navbar-fixed-top js-design-navbar hidden fade",role:"navigation",style:"border: 0px;"},"\n        ",HTML.DIV({"class":"container page-width"},"\n          ",HTML.DIV({"class":"parent"},"\n            ",HTML.DIV({"class":"actions"},"\n              ",HTML.DIV({"class":"nav nav-center"},"\n                ",HTML.SPAN({"class":"title"},Blaze.View("lookup:currentDesign.title",function(){return Spacebars.mustache(Spacebars.dot(n.lookup("currentDesign"),"title"))})),"\n              "),"\n              ",Spacebars.include(n.lookupTemplate("headerRightSide")),"\n            "),"\n            ",Spacebars.include(n.lookupTemplate("logoLink")),"\n          "),"\n        "),"\n      "),"\n\n      ",Spacebars.include(n.lookupTemplate("alertList")),"\n\n      ",Blaze.If(function(){return Spacebars.call(n.lookup("subsReady"))},function(){return["\n        ",Spacebars.With(function(){return Spacebars.dataMustache(n.lookup("addDataToContext"),Spacebars.kw({design:n.lookup("currentDesign")}))},function(){return["\n          ",HTML.Comment(" INSTRUCTION "),"\n          ",HTML.DIV({"class":function(){return["instruction-container ",Blaze.If(function(){return Spacebars.call(n.lookup("isViewMode"))},function(){return"is-view-mode"})]}},"\n            ",HTML.DIV({"class":"js-instruction-drawer drawer"},"\n              ",HTML.DIV({"class":"js-instruction-content row instruction-content"},"\n                ",HTML.DIV({"class":"col col-sm-3 col-sm-offset-1 designer"},"\n                  ",HTML.DIV({"class":"middle"},"\n                    ",HTML.DIV({"class":"photo"}),"\n                    ",HTML.H3("Keywon"),"\n                    ",HTML.H4("Designer at Hello Money"),"\n                    ",HTML.H4(HTML.A({href:function(){return Spacebars.mustache(n.lookup("outlink"),"http://twitter.com/keywonc")},target:"_blank"},"@keywonc")),"\n                  "),"\n                "),"\n                ",HTML.DIV({"class":"col col-sm-8"},"\n                  ",HTML.DIV({"class":"text middle"},"\n                    ",Spacebars.include(n.lookupTemplate("markdownWithCleanLink"),function(){return Blaze.View("lookup:design.description",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(n.lookup("design"),"description")))})}),"\n                    ",HTML.BUTTON({"class":"btn close-instruction-btn js-close-instruction-btn",type:"button"},"OK"),"\n                  "),"\n                "),"\n              "),"\n              ",HTML.A({href:"","class":"js-comment-mode-title comment-mode-title no-select instruction-btn js-instruction-btn"},"\n                ",HTML.DIV({"class":"comment-mode-title-wrapper"},"\n                  ",HTML.I({"class":"glyphicon glyphicon-info-sign"}),"\n                  ",HTML.SPAN({"class":"comment-mode-title-text"},Blaze.View("lookup:commentLengthText",function(){return Spacebars.mustache(n.lookup("commentLengthText"))})),"\n                "),"\n                ",Blaze._TemplateWith(function(){return{"class":Spacebars.call("js-mode-toggle-btn"),on:Spacebars.call(n.lookup("isCommentMode"))}},function(){return Spacebars.include(n.lookupTemplate("simpleSwitch"))}),"\n              "),"\n            "),"\n          "),"\n          ",HTML.DIV({"class":function(){return["design-container js-design-container no-select ",Blaze.Unless(function(){return Spacebars.call(n.lookup("isViewMode"))},function(){return"is-comment-mode"},function(){return"is-view-mode"})]}},"\n            ",HTML.DIV({"class":"border"},"\n              ",HTML.DIV({"class":"js-bar bar horizontal top open"}),"\n              ",HTML.DIV({"class":"js-bar bar horizontal bottom open"}),"\n              ",HTML.DIV({"class":"js-bar bar vertical left open"}),"\n              ",HTML.DIV({"class":"js-bar bar vertical right open"}),"\n            "),"\n            ",HTML.DIV({"class":"comment-container js-comment-container"},"\n              ",HTML.DIV({"class":"design-image-wrapper"},"\n                ",HTML.DIV({"class":function(){return["js-comment-wrapper comment-wrapper fade ",Blaze.Unless(function(){return Spacebars.call(n.lookup("isViewMode"))},function(){return"in"})]}},"\n                  ",Blaze.Each(function(){return Spacebars.call(n.lookup("commentOverlays"))},function(){return["\n                    ",HTML.DIV({"class":function(){return["js-overlay overlay-div no-select ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("."),"read"))},function(){return"read"})," ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("."),"isOpen"))},function(){return"open"},function(){return"closed"})]},style:function(){return["top: ",Spacebars.mustache(Spacebars.dot(n.lookup("."),"top")),"px; left: ",Spacebars.mustache(Spacebars.dot(n.lookup("."),"left")),"px;"]}},HTML.H3(Blaze.View("lookup:..comments.length",function(){return Spacebars.mustache(Spacebars.dot(n.lookup("."),"comments","length"))}))),"\n                    ",Blaze._TemplateWith(function(){return{isOpen:Spacebars.call(n.lookup("isOpen")),top:Spacebars.call(n.lookup("top")),left:Spacebars.call(n.lookup("left")),comments:Spacebars.call(n.lookup("comments")),container:Spacebars.call(".js-comment-container")}},function(){return Spacebars.include(n.lookupTemplate("commentsPopover"))}),"\n                  "]}),"\n                "),"\n                ",HTML.IMG({src:function(){return Spacebars.mustache(Spacebars.dot(n.lookup("design"),"imageUrl"))},"class":"design-image js-design-image"}),"\n              "),"\n            "),"\n          "),HTML.Comment(" INSTRUCTION "),"\n        "]}),"\n      "]}),"\n    "]}),"\n  ")}),Template.__checkName("simpleSwitch"),Template.simpleSwitch=new Template("Template.simpleSwitch",function(){var n=this;return HTML.DIV({"class":function(){return["simple-switch js-simple-switch ",Blaze.If(function(){return Spacebars.call(n.lookup("on"))},function(){return"on"})," ",Spacebars.mustache(n.lookup("class"))]}},HTML.Raw('\n    <label class="simple-switch-label" for="myonoffswitch">\n      <span class="simple-switch-inner"></span>\n      <span class="simple-switch-toggle"></span>\n    </label>\n  '))})}).call(this);

(function(){Template.__checkName("discover"),Template.discover=new Template("Template.discover",function(){var e=this;return HTML.DIV({"class":"js-discover view static banner discover"},"\n    ",Spacebars.include(e.lookupTemplate("viewIncludes")),"\n    ",HTML.DIV({id:"main"},"\n      ",HTML.DIV({"class":"area headline"},"\n        ",HTML.Raw('<div class="bg-fade-in discover-bg"></div>'),"\n        ",HTML.Raw('<div class="overlay blue discover"></div>'),"\n        ",HTML.TABLE({"class":"vertical-align banner-content"},HTML.TBODY(HTML.TR(HTML.TD("\n          ",HTML.DIV({"class":"container page-width"},"\n            ",HTML.H1("Get Ideas"),"\n            ",HTML.P({"class":"lead"},"From how others invest."),"\n          "),"\n        ")))),"\n      "),"\n\n      ",HTML.DIV({"class":"portfolio-search-area"},"\n        ",HTML.DIV({"class":"container page-width"},"\n          ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("subsReady"),Spacebars.kw({sub:"discoverShortcuts"}))},function(){return["\n            ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("_discoverShortcuts"))},function(){return Spacebars.include(e.lookupTemplate("portfolioSearchShortcuts"))}),"\n          "]}),"\n        "),"\n\n        ",HTML.DIV({"class":"container page-width"},"\n          ",HTML.Raw('<!-- <h2>Find User Portfolios</h2>\n          <p class="h2-caption">Enter words &amp; holding symbols below.</p> -->'),"\n          ",HTML.DIV({"class":"input-with-icon xl left-icon form-group"},"\n            ",HTML.Raw('<!-- <span class="label tag-search">Best of Reddit</span> -->'),"\n            ",HTML.Raw('<input type="text" class="form-control input-xl js-portfolio-search" placeholder="Search portfolios">'),"\n            ",HTML.Raw('<span class="icon"><span class="glyphicon glyphicon-search"></span></span>'),"\n            ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("_instance"),"isReady","get"))},function(){return HTML.SPAN({"class":"discover-spinner-wrapper"},Spacebars.include(e.lookupTemplate("loadingAnimation")))}),"\n          "),"\n          ",HTML.Raw('<p class="input-label text-left">Enter keywords or holding symbols.</p>'),"\n        "),"\n      "),"\n\n\n      ",HTML.DIV({"class":"wrapper-search-results"},"\n        ",HTML.Raw('<!-- <div class="search-results-bg"></div> -->'),"\n        ",HTML.DIV({"class":"container clearfix search-results-container page-width"},"\n          ",HTML.Raw('<!-- <div class="page-width-left"> -->'),"\n            ",HTML.Raw("<!-- {{> portfolioSearchFilters _filtersFixture}} -->"),"\n          ",HTML.Raw("<!-- </div> -->"),"\n          ",HTML.DIV({"class":"clearfix search-results"},"\n            ",HTML.DIV({"class":"sort-wrapper clearfix pull-left"},"\n              ",HTML.Raw("<strong>Sort:</strong>"),"\n              ",Blaze._TemplateWith(function(){return{field:Spacebars.call("score"),title:Spacebars.call("Relevance"),noOrder:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("portfolioSortButton"))}),"\n              ",Blaze._TemplateWith(function(){return{field:Spacebars.call(Spacebars.dataMustache(e.lookup("_field"),"returns",Spacebars.dot(e.lookup("_instance"),"period","get"))),title:Spacebars.call("Returns")}},function(){return Spacebars.include(e.lookupTemplate("portfolioSortButton"))}),"\n              ",Blaze._TemplateWith(function(){return{field:Spacebars.call(Spacebars.dataMustache(e.lookup("_field"),"stddev",Spacebars.dot(e.lookup("_instance"),"period","get"))),title:Spacebars.call("Risk")}},function(){return Spacebars.include(e.lookupTemplate("portfolioSortButton"))}),"\n              ",Blaze._TemplateWith(function(){return{field:Spacebars.call("expense_net"),title:Spacebars.call("Expenses")}},function(){return Spacebars.include(e.lookupTemplate("portfolioSortButton"))}),"\n              ",Blaze._TemplateWith(function(){return{field:Spacebars.call("name"),title:Spacebars.call("Name"),classes:Spacebars.call("hidden-xs")}},function(){return Spacebars.include(e.lookupTemplate("portfolioSortButton"))}),"\n              ",Blaze._TemplateWith(function(){return{field:Spacebars.call("holdings_count"),title:Spacebars.call("Holding Count"),classes:Spacebars.call("hidden-xs")}},function(){return Spacebars.include(e.lookupTemplate("portfolioSortButton"))}),"\n            "),"\n            ",HTML.DIV({"class":"pull-right"},"\n              ",Blaze._TemplateWith(function(){return{name:Spacebars.call("timeframe"),"class":Spacebars.call("timeframe"),labels:Spacebars.call(e.lookup("periodLabels")),values:Spacebars.call(e.lookup("periodValues")),selection:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"period","get"))}},function(){return Spacebars.include(e.lookupTemplate("widgetRadio"))}),"\n            "),"\n\n            ",HTML.DIV({"class":"wrapper-portfolio-search-results js-discover-search-results hflush"},"\n              ",Blaze._TemplateWith(function(){return{results:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"SearchResults","find")),isReady:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"isReady","get")),period:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"period","get"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioSearchResults"))}),"\n              ",HTML.Raw("<!-- {{> portfolioSearchResults _resultsFixture}} -->"),"\n              ",HTML.Raw("<!-- {{> portfolioSearchResults _resultsFixture}} -->"),"\n              ",HTML.Raw("<!-- {{> portfolioSearchResults _resultsFixture}} -->"),"\n              ",HTML.Raw("<!-- {{> portfolioSearchResults _resultsFixture}} -->"),"\n              ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("_instance"),"loadMoreData","get"))},function(){return["\n                ",Spacebars.include(e.lookupTemplate("loadingAnimation")),"\n              "]}),"\n              ",Blaze.If(function(){return Spacebars.call(e.lookup("endOfResult"))},function(){return["\n                ",HTML.H2("End of Result"),"\n                ",HTML.A({href:"#","class":"h2-caption js-back-to-top"},"Back to Top"),"\n              "]}),"\n            "),"\n          "),"\n\n        "),"\n      "),"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("endOfResult"))},function(){return["\n        ",Spacebars.include(e.lookupTemplate("inlineSocialSignin")),"\n      "]}),"\n    "),"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("endOfResult"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("footer")),"\n    "]}),"\n  ")}),Template.__checkName("portfolioSortButton"),Template.portfolioSortButton=new Template("Template.portfolioSortButton",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("value"))},function(){return["\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("url"))},"data-field":function(){return Spacebars.mustache(e.lookup("field"))},"class":function(){return["js-sort-btn btn btn-xs ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"value"))},function(){return"is-sort-active"})," ",Blaze.Unless(function(){return Spacebars.call(e.lookup("noOrder"))},function(){return Blaze.View("lookup:sortOrderToClass",function(){return Spacebars.mustache(e.lookup("sortOrderToClass"))})})," ",Spacebars.mustache(e.lookup("classes"))]}},"\n      ",Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))}),"\n      ",Blaze.Unless(function(){return Spacebars.call(e.lookup("noOrder"))},function(){return["\n        ",HTML.SPAN({"class":"glyphicon up glyphicon-chevron-up"}),"\n        ",HTML.SPAN({"class":"glyphicon down glyphicon-chevron-down"}),"\n      "]}),"\n    "),"\n  "]})})}).call(this);

(function(){Template.__checkName("home"),Template.home=new Template("Template.home",function(){var n=this;return HTML.DIV({"class":"js-home view banner home"},"\n    ",Spacebars.include(n.lookupTemplate("headerHero")),"\n    ",Spacebars.include(n.lookupTemplate("viewIncludesNoHeader")),"\n    ",HTML.DIV({id:"main"},"\n      ",Spacebars.include(n.lookupTemplate("headline")),"\n      ",Spacebars.include(n.lookupTemplate("quotes")),"\n      ",Spacebars.include(n.lookupTemplate("features")),"\n      ",Spacebars.include(n.lookupTemplate("asSeenOn")),"\n      ",Spacebars.include(n.lookupTemplate("sampleDiscussions")),"\n      ",Spacebars.include(n.lookupTemplate("samplePortfolios")),"\n      ",Spacebars.include(n.lookupTemplate("inlineSocialSignin")),"\n    "),"\n    ",Spacebars.include(n.lookupTemplate("footer")),HTML.Raw('\n    \n    <div class="pull-left home-mixpanel-link">\n      <a href="https://mixpanel.com/f/partner" rel="nofollow" target="_blank"><img src="//cdn.mxpnl.com/site_media/images/partner/badge_light.png" alt="Mobile Analytics"></a>\n    </div>\n  '))}),Template.__checkName("headline"),Template.headline=new Template("Template.headline",function(){var n=this;return HTML.DIV({"class":"area headline"},HTML.Raw('\n    <div class="bg-fade-in"></div>\n    <div class="overlay blue"></div>\n    <!--<div class="ring">\n      <div class="ring-xl"></div>\n      <div class="ring-lg"></div>\n      <div class="ring-md"></div>\n      <div class="ring-sm"></div>\n    </div>-->\n    '),HTML.TABLE({"class":"vertical-align banner-content"},HTML.TBODY(HTML.TR(HTML.TD("\n      ",HTML.DIV({"class":"container"},"\n        ",HTML.H1("LEGO for Investing",HTML.SPAN({"class":"desktop"},".")),"\n        ",HTML.H2({"class":"lead mobile"},"Design your own portfolio from",HTML.BR(),"24,000+ funds and stocks."),"\n        ",HTML.H2({"class":"lead desktop"},"Design your portfolio from 24,000+ funds and stocks."),"\n        ",Blaze.If(function(){return Spacebars.call(n.lookup("isTablet"))},function(){return["\n          ",HTML.DIV({"class":"row"},"\n            ",Spacebars.include(n.lookupTemplate("portfolioImportTextareaController")),"\n          "),"\n        "]},function(){return["\n          ",Spacebars.include(n.lookupTemplate("headlineSearch")),"\n          ",HTML.DIV({"class":"hflush animation"},"\n            ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("subsReady"),Spacebars.kw({sub:"examples"}))},function(){return["\n            ",Blaze.Each(function(){return Spacebars.call(n.lookup("examples"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{portfolio:Spacebars.call(n.lookup(".")),includeLink:Spacebars.call(!0)}},function(){return Spacebars.include(n.lookupTemplate("smallPortfolioCard"))}),"\n            "]}),"\n            "]}),"\n          "),"\n        "]}),"\n      "),"\n    ")))),"\n    ",HTML.DIV({"class":"news"},"\n      ",HTML.DIV({"class":"content middle"},"\n        ",HTML.Raw('<img class="icon" src="/img/sns-reddit.svg">'),"\n        ",HTML.SPAN({"class":"mobile"},HTML.Raw("<strong>New!</strong>"),HTML.Raw("&nbsp;"),"Now an official tool for ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("outlink"),"https://www.reddit.com/r/portfolios/")},target:"_blank"},"/r/portfolios"),"."),"\n        ",HTML.SPAN({"class":"desktop"},"Send us your feature request",HTML.Raw("&nbsp;"),HTML.A({href:function(){return Spacebars.mustache(n.lookup("outlink"),"https://redd.it/3kh08y")},target:"_blank"},"via Hello Money reddit AMA"),"."),"\n      "),"\n    "),"\n  ")}),Template.__checkName("headlineSearch"),Template.headlineSearch=new Template("Template.headlineSearch",function(){var n=this;return HTML.DIV({"class":"search-wrapper"},"\n    ",Blaze._TemplateWith(function(){return{placeholder:Spacebars.call("Search Fund or Stock")}},function(){return Spacebars.include(n.lookupTemplate("startNewPortfolioHeadline"))}),"\n  ")}),Template.__checkName("quotes"),Template.quotes=new Template("Template.quotes",function(){var n=this;return[HTML.DIV({"class":"area quotes"},"\n    ",HTML.DIV({"class":"container page-width"},"\n      ",HTML.DIV({"class":"row"},"\n        ",HTML.DIV({"class":"col col-xs-12 col-sm-4"},"\n          ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("outlink"),"https://twitter.com/uxhisun/status/499998641512136704")},target:"_blank"},"\n            ",HTML.Raw('<div class="testimonial hgrail-parent">\n              <div class="text">\n                <p class="quote">"Compared my 401(k) vs. husband’s side-by-side."</p>\n                <p class="nick">@uxhisun<span class="mini-icon" data-icon="I"></span></p>\n              </div>\n              <div class="pic">\n                <div class="face hisun"></div>\n                <span class="mini-icon" data-icon="I"></span>\n              </div>\n            </div>'),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"col col-xs-12 col-sm-4"},"\n          ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("outlink"),"https://twitter.com/RauCreativity/status/500414537955545088")},target:"_blank"},"\n            ",HTML.Raw('<div class="testimonial hgrail-parent">\n              <div class="text">\n                <p class="quote">"Instantly loved Hello Money. Check out my portfolio!"</p>\n                <p class="nick">@RauCreativity<span class="mini-icon" data-icon="I"></span></p>\n              </div>\n              <div class="pic">\n                <div class="face philip"></div>\n                <span class="mini-icon" data-icon="I"></span>\n              </div>\n            </div>'),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"col col-xs-12 col-sm-4"},"\n          ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("outlink"),"https://twitter.com/JasonDemant/status/500135185841524736")},target:"_blank"},"\n            ",HTML.Raw('<div class="testimonial hgrail-parent">\n              <div class="text">\n                <p class="quote">"Now it\'s easy to help my folks with their portfolio."</p>\n                <p class="nick">@jasondemant<span class="mini-icon" data-icon="I"></span></p>\n              </div>\n              <div class="pic">\n                <div class="face jason"></div>\n                <span class="mini-icon" data-icon="I"></span>\n              </div>\n            </div>'),"\n          "),"\n        "),"\n      "),"\n    "),"\n  "),HTML.Raw('\n <!--  <div class="area donate">\n    <div class="container page-width">\n      <span class="mobile">Help us support int\'l markets</span>\n      <span class="desktop"><strong>Like Hello Money?&nbsp;</strong>Help us support international markets</span>\n      <div class="btn btn-special">Donate $20</div>\n    </div>\n  </div> -->')]}),Template.__checkName("features"),Template.features=new Template("Template.features",function(){var n=this;return HTML.Raw('<div class="area features">\n    <div class="blue-bg"></div>\n    <div class="container page-width">\n      <h2>Design portfolios like LEGOs.</h2>\n      <p class="h2-caption"><span class="mobile">No account import needed.&nbsp;<br></span><span class="desktop">No account import required.&nbsp;</span>All  you need is the fund/stock name.</p>\n      <div class="hflush demo">\n        <div class="screenshot">\n          <div class="content">\n            <div class="pfpage"></div>\n            <div class="browser">\n              <div class="hgrail-parent">\n                <div class="address hgrail-remainder"><a href="/portfolio/277">hellomoney.co/portfolio/277</a></div>\n                <div class="buttons hgrail-fixed">\n                  <div class="btn-bg">\n                    <div class="triangle-left"></div><div class="triangle-right"></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="bubble one">Add your holdings, change the weights.</div>\n          <div class="bubble two">Results are\u2028 instantly displayed.</div>\n          <div class="bubble three">Change weight, delete... experiment!</div>\n        </div>\n      </div>\n    </div>\n    <div class="container salespoints">\n      <div class="row">\n        <div class="col-xs-12 col-sm-6 details">\n          <h3 class="page-h3 desktop">Design Your Own, Instantly.</h3>\n          <p class="h3-caption desktop">We make it easy to see how key metrics like risk, returns, expenses, sharpe ratio, and dividend yield compare against the market.</p>\n          <div class="hflush item">\n            <div class="icon">\n              <img src="/img/index-features-tune-icon1-gradient.svg">\n            </div>\n            <div class="text">\n              <h4>Instant impact</h4>\n              <p class="h4-caption">As you change the holdings, see its impact on portfolio instantly. Check your diversification by looking at market cap, asset class, regional, and expense allocations.</p>\n            </div>\n          </div>\n          <div class="hflush item">\n            <div class="icon">\n              <img src="/img/index-features-share-icon1-gradient.svg">\n            </div>\n            <div class="text">\n              <h4>Unique URL</h4>\n              <p class="h4-caption">Every portfolio gets its own address. Send it or share it. Hello Money is used by thousands of Redditors and is the official tool of <a href="http://reddit.com/r/portfolios">/r/portfolios</a>.</p>\n            </div>\n          </div>\n        </div>\n        <div class="col-xs-12 col-sm-6 details">\n          <h3 class="page-h3 desktop">Stocks, Funds, 401(k)s, and IRAs.</h3>\n          <p class="h3-caption desktop">Hello Money covers U.S. mutual funds, ETFs, and stocks, plus Toronto Exchange stocks and ETFs. Don’t see your fund or stock? <a href="mailto:hellomoney@lab80.co">Let us know.</a></p>\n          <div class="hflush item">\n            <div class="icon">\n              <img src="/img/index-features-design-icon1-gradient.svg">\n            </div>\n            <div class="text">\n              <h4>24,000+ holdings to choose from</h4>\n              <p class="h4-caption">Build your portfolio from over 24,000 stock and fund holdings. Visualize its allocation and backtesting performance against standard benchmarks.</p>\n            </div>\n          </div>\n          <div class="hflush item">\n            <div class="icon">\n              <img src="/img/index-features-fees-icon-gradient.svg">\n            </div>\n            <div class="text">\n              <h4>Fee analysis</h4>\n              <p class="h4-caption">Expenses can erode your returns so we show a detailed breakdown and help you simulate the effect of fees on portfolio return.</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>')}),Template.__checkName("sampleDiscussions"),Template.sampleDiscussions=new Template("Template.sampleDiscussions",function(){var n=this;return HTML.DIV({"class":"area threads"},"\n    ",HTML.DIV({"class":"container page-width"},"\n      ",HTML.Raw("<h2>Need portfolio ideas?</h2>"),"\n      ",HTML.Raw('<p class="h2-caption">These are the portfolios people are talking about.</p>'),"\n      ",Blaze._TemplateWith(function(){return{isReady:Spacebars.call(Spacebars.dataMustache(n.lookup("subsReady"),Spacebars.kw({subs:"redditDiscussions"}))),discussions:Spacebars.call(n.lookup("_redditDiscussions"))}},function(){return Spacebars.include(n.lookupTemplate("discussionCards"))}),"\n      ",Blaze._TemplateWith(function(){return{url:Spacebars.call("/discover")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return["\n        ",HTML.BUTTON({"class":"btn btn-flat-md btn-flat-gradient"},"Discover User Portfolios"),"\n      "]})}),"\n      ",HTML.Raw("<!-- {{> redditCommentCards commentsFixture}} -->"),"\n    "),"\n  ")}),Template.__checkName("samplePortfolios"),Template.samplePortfolios=new Template("Template.samplePortfolios",function(){var n=this;return HTML.DIV({"class":"area"},"\n    ",HTML.DIV({"class":"hflush"},"\n      ",HTML.DIV({"class":"container page-width border-bottom npt"},"\n        ",HTML.Raw("<h2>Stock Portfolios</h2>"),"\n        ",HTML.Raw('<p class="h2-caption">Create a portfolio mix of stocks and funds.</p>'),"\n\n        ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("subsReady"),Spacebars.kw({subs:"stock"}))},function(){return["\n        ",Blaze._TemplateWith(function(){return{portfolios:Spacebars.call(Spacebars.dot(n.lookup("portfolios"),"stock")),"class":Spacebars.call("fluid"),setOutlink:Spacebars.call(!0)}},function(){return Spacebars.include(n.lookupTemplate("portfolioCards"))}),"\n        "]}),"\n      "),"\n      ",HTML.DIV({"class":"container page-width border-bottom"},"\n        ",HTML.Raw("<h2>Lazy Portfolios</h2>"),"\n        ",HTML.Raw('<p class="h2-caption">Small number of low-cost funds that are easy to rebalance and maintain.</p>'),"\n\n        ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("subsReady"),Spacebars.kw({subs:"lazy"}))},function(){return["\n        ",Blaze._TemplateWith(function(){return{portfolios:Spacebars.call(Spacebars.dot(n.lookup("portfolios"),"lazy")),"class":Spacebars.call("fluid"),setOutlink:Spacebars.call(!0)}},function(){return Spacebars.include(n.lookupTemplate("portfolioCards"))}),"\n        "]}),"\n      "),"\n      ",HTML.DIV({"class":"container page-width border-bottom"},"\n        ",HTML.Raw("<h2>Cruise-Control Retirement</h2>"),"\n        ",HTML.Raw('<p class="h2-caption">Retirement portfolios offered by popular services.</p>'),"\n\n        ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("subsReady"),Spacebars.kw({subs:"cruise_control"}))},function(){return["\n        ",Blaze._TemplateWith(function(){return{portfolios:Spacebars.call(Spacebars.dot(n.lookup("portfolios"),"cruise_control")),"class":Spacebars.call("fluid"),setOutlink:Spacebars.call(!0)}},function(){return Spacebars.include(n.lookupTemplate("portfolioCards"))}),"\n        "]}),"\n      "),"\n      ",HTML.DIV({"class":"container page-width border-bottom"},"\n        ",HTML.Raw("<h2>Special Flavors</h2>"),"\n        ",HTML.Raw('<p class="h2-caption">Bored with textbook portfolios? Check out these specialty ones.</p>'),"\n\n        ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("subsReady"),Spacebars.kw({subs:"different"}))},function(){return["\n        ",Blaze._TemplateWith(function(){return{portfolios:Spacebars.call(Spacebars.dot(n.lookup("portfolios"),"different")),"class":Spacebars.call("fluid"),setOutlink:Spacebars.call(!0)}},function(){return Spacebars.include(n.lookupTemplate("portfolioCards"))}),"\n        "]}),"\n      "),"\n    "),"\n  ")}),Template.__checkName("asSeenOn"),Template.asSeenOn=new Template("Template.asSeenOn",function(){var n=this;return HTML.DIV({"class":"area press"},"\n    ",HTML.DIV({"class":"hflush press-producthunt"},"\n      ",HTML.DIV({"class":"container page-width"},"\n        ",HTML.Raw('<div class="iphone producthunt"></div>'),"\n        ",HTML.DIV({"class":"content"},"\n          ",HTML.Raw("<h2>Best Personal Finance App</h2>"),"\n          ",HTML.Raw('<p class="h2-caption">"Get a peak at how others are investing, and improve your portfolio."</p>'),"\n          ",HTML.A({"class":"btn btn-flat-lg btn-white-outline",href:function(){return Spacebars.mustache(n.lookup("outlink"),"https://medium.com/@producthunt/the-7-best-personal-finance-apps-bf1fbd6caa9d")},target:"_blank"},"Read More"),"\n        "),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"hflush press-reddit"},"\n      ",HTML.DIV({"class":"container page-width"},"\n        ",HTML.Raw('<div class="iphone reddit"></div>'),"\n        ",HTML.DIV({"class":"content"},"\n          ",HTML.H2("Official tool of ",HTML.A({"class":"home-reddit-link",href:function(){return Spacebars.mustache(n.lookup("outlink"),"https://www.reddit.com/r/portfolios/")},target:"_blank"},"/r/portfolios")),"\n          ",HTML.Raw('<p class="h2-caption">Hello Money makes it easy to design, analyze, <span class="desktop">track, share,&nbsp;</span>and get feedback on your <span class="desktop">investment&nbsp;</span>portfolio.</p>'),"\n          ",HTML.A({"class":"btn btn-flat-lg btn-white-outline",href:function(){return Spacebars.mustache(n.lookup("outlink"),"https://www.reddit.com/r/portfolios/")},target:"_blank"},"Discover"),"\n        "),"\n      "),"\n    "),HTML.Raw('\n    <!-- <div class="container page-width">\n      <h3 class="page-h3">As Seen On</h3>\n      <div class="row">\n        <div class="col col-xs-12 col-sm-4">\n          <a class="external" href={{outlink "http://www.producthunt.com/posts/hello-money"}} target="_blank">\n            <div class="logo producthunt"></div>\n          </a>\n        </div>\n        <div class="col col-xs-12 col-sm-4">\n          <a class="external" href={{outlink "http://financetrain.com/top-investing-tools-help-excel-investing/"}} target="_blank">\n            <div class="logo financetrain"></div>\n          </a>\n        </div>\n        <div class="col col-xs-12 col-sm-4">\n          <a class="external" href={{outlink "http://www.appvita.com/2014/11/07/hello-money-discuss-investing-portfolios-online/"}} target="_blank">\n            <div class="logo appvita"></div>\n          </a>\n        </div>\n      </div> -->\n  '))})}).call(this);

(function(){Template.__checkName("forgotPassword"),Template.forgotPassword=new Template("Template.forgotPassword",function(){var a=this;return HTML.DIV({"class":"js-forgot-password view banner forgot-password"},"\n    ",Spacebars.include(a.lookupTemplate("viewIncludes")),"\n    ",HTML.DIV({id:"main"},"\n      ",HTML.DIV({"class":"area headline"},"\n        ",HTML.Raw('<div class="bg-fade-in"></div>'),"\n        ",HTML.Raw('<div class="overlay blue"></div>'),"\n        ",HTML.TABLE({"class":"vertical-align banner-content"},HTML.TBODY(HTML.TR(HTML.TD("\n          ",HTML.DIV({"class":"container page-width"},"\n            ",HTML.DIV({"class":"instructions"},"\n              ",Blaze.If(function(){return Spacebars.call(a.lookup("email"))},function(){return["\n              ",HTML.Comment(" Migrate existing users "),"\n              ",HTML.H2("Reset Password"),"\n              ",HTML.P({"class":"h2-caption"},"Hi ",HTML.STRONG(Blaze.View("lookup:email",function(){return Spacebars.mustache(a.lookup("email"))})),"!",HTML.BR(),"\n              Your account has been upgraded. Please reset your password."),"\n              "]},function(){return["\n              ",HTML.H2("Reset Password"),"\n              ",HTML.P({"class":"h2-caption"},"Enter your email below and we'll send you a link to reset it."),"\n              "]}),"\n              \n              ",Blaze._TemplateWith(function(){return{schema:Spacebars.call("UserValidationSchema"),"class":Spacebars.call("js-password-reset"),action:Spacebars.call(a.lookup("forgot")),status:Spacebars.call(a.lookup("formStatus"))}},function(){return Spacebars.include(a.lookupTemplate("simpleForm"),function(){return["\n              ",HTML.DIV({"class":"tight inline"},"\n                ",HTML.DIV({"class":"input-field"},"\n                ",Blaze._TemplateWith(function(){return{field:Spacebars.call("email"),placeholder:Spacebars.call("Email Address"),"class":Spacebars.call("js-forgot-password-email input-lg"),hint:Spacebars.call("8-20 letters, numbers, and special characters")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n                "),"\n                ",HTML.DIV({"class":"actions"},"\n                  ",HTML.BUTTON({type:"submit","class":function(){return["btn btn-primary btn-lg ladda-button ",Blaze.Unless(function(){return Spacebars.call(a.lookup("isFormValid"))},function(){return"disabled"})]},"data-style":"zoom-in"},"\n                    ",HTML.SPAN({"class":"ladda-label"},"Send",HTML.SPAN({"class":"desktop"},HTML.CharRef({html:"&nbsp;",str:" "}),"Email")),"\n                  "),"\n                "),"\n              "),"\n              ",Spacebars.include(a.lookupTemplate("loadingAnimation")),"\n              ",HTML.P({"class":"caption"},"Please contact us at ",HTML.A({href:"mailto:hellomoney@lab80.co"},"hellomoney@lab80.co")," if you have trouble resetting your password."),"\n              "]})}),"\n            "),"\n          "),"\n        ")))),"\n      "),"\n    "),"\n    ",Spacebars.include(a.lookupTemplate("footer")),"\n  ")})}).call(this);

(function(){Template.__checkName("forgotPasswordDone"),Template.forgotPasswordDone=new Template("Template.forgotPasswordDone",function(){var e=this;return HTML.DIV({"class":"js-forgot-password-done view banner forgot-password done"},"\n    ",Spacebars.include(e.lookupTemplate("viewIncludes")),"\n    ",HTML.DIV({id:"main"},"\n      ",HTML.DIV({"class":"area headline"},"\n        ",HTML.Raw('<div class="bg-fade-in"></div>'),"\n        ",HTML.Raw('<div class="overlay blue"></div>'),"\n        ",HTML.TABLE({"class":"vertical-align banner-content"},HTML.TBODY(HTML.TR(HTML.TD("\n          ",HTML.DIV({"class":"container page-width"},"\n            ",HTML.DIV({"class":"instructions"},"\n              ",HTML.H2("Email Sent"),"\n              ",HTML.P({"class":"h2-caption"},"We have sent you an email."),"\n              ",HTML.DIV({"class":"news-save"},"\n                ",HTML.SPAN({"class":"label label-primary label-lg"},HTML.SPAN({"class":"glyphicon glyphicon-bullhorn"}),HTML.SPAN({"class":"btn-text"},"Hello Money Update")),"\n                ",HTML.H4({"class":"message"},"Use the Save button to keep your changes."),"\n                ",HTML.P({"class":"caption"},HTML.SMALL("We've turned off automatic saving per user feedback.")),"\n                ",HTML.DIV({"class":"image"}),"\n              "),"\n              ",HTML.P(Blaze._TemplateWith(function(){return{url:Spacebars.call("/accounts/forgot-password")}},function(){return Spacebars.include(e.lookupTemplate("routerGo"),function(){return"Go Back"})})),"\n            "),"\n          "),"\n        ")))),"\n      "),"\n    "),"\n    ",Spacebars.include(e.lookupTemplate("footer")),"\n  ")})}).call(this);

(function(){Template.__checkName("resetPassword"),Template.resetPassword=new Template("Template.resetPassword",function(){var a=this;return HTML.DIV({"class":"js-reset-password view banner reset-password"},"\n    ",Spacebars.include(a.lookupTemplate("viewIncludes")),"\n    ",HTML.DIV({id:"main"},"\n      ",HTML.DIV({"class":"area headline"},"\n        ",HTML.Raw('<div class="bg-fade-in"></div>'),"\n        ",HTML.Raw('<div class="overlay blue"></div>'),"\n        ",HTML.TABLE({"class":"vertical-align banner-content"},HTML.TBODY(HTML.TR(HTML.TD("\n          ",HTML.DIV({"class":"container page-width"},"\n            ",HTML.DIV({"class":"instructions"},"\n              ",HTML.H2("Reset Password"),"\n              ",HTML.P({"class":"h2-caption"},"Change your password below."),"\n              ",Blaze._TemplateWith(function(){return{schema:Spacebars.call("UserValidationSchema"),"class":Spacebars.call("js-reset-password-form"),action:Spacebars.call(a.lookup("reset")),status:Spacebars.call(a.lookup("formStatus"))}},function(){return Spacebars.include(a.lookupTemplate("simpleForm"),function(){return["\n              ",HTML.DIV({"class":"narrow"},"\n                ",HTML.DIV({"class":"input-field"},"\n                  ",Blaze._TemplateWith(function(){return{type:Spacebars.call("password"),field:Spacebars.call("password"),label:Spacebars.call("New Password"),placeholder:Spacebars.call("New Password"),hint:Spacebars.call("8-20 letters, numbers, and special characters"),"class":Spacebars.call("input-lg js-password")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n                  ",Blaze._TemplateWith(function(){return{type:Spacebars.call("password"),field:Spacebars.call("passwordConfirmation"),confirmation:Spacebars.call("password"),label:Spacebars.call("New Password (Again)"),placeholder:Spacebars.call("New Password (Again)"),hint:Spacebars.call("Must match above"),"class":Spacebars.call("input-lg")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n                "),"\n                ",HTML.DIV({"class":"actions"},"\n                  ",HTML.BUTTON({type:"submit","class":function(){return["btn btn-primary btn-lg ladda-button ",Blaze.Unless(function(){return Spacebars.call(a.lookup("isFormValid"))},function(){return"disabled"})]},"data-style":"zoom-in"},"Change Password"),"\n                "),"\n              "),"\n              ",HTML.P({"class":"caption"},"Please contact us at ",HTML.A({href:"mailto:hellomoney@lab80.co"},"hellomoney@lab80.co")," if you have trouble resetting your password."),"\n              "]})}),"\n            "),"\n          "),"\n        ")))),"\n      "),"\n    "),"\n    ",Spacebars.include(a.lookupTemplate("footer")),"\n  ")})}).call(this);

(function(){Template.__checkName("resetPasswordDone"),Template.resetPasswordDone=new Template("Template.resetPasswordDone",function(){var e=this;return HTML.DIV({"class":"js-reset-password-done view banner reset-password done"},"\n    ",Spacebars.include(e.lookupTemplate("viewIncludes")),"\n    ",HTML.DIV({id:"main"},"\n      ",HTML.DIV({"class":"area headline"},"\n        ",HTML.Raw('<div class="bg-fade-in"></div>'),"\n        ",HTML.Raw('<div class="overlay blue"></div>'),"\n        ",HTML.TABLE({"class":"vertical-align banner-content"},HTML.TBODY(HTML.TR(HTML.TD("\n          ",HTML.DIV({"class":"container page-width"},"\n            ",HTML.DIV({"class":"instructions"},"\n              ",HTML.H2("Success!"),"\n              ",HTML.P({"class":"h2-caption"},"Your password is now changed, and you're logged in."),"\n              ",Blaze._TemplateWith(function(){return{url:Spacebars.call("/")}},function(){return Spacebars.include(e.lookupTemplate("routerGo"),function(){return["\n              ",HTML.SPAN({"class":"glyphicon glyphicon-home"}),"\n              ",HTML.SPAN({"class":"btn-text"},"Back to "),"\n              Hello Money home\n              "]})}),"\n            "),"\n          "),"\n        ")))),"\n      "),"\n    "),"\n    ",Spacebars.include(e.lookupTemplate("footer")),"\n  ")})}).call(this);

(function(){Template.__checkName("addPlaceholderHolding"),Template.addPlaceholderHolding=new Template("Template.addPlaceholderHolding",function(){var e=this;return HTML.LI({"class":"holding-search-wrapper js-placeholder-holding-wrapper"},"\n    ",HTML.DIV({"class":"js-placeholder-holding shaded padded"},"\n      ",Blaze._TemplateWith(function(){return{schema:Spacebars.call("PlaceholderHoldingSchema"),action:Spacebars.call(e.lookup("addHolding")),doc:Spacebars.call(e.lookup("portfolio")),status:Spacebars.call(e.lookup("placeholderHoldingFormStatus")),weightType:Spacebars.call(e.lookup("weightType")),groupId:Spacebars.call(e.lookup("groupId"))}},function(){return Spacebars.include(e.lookupTemplate("simpleForm"),function(){return["\n        ",HTML.DIV({"class":"row"},"\n          ",HTML.DIV({"class":"col-xs-5 col-tight"},"\n            ",HTML.LABEL({"class":"placeholder-label"},"Name"),"\n            ",Blaze._TemplateWith(function(){return{field:Spacebars.call("name"),placeholder:Spacebars.call("Name"),"class":Spacebars.call("js-name input-base form-control")}},function(){return Spacebars.include(e.lookupTemplate("simpleInput"))}),"\n          "),"\n          ",HTML.DIV({"class":"col-xs-4 col-tight"},"\n            ",HTML.DIV({"class":"placeholder-interest-input-wrapper input-with-icon base right-icon"},"\n              ",HTML.LABEL({"class":"placeholder-label"},HTML.SPAN({"class":"hidden-xs"},"Annual "),"Interest ",HTML.SPAN({title:"Effective Annual Interest","class":"js-placeholder-helper placeholder-helper"},"?")),"\n              ",Blaze._TemplateWith(function(){return{field:Spacebars.call("interest"),"class":Spacebars.call("js-interest input-base form-control press-enter")}},function(){return Spacebars.include(e.lookupTemplate("simpleInput"))}),"\n              ",HTML.SPAN({"class":"icon with-label"},"%"),"\n            "),"\n          "),"\n          ",HTML.DIV({"class":"col-xs-3 col-tight"},"\n            ",HTML.DIV({"class":function(){return["placeholder-weight-input-wrapper input-with-icon base text-right ",Blaze.If(function(){return Spacebars.call(e.lookup("isWeightPercent"))},function(){return"right-icon"},function(){return"left-icon"})]}},"\n              ",HTML.LABEL({"class":"placeholder-label"},Blaze.View("lookup:weightLabel",function(){return Spacebars.mustache(e.lookup("weightLabel"))})),"\n              ",Blaze._TemplateWith(function(){return{schema:Spacebars.call("PlaceholderHoldingSchema"),hint:Spacebars.call("Press Enter"),field:Spacebars.call("weight"),"class":Spacebars.call("js-weight input-base placeholder-weight press-enter"),hidden:Spacebars.call(e.lookup("isWeightAmount"))}},function(){return Spacebars.include(e.lookupTemplate("transformInput"))}),"\n              ",Blaze._TemplateWith(function(){return{schema:Spacebars.call("PlaceholderHoldingSchema"),hint:Spacebars.call("Press Enter"),field:Spacebars.call("amount"),"class":Spacebars.call("js-amount input-base placeholder-weight press-enter"),hidden:Spacebars.call(e.lookup("isWeightPercent"))}},function(){return Spacebars.include(e.lookupTemplate("transformInput"))}),"\n              ",HTML.SPAN({"class":"icon with-label"},Blaze.View("lookup:weightUnit",function(){return Spacebars.mustache(e.lookup("weightUnit"))})),"\n            "),"\n          "),"\n        "),"\n        ",HTML.A({"class":"js-placeholder-cancel-btn placeholder-holding"},"Back"),"\n      "]})}),"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("portfolio"),Template.portfolio=new Template("Template.portfolio",function(){var e=this;return HTML.DIV({"class":"js-portfolio view portfolio"},"\n    ",Spacebars.With(function(){return Spacebars.call(e.lookup("addRootToContext"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("headerPortfolio")),"\n      ",Spacebars.include(e.lookupTemplate("viewIncludesNoHeader")),"\n      ",Blaze._TemplateWith(function(){return{content:Spacebars.call("createYourOwnContent")}},function(){return Spacebars.include(e.lookupTemplate("notificationBar"))}),"\n      ",HTML.DIV({id:"main"},"\n        ",HTML.DIV({"class":"container page-width"},"\n          ",HTML.DIV({"class":"row js-portfolio-row portfolio-row"},"\n            ",HTML.DIV({"class":"col-md-6 left-pane js-left-pane npb"},"\n              ",HTML.DIV({"class":"container text-center info-area"},"\n                ",Spacebars.include(e.lookupTemplate("portfolioNameDescription")),"\n                ",HTML.DIV({"class":"piechart-wrapper"},"\n                  ",Blaze._TemplateWith(function(){return{minify:Spacebars.call(!1),chartData:Spacebars.call(e.lookup("piechartData"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioPiechart"))}),"\n                "),"\n                ",Blaze.Unless(function(){return Spacebars.call(e.lookup("lessThanTablet"))},function(){return["\n                  ",HTML.DIV({"class":"hflush text-center"},"\n                    ",Spacebars.include(e.lookupTemplate("portfolioEditButtons")),"\n                  "),"\n                "]},function(){return["\n                  ",HTML.DIV({"class":"hflush text-center mobile"},"\n                    ",HTML.A({"class":"js-see-list",href:"#"},"See list of holdings"),"\n                  "),"\n                "]}),"\n              "),"\n              ",Blaze.Unless(function(){return Spacebars.call(e.lookup("lessThanTablet"))},function(){return["\n                ",Blaze._TemplateWith(function(){return{portfolio:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"portfolio")),period:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"period"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioHoldingsEditorByGroup"))}),"\n                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("subsReady"),Spacebars.kw({sub:"portfolio"}))},function(){return["\n                  ",Blaze._TemplateWith(function(){return{securitySource:Spacebars.call(Spacebars.dot(e.lookup("root"),"securitySource")),portfolio:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"portfolio"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioExtraInfo"))}),"\n                "]}),"\n              "]}),"\n            "),"\n            ",HTML.DIV({"class":"col-md-6 right-pane"},"\n              ",Spacebars.include(e.lookupTemplate("portfolioShare")),"\n              ",HTML.DIV({"class":"container"},"\n                ",HTML.DIV({"class":"row"},"\n                  ",Spacebars.include(e.lookupTemplate("portfolioPeriodHeader")),"\n                "),"\n                ",HTML.DIV({"class":"row history-section"},"\n                  ",Blaze._TemplateWith(function(){return{root:Spacebars.call(e.lookup("root")),type:Spacebars.call("PORTFOLIO")}},function(){return Spacebars.include(e.lookupTemplate("timelineGraph"))}),"\n                "),"\n                ",HTML.DIV({"class":"row dividends-section"},"\n                  ",Blaze._TemplateWith(function(){return{root:Spacebars.call(e.lookup("root"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioDividends"))}),"\n                "),"\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("_portfolioHasExpenses"))},function(){return["\n                  ",HTML.DIV({"class":"row fee-section"},"\n                    ",Blaze._TemplateWith(function(){return{screenWidth:Spacebars.call(e.lookup("screenWidth")),expenseClass:Spacebars.call(e.lookup("expenseClass")),isReady:Spacebars.call(Spacebars.dot(e.lookup("root"),"securitySource","ready")),invalidReason:Spacebars.call(Spacebars.dot(e.lookup("root"),"invalidExpenses","get")),period:Spacebars.call(Spacebars.dot(e.lookup("root"),"period","get")),portfolioExpenseNet:Spacebars.call(Spacebars.dataMustache(Spacebars.dot(e.lookup("root"),"highlights","get"),"expenses")),portfolioAmount:Spacebars.call(Spacebars.dot(e.lookup("reactivePortfolio"),"totalCheckedAmountOrDefault")),holdingsWithExpenses:Spacebars.call(Spacebars.dot(e.lookup("reactivePortfolio"),"reactiveHoldingsExpenses"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioExpenses"))}),"\n                  "),"\n                "]}),"\n                ",HTML.DIV({"class":"row allocation-section"},"\n                  ",Spacebars.include(e.lookupTemplate("portfolioAllocations")),"\n                  ",Blaze.If(function(){return Spacebars.call(e.lookup("lessThanTablet"))},function(){return["\n                    ",Blaze._TemplateWith(function(){return{portfolio:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"portfolio")),period:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"period"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioHoldingsEditorByGroup"))}),"\n                    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("subsReady"),Spacebars.kw({sub:"portfolio"}))},function(){return["\n                      ",Blaze._TemplateWith(function(){return{securitySource:Spacebars.call(Spacebars.dot(e.lookup("root"),"securitySource")),portfolio:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"portfolio"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioExtraInfo"))}),"\n                    "]}),"\n                  "]}),"\n              "),"\n            "),"\n          "),"\n        "),"\n      "),"\n    "),"\n    "]}),"\n  ")}),Template.__checkName("portfolioPeriodHeader"),Template.portfolioPeriodHeader=new Template("Template.portfolioPeriodHeader",function(){var e=this;return[HTML.H2({"class":"pull-left"},Blaze.View("lookup:periodHumanized",function(){return Spacebars.mustache(e.lookup("periodHumanized"),Spacebars.dot(e.lookup("root"),"period","get"))}),HTML.Raw('<span class="hidden-xs"> History</span>')),"\n  ",HTML.DIV({"class":"pull-right"},"\n    ",Blaze._TemplateWith(function(){return{name:Spacebars.call("timeframe"),"class":Spacebars.call("timeframe"),labels:Spacebars.call(e.lookup("periodLabels")),values:Spacebars.call(e.lookup("periodValues")),selection:Spacebars.call(Spacebars.dot(e.lookup("root"),"period","get"))}},function(){return Spacebars.include(e.lookupTemplate("widgetRadio"))}),"\n  ")]}),Template.__checkName("portfolioHeaderExtras"),Template.portfolioHeaderExtras=new Template("Template.portfolioHeaderExtras",function(){var e=this;return[Blaze.If(function(){return Spacebars.call(e.lookup("portfolioIsMine"))},function(){return["\n  ",HTML.LI(HTML.BUTTON({"class":function(){return["js-portfolio-save-btn btn btn-default navbar-btn ",Blaze.If(function(){return Spacebars.call(e.lookup("portfolioHasChanges"))},function(){return"live"})," ",Blaze.Unless(function(){return Spacebars.call(e.lookup("isPortfolioValidAndChanged"))},function(){return"disabled"})]},title:"Save Portfolio",alt:"Save Portfolio"},HTML.SPAN({"class":"glyphicon glyphicon-ok icon"}),HTML.SPAN({"class":"btn-text"},"Save"))),"\n  "]}),"\n  ",HTML.LI(HTML.BUTTON({"class":function(){return["js-portfolio-save-as-btn btn btn-default navbar-btn ",Blaze.If(function(){return Spacebars.call(e.lookup("portfolioHasChanges"))},function(){return"live"})," ",Blaze.Unless(function(){return Spacebars.call(e.lookup("isPortfolioValid"))},function(){return"disabled"})]},title:"Save Portfolio As...",alt:"Save Portfolio As..."},HTML.Raw('<span class="glyphicon glyphicon-share-alt icon"></span>'),HTML.Raw('<span class="btn-text">Save As</span>')))]})}).call(this);

(function(){Template.__checkName("portfolioAllocations"),Template.portfolioAllocations=new Template("Template.portfolioAllocations",function(){var n=this;return[HTML.Raw("<h2>Allocations</h2>\n  "),HTML.DIV({"class":"list-box allocations"},"\n    ",HTML.DIV({"class":"inner extra-padding"},"\n      ",HTML.DIV({"class":"container"},"\n        ",HTML.DIV({"class":"row"},"\n          ",HTML.DIV({"class":"col col-xs-12"},"\n            ",HTML.DIV({"class":"half-info-card info-card"},"\n              ",HTML.Raw('<h3 class="title">Asset Class</h3>'),"\n              ",HTML.DIV({"class":"js-allocation-asset-class"},"\n                ",Blaze._TemplateWith(function(){return{source:Spacebars.call(n.lookup("assetClassSource"))}},function(){return Spacebars.include(n.lookupTemplate("allocationChart"))}),"\n              "),"\n              ",HTML.Raw('<div class="hover-info">\n                <p class="icon glyphicon glyphicon-info-sign"></p>\n                <p>Asset breakdown of the underlying securities of this portfolio.</p>\n              </div>'),"\n            "),"\n            ",HTML.DIV({"class":"half-info-card info-card"},"\n              ",HTML.Raw('<h3 class="title">Market Cap</h3>'),"\n              ",HTML.DIV({"class":"js-allocation-market-cap"},"\n                ",Blaze._TemplateWith(function(){return{source:Spacebars.call(n.lookup("marketCapSource"))}},function(){return Spacebars.include(n.lookupTemplate("allocationChart"))}),"\n              "),"\n              ",HTML.DIV({"class":"hover-info"},"\n                ",HTML.Raw('<p class="icon glyphicon glyphicon-tower"></p>'),"\n                ",HTML.P({"class":"js-overlay-caption"},Blaze.View("lookup:marketCapDescription",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("marketCapDescription")))})),"\n                ",HTML.Raw('<p class="caption">Non-stock holdings are shown as "unknown."</p>'),"\n              "),"\n            "),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"row"},"\n          ",HTML.DIV({"class":"col-xs-12"},"\n            ",HTML.DIV({"class":"half-info-card info-card"},"\n              ",HTML.Raw('<h3 class="title">Regional</h3>'),"\n              ",HTML.DIV({"class":"js-allocation-regional"},"\n                ",Blaze._TemplateWith(function(){return{source:Spacebars.call(n.lookup("regionalSource"))}},function(){return Spacebars.include(n.lookupTemplate("allocationChart"))}),"\n              "),"\n              ",HTML.DIV({"class":"hover-info"},"\n                ",HTML.Raw('<p class="icon glyphicon glyphicon-globe"></p>'),"\n                ",HTML.P({"class":"js-overlay-caption"},Blaze.View("lookup:regionalDescription",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("regionalDescription")))})),"\n                ",HTML.Raw('<p class="caption">Non-stock holdings and individual stocks are shown as "unknown."</p>'),"\n              "),"\n            "),"\n            ",HTML.DIV({"class":"half-info-card info-card"},"\n              ",HTML.Raw('<h3 class="title">Expenses</h3>'),"\n              ",HTML.DIV({"class":"js-allocation-expenses"},"\n                ",Blaze._TemplateWith(function(){return{source:Spacebars.call(n.lookup("expensesSource"))}},function(){return Spacebars.include(n.lookupTemplate("allocationChart"))}),"\n              "),"\n              ",HTML.Raw('<div class="hover-info">\n                <p class="icon mini-icon" data-icon="V"></p>\n                <p>Expense ratio breakdown of all holdings in this portfolio, compared to <em>24,000+</em> funds in our database.</p>\n                <p class="caption">Individual stocks incur no expenses.</p></div>'),"\n            "),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"row"},"\n          ",HTML.DIV({"class":"col-xs-12 sectors"},"\n            ",HTML.DIV({"class":"half-info-card info-card nmb"},"\n              ",HTML.Raw('<h3 class="title">Sector</h3>'),"\n              ",HTML.DIV({"class":"js-allocation-sector"},"\n                ",Blaze._TemplateWith(function(){return{source:Spacebars.call(n.lookup("sectorSource"))}},function(){return Spacebars.include(n.lookupTemplate("allocationChart"))}),"\n              "),"\n              ",HTML.DIV({"class":"js-allocation-sector-details"},"\n                ",HTML.TABLE({"class":"list sorttable"},"\n                  ",HTML.THEAD("\n                    ",HTML.TR("\n                      ",HTML.TH({"class":"name sorttable_alpha"},"\n                        ",HTML.A({"class":"button"},"\n                          ",HTML.SPAN({"class":"glyphicon glyphicon-sort"}),"\n                          Sector\n                        "),"\n                      "),"\n                      ",HTML.TH({"class":"tooltip-parent sorttable_none"},"\n                      "),"\n                      ",HTML.TH({"class":"value pf sorttable_numeric"},"\n                        ",HTML.A({"class":"button"},"\n                          ",HTML.SPAN({"class":"glyphicon glyphicon-sort"}),"\n                          Portfolio\n                        "),"\n                      "),"\n                      ",HTML.TH({"class":"value sp500 sorttable_numeric"},"\n                        ",HTML.A({"class":"button"},"\n                          ",HTML.SPAN({"class":"glyphicon glyphicon-sort"}),"\n                          S",HTML.CharRef({html:"&amp;",str:"&"}),"P 500\n                        "),"\n                      "),"\n                    "),"\n                  "),"\n                  ",HTML.TBODY("\n                    ",Blaze.Each(function(){return Spacebars.call(n.lookup("sectorRows"))},function(){return["\n                    ",HTML.TR({"class":function(){return Spacebars.mustache(n.lookup("kind"))}},"\n                      ",HTML.TD({"class":"name text-capitalize"},Blaze.View("lookup:label",function(){return Spacebars.mustache(n.lookup("label"))})),"\n                      ",HTML.TD({"class":"tooltip-parent"},"\n                        ",HTML.Comment('<span class="glyphicon glyphicon-question-sign info"\n                          data-toggle="popover" data-placement="top"\n                          title="{{label}}" data-content="{{description}}">\n                        </span>'),"\n                      "),"\n                      ",HTML.TD({"class":"value pf"},Blaze.View("lookup:portfolioWeightFormatted",function(){return Spacebars.mustache(n.lookup("portfolioWeightFormatted"))})),"\n                      ",HTML.TD({"class":"value sp500"},Blaze.View("lookup:benchmarkWeightFormatted",function(){return Spacebars.mustache(n.lookup("benchmarkWeightFormatted"))})),"\n                    "),"\n                    "]}),"\n                  "),"\n                "),"\n              "),"\n            "),"\n          "),"\n        "),"\n      "),"\n    "),"\n  ")]}),Template.__checkName("allocationChart"),Template.allocationChart=new Template("Template.allocationChart",function(){var n=this;return HTML.DIV({"class":"allocation piechart-wrapper"},"\n    ",HTML.DIV({"class":function(){return["js-allocations-piechart ",Spacebars.mustache(Spacebars.dot(n.lookup("source"),"kind"))," allocation-piechart"]}},"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("portfolioDividends"),Template.portfolioDividends=new Template("Template.portfolioDividends",function(){var a=this;return HTML.DIV({"class":"list-box portfolio-dividends js-yield"},HTML.Raw("\n    <h2>Metrics</h2>\n    "),HTML.DIV({"class":"inner extra-padding"},"\n      ",HTML.DIV({"class":"container highlights"},"\n        ",HTML.DIV({"class":function(){return["info-card ",Spacebars.mustache(a.lookup("classForQuintile"),Spacebars.dot(a.lookup("_instance"),"sharpeRatioIdx","get"))]}},"\n          ",Blaze._TemplateWith(function(){return{labelFormatted:Spacebars.call(a.lookup("_sharpeLabel")),valueFormatted:Spacebars.call(a.lookup("_sharpeValueFormatted")),activeIdx:Spacebars.call(Spacebars.dot(a.lookup("_instance"),"sharpeRatioIdx","get"))}},function(){return Spacebars.include(a.lookupTemplate("highlightCard"))}),"\n          ",HTML.DIV({"class":"hover-info"},"\n            ",Blaze.If(function(){return Spacebars.call(a.lookup("_isPeriodTooShort"))},function(){return"\n              Sharpe ratio is available when portfolio has 3Y+ history.\n            "},function(){return["\n              ",Blaze.View("lookup:_periodFormatted",function(){return Spacebars.mustache(a.lookup("_periodFormatted"))})," risk-adjusted returns is\n              ",HTML.SPAN({"class":"colorcode"},Blaze.View("lookup:labelForQuintile",function(){return Spacebars.mustache(a.lookup("labelForQuintile"),Spacebars.dot(a.lookup("_instance"),"sharpeRatioIdx","get"))})),"\n              compared to all US funds.\n            "]}),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":function(){return["info-card ",Spacebars.mustache(a.lookup("classForQuintile"),Spacebars.dot(a.lookup("_instance"),"dividendYieldIdx","get"))]}},"\n          ",Blaze._TemplateWith(function(){return{labelFormatted:Spacebars.call("Current Yield"),valueFormatted:Spacebars.call(Spacebars.dataMustache(a.lookup("formatPercent"),Spacebars.dot(a.lookup("_instance"),"dividendYield","get"))),activeIdx:Spacebars.call(Spacebars.dot(a.lookup("_instance"),"dividendYieldIdx","get"))}},function(){return Spacebars.include(a.lookupTemplate("highlightCard"))}),"\n          ",HTML.DIV({"class":"hover-info"},"\n            Portfolio 1Y yield is\n            ",HTML.SPAN({"class":"colorcode"},Blaze.View("lookup:labelForQuintile",function(){return Spacebars.mustache(a.lookup("labelForQuintile"),Spacebars.dot(a.lookup("_instance"),"dividendYieldIdx","get"))})),"\n            compared to all US funds.\n          "),"\n        "),"\n        ",HTML.DIV({"class":"info-card"},"\n          ",HTML.Raw("<h3>1Y Dividends</h3>"),"\n          ",HTML.P({"class":"value"},Blaze.View("lookup:formatDollars",function(){return Spacebars.mustache(a.lookup("formatDollars"),Spacebars.dot(a.lookup("_instance"),"dividendAmount","get"))})),"\n          ",HTML.P({"class":"caption"},"For ",Blaze.View("lookup:formatDollars",function(){return Spacebars.mustache(a.lookup("formatDollars"),Spacebars.dot(a.lookup("_instance"),"portfolioAmount","get"))}),HTML.Raw('<span class="tight-hidden hidden-xs">&nbsp;portfolio</span>')),"\n          ",HTML.DIV({"class":"hover-info"},"\n            From ",HTML.SPAN({"class":"one-year-ago"},Blaze.View("lookup:_oneYearAgo",function(){return Spacebars.mustache(a.lookup("_oneYearAgo"))}))," to today\n          "),"\n        "),"\n      "),"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("portfolioHoldingsEditorByGroup"),Template.portfolioHoldingsEditorByGroup=new Template("Template.portfolioHoldingsEditorByGroup",function(){var e=this;return[Spacebars.With(function(){return{portfolio:Spacebars.call(e.lookup("getPortfolio"))}},function(){return["\n    ",HTML.DIV({"class":function(){return["holding-groups-header ",Blaze.Unless(function(){return Spacebars.call(e.lookup("groupCount"))},function(){return"hidden"})]}},"\n      ",HTML.DIV({"class":"holding-groups-header-summary"},"\n        ",HTML.INPUT({type:"checkbox","class":"js-holding-groups-header-checkbox holding-groups-header-checkbox"}),"\n        ",HTML.H2({"class":"holding-groups-header-title"},Blaze.View("lookup:pluralize",function(){return Spacebars.mustache(e.lookup("pluralize"),"Account",e.lookup("groupCount"))})),"\n        ",HTML.DIV({"class":"holding-groups-header-right pull-right"},"\n          ",HTML.Comment(" {{> portfolioCountryBadge country=_country}} "),"\n          ",Blaze.If(function(){return Spacebars.call(e.lookup("isAmountVisibleOrMine"))},function(){return["\n            ",HTML.SPAN({"class":"holding-groups-header-amount"},Blaze.View("lookup:totalAmountFormatted",function(){return Spacebars.mustache(e.lookup("totalAmountFormatted"))})),"\n          "]}),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"holding-groups-header-controls"},"\n        ",Blaze._TemplateWith(function(){return{country:Spacebars.call(e.lookup("_country"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioCountrySelector"))}),"\n        ",HTML.DIV({"class":function(){return["btn-group holding-groups-weight-lock pull-right ",Blaze.Unless(function(){return Spacebars.call(e.lookup("portfolioIsMine"))},function(){return"hidden"})]}},"\n          ",HTML.BUTTON({type:"button","class":function(){return["js-weight-lock btn btn-sm btn-default active btn-lock ",Blaze.Unless(function(){return Spacebars.call(e.lookup("isAmountVisible"))},function(){return"hidden"})]},title:"Dollar amount is visible to others"},HTML.I({"class":"glyphicon glyphicon-eye-open"})),"\n          ",HTML.BUTTON({type:"button","class":function(){return["js-weight-lock btn btn-sm btn-default active btn-lock ",Blaze.If(function(){return Spacebars.call(e.lookup("isAmountVisible"))},function(){return"hidden"})]},title:"Dollar amount is hidden to others"},HTML.I({"class":"glyphicon glyphicon-eye-close"})),"\n        "),"\n      "),"\n      ",HTML.Comment(" place holder "),"\n      ",HTML.DIV({style:"clear: both;"}),"\n    "),"\n  "]}),"\n  ",Blaze.Each(function(){return Spacebars.call(e.lookup("holdingsByGroup"))},function(){return["\n    ",Blaze._TemplateWith(function(){return{portfolio:Spacebars.call(e.lookup("portfolio")),groupId:Spacebars.call(e.lookup("groupId")),holdings:Spacebars.call(e.lookup("holdings")),period:Spacebars.call(e.lookup("period")),globalWeightType:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"globalWeightType"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioHoldingsEditor"))}),"\n  "]}),"\n  ",HTML.DIV({"class":"holding-groups-footer"},"\n    ",Spacebars.With(function(){return{portfolio:Spacebars.call(e.lookup("getPortfolio"))}},function(){return["\n      ",HTML.DIV({"class":"holding-groups-footer-left pull-left"},"\n        ",HTML.BUTTON({type:"button","class":function(){return["js-upload-csv btn btn-default hidden-xs ",Spacebars.mustache(e.lookup("disabledIfTotal3"))]}},"Upload CSV"),"\n        ",HTML.BUTTON({type:"button","class":function(){return["js-download-csv btn btn-default ",Spacebars.mustache(e.lookup("disabledIfNoHolding"))]}},"Download CSV"),"\n      "),"\n      ",HTML.DIV({"class":"holding-groups-footer-right pull-right"},"\n          ",HTML.BUTTON({type:"button","class":function(){return["js-add-group holdings-add-group-button btn btn-primary ",Spacebars.mustache(e.lookup("disabledIfTotal3"))]}},"Add Account"),"\n          ",HTML.P({"class":"max-accounts"},"Up to 3 accounts supported"),"\n      "),"\n    "]}),"\n    ",HTML.Raw("<!-- place holder -->"),"\n    ",HTML.Raw('<div style="clear: both;"></div>'),"\n  ")]}),Template.__checkName("portfolioHoldingsEditor"),Template.portfolioHoldingsEditor=new Template("Template.portfolioHoldingsEditor",function(){var e=this;return HTML.DIV({"class":function(){return["js-holdings-editor holdings-wrapper ",Blaze.If(function(){return Spacebars.call(e.lookup("holdingGroupChecked"))},function(){return"active"})]},"data-group-id":function(){return Spacebars.mustache(e.lookup("groupId"))}},"\n    ",HTML.DIV({"class":"list-box holding-list"},"\n      ",HTML.H3("\n        ",HTML.INPUT(HTML.Attrs({type:"checkbox","class":"js-holding-group-checkbox holding-group-checkbox"},function(){return Spacebars.attrMustache(e.lookup("holdingGroupChecked"))})),"\n        ",HTML.SPAN({"class":"holding-group-name-editable js-holding-group-name-editable"},"\n          ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("_instance"),"holdingGroupNameEditing","get"))},function(){return["\n            ",HTML.DIV({"class":"form-group"},"\n              ",HTML.INPUT({type:"text","class":"form-control js-holding-group-name-editable-input press-enter"}),"\n              ",HTML.SPAN({"class":"hint-block"},"Press Enter"),"\n            "),"\n          "]},function(){return["\n            ",Blaze.View("lookup:holdingGroupName",function(){return Spacebars.mustache(e.lookup("holdingGroupName"))}),"\n          "]}),"\n        "),"\n        ",HTML.Raw("&nbsp;"),HTML.SPAN({"class":"badge"},Blaze.View("lookup:holdingsCount",function(){return Spacebars.mustache(e.lookup("holdingsCount"))})),"\n        ",HTML.DIV({"class":function(){return["js-weight-buttons weight-type btn-group pull-right ",Blaze.Unless(function(){return Spacebars.call(e.lookup("isAmountVisibleOrMine"))},function(){return"hidden"})]}},"\n          ",HTML.DIV({"class":function(){return["js-weight-type btn btn-default ",Blaze.If(function(){return Spacebars.call(e.lookup("typeIsWeight"))},function(){return"active"})]},"data-type":"%",title:"Weight in %"},HTML.Raw('<span class="icon">%</span>')),"\n          ",HTML.DIV({"class":function(){return["js-weight-type btn btn-default ",Blaze.Unless(function(){return Spacebars.call(e.lookup("typeIsWeight"))},function(){return"active"})]},"data-type":"$",title:"Weight in $"},HTML.Raw('<span class="icon">$</span>')),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"inner"},"\n        ",HTML.DIV({"class":"portfolio-holdings"},"\n          ",Blaze._TemplateWith(function(){return{portfolio:Spacebars.call(e.lookup("portfolio")),holdings:Spacebars.call(e.lookup("holdings")),weightType:Spacebars.call(e.lookup("weightType")),period:Spacebars.call(e.lookup("period")),groupId:Spacebars.call(e.lookup("groupId"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioHoldings"))}),"\n        "),"\n      "),"\n    "),"\n  ")}),Template.__checkName("portfolioHoldings"),Template.portfolioHoldings=new Template("Template.portfolioHoldings",function(){var e=this;return HTML.UL({"class":"js-holdings-list list",style:"position: relative;","data-touched-at":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("doc"),"touchedAt"))}},"\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("_instance"),"isAddingPlaceholder","get"))},function(){return["\n      ",Blaze._TemplateWith(function(){return{weightType:Spacebars.call(e.lookup("weightType")),portfolio:Spacebars.call(e.lookup("portfolio")),groupId:Spacebars.call(e.lookup("groupId")),isAddingPlaceholder:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"isAddingPlaceholder"))}},function(){return Spacebars.include(e.lookupTemplate("addPlaceholderHolding"))}),"\n    "]},function(){return["\n      ",Blaze._TemplateWith(function(){return{searchedHolding:Spacebars.call(Spacebars.dot(e.lookup("_instance"),"searchedHolding")),weightType:Spacebars.call(e.lookup("weightType")),portfolio:Spacebars.call(e.lookup("portfolio")),groupId:Spacebars.call(e.lookup("groupId"))}},function(){return Spacebars.include(e.lookupTemplate("addHoldingTypeahead"))}),"\n    "]}),"\n\n    ",HTML.LI({"class":"header"},"\n      ",HTML.Raw('<div class="col ticker"><h6>Symbol</h6></div>'),"\n      ",HTML.Raw('<div class="col name"><h6>Name</h6></div>'),"\n      ",HTML.Raw('<div class="col delete"><h6>&nbsp;</h6></div>'),"\n      ",HTML.DIV({"class":"col weight"},HTML.H6(Blaze.View("lookup:weightLabel",function(){return Spacebars.mustache(e.lookup("weightLabel"))}))),"\n    "),"\n\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("coloredHoldingsDetails"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("holdingItem")),"\n    "]}),"\n    ",HTML.LI({"class":"item total"},"\n      ",HTML.DIV({"class":"col ticker text-center"},"\n        ",Blaze._TemplateWith(function(){return{minify:Spacebars.call(!0),chartData:Spacebars.call(e.lookup("piechartData"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioPiechart"))}),"\n      "),"\n      ",HTML.DIV({"class":"col name"},"\n        ",HTML.H3({"class":"holding-group-name"},Blaze.View("lookup:holdingsGroupName",function(){return Spacebars.mustache(e.lookup("holdingsGroupName"))})),"\n        ",HTML.H3({"class":"holding-group-percentage"},Blaze.View("lookup:holdingsGroupAmountRatio",function(){return Spacebars.mustache(e.lookup("holdingsGroupAmountRatio"))})," of portfolio"),"\n      "),"\n      ",HTML.DIV({"class":"col weight"},"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("isPercentWeight"))},function(){return["\n          ",HTML.P({"class":"js-total"},Blaze.View("lookup:totalWeightFormatted",function(){return Spacebars.mustache(e.lookup("totalWeightFormatted"))})),"\n        "]},function(){return["\n          ",HTML.P({"class":"js-total-amount total-amount"},Blaze.View("lookup:totalAmountFormatted",function(){return Spacebars.mustache(e.lookup("totalAmountFormatted"))})),"\n        "]}),"\n        ",HTML.Raw('<div class="form-group js-total-input" style="display: none;">\n          <input type="text" class="input-tight form-control">\n        </div>'),"\n      "),"\n    "),"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("feeAdded"))},function(){return["\n    ",HTML.LI({"class":"item fee"},"\n      ",HTML.DIV({"class":"col ticker text-center"},"\n        ",HTML.SPAN({"class":"fee-title"},HTML.SPAN({"class":"mini-icon","data-icon":"V"})," Fee"),"\n      "),"\n      ",HTML.DIV({"class":"col name"},"\n        ",HTML.SPAN({"class":"fee-name"},Blaze.View("lookup:feeName",function(){return Spacebars.mustache(e.lookup("feeName"))})),"\n      "),"\n      ",HTML.DIV({"class":"col weight"},"\n        ",HTML.SPAN({"class":"fee-ratio"},Blaze.View("lookup:feeRatioFormatted",function(){return Spacebars.mustache(e.lookup("feeRatioFormatted"))})),"\n      "),"\n    "),"\n    "]}),"\n    ",HTML.LI({"class":"actions"},"\n      ",HTML.Raw('<div class="col delete">\n        <div class="js-delete-group btn btn-default btn-sm" title="Delete Group"><span class="glyphicon glyphicon-remove"></span><span class="btn-text">Delete Account</span></div>\n      </div>'),"\n      ",HTML.DIV({"class":"action-group bottom pull-right"},"\n        ",HTML.BUTTON({type:"button","class":"btn btn-default btn-sm js-add-fee"},HTML.Raw('<span class="mini-icon" data-icon="V"></span>'),HTML.SPAN({"class":"btn-text"},Blaze.If(function(){return Spacebars.call(e.lookup("feeAdded"))},function(){return"Edit"},function(){return"Add"})," Fee")),"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("isPercentWeight"))},function(){return["\n        ",HTML.A({href:"#","class":function(){return["js-normalize btn btn-default btn-sm ",Spacebars.mustache(e.lookup("disabledIf100Percent"))]}},"\n          ",HTML.SPAN({"class":"glyphicon glyphicon-ok"}),"\n          ",HTML.SPAN({"class":"btn-text",title:"Make It 100%"},"Make It 100%"),"\n        "),"\n        "]},function(){return["\n        ",HTML.A({href:"#","class":function(){return["js-set-total-btn btn btn-default btn-sm ",Spacebars.mustache(e.lookup("disabledIfNoHolding"))]}},"\n          ",HTML.SPAN({"class":"glyphicon glyphicon-ok"}),"\n          ",HTML.SPAN({"class":"btn-text",title:"Set Total"},"Set Total"),"\n        "),"\n        "]}),"\n      "),"\n    "),"\n  ")}),Template.__checkName("holdingItem"),Template.holdingItem=new Template("Template.holdingItem",function(){var e=this;return HTML.LI({"class":function(){return["item ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("turnedOff"),e.lookup("holding"))},function(){return"turned-off"})]}},"\n    ",HTML.DIV({"class":"js-holding-item summary","data-holding":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("holding"),"symbol"))}},"\n      ",Blaze._TemplateWith(function(){return{holding:Spacebars.call(e.lookup("holding")),portfolio:Spacebars.call(e.lookup("portfolio"))}},function(){return Spacebars.include(e.lookupTemplate("holdingName"))}),"\n      ",HTML.DIV({"class":"col weight"},"\n        ",HTML.DIV({"class":function(){return["input-with-icon tight ",Blaze.If(function(){return Spacebars.call(e.lookup("isWeightPercent"))},function(){return"right-icon"},function(){return"left-icon"})]}},"\n          ",Blaze._TemplateWith(function(){return{schema:Spacebars.call("HoldingValidationSchema"),isWeightPercent:Spacebars.call(e.lookup("isWeightPercent")),data:Spacebars.call(e.lookup("holding")),doc:Spacebars.call(e.lookup("portfolio")),weightType:Spacebars.call(e.lookup("weightType")),action:Spacebars.call(e.lookup("updateHolding")),status:Spacebars.call(e.lookup("holdingStatus"))}},function(){return Spacebars.include(e.lookupTemplate("simpleForm"),function(){return["\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("isWeightPercent"))},function(){return["\n              ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup("data")),field:Spacebars.call("weight"),"class":Spacebars.call("js-weight input-tight press-enter"),hint:Spacebars.call("Press Enter")}},function(){return Spacebars.include(e.lookupTemplate("transformInput"))}),"\n            "]},function(){return["\n              ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup("data")),field:Spacebars.call("amount"),"class":Spacebars.call("js-amount input-tight press-enter"),hint:Spacebars.call("Press Enter")}},function(){return Spacebars.include(e.lookupTemplate("transformInput"))}),"\n            "]}),"\n          "]})}),"\n          ",HTML.SPAN({"class":"icon"},Blaze.View("lookup:weightUnit",function(){return Spacebars.mustache(e.lookup("weightUnit"))})),"\n        "),"\n      "),"\n      ",HTML.Raw("<!-- placeholder -->"),"\n      ",HTML.Raw('<div style="clear:both;"></div>'),"\n    "),"\n    ",Spacebars.include(e.lookupTemplate("holdingDetails")),"\n  ")}),Template.__checkName("holdingName"),Template.holdingName=new Template("Template.holdingName",function(){var e=this;return[HTML.DIV({"class":"col ticker"},"\n    ",HTML.H3({"class":function(){return["label label-default symbol ",Blaze.If(function(){return Spacebars.call(e.lookup("isCustomHolding"))},function(){return"custom"})]},style:function(){return["background: ",Spacebars.mustache(Spacebars.dot(e.lookup("holding"),"symbolColor")),";"]}},Blaze.Unless(function(){return Spacebars.call(e.lookup("isCustomHolding"))},function(){return Blaze.View("lookup:holding.symbol",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("holding"),"symbol"))})},function(){return Blaze.View("lookup:holding.asset_class",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("holding"),"asset_class"))})})),"\n  "),"\n  ",HTML.DIV({"class":"col name"},"\n    ",HTML.H3(Blaze.View("lookup:holding.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("holding"),"name"))})," ",Blaze.If(function(){return Spacebars.call(e.lookup("isBelowZeroInterest"))},function(){return HTML.SPAN({"class":"label label-default label-align"},"DEBT")})),"\n  "),HTML.Raw('\n  <div class="col delete">\n    <div class="js-delete btn btn-default btn-sm" title="Delete Holding"><span class="glyphicon glyphicon-remove"></span></div>\n  </div>')]}),Template.__checkName("holdingDetails"),Template.holdingDetails=new Template("Template.holdingDetails",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("holdingDetails"))},function(){return["\n  ",Spacebars.With(function(){return{holding:Spacebars.call(e.lookup("holdingDetails")),period:Spacebars.call(e.lookup("period"))}},function(){return["\n  ",HTML.DIV({"class":"js-holding-details hidden details"},"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("isCustomHolding"))},function(){return["\n      ",HTML.DIV({"class":"row content"},"\n        ",HTML.DIV({"class":"js-returns metric returns col-xs-4"},"\n          ",HTML.H6(HTML.SPAN({"class":"hidden-xs"},"Annual "),"Interest"),"\n          ",HTML.P({"class":"value"},Blaze.View("lookup:highlightPercent",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("highlightPercent"),Spacebars.dot(e.lookup("holding"),"interest")))})),"\n          ",Blaze._TemplateWith(function(){return{activeIdx:Spacebars.call(e.lookup("returnsIdx"))}},function(){return Spacebars.include(e.lookupTemplate("widgetPills"))}),"\n        "),"\n        ",HTML.DIV({"class":"js-returns metric returns col-xs-4"},"\n          ",HTML.H6(Blaze.View("lookup:periodUpperCase",function(){return Spacebars.mustache(e.lookup("periodUpperCase"))})," ",Blaze.Unless(function(){return Spacebars.call(e.lookup("isYtd"))},function(){return HTML.SPAN({"class":"hidden-xs"},"Annual ")}),"Interest"),"\n          ",HTML.P({"class":"value"},Blaze.View("lookup:highlightPercent",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("highlightPercent"),e.lookup("returns")))})),"\n          ",Blaze._TemplateWith(function(){return{activeIdx:Spacebars.call(e.lookup("returnsIdx"))}},function(){return Spacebars.include(e.lookupTemplate("widgetPills"))}),"\n        "),"\n      "),"\n    "]},function(){return["\n      ",HTML.DIV({"class":"row content"},"\n        ",HTML.DIV({"class":"js-returns metric returns col-xs-4"},"\n          ",HTML.H6(Blaze.View("lookup:periodUpperCase",function(){return Spacebars.mustache(e.lookup("periodUpperCase"))})," Returns"),"\n          ",HTML.P({"class":"value"},Blaze.View("lookup:highlightPercent",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("highlightPercent"),e.lookup("returns")))})),"\n          ",Blaze._TemplateWith(function(){return{activeIdx:Spacebars.call(e.lookup("returnsIdx"))}},function(){return Spacebars.include(e.lookupTemplate("widgetPills"))}),"\n        "),"\n        ",HTML.DIV({"class":"js-risk metric risk col-xs-4"},"\n          ",HTML.H6(Blaze.View("lookup:periodUpperCase",function(){return Spacebars.mustache(e.lookup("periodUpperCase"))})," Risk"),"\n          ",Blaze.Unless(function(){return Spacebars.call(e.lookup("isYtd"))},function(){return["\n            ",HTML.P({"class":"value"},Blaze.View("lookup:highlightPercent",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("highlightPercent"),e.lookup("risk")))})),"\n            ",Blaze._TemplateWith(function(){return{activeIdx:Spacebars.call(e.lookup("riskIdx")),reverse:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("widgetPills"))}),"\n          "]},function(){return["\n            ",HTML.P({"class":"value"},HTML.DIV({"class":"no-history"},"N/A")),"\n            ",Spacebars.include(e.lookupTemplate("widgetPills")),"\n          "]}),"\n        "),"\n        ",HTML.DIV({"class":"js-expenses metric expenses col-xs-4"},"\n          ",HTML.H6("Expenses"),"\n          ",HTML.P({"class":"value"},Blaze.View("lookup:highlightPercent",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("highlightPercent"),e.lookup("expenses")))})),"\n          ",Blaze._TemplateWith(function(){return{activeIdx:Spacebars.call(e.lookup("expensesIdx")),reverse:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("widgetPills"))}),"\n        "),"\n      "),"\n\n      ",HTML.DIV({"class":"row content"},"\n        ",HTML.DIV({"class":"metric yield col-xs-4"},"\n          ",HTML.H6("1Y Yield"),"\n          ",HTML.P({"class":"value"},Blaze.View("lookup:formatPercent",function(){return Spacebars.mustache(e.lookup("formatPercent"),e.lookup("dividendYield"))})),"\n          ",Blaze._TemplateWith(function(){return{activeIdx:Spacebars.call(e.lookup("dividendYieldIdx"))}},function(){return Spacebars.include(e.lookupTemplate("widgetPills"))}),"\n        "),"\n        ",HTML.DIV({"class":"metric history col-xs-8"},"\n          ",HTML.H6("History"),"\n          ",HTML.P({"class":"value"},Blaze.View("lookup:availableYears",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("availableYears")))})),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"row content"},"\n        ",Spacebars.With(function(){return{info:Spacebars.call(e.lookup("getCategoryOrSector"))}},function(){return["\n          ",HTML.DIV({"class":"sub-metric category col-xs-12"},"\n            ",HTML.H6(Blaze.View("lookup:info.label",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("info"),"label"))})),"\n            ",HTML.P({"class":"value text-capitalize"},Blaze.View("lookup:info.data",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("info"),"data"))})),"\n          "),"\n        "]}),"\n      "),"\n    "]}),"\n  "),"\n  "]}),"\n  "]})}),Template.__checkName("setTotalModal"),Template.setTotalModal=new Template("Template.setTotalModal",function(){var e=this;return HTML.DIV({"class":"modal fade set-total js-set-total-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},"\n    ",HTML.DIV({"class":"modal-dialog"},"\n      ",HTML.DIV({"class":"modal-content"},"\n        ",HTML.Raw('<div class="modal-nav">\n          <span class="glyphicon glyphicon-remove-circle btn btn-close close" title="Close" data-dismiss="modal"></span>\n          <h2 class="title">Set Total Amount</h2>\n          <div class="stripe"><div class="left"></div><div class="right"></div></div>\n        </div>'),"\n        ",HTML.DIV({"class":"modal-body"},"\n          ",Blaze._TemplateWith(function(){return{schema:Spacebars.call("PortfolioTotal"),"class":Spacebars.call("js-set-total-form"),action:Spacebars.call(e.lookup("setTotal")),doc:Spacebars.call(e.lookup("portfolio"))}},function(){return Spacebars.include(e.lookupTemplate("simpleForm"),function(){return["\n            ",HTML.DIV({"class":"input-fields"},"\n              ",HTML.FIELDSET("\n                ",Blaze._TemplateWith(function(){return{field:Spacebars.call("total"),"class":Spacebars.call("js-total-input input-lg total-input"),hint:Spacebars.call("Set total amount for the portfolio, and we'll calculate each holding amount for you."),placeholder:Spacebars.call("10,000 or 10K")}},function(){return Spacebars.include(e.lookupTemplate("simpleInput"))}),"\n              "),"\n            "),"\n            ",HTML.DIV({"class":"actions"},"\n              ",HTML.BUTTON({type:"submit","class":"btn btn-primary btn-lg pull-right"},"Set"),"\n              ",HTML.A({"class":"cancel pull-right desktop","data-dismiss":"modal"},"Cancel"),"\n            "),"\n          "]})}),"\n        "),"\n      "),"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("portfolioExtraInfo"),Template.portfolioExtraInfo=new Template("Template.portfolioExtraInfo",function(){var o=this;return HTML.DIV({"class":"portfolio-extra-info"},"\n    ",Blaze._TemplateWith(function(){return{portfolio:Spacebars.call(o.lookup("portfolio"))}},function(){return Spacebars.include(o.lookupTemplate("portfolioTextSummary"))}),"\n    ",Blaze._TemplateWith(function(){return{portfolio:Spacebars.call(o.lookup("portfolio"))}},function(){return Spacebars.include(o.lookupTemplate("portfolioSummaryTags"))}),"\n    ",Blaze._TemplateWith(function(){return{securitySource:Spacebars.call(o.lookup("securitySource"))}},function(){return Spacebars.include(o.lookupTemplate("portfolioRelatedLinks"))}),"\n  ")}),Template.__checkName("portfolioTextSummary"),Template.portfolioTextSummary=new Template("Template.portfolioTextSummary",function(){var o=this;return[HTML.Raw("<h3>Portfolio Summary</h3>\n  "),HTML.P({"class":"portfolio-extra-info-content"},"\n    ",Blaze.View("lookup:_summary",function(){return Spacebars.mustache(o.lookup("_summary"))}),"\n  ")]}),Template.__checkName("portfolioSummaryTags"),Template.portfolioSummaryTags=new Template("Template.portfolioSummaryTags",function(){var o=this;return Blaze.If(function(){return Spacebars.call(Spacebars.dot(o.lookup("_tags"),"length"))},function(){return["\n    ",HTML.H3("Tags"),"\n    ",HTML.DIV({"class":"portfolio-summary-tags portfolio-extra-info-content"},"\n      ",Blaze.Each(function(){return Spacebars.call(o.lookup("_tags"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(o.lookup("_tagUrl"),o.lookup("."))}},"\n          ",HTML.SPAN({"class":"label portfolio-summary-tag"},Blaze.View("lookup:.",function(){return Spacebars.mustache(o.lookup("."))})),"\n        "),"\n      "]}),"\n    "),"\n  "]})}),Template.__checkName("portfolioRelatedLinks"),Template.portfolioRelatedLinks=new Template("Template.portfolioRelatedLinks",function(){var o=this;return Blaze.If(function(){return Spacebars.call(o.lookup("relatedLinksExist"))},function(){return["\n    ",HTML.H3("You may also like..."),"\n    ",Blaze._TemplateWith(function(){return{links:Spacebars.call(o.lookup("visibleLinks"))}},function(){return Spacebars.include(o.lookupTemplate("portfolioLinks"))}),"\n\n    ",Blaze.If(function(){return Spacebars.call(o.lookup("showMore"))},function(){return["\n      ",HTML.DIV("\n        ",Blaze._TemplateWith(function(){return{links:Spacebars.call(o.lookup("moreLinks"))}},function(){return Spacebars.include(o.lookupTemplate("portfolioLinks"))}),"\n      "),"\n      ",HTML.DIV({"class":"js-toggle btn btn-default related-portfolios-toggle"},"Show Less"),"\n    "]},function(){return["\n      ",HTML.DIV({style:"display: none;"},"\n        ",Blaze._TemplateWith(function(){return{links:Spacebars.call(o.lookup("moreLinks"))}},function(){return Spacebars.include(o.lookupTemplate("portfolioLinks"))}),"\n      "),"\n      ",HTML.DIV({"class":"js-toggle btn btn-default related-portfolios-toggle"},"More Portfolios"),"\n    "]}),"\n  "]})}),Template.__checkName("portfolioLinks"),Template.portfolioLinks=new Template("Template.portfolioLinks",function(){var o=this;return HTML.UL({"class":"related-portfolios-list"},"\n    ",Blaze.Each(function(){return Spacebars.call(o.lookup("links"))},function(){return["\n      ",HTML.LI({"class":"related-portfolios-item js-related-portfolio-link"},"\n        ",HTML.A({href:function(){return Spacebars.mustache(o.lookup("url"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(o.lookup("name"))})),"\n      "),"\n    "]}),"\n  ")})}).call(this);

(function(){Template.__checkName("portfolioNameDescription"),Template.portfolioNameDescription=new Template("Template.portfolioNameDescription",function(){var e=this;return[HTML.Raw("<!-- also see widgets.html -->\n  "),HTML.DIV({"class":function(){return["name-description ",Spacebars.mustache(e.lookup("portfolioIsMine"))]}},"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("portfolioIsMine"))},function(){return["\n    ",HTML.DIV({"class":"hflush yours"},"\n      ",HTML.SPAN({"class":"label label-default label-lg"},"YOURS"),"\n    "),"\n    "]}),"\n    ",Blaze.Unless(function(){return Spacebars.call(e.lookup("viewModeClicked"))},function(){return["\n      ",HTML.DIV({"class":"viewmode"},"\n        ",HTML.H1(Blaze.View("lookup:portfolio.reactiveName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("portfolio"),"reactiveName"))})),"\n        ",HTML.P({"class":"portfolio-description"},Spacebars.include(e.lookupTemplate("markdownWithCleanLink"),function(){return Blaze.View("lookup:portfolio.reactiveDescription",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("portfolio"),"reactiveDescription"))})})),"\n      "),"\n    "]},function(){return["\n      ",HTML.DIV({"class":"editmode"},"\n        ",Blaze._TemplateWith(function(){return{collection:Spacebars.call("Portfolios"),"class":Spacebars.call("js-pf-name-desc-form"),action:Spacebars.call(e.lookup("edit")),data:Spacebars.call(e.lookup("data")),doc:Spacebars.call(e.lookup("portfolio")),root:Spacebars.call(e.lookup("root")),status:Spacebars.call(e.lookup("nameDescriptionFormStatus"))}},function(){return Spacebars.include(e.lookupTemplate("simpleForm"),function(){return["\n          ",Blaze._TemplateWith(function(){return{field:Spacebars.call("name"),"class":Spacebars.call("input-lg name js-portfolio-fields")}},function(){return Spacebars.include(e.lookupTemplate("simpleInput"))}),"\n          ",Blaze._TemplateWith(function(){return{field:Spacebars.call("description"),"class":Spacebars.call("description js-portfolio-fields"),rows:Spacebars.call("3"),hint:Spacebars.call("Make it specific. Hit enter after editing.")}},function(){return Spacebars.include(e.lookupTemplate("simpleInput"))}),"\n        "]})}),"\n      "),"\n    "]}),"\n  ")]}),Template.__checkName("portfolioEditButtons"),Template.portfolioEditButtons=new Template("Template.portfolioEditButtons",function(){var e=this;return HTML.DIV({"class":"btn-group shortcuts"},"\n    ",HTML.DIV({"class":function(){return["js-increase-returns btn btn-default btn-sm ",Spacebars.mustache(e.lookup("disabledIfNotPossible"))]}},"More Returns"),"\n    ",HTML.DIV({"class":function(){return["js-decrease-risk btn btn-default btn-sm ",Spacebars.mustache(e.lookup("disabledIfNotPossible"))]}},"Less Risk"),"\n    ",HTML.DIV({"class":function(){return["js-equal-amounts btn btn-default btn-sm ",Spacebars.mustache(e.lookup("disabledIfNotPossibleForEqualAmounts"))]}},"Equal $ Amounts"),HTML.Raw('\n    <div class="js-reset-holdings btn btn-default btn-sm">Reset</div>\n  '))})}).call(this);

(function(){Template.__checkName("portfolioSaveModal"),Template.portfolioSaveModal=new Template("Template.portfolioSaveModal",function(){var a=this;return HTML.DIV({"class":"modal fade save-as js-portfolio-save-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},"\n    ",HTML.DIV({"class":"modal-dialog"},"\n      ",HTML.DIV({"class":"modal-content"},"\n        ",HTML.Raw('<div class="modal-nav">\n          <h2 class="loading-title">Creating Portfolio...</h2>\n          <span class="glyphicon glyphicon-remove-circle btn btn-close close" title="Close" data-dismiss="modal"></span>\n          <h2 class="title">Create <span class="hidden-xs">New </span>Portfolio</h2>\n          <div class="stripe"><div class="left"></div><div class="right"></div></div>\n        </div>'),"\n        ",HTML.DIV({"class":"modal-body"},"\n          ",Blaze._TemplateWith(function(){return{collection:Spacebars.call("Portfolios"),"class":Spacebars.call("js-save-form"),action:Spacebars.call(a.lookup("save")),status:Spacebars.call(a.lookup("formStatus"))}},function(){return Spacebars.include(a.lookupTemplate("simpleForm"),function(){return["\n            ",HTML.DIV({"class":"input-fields"},"\n              ",HTML.FIELDSET("\n                ",Blaze._TemplateWith(function(){return{field:Spacebars.call("name"),"class":Spacebars.call("input-lg"),hint:Spacebars.call("Max 40 characters")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n                ",Blaze._TemplateWith(function(){return{field:Spacebars.call("description"),rows:Spacebars.call(3),placeholder:Spacebars.call("Leave a note about your age, goals, and questions here."),hint:Spacebars.call("Max 400 characters")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n              "),"\n            "),"\n            ",HTML.DIV({"class":"actions"},"\n              ",Blaze._TemplateWith(function(){return{"class":Spacebars.call("weight-option pull-left padded"),btnClass:Spacebars.call("btn-sm")}},function(){return Spacebars.include(a.lookupTemplate("amountVisibilityOptionButtons"))}),"\n\n              ",HTML.BUTTON({type:"submit","class":function(){return["js-save-btn btn btn-primary btn-lg pull-right ",Blaze.Unless(function(){return Spacebars.call(a.lookup("isFormValid"))},function(){return"disabled"})]}},"Create"),"\n              ",HTML.A({"class":"cancel pull-right desktop","data-dismiss":"modal"},"Cancel"),"\n            "),"\n          "]})}),"\n\n          ",Spacebars.include(a.lookupTemplate("loadingAnimation")),"\n        "),"\n      "),"\n    "),"\n  ")}),Template.__checkName("portfolioSaveAsModal"),Template.portfolioSaveAsModal=new Template("Template.portfolioSaveAsModal",function(){var a=this;return HTML.DIV({"class":"modal fade save-as js-portfolio-save-as-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},"\n    ",HTML.DIV({"class":"modal-dialog"},"\n      ",HTML.DIV({"class":"modal-content"},"\n        ",HTML.Raw('<div class="modal-nav">\n          <h2 class="loading-title">Creating Portfolio...</h2>\n          <span class="glyphicon glyphicon-remove-circle btn btn-close close" title="Close" data-dismiss="modal"></span>\n          <h2 class="title">Save Portfolio As...</h2>\n          <div class="stripe"><div class="left"></div><div class="right"></div></div>\n        </div>'),"\n        ",HTML.DIV({"class":"modal-body"},"\n          ",Blaze._TemplateWith(function(){return{collection:Spacebars.call("Portfolios"),"class":Spacebars.call("js-save-as-form"),action:Spacebars.call(a.lookup("saveAs")),doc:Spacebars.call(a.lookup("portfolio")),status:Spacebars.call(a.lookup("formStatus"))}},function(){return Spacebars.include(a.lookupTemplate("simpleForm"),function(){return["\n            ",HTML.DIV({"class":"input-fields"},"\n              ",HTML.FIELDSET("\n                ",Blaze._TemplateWith(function(){return{field:Spacebars.call("name"),"class":Spacebars.call("input-lg"),hint:Spacebars.call("Max 40 characters")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n                ",Blaze._TemplateWith(function(){return{field:Spacebars.call("description"),rows:Spacebars.call(3),placeholder:Spacebars.call("Leave a note about your age, goals, and questions here."),hint:Spacebars.call("Max 400 characters")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n              "),"\n            "),"\n            ",HTML.DIV({"class":"actions"},"\n              ",Blaze._TemplateWith(function(){return{"class":Spacebars.call("weight-option pull-left padded"),btnClass:Spacebars.call("btn-sm")}},function(){return Spacebars.include(a.lookupTemplate("amountVisibilityOptionButtons"))}),"\n\n              ",HTML.BUTTON({type:"submit","class":function(){return["js-save-as-btn btn btn-primary btn-lg pull-right ",Blaze.Unless(function(){return Spacebars.call(a.lookup("isFormValid"))},function(){return"disabled"})]}},"Save"),"\n              ",HTML.A({"class":"cancel pull-right desktop","data-dismiss":"modal"},"Cancel"),"\n            "),"\n          "]})}),"\n\n          ",Spacebars.include(a.lookupTemplate("loadingAnimation")),"\n        "),"\n      "),"\n    "),"\n  ")}),Template.__checkName("amountVisibilityOptionButtons"),Template.amountVisibilityOptionButtons=new Template("Template.amountVisibilityOptionButtons",function(){var a=this;return HTML.DIV({"class":function(){return Spacebars.mustache(a.lookup("class"))}},"\n    ",HTML.DIV({"class":"js-option-group btn-group"},"\n      ",HTML.BUTTON({type:"button","data-option":"show","class":function(){return["js-save-option-btn btn ",Spacebars.mustache(a.lookup("btnClass"))," btn-default ",Blaze.If(function(){return Spacebars.call(a.lookup("isAmountVisible"))},function(){return"active"})]}},HTML.Raw('<span class="glyphicon glyphicon-eye-open"></span>'),"Show"),"\n      ",HTML.BUTTON({type:"button","data-option":"hide","class":function(){return["js-save-option-btn btn ",Spacebars.mustache(a.lookup("btnClass"))," btn-default ",Blaze.Unless(function(){return Spacebars.call(a.lookup("isAmountVisible"))},function(){return"active"})]}},HTML.Raw('<span class="glyphicon glyphicon-eye-close"></span>'),"Hide"),"\n    "),HTML.Raw('\n    <span class="weight-option-hint">$&nbsp;amount<span class="hidden-xs"> to others</span></span>\n  '))})}).call(this);

(function(){Template.__checkName("browseAllTagsModal"),Template.browseAllTagsModal=new Template("Template.browseAllTagsModal",function(){var a=this;return HTML.DIV({"class":"modal fade landing-content-all-tags-modal js-all-tags-modal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"},"\n    ",HTML.DIV({"class":"modal-dialog modal-lg"},"\n      ",HTML.DIV({"class":"modal-content"},"\n        ",HTML.Raw('<div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n          <h2 class="landing-content-all-tags-header">All Tags</h2>\n        </div>'),"\n        ",HTML.DIV({"class":"modal-body"},"\n          ",Blaze.If(function(){return Spacebars.call(a.lookup("browseAllTagsClicked"))},function(){return["\n            ",HTML.DIV({"class":"container"},"\n              ",HTML.DIV({"class":"row"},"\n                ",HTML.DIV({"class":"col col-xs-4 tag-list"},"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Index")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Investing Style")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Ranking")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Trend")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Industry - Biotech")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Industry - Finance")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Industry - Medical/Heathcare")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Industry - Oil & Gas")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Industry - Real Estate")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Industry - Technology")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                "),"\n                ",HTML.DIV({"class":"col col-xs-4 tag-list"},"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Sector")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Industry")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                "),"\n                ",HTML.DIV({"class":"col col-xs-4 tag-list"},"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Event")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Location by Region")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Location by Country")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Location by State")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                  ",Blaze._TemplateWith(function(){return{category:Spacebars.call("Location by City")}},function(){return Spacebars.include(a.lookupTemplate("categoryTags"))}),"\n                "),"\n              "),"\n            "),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  ")}),Template.__checkName("categoryTags"),Template.categoryTags=new Template("Template.categoryTags",function(){var a=this;return[HTML.H3({"class":"landing-content-all-tags-category"},Blaze.View("lookup:category",function(){return Spacebars.mustache(a.lookup("category"))})),"\n  ",HTML.UL({"class":"landing-content-all-tags-list"},"\n    ",Blaze.Each(function(){return Spacebars.call(a.lookup("getTags"))},function(){return["\n    ",HTML.LI({"class":"landing-content-all-tags-list-content"},"\n      ",Blaze._TemplateWith(function(){return{url:Spacebars.call(a.lookup("url")),"class":Spacebars.call("link")}},function(){return Spacebars.include(a.lookupTemplate("routerGo"),function(){return["\n        ",HTML.SPAN({"class":"tag"},Blaze.View("lookup:displayName",function(){return Spacebars.mustache(a.lookup("displayName"))})),"\n        ",HTML.SPAN({"class":"count"},Blaze.View("lookup:count",function(){return Spacebars.mustache(a.lookup("count"))}),HTML.CharRef({html:"&nbsp;",str:" "}),"stocks"),"\n      "]})}),"\n    "),"\n    "]}),"\n  ")]})}).call(this);

(function(){Template.__checkName("search"),Template.search=new Template("Template.search",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("addRootToContext"))},function(){return["\n  ",HTML.DIV({"class":"js-search view search"},"\n    ",Spacebars.include(e.lookupTemplate("searchHeader")),"\n    ",HTML.DIV({id:"main"},"\n      ",HTML.DIV({"class":"hflush"},"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("showSearchLanding"))},function(){return["\n          ",Spacebars.include(e.lookupTemplate("searchLanding")),"\n        "]},function(){return["\n        ",HTML.DIV({"class":"container"},"\n          ",Spacebars.include(e.lookupTemplate("searchResults")),"\n        "),"\n        "]}),"\n      "),"\n    "),"\n  "),"\n  "]})})}).call(this);

(function(){Template.__checkName("searchHeader"),Template.searchHeader=new Template("Template.searchHeader",function(){var e=this;return HTML.HEADER({"class":function(){return["navbar navbar-fixed-top ",Blaze.If(function(){return Spacebars.call(e.lookup("searchLanding"))},function(){return"landing-header"},function(){return"results-header"})]},role:"navigation"},"\n    ",HTML.DIV({"class":"container page-width results-header-container"},"\n      ",HTML.DIV({"class":"results-header-search"},"\n        ",HTML.DIV({"class":"header-logo js-logo-search"},Spacebars.include(e.lookupTemplate("logoSearch"))),"\n        ",HTML.DIV({"class":"results-header-timeframe"},"\n          ",Spacebars.include(e.lookupTemplate("searchResultsTimeframe")),"\n        "),"\n        ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("addDataToContext"),Spacebars.kw({placeholder:"Find stocks by any keyword"}))},function(){return["\n          ",Spacebars.include(e.lookupTemplate("magicBox")),"\n        "]}),"\n        ",HTML.SPAN({"class":"results-header-results-count"},Blaze.View("lookup:resultsCount",function(){return Spacebars.mustache(e.lookup("resultsCount"))})),"\n      "),"\n      ",Spacebars.include(e.lookupTemplate("searchResultsColumnHeader")),"\n    "),"\n    ",Blaze.Unless(function(){return Spacebars.call(e.lookup("searchLanding"))},function(){return["\n    ",HTML.DIV({"class":"results-header-tags js-header-tags"},"\n      ",HTML.DIV({"class":"results-header-tags-container"},"\n        ",HTML.UL({"class":"results-header-tags-list js-tags-list"},"\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("currentTags"))},function(){return["\n            ",HTML.LI({"class":"results-header-tags-listing"},"\n              ",Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))}),"\n              ",HTML.A({href:"#","class":"remove-btn js-tag-remove-btn"},"\n                ",HTML.SPAN({"class":"glyphicon glyphicon-remove"}),"\n              "),"\n            "),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n    "]}),"\n  ")}),Template.__checkName("magicBox"),Template.magicBox=new Template("Template.magicBox",function(){var e=this;return HTML.DIV({"class":"magic-box"},"\n    ",HTML.DIV({"class":"input-with-icon lg left-icon"},"\n      ",HTML.INPUT({type:"text","class":"form-control js-magic-box input-base magic-box-input",placeholder:function(){return Spacebars.mustache(e.lookup("placeholder"))}}),"\n      ",HTML.Raw('<span class="icon magic-box-icon"><span class="glyphicon glyphicon-search"></span></span>'),"\n    "),"\n  ")}),Template.__checkName("searchResultsTimeframe"),Template.searchResultsTimeframe=new Template("Template.searchResultsTimeframe",function(){var e=this;return HTML.FORM("\n    ",HTML.DIV({"class":"js-filter-timeframe control-group timeframe"},"\n      ",HTML.Raw('<h4 class="results-header-timeframe-header">Timeframe</h4>'),"\n      ",Blaze._TemplateWith(function(){return{name:Spacebars.call("timeframe"),"class":Spacebars.call("timeframe"),labels:Spacebars.call(e.lookup("periodLabels")),values:Spacebars.call(e.lookup("periodValues")),selection:Spacebars.call(e.lookup("selectedPeriod"))}},function(){return Spacebars.include(e.lookupTemplate("widgetRadio"))}),"\n    "),"\n  ")}),Template.__checkName("searchResultsColumnHeader"),Template.searchResultsColumnHeader=new Template("Template.searchResultsColumnHeader",function(){var e=this;return HTML.UL({"class":"results-header-list"},"\n    ",Blaze.Unless(function(){return Spacebars.call(e.lookup("isSearchLanding"))},function(){return["\n      ",HTML.LI({"class":"results-header-listing-column sector"},"\n        ",HTML.SPAN({"class":"header js-sort-link","data-value":"sector"},"\n          Sectors\n        "),"\n        ",HTML.DIV({"class":"piechart-wrapper"},"\n          ",Blaze._TemplateWith(function(){return{source:Spacebars.call(e.lookup("allocationSource"))}},function(){return Spacebars.include(e.lookupTemplate("allocationChart"))}),"\n        "),"\n      "),"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("metricHeaders"))},function(){return["\n        ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("addDataToContext"),e.lookup(".."))},function(){return["\n          ",Spacebars.include(e.lookupTemplate("metricFilter")),"\n        "]}),"\n      "]}),"\n      ",HTML.LI({"class":"results-header-listing-column more"},"\n        ",HTML.SPAN({"class":"header js-sort-link"},"\n          More\n        "),"\n        ",HTML.BUTTON({"data-placement":"bottom","class":"btn btn-primary more-btn js-more-btn"},"\n          ",HTML.SPAN({"class":"glyphicon glyphicon-plus"}),"\n        "),"\n      "),"\n    "]}),"\n  ")}),Template.__checkName("moreFilters"),Template.moreFilters=new Template("Template.moreFilters",function(){var e=this;return HTML.UL({"class":"results-header-list-more-filter"},"\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("metricHeaders"))},function(){return["\n      ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("addDataToContext"),e.lookup(".."))},function(){return["\n        ",Spacebars.include(e.lookupTemplate("metricFilter")),"\n      "]}),"\n    "]}),"\n  ")}),Template.__checkName("metricFilter"),Template.metricFilter=new Template("Template.metricFilter",function(){var e=this;return HTML.LI({"class":"results-header-listing-column"},"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("sortLink"))},"class":function(){return["header js-sort-link ",Blaze.If(function(){return Spacebars.call(e.lookup("isSelectedSort"))},function(){return"is-selected"})]},"data-value":function(){return Spacebars.mustache(e.lookup("field"))}},"\n      ",Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})," ",Blaze.View("lookup:displaySort",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("displaySort")))}),"\n    "),HTML.Raw('\n    <div class="results-metric-filter">\n      <input class="slider-input" style="display: none" type="text">\n      <div class="hflush min-max">\n        <span class="js-min pull-left"></span>\n        <span class="js-max pull-right"></span>\n      </div>\n    </div>\n  '))})}).call(this);

(function(){Template.__checkName("searchHistograms"),Template.searchHistograms=new Template("Template.searchHistograms",function(){var a=this;return HTML.DIV({"class":"histogram"},"\n    ",HTML.DIV({"class":"returns"},"\n      ",HTML.H5(Blaze.View("lookup:period",function(){return Spacebars.mustache(a.lookup("period"))})," Returns Average"),"\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("subscriptions"),"returnsSummary","ready"))},function(){return["\n        ",HTML.DIV({"class":"js-returns chart"},"\n          ",Blaze._TemplateWith(function(){return{source:Spacebars.call(a.lookup("returnsHistogramSource"))}},function(){return Spacebars.include(a.lookupTemplate("histogram"))}),"\n        "),"\n      "]},function(){return["\n        ",Spacebars.include(a.lookupTemplate("loadingAnimation")),"\n      "]}),"\n    "),"\n    ",HTML.DIV({"class":"market-cap"},"\n      ",HTML.Raw("<h5>Market Cap Average</h5>"),"\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("subscriptions"),"marketCapSummary","ready"))},function(){return["\n        ",HTML.DIV({"class":"js-market-cap chart"},"\n          ",Blaze._TemplateWith(function(){return{source:Spacebars.call(a.lookup("marketCapHistogramSource"))}},function(){return Spacebars.include(a.lookupTemplate("histogram"))}),"\n        "),"\n      "]},function(){return["\n        ",Spacebars.include(a.lookupTemplate("loadingAnimation")),"\n      "]}),"\n    "),"\n  ")}),Template.__checkName("histogram"),Template.histogram=new Template("Template.histogram",function(){var a=this;return HTML.DIV({"class":function(){return["js-histogram ",Spacebars.mustache(Spacebars.dot(a.lookup("source"),"kind"))]}},"\n  ")})}).call(this);

(function(){Template.__checkName("searchLanding"),Template.searchLanding=new Template("Template.searchLanding",function(){var n=this;return[HTML.DIV({"class":"landing-content"},"\n    ",HTML.DIV({"class":"landing-content-logo"},"\n      ",Spacebars.include(n.lookupTemplate("logoSearch")),"\n    "),"\n    ",HTML.Raw('<p class="landing-content-tagline">New Way of Picking Stocks</p>'),"\n    ",HTML.Raw('<div class="landing-content-search-container"></div>'),"\n    ",HTML.UL({"class":"landing-content-trending"},"\n      ",HTML.Raw('<h2 class="landing-content-header">Trending Picks</h2>'),"\n      ",Blaze.Each(function(){return Spacebars.call(n.lookup("trendingSearches"))},function(){return["\n        ",Spacebars.With(function(){return Spacebars.dataMustache(n.lookup("addDataToContext"),n.lookup(".."))},function(){return["\n          ",Spacebars.include(n.lookupTemplate("trendingSearch")),"\n        "]}),"\n      "]}),"\n    "),"\n    ",HTML.DIV({"class":"landing-content-browse"},"\n      ",HTML.Raw('<h2 class="landing-content-header">Browse tags</h2>'),"\n      ",HTML.Raw('<h3 class="landing-content-browse-header">Popular</h3>'),"\n      ",HTML.UL({"class":"landing-content-browse-list"},"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=S%26P%20500")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"S&P 500"})})),"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=Nasdaq%20100")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"Nasdaq 100"})})),"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=Cloud%20Computing")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"Cloud Computing"})})),"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=Voice%20Over%20Internet%20(VOIP)")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"Voice over IP"})})),"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=Disrupts%20Bricks-and-Mortar")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"Disrupts Bricks-and-Mortar"})})),"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=Robots")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"Robots"})})),"\n      "),"\n      ",HTML.Raw('<h3 class="landing-content-browse-header">Value</h3>'),"\n      ",HTML.UL({"class":"landing-content-browse-list"},"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=Distressed")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"Distressed"})})),"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=Buffett%20Stock")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"Buffet Stock"})})),"\n      "),"\n      ",HTML.Raw('<h3 class="landing-content-browse-header">Events</h3>'),"\n      ",HTML.UL({"class":"landing-content-browse-list"},"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=IPO%20in%202014")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"IPO in 2014"})})),"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=IPO%20in%202015")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"IPO in 2015"})})),"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=Split%20in%202014")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"Split in 2014"})})),"\n        ",HTML.LI(Blaze._TemplateWith(function(){return{"class":Spacebars.call("tag"),url:Spacebars.call("/search?tags=Split%20in%202015")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return"Split in 2015"})})),"\n      "),"\n      ",HTML.Raw('<a href="#" class="js-all-tags-btn" data-toggle="modal" data-target=".js-all-tags-modal">\n        Browse All Tags\n      </a>'),"\n    "),"\n  "),"\n  ",Spacebars.include(n.lookupTemplate("browseAllTagsModal"))]}),Template.__checkName("trendingSearch"),Template.trendingSearch=new Template("Template.trendingSearch",function(){var n=this;return HTML.LI("\n    ",Blaze.If(function(){return Spacebars.call(n.lookup("url"))},function(){return["\n      ",Blaze._TemplateWith(function(){return{url:Spacebars.call(n.lookup("url")),"class":Spacebars.call("landing-content-link")}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return["\n        ",HTML.DIV({"class":"landing-content-link-upvote"},"\n          ",HTML.DIV({"class":"triangle arrow-up"}),"\n          ",HTML.P({"class":"count"},Blaze.View("lookup:count",function(){return Spacebars.mustache(n.lookup("count"))})),"\n        "),"\n        ",HTML.DIV({"class":"landing-content-link-content"},"\n          ",HTML.H3({"class":"name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))})),"\n        "),"\n      "]})}),"\n    "]}),"\n  ")})}).call(this);

(function(){Template.__checkName("searchResults"),Template.searchResults=new Template("Template.searchResults",function(){var e=this;return HTML.DIV({"class":"search-result-wrapper js-result-wrapper"},"\n    ",HTML.UL({"class":"search-result-list"},"\n      ",Blaze.Unless(function(){return Spacebars.call(e.lookup("noResults"))},function(){return["\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("searchResults"))},function(){return["\n          ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("addDataToContext"),e.lookup(".."))},function(){return["\n            ",Spacebars.include(e.lookupTemplate("searchResultItem")),"\n          "]}),"\n        "]}),"\n      "]},function(){return["\n        ",HTML.DIV({"class":"no-search-result-message"},"\n          ",HTML.DIV({"class":"no-search-result-arrow"},HTML.SPAN({"class":"glyphicon glyphicon-arrow-up"})),"\n          ",HTML.DIV({"class":"no-search-result-icon"}),"\n            ",HTML.P({"class":"text"},"There are no stocks that meet all your criteria."),"\n          ",Blaze.If(function(){return Spacebars.call(e.lookup("filtered"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{url:Spacebars.call(e.lookup("clearFilterUrl")),"class":Spacebars.call("search-result-clear-filter js-clear-filter")}},function(){return Spacebars.include(e.lookupTemplate("routerGo"),function(){return"\n              Clear filters\n            "})}),"\n          "]},function(){return"\n            Try a different search keyword.\n          "}),"\n        "),"\n      "]}),"\n    "),"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("moreResults"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("loadingAnimation")),"\n    "]}),"\n  ")})}).call(this);

(function(){Template.__checkName("searchResultItem"),Template.searchResultItem=new Template("Template.searchResultItem",function(){var e=this;return HTML.LI({"class":"search-result-listing js-listing normal"},"\n    ",HTML.DIV({"class":"search-result-listing-content"},"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("searchLoaded"))},function(){return["\n        ",Spacebars.include(e.lookupTemplate("stockChart")),"\n      "]}),"\n      ",HTML.DIV({"class":"search-result-listing-column name"},"\n        ",HTML.H3({"class":"search-result-listing-header"},"\n          ",Blaze.If(function(){return Spacebars.call(e.lookup("displayName"))},function(){return["\n            ",Blaze.View("lookup:displayName",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("displayName")))}),"\n          "]},function(){return["\n            ",Blaze.View("lookup:name",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("name")))}),"\n          "]}),"\n        "),"\n        ",HTML.SPAN({"class":function(){return["search-result-listing-symbol ",Spacebars.mustache(Spacebars.dot(e.lookup("sector"),"text"))]}},Blaze.View("lookup:symbol",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("symbol")))})),"\n        ",HTML.P({"class":"relevance-text"},Blaze.View("lookup:relevance",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("relevance")))})),"\n      "),"\n      ",HTML.DIV({"class":function(){return["search-result-listing-column sector ",Spacebars.mustache(Spacebars.dot(e.lookup("sector"),"text"))]}},"\n        ",Blaze.View("lookup:sectorLabel",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("sectorLabel")))}),"\n      "),"\n      ",HTML.DIV({"class":"search-result-listing-column price"},"\n        ",HTML.SPAN({"class":"text"},Blaze.View("lookup:lastPrice",function(){return Spacebars.mustache(e.lookup("lastPrice"))})),"\n      "),"\n      ",HTML.DIV({"class":"search-result-listing-column js-returns returns"},"\n        ",HTML.SPAN({"class":"text"},Blaze.View("lookup:returnsFormatted",function(){return Spacebars.mustache(e.lookup("returnsFormatted"))})),"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("searchLoaded"))},function(){return["\n          ",Blaze._TemplateWith(function(){return{activeIdx:Spacebars.call(e.lookup("returnsActiveIdx"))}},function(){return Spacebars.include(e.lookupTemplate("widgetPills"))}),"\n        "]}),"\n      "),"\n      ",HTML.DIV({"class":"search-result-listing-column market-cap"},"\n        ",HTML.SPAN({"class":"text"},Blaze.View("lookup:marketCapFormatted",function(){return Spacebars.mustache(e.lookup("marketCapFormatted"))})),"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("searchLoaded"))},function(){return["\n          ",Blaze._TemplateWith(function(){return{activeIdx:Spacebars.call(e.lookup("marketCapActiveIdx"))}},function(){return Spacebars.include(e.lookupTemplate("widgetPills"))}),"\n        "]}),"\n      "),"\n      ",Spacebars.include(e.lookupTemplate("searchResultItemBtn")),"\n    "),"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("isMaximized"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("searchResultMaximized")),"\n    "]}),"\n  ")}),Template.__checkName("searchResultMaximized"),Template.searchResultMaximized=new Template("Template.searchResultMaximized",function(){var e=this;return Blaze.Unless(function(){return Spacebars.call(e.lookup("maximizedData"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("loadingAnimation")),"\n  "]},function(){return["\n    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("addDataToContext"),e.lookup("maximizedData"))},function(){return["\n      ",HTML.DIV({"class":"search-result-listing-maxi"},"\n        ",HTML.DIV({"class":"search-result-listing-maxi-left"},"\n          ",HTML.DIV({"class":"description js-description"},"\n            ",Blaze.View("lookup:description",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("description")))}),"\n          "),"\n          ",HTML.DIV({"class":"three-items hflush"},"\n            ",HTML.DIV({"class":"hflush"},"\n              ",HTML.DIV({"class":"founded"},"\n                ",HTML.H6("Founded"),"\n                ",HTML.P({"class":"value"},Blaze.View("lookup:foundedYear",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("foundedYear")))})),"\n              "),"\n              ",HTML.DIV({"class":"employees"},"\n                ",HTML.H6("Employees"),"\n                ",HTML.P({"class":"value"},Blaze.View("lookup:employeeCount",function(){return Spacebars.mustache(e.lookup("employeeCount"))})),"\n              "),"\n              ",HTML.DIV({"class":"hq"},"\n                ",HTML.H6("Headquarters"),"\n                ",HTML.P({"class":"value"},Blaze.View("lookup:headquarters",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("headquarters")))})),"\n              "),"\n            "),"\n            ",HTML.DIV({"class":"hflush"},"\n              ",HTML.DIV({"class":"js-more more"},"\n                ",HTML.H6("Learn More"),"\n                ",HTML.A({href:"#"},"Recent News"),HTML.CharRef({html:"&nbsp;",str:" "}),HTML.CharRef({html:"&bull;",str:"•"}),"\n                ",HTML.A({href:"#"},"Company Financials"),HTML.CharRef({html:"&nbsp;",str:" "}),HTML.CharRef({html:"&bull;",str:"•"}),"\n                ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),e.lookup("googleLink"))},target:"_blank"},"Google Finance"),"\n              "),"\n            "),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"search-result-listing-maxi-right"},"\n          ",HTML.DIV({"class":"highlights"},"\n            ",HTML.DIV({"class":"info-card pe-ratio"},"\n              ",HTML.H6("P/E Ratio"),"\n              ",HTML.P({"class":"value"},Blaze.View("lookup:peRatio",function(){return Spacebars.mustache(e.lookup("peRatio"))})),"\n            "),"\n            ",HTML.DIV({"class":"info-card eps"},"\n              ",HTML.H6("EPS"),"\n              ",HTML.P({"class":"value"},Blaze.View("lookup:eps",function(){return Spacebars.mustache(e.lookup("eps"))})),"\n            "),"\n            ",HTML.DIV({"class":"info-card beta"},"\n              ",HTML.H6("Beta"),"\n              ",HTML.P({"class":"value"},Blaze.View("lookup:beta",function(){return Spacebars.mustache(e.lookup("beta"))})),"\n            "),"\n            ",HTML.DIV({"class":"info-card dividend-yield"},"\n              ",HTML.H6("Dividend Yield"),"\n              ",HTML.P({"class":"value"},Blaze.View("lookup:dividendYield",function(){return Spacebars.mustache(e.lookup("dividendYield"))})),"\n            "),"\n            ",HTML.DIV({"class":"info-card year-range"},"\n              ",HTML.H6("52-Week Range"),"\n              ",HTML.P({"class":"value"},Blaze.View("lookup:priceRange",function(){return Spacebars.mustache(e.lookup("priceRange"))})),"\n            "),"\n          "),"\n          ",HTML.DIV({"class":"tags"},"\n            ",HTML.H6({"class":"tags-header"},"Tags"),"\n              ",Blaze.If(function(){return Spacebars.call(e.lookup("hasTags"))},function(){return["\n                ",Blaze.Each(function(){return Spacebars.call(e.lookup("tags"))},function(){return["\n                  ",HTML.A({"class":"tag-link js-tag-link",href:"#"},Blaze.View("lookup:.",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup(".")))})),"\n                "]}),"\n              "]},function(){return"\n                Not available\n              "}),"\n          "),"\n        "),"\n      "),"\n    "]}),"\n  "]})}),Template.__checkName("stockChart"),Template.stockChart=new Template("Template.stockChart",function(){var e=this;return HTML.Raw('<div class="search-result-listing-chart js-chart"></div>')}),Template.__checkName("searchResultItemBtn"),Template.searchResultItemBtn=new Template("Template.searchResultItemBtn",function(){var e=this;return HTML.Raw('<div class="search-result-listing-buttons">\n    <a href="#" class="js-listing-like search-result-listing-buttons-like">\n      <img class="search-result-listing-buttons-like-img fill-off" src="/img/icon-heart-fill-black.svg">\n      <img class="search-result-listing-buttons-like-img outline-off" src="/img/icon-heart-outline-white.svg">\n      <img class="search-result-listing-buttons-like-img fill-on" src="/img/icon-heart-on-blue.svg">\n      <img class="search-result-listing-buttons-like-img outline-on" src="/img/icon-heart-outline-blue.svg">\n      <div class="shine-on"></div>\n    </a>\n  </div>')})}).call(this);

(function(){Template.__checkName("smooth"),Template.smooth=new Template("Template.smooth",function(){var t=this;return HTML.DIV({"class":"smooth-loading js-smooth-loading","data-smooth":""},"\n    ",Blaze._InOuterTemplateScope(t,function(){return Spacebars.include(function(){return Spacebars.call(t.templateContentBlock)})}),"\n  ")})}).call(this);

(function(){Template.__checkName("fundDetails"),Template.fundDetails=new Template("Template.fundDetails",function(){var n=this;return[HTML.DIV({"class":"meta-info-card col-xs-6 col-md-12"},"\n    ",HTML.Raw('<p class="meta-info-card-label">Net Assets</p>'),"\n    ",HTML.P({"class":"meta-info-card-data"},Blaze.View("lookup:formatDollars",function(){return Spacebars.mustache(n.lookup("formatDollars"),Spacebars.dot(n.lookup("source"),"net_assets"),1,Spacebars.kw({smartSuffix:!0}))})),"\n  "),"\n  ",HTML.DIV({"class":"meta-info-card col-xs-6 col-md-12"},"\n    ",HTML.Raw('<p class="meta-info-card-label">Minimum Investment Amount</p>'),"\n    ",HTML.P({"class":"meta-info-card-data"},Blaze.View("lookup:minimumInvestment",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("minimumInvestment")))})),"\n  "),"\n  ",HTML.DIV({"class":"meta-info-card col-xs-6 col-md-12"},"\n    ",HTML.Raw('<p class="meta-info-card-label">Dividend Yield</p>'),"\n    ",HTML.P({"class":"meta-info-card-data"},Blaze.View("lookup:formatPercent",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("formatPercent"),Spacebars.dot(n.lookup("source"),"dividendYield")))})),"\n  "),"\n\n  ",Spacebars.include(n.lookupTemplate("relatedStockAndFund"))]}),Template.__checkName("fundInformation"),Template.fundInformation=new Template("Template.fundInformation",function(){var n=this;return[HTML.DIV({"class":"content-section"},"\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("source"),"holdings","length"))},function(){return["\n      ",Spacebars.include(n.lookupTemplate("fundDetailHoldings")),"\n    "]}),"\n  "),"\n  ",HTML.DIV({"class":"content-section"},"\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("source"),"fund_type"))},function(){return["\n      ",Spacebars.include(n.lookupTemplate("fundDetailCategory")),"\n    "]}),"\n  "),"\n   ",HTML.DIV({"class":"content-section"},"\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("source"),"canonicalSymbol"))},function(){return["\n      ",Spacebars.include(n.lookupTemplate("fundDetailSiblings")),"\n    "]}),"\n  ")]}),Template.__checkName("fundAllocation"),Template.fundAllocation=new Template("Template.fundAllocation",function(){var n=this;return[HTML.DIV({"class":"content-section"},"\n      ",HTML.Raw('<h3 class="left-heading">Allocations</h3>'),"\n      ",Spacebars.include(n.lookupTemplate("fundDetailAllocations")),"\n  "),"\n  ",HTML.DIV({"class":"content-section"},"\n      ",Spacebars.include(n.lookupTemplate("fundDetailAllocationsSector")),"\n  ")]}),Template.__checkName("fundDetailCategory"),Template.fundDetailCategory=new Template("Template.fundDetailCategory",function(){var n=this;return[HTML.Raw('<h3 class="left-heading">Top 5 Funds in this Category</h3>\n  '),HTML.UL({"class":"security-list container"},"\n    ",HTML.Raw('<li class="row security-list-head">\n      <div class="col-xs-3">\n        Symbol\n      </div>\n      <div class="col-xs-9">\n        Name\n      </div>\n    </li>'),"\n    ",Blaze.Each(function(){return Spacebars.call(n.lookup("topFunds"))},function(){return["\n      ",Blaze._TemplateWith(function(){return{url:Spacebars.call(n.lookup("url"))}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return["\n        ",HTML.LI({"class":"row security-list-body"},"\n          ",HTML.DIV({"class":"col-xs-3"},"\n            ",HTML.SPAN({"class":"label label-lg symbol",style:function(){return["background: ",Spacebars.mustache(n.lookup("symbolColor")),";"]}},Blaze.View("lookup:symbol",function(){return Spacebars.mustache(n.lookup("symbol"))})),"\n          "),"\n          ",HTML.DIV({"class":"col-xs-9 text-left"},"\n            ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n          "),"\n        "),"\n      "]})}),"\n    "]}),"\n  ")]}),Template.__checkName("fundDetailSiblings"),Template.fundDetailSiblings=new Template("Template.fundDetailSiblings",function(){var n=this;return Blaze.If(function(){return Spacebars.call(n.lookup("fundSiblingsAvailable"))},function(){return["\n  ",HTML.H3({"class":"left-heading"},"List of siblings and their expenses"),"\n  ",HTML.UL({"class":"security-list container"},"\n    ",HTML.LI({"class":"row security-list-head"},"\n      ",HTML.DIV({"class":"col-xs-3"},"\n        Symbol\n      "),"\n      ",HTML.DIV({"class":"col-xs-6 text-left"},"\n        Name\n      "),"\n      ",HTML.DIV({"class":"col-xs-3 text-right"},"\n        Expenses\n      "),"\n    "),"\n    ",Blaze.Each(function(){return Spacebars.call(n.lookup("fundSiblings"))},function(){return["\n      ",Blaze._TemplateWith(function(){return{url:Spacebars.call(n.lookup("url"))}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return["\n        ",HTML.LI({"class":"row security-list-body"},"\n          ",HTML.DIV({"class":"col-xs-3"},"\n            ",HTML.SPAN({"class":"label label-lg symbol",style:function(){return["background: ",Spacebars.mustache(n.lookup("symbolColor")),";"]}},Blaze.View("lookup:symbol",function(){return Spacebars.mustache(n.lookup("symbol"))})),"\n          "),"\n          ",HTML.DIV({"class":"col-xs-6 text-left"},"\n            ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n          "),"\n          ",HTML.DIV({"class":"col-xs-3 text-right"},"\n            ",Blaze.View("lookup:formatPercent",function(){return Spacebars.mustache(n.lookup("formatPercent"),Spacebars.dot(n.lookup("highlights"),"expense_net"))}),"\n          "),"\n        "),"\n      "]})}),"\n    "]}),"\n  "),"\n  "]})}),Template.__checkName("fundDetailHoldings"),Template.fundDetailHoldings=new Template("Template.fundDetailHoldings",function(){var n=this;return[HTML.Raw('<h3 class="left-heading">Top 10 holdings in this Fund</h3>\n  '),HTML.UL({"class":"security-list container padding-right"},"\n    ",HTML.Raw('<li class="row security-list-head">\n      <div class="col-xs-3">\n        Symbol\n      </div>\n      <div class="col-xs-6 text-left">\n        Name\n      </div>\n      <div class="col-xs-3 text-right">\n        Weight\n      </div>\n    </li>'),"\n    ",Blaze.Each(function(){return Spacebars.call(n.lookup("topHoldings"))},function(){return["\n      ",Spacebars.include(n.lookupTemplate("fundDetailHoldingItem")),"\n    "]}),"\n    ",HTML.LI({"class":"row security-list-foot"},"\n      ",HTML.DIV({"class":"col-xs-12"},"\n        Total Weight: ",Blaze.View("lookup:formatPercent",function(){return Spacebars.mustache(n.lookup("formatPercent"),n.lookup("weightTotal"))}),"\n      "),"\n    "),"\n  ")]}),Template.__checkName("fundDetailHoldingItem"),Template.fundDetailHoldingItem=new Template("Template.fundDetailHoldingItem",function(){var n=this;return Blaze._TemplateWith(function(){return{url:Spacebars.call(n.lookup("url"))}},function(){return Spacebars.include(n.lookupTemplate("routerGo"),function(){return["\n    ",HTML.LI({"class":"row security-list-body"},"\n      ",HTML.DIV({"class":"col-xs-3"},"\n        ",HTML.SPAN({"class":"label label-lg symbol",style:function(){return["background: ",Spacebars.mustache(n.lookup("symbolColor")),";"]}},Blaze.View("lookup:displaySymbol",function(){return Spacebars.mustache(n.lookup("displaySymbol"))})),"\n      "),"\n      ",HTML.DIV({"class":"col-xs-6 text-left"},"\n        ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n      "),"\n      ",HTML.DIV({"class":"col-xs-3 text-right"},"\n        ",Blaze.View("lookup:formatPercent",function(){return Spacebars.mustache(n.lookup("formatPercent"),n.lookup("weight"))}),"\n      "),"\n    "),"\n  "]})})}),Template.__checkName("fundDetailAllocations"),Template.fundDetailAllocations=new Template("Template.fundDetailAllocations",function(){var n=this;return HTML.DIV({"class":"row"},"\n    ",HTML.DIV({"class":"col col-xs-12 col-sm-4"},"\n      ",HTML.DIV({"class":"half-info-card info-card"},"\n        ",HTML.Raw("<h5>Asset Class</h5>"),"\n        ",HTML.DIV({"class":"js-allocation-asset-class"},"\n          ",Blaze._TemplateWith(function(){return{source:Spacebars.call(n.lookup("assetClassSource"))}},function(){return Spacebars.include(n.lookupTemplate("allocationChart"))}),"\n        "),"\n        ",HTML.Raw('<div class="hover-info">\n          <p class="icon glyphicon glyphicon-info-sign"></p>\n          <p>Asset breakdown of the underlying securities of this portfolio.</p>\n        </div>'),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"col col-xs-12 col-sm-4"},"\n      ",HTML.DIV({"class":"half-info-card info-card"},"\n        ",HTML.Raw("<h5>Market Cap</h5>"),"\n        ",HTML.DIV({"class":"js-allocation-market-cap"},"\n          ",Blaze._TemplateWith(function(){return{source:Spacebars.call(n.lookup("marketCapSource"))}},function(){return Spacebars.include(n.lookupTemplate("allocationChart"))}),"\n        "),"\n        ",HTML.DIV({"class":"hover-info"},"\n          ",HTML.Raw('<p class="icon glyphicon glyphicon-tower"></p>'),"\n          ",HTML.P({"class":"js-overlay-caption"},Blaze.View("lookup:marketCapDescription",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("marketCapDescription")))})),"\n          ",HTML.Raw('<p class="caption">Non-stock holdings are shown as "unknown."</p>'),"\n        "),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"col col-xs-12 col-sm-4"},"\n      ",HTML.DIV({"class":"half-info-card info-card"},"\n        ",HTML.Raw("<h5>Regional</h5>"),"\n        ",HTML.DIV({"class":"js-allocation-regional"},"\n          ",Blaze._TemplateWith(function(){return{source:Spacebars.call(n.lookup("regionalSource"))}},function(){return Spacebars.include(n.lookupTemplate("allocationChart"))}),"\n        "),"\n        ",HTML.DIV({"class":"hover-info"},"\n          ",HTML.Raw('<p class="icon glyphicon glyphicon-globe"></p>'),"\n          ",HTML.P({"class":"js-overlay-caption"},Blaze.View("lookup:regionalDescription",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("regionalDescription")))})),"\n          ",HTML.Raw('<p class="caption">Non-stock holdings and individual stocks are shown as "unknown."</p>'),"\n        "),"\n      "),"\n    "),"\n  ")}),Template.__checkName("fundDetailAllocationsSector"),Template.fundDetailAllocationsSector=new Template("Template.fundDetailAllocationsSector",function(){var n=this;return HTML.DIV({"class":"half-info-card info-card fill-width"},HTML.Raw("\n    <h5>Sector</h5>\n    "),HTML.DIV({"class":"js-allocation-sector"},"\n      ",Blaze._TemplateWith(function(){return{source:Spacebars.call(n.lookup("sectorSource"))}},function(){return Spacebars.include(n.lookupTemplate("allocationChart"))}),"\n    "),"\n    ",HTML.DIV({"class":"js-allocation-sector-details"},"\n      ",HTML.TABLE({"class":"list sorttable"},"\n        ",HTML.THEAD("\n          ",HTML.TR("\n            ",HTML.TH({"class":"name sorttable_alpha"},"\n              ",HTML.A({"class":"button"},"\n                ",HTML.SPAN({"class":"glyphicon glyphicon-sort"}),"\n                Sector\n              "),"\n            "),"\n            ",HTML.TH({"class":"tooltip-parent sorttable_none"},"\n            "),"\n            ",HTML.TH({"class":"value pf sorttable_numeric"},"\n              ",HTML.A({"class":"button"},"\n                ",HTML.SPAN({"class":"glyphicon glyphicon-sort"}),"\n                Fund\n              "),"\n            "),"\n            ",HTML.TH({"class":"value sp500 sorttable_numeric"},"\n              ",HTML.A({"class":"button"},"\n                ",HTML.SPAN({"class":"glyphicon glyphicon-sort"}),"\n                S",HTML.CharRef({html:"&amp;",str:"&"}),"P 500\n              "),"\n            "),"\n          "),"\n        "),"\n        ",HTML.TBODY("\n          ",Blaze.Each(function(){return Spacebars.call(n.lookup("sectorRows"))},function(){return["\n          ",HTML.TR({"class":function(){return Spacebars.mustache(n.lookup("kind"))}},"\n            ",HTML.TD({"class":"name"},Blaze.View("lookup:label",function(){return Spacebars.mustache(n.lookup("label"))})),"\n            ",HTML.TD({"class":"tooltip-parent"},"\n              ",HTML.Comment('<span class="glyphicon glyphicon-question-sign info"\n                data-toggle="popover" data-placement="top"\n                title="{{label}}" data-content="{{description}}">\n              </span>'),"\n            "),"\n            ",HTML.TD({"class":"value pf"},Blaze.View("lookup:weightFormatted",function(){return Spacebars.mustache(n.lookup("weightFormatted"))})),"\n            ",HTML.TD({"class":"value sp500"},Blaze.View("lookup:benchmarkWeightFormatted",function(){return Spacebars.mustache(n.lookup("benchmarkWeightFormatted"))})),"\n          "),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("temporaryDataTable"),Template.temporaryDataTable=new Template("Template.temporaryDataTable",function(){var a=this;return HTML.TABLE("\n    ",Blaze.Each(function(){return Spacebars.call(a.lookup("formattedRows"))},function(){return["\n      ",Blaze.View("lookup:.",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup(".")))}),"\n    "]}),"\n  ")})}).call(this);

(function(){Template.__checkName("security"),Template.security=new Template("Template.security",function(){var e=this;return HTML.DIV({"class":"js-stock view security-detail"},"\n    ",Spacebars.include(e.lookupTemplate("headerHero")),"\n    ",Spacebars.include(e.lookupTemplate("viewIncludesNoHeader")),"\n    ",HTML.DIV({id:"main"},"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("subsReady"))},function(){return["\n        ",Blaze._TemplateWith(function(){return{source:Spacebars.call(e.lookup("source")),type:Spacebars.call(e.lookup("type"))}},function(){return Spacebars.include(e.lookupTemplate("securityTitle"))}),"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("isStatusOkay"))},function(){return["\n          ",Blaze._TemplateWith(function(){return{source:Spacebars.call(e.lookup("source")),type:Spacebars.call(e.lookup("type"))}},function(){return Spacebars.include(e.lookupTemplate("securityContent"))}),"\n        "]},function(){return["\n          ",Blaze._TemplateWith(function(){return{source:Spacebars.call(e.lookup("source")),type:Spacebars.call(e.lookup("type"))}},function(){return Spacebars.include(e.lookupTemplate("securityWithStatus"))}),"\n        "]}),"\n      "]},function(){return["\n        ",Spacebars.include(e.lookupTemplate("loadingAnimation")),"\n      "]}),"\n    "),"\n  ")}),Template.__checkName("securityTitle"),Template.securityTitle=new Template("Template.securityTitle",function(){var e=this;return HTML.DIV({"class":"container page-width"},"\n    ",HTML.DIV({"class":"security-title"},"\n      ",HTML.DIV({"class":"title-content"},"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("subsReady"))},function(){return["\n        ",HTML.DIV({"class":"title"},"\n          ",HTML.H1(Blaze.View("lookup:source.getDisplayName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("source"),"getDisplayName"))})),"\n          ",HTML.SPAN({"class":"symbol lg",style:function(){return["background-color: ",Spacebars.mustache(e.lookup("symbolColor"))]}},Blaze.View("lookup:source.symbol",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("source"),"symbol"))}),Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("source"),"exchange"))},function(){return HTML.SPAN({"class":"exchange"}," / ",Blaze.View("lookup:source.exchange",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("source"),"exchange"))}))})),"\n        "),"\n        "]}),"\n      "),"\n    "),"\n  ")}),Template.__checkName("securityWithStatus"),Template.securityWithStatus=new Template("Template.securityWithStatus",function(){var e=this;return HTML.DIV({"class":"content"},"\n    ",HTML.DIV({"class":"container page-width"},"\n      ",HTML.DIV({"class":"security-status-text"},"\n        ",HTML.H2(Blaze.View("lookup:getStatusText",function(){return Spacebars.mustache(e.lookup("getStatusText"))})),"\n      "),"\n\n      ",Blaze._TemplateWith(function(){return{source:Spacebars.call(e.lookup("source")),type:Spacebars.call(e.lookup("type")),status:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("relatedStockAndFund"))}),"\n    "),"\n  ")}),Template.__checkName("securityContent"),Template.securityContent=new Template("Template.securityContent",function(){var e=this;return[HTML.DIV({"class":"content"},"\n    ",HTML.DIV({"class":"container page-width"},"\n      ",HTML.DIV({"class":"row"},"\n        ",HTML.DIV({"class":"col-md-9 col-sm-12 js-floating floating padding-bottom padding-right"},"\n          ",HTML.DIV({"class":"security-period-header"},"\n            ",Blaze._TemplateWith(function(){return{root:Spacebars.call(e.lookup("timelineData"))}},function(){return Spacebars.include(e.lookupTemplate("portfolioPeriodHeader"))}),"\n            ",HTML.Raw("<!-- placeholder -->"),"\n            ",HTML.Raw('<div style="clear: both;"></div>'),"\n          "),"\n          ",Blaze._TemplateWith(function(){return{root:Spacebars.call(e.lookup("timelineData")),source:Spacebars.call(e.lookup("source")),type:Spacebars.call(e.lookup("type"))}},function(){return Spacebars.include(e.lookupTemplate("timelineGraph"))}),"\n          ",Spacebars.include(e.lookupTemplate("securityTable")),"\n        "),"\n        ",HTML.DIV({"class":"col-md-3 col-sm-12 padding-top padding-bottom "},"\n          ",Spacebars.include(e.lookupTemplate("securityPrice")),"\n          ",HTML.DIV({"class":"page-actions"},"\n            ",HTML.DIV({"class":"row"},"\n              ",Blaze.If(function(){return Spacebars.call(e.lookup("isDailyHistoryAvailable"))},function(){return["\n              ",HTML.DIV({"class":function(){return["col-xs-12 ",Blaze.If(function(){return Spacebars.call(e.lookup("isLoggedIn"))},function(){return"col-sm-6"},function(){return"col-sm-12"})," col-md-12"]}},"\n                ",HTML.DIV({"class":"meta-info-card"},"\n                  ",HTML.BUTTON({"class":"js-new-portfolio-with-holding btn btn-lg btn-block btn-primary wrap"},"New Portfolio with ",Blaze.View("lookup:source.symbol",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("source"),"symbol"))})),"\n                "),"\n              "),"\n              "]}),"\n\n              ",Blaze.If(function(){return Spacebars.call(e.lookup("isLoading"))},function(){return["\n                ",Spacebars.include(e.lookupTemplate("overlayLoading")),"\n              "]}),"\n\n              ",Blaze.If(function(){return Spacebars.call(e.lookup("isPortfolioListVisible"))},function(){return["\n                ",Spacebars.include(e.lookupTemplate("securityRelatedPortfolios")),"\n              "]}),"\n            "),"\n          "),"\n        "),"\n      "),"\n    "),"\n  "),"\n  ",HTML.DIV({"class":"hflush content shaded"},"\n    ",HTML.DIV({"class":"container page-width"},"\n      ",HTML.DIV({"class":"row"},"\n        ",HTML.DIV({"class":"col-md-9 col-sm-12 padding-right"},"\n          ",Spacebars.include(e.lookupTemplate("securityDescription")),"\n          ",Blaze.Unless(function(){return Spacebars.call(e.lookup("typeIsFund"))},function(){return["\n            ",Spacebars.include(e.lookupTemplate("securityQuarterlyRevenue")),"\n          "]},function(){return["\n            ",Spacebars.include(e.lookupTemplate("fundInformation")),"\n          "]}),"\n        "),"\n        ",HTML.DIV({"class":"col-md-3 col-sm-12 metadata padding-top padding-bottom"},"\n          ",HTML.DIV({"class":"meta-info-card sector-box"},"\n            ",HTML.P({"class":function(){return["meta-info-card-data sector-color capitalize ",Spacebars.mustache(e.lookup("getClassText"),e.lookup("category"))]}},Blaze.View("lookup:getHumanizedText",function(){return Spacebars.mustache(e.lookup("getHumanizedText"),e.lookup("category"))})),"\n            ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("source"),"industry"))},function(){return["\n              ",HTML.P({"class":function(){return["industry sector-color capitalize ",Spacebars.mustache(e.lookup("getClassText"),e.lookup("category"))]}},Blaze.View("lookup:source.industry",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("source"),"industry"))})),"\n            "]}),"\n          "),"\n          ",HTML.DIV({"class":"row"},"\n            ",HTML.DIV({"class":"col col-xs-12"},"\n              ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("typeToTemplate")),data:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n            "),"\n          "),"\n        "),"\n      "),"\n    "),"\n  "),"\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("typeIsFund"))},function(){return["\n    ",HTML.DIV({"class":"hflush content allocations"},"\n      ",HTML.DIV({"class":"container page-width sectors"},"\n        ",Spacebars.include(e.lookupTemplate("fundAllocation")),"\n      "),"\n    "),"\n  "]})]}),Template.__checkName("securityTable"),Template.securityTable=new Template("Template.securityTable",function(){var e=this;return HTML.TABLE({"class":"table security-table"},"\n    ",HTML.THEAD("\n      ",HTML.TR("\n        ",HTML.TH(),"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("getPeriods"))},function(){return["\n        ",HTML.TH({"class":function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("is3Yor15Y"),e.lookup("."))},function(){return"hidden-xs"})}},Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))})),"\n        "]}),"\n      "),"\n    "),"\n    ",HTML.TBODY("\n      ",HTML.TR("\n        ",HTML.TH("Returns"),"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("getReturns"))},function(){return["\n        ",HTML.TD({"class":function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("is3Yor15Y"),Spacebars.dot(e.lookup("."),"key"))},function(){return"hidden-xs"})}},Blaze.View("lookup:..value",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))})),"\n        "]}),"\n      "),"\n      ",HTML.TR("\n        ",HTML.TH("Risk",HTML.SPAN({"class":"desktop"}," (Std Dev)")),"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("getRisks"))},function(){return["\n        ",HTML.TD({"class":function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("is3Yor15Y"),Spacebars.dot(e.lookup("."),"key"))},function(){return"hidden-xs"})}},Blaze.View("lookup:..value",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))})),"\n        "]}),"\n      "),"\n    "),"\n  ")}),Template.__checkName("securityPrice"),Template.securityPrice=new Template("Template.securityPrice",function(){var e=this;return HTML.DIV({"class":"row"},"\n    ",HTML.DIV({"class":"col-xs-4 col-md-12"},"\n      ",HTML.DIV({"class":"meta-info-card priority"},"\n        ",HTML.H3({"class":"meta-info-card-label-big"},Blaze.View("lookup:formattedLatestClose",function(){return Spacebars.mustache(e.lookup("formattedLatestClose"))})),"\n        ",HTML.Raw('<p class="meta-info-card-label">Previous <span class="hidden-xs">Day Closing </span>Price</p>'),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"col-xs-4 col-md-12"},"\n      ",HTML.DIV({"class":"meta-info-card priority"},"\n        ",HTML.H3({"class":"meta-info-card-label-big sub"},Blaze.View("lookup:formattedPriceChange",function(){return Spacebars.mustache(e.lookup("formattedPriceChange"))})," ",HTML.SPAN({"class":function(){return["mata-info-point ",Spacebars.mustache(e.lookup("getPointClass"))," hidden-xs"]}})),"\n        ",HTML.Raw('<p class="meta-info-card-label"><span class="hidden-xs">Price </span><span class="visible-xs">$ </span>Change</p>'),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"col-xs-4 col-md-12"},"\n      ",HTML.DIV({"class":"meta-info-card priority"},"\n        ",HTML.H3({"class":"meta-info-card-label-big sub"},Blaze.View("lookup:formattedPercentageChange",function(){return Spacebars.mustache(e.lookup("formattedPercentageChange"))})," ",HTML.SPAN({"class":function(){return["mata-info-point ",Spacebars.mustache(e.lookup("getPointClass"))," hidden-xs"]}})),"\n        ",HTML.Raw('<p class="meta-info-card-label"><span class="hidden-xs">Percentage </span><span class="visible-xs">% </span>Change</p>'),"\n      "),"\n    "),"\n  ")}),Template.__checkName("securityRelatedPortfolios"),Template.securityRelatedPortfolios=new Template("Template.securityRelatedPortfolios",function(){var e=this;return[Blaze.If(function(){return Spacebars.call(e.lookup("getUsersPortfoliosWithoutSource"))},function(){return["\n  ",HTML.DIV({"class":"col-xs-12 col-sm-6 col-md-12"},"\n    ",HTML.DIV({"class":"meta-info-card"},"\n      ",HTML.DIV({"class":"btn-group btn-block dropdown-btns"},"\n        ",HTML.BUTTON({type:"button","class":"btn btn-block btn-lg btn-default dropdown-toggle wrap","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"\n          Add to Portfolio ",HTML.SPAN({"class":"caret"}),"\n        "),"\n        ",HTML.UL({"class":"dropdown-menu"},"\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("getUsersPortfoliosWithoutSource"))},function(){return["\n          ",HTML.LI(HTML.A({href:"#","class":"js-add-to-existing-portfolio holding-list-item"},Blaze.View("lookup:..name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"name"))})," ",HTML.SPAN({"class":"holding-count"},"(",Blaze.View("lookup:..holdings.length",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"holdings","length"))})," holdings)"))),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  "),"\n  "]}),"\n\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("getUsersPortfoliosWithSource"))},function(){return["\n  ",HTML.DIV({"class":"col-xs-12"},"\n    ",HTML.DIV({"class":"meta-info-card priority"},"\n      ",HTML.P({"class":"meta-info-card-label"},"Your Portfolios with ",Blaze.View("lookup:source.symbol",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("source"),"symbol"))})),"\n      ",HTML.DIV({"class":"related-portfolios"},"\n        ",HTML.UL({"class":"related-portfolios-list"},"\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("getUsersPortfoliosWithSource"))},function(){return["\n            ",HTML.LI({"class":"related-portfolios-item single-line"},"\n              ",Blaze._TemplateWith(function(){return{url:Spacebars.call(e.lookup("getPortfolioUrl"))}},function(){return Spacebars.include(e.lookupTemplate("routerGo"),function(){return["\n                ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n              "]})}),"\n            "),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  "),"\n  "]})]}),Template.__checkName("securityDescription"),Template.securityDescription=new Template("Template.securityDescription",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("getDescription"))},function(){return["\n  ",HTML.DIV({"class":"content-section security-description text-left"},"\n    ",HTML.H3({"class":"left-heading"},"About ",Blaze.View("lookup:source.symbol",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("source"),"symbol"))})),"\n    ",HTML.P({"class":"paragraph"},Blaze.View("lookup:getDescription",function(){return Spacebars.mustache(e.lookup("getDescription"))})),"\n  "),"\n  "]})}),Template.__checkName("securityQuarterlyRevenue"),Template.securityQuarterlyRevenue=new Template("Template.securityQuarterlyRevenue",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("isQuarterlyRevenueHistoryAvailable"))},function(){return["\n    ",HTML.DIV({"class":"content-section security-revenue padding-top text-left padding-right"},"\n      ",HTML.H3({"class":"left-heading"},"Quarterly Revenue History"),"\n      ",HTML.TABLE({"class":"table security-table"},"\n        ",HTML.THEAD("\n          ",HTML.TR("\n            ",HTML.TH({"class":"year"},"Year"),"\n            ",HTML.TH({"class":"quarter"},"Reported Date"),"\n            ",HTML.TH({"class":"revenue"},"Revenue"),"\n            ",HTML.TH({"class":"graph"},HTML.CharRef({html:"&nbsp;",str:" "})),"\n          "),"\n        "),"\n        ",HTML.TBODY("\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("quarterlyRevenueHistory"))},function(){return["\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("."))},function(){return["\n            ",HTML.TR("\n              ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isFirst"),e.lookup("."))},function(){return["\n              ",HTML.TD({"class":"year",rowspan:function(){return Spacebars.mustache(e.lookup("parentLength"))}},Blaze.View("lookup:..year",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"year"))})),"\n              "]}),"\n              ",HTML.TD({"class":"quarter"},Blaze.View("lookup:formatLabel",function(){return Spacebars.mustache(e.lookup("formatLabel"),Spacebars.dot(e.lookup("."),"date"))})),"\n              ",HTML.TD({"class":"revenue"},Blaze.View("lookup:formatRevenue",function(){return Spacebars.mustache(e.lookup("formatRevenue"),Spacebars.dot(e.lookup("."),"revenue"))})),"\n              ",HTML.TD({"class":"graph"},HTML.DIV({"class":"bar",style:function(){return["width: ",Spacebars.mustache(e.lookup("getGraphLength"),Spacebars.dot(e.lookup("."),"revenue"))]}})),"\n            "),"\n            "]}),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  "]})})}).call(this);

(function(){Template.__checkName("stockDetails"),Template.stockDetails=new Template("Template.stockDetails",function(){var a=this;return[Blaze.Each(function(){return Spacebars.call(a.lookup("metadata"))},function(){return["\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("."),"data"))},function(){return["\n      ",HTML.DIV({"class":"meta-info-card col-xs-6 col-md-12"},"\n        ",HTML.P({"class":"meta-info-card-label"},Blaze.View("lookup:..title",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"title"))})),"\n        ",HTML.P({"class":function(){return["meta-info-card-data ",Spacebars.mustache(Spacebars.dot(a.lookup("."),"class"))]}},Blaze.View("lookup:..data",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(a.lookup("."),"data")))})),"\n      "),"\n    "]}),"\n  "]}),"\n\n  ",Spacebars.include(a.lookupTemplate("relatedStockAndFund"))]}),Template.__checkName("relatedStockAndFund"),Template.relatedStockAndFund=new Template("Template.relatedStockAndFund",function(){var a=this;return Blaze.If(function(){return Spacebars.call(a.lookup("isDataAvailable"))},function(){return["\n    ",HTML.DIV({"class":"meta-info-card col-xs-12"},"\n      ",HTML.P({"class":function(){return Blaze.If(function(){return Spacebars.call(a.lookup("status"))},function(){return"meta-info-card-label-base text-center"},function(){return"meta-info-card-label"})}},"More ",Blaze.View("lookup:capitalizeFirst",function(){return Spacebars.mustache(a.lookup("capitalizeFirst"),a.lookup("type"))}),"s"),"\n      ",HTML.P({"class":function(){return["meta-info-card-data ",Blaze.If(function(){return Spacebars.call(a.lookup("status"))},function(){return"text-center"})]}},"\n        ",Blaze.Each(function(){return Spacebars.call(a.lookup("getRelatedStockAndFund"))},function(){return["\n          ",Blaze._TemplateWith(function(){return{url:Spacebars.call(a.lookup("getUrl"))}},function(){return Spacebars.include(a.lookupTemplate("routerGo"),function(){return["\n            ",HTML.SPAN({"class":function(){return["symbol ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup(".."),"status"))},function(){return"lg"},function(){return"base"})]},style:function(){return["background-color: ",Spacebars.mustache(Spacebars.dot(a.lookup("."),"symbolColor")),";"]}},Blaze.View("lookup:..symbol",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"symbol"))})),"\n          "]})}),"\n        "]}),"\n      "),"\n    "),"\n  "]})})}).call(this);

(function(){Template.__checkName("about"),Template.about=new Template("Template.about",function(){var e=this;return HTML.DIV({"class":"js-about view static banner about"},"\n    ",Spacebars.include(e.lookupTemplate("viewIncludes")),"\n    ",HTML.DIV({id:"main"},"\n\n      ",HTML.DIV({"class":"area headline"},"\n        ",HTML.Raw('<div class="bg-fade-in"></div>'),"\n        ",HTML.Raw('<div class="overlay blue"></div>'),"\n        ",HTML.TABLE({"class":"vertical-align banner-content"},HTML.TBODY(HTML.TR(HTML.TD("\n          ",HTML.DIV({"class":"container page-width"},"\n            ",HTML.H1("About"),"\n            ",HTML.P({"class":"lead"},"Investing shouldn't be such a black box.",HTML.SPAN({"class":"desktop"},HTML.CharRef({html:"&nbsp;",str:" "}),"Our mission is to bring data-based investing to the mass.")),"\n          "),"\n        ")))),"\n      "),"\n\n      ",HTML.DIV({"class":"area"},"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>What is Hello Money?</h2>\n            <p>Hello Money is a new way to easily design, share, and track portfolios to become a better investor.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Who needs Hello Money?</h2>\n            <p>94M Americans invest in fund and stocks, without a way to answer simple questions like these.</p>\n            <div class="questions">\n              <div class="hflush question">\n                <div class="face patricia"></div>\n                <div class="bubble">\n                  How does my portfolio compare to others?\n                  <div class="triangle-left"></div>\n                </div>\n              </div>\n              <div class="hflush question">\n                <div class="bubble">\n                  How much am I paying in fees across my accounts?\n                  <div class="triangle-right"></div>\n                </div>\n                <div class="face mary"></div>\n              </div>\n              <div class="hflush question">\n                <div class="face travis"></div>\n                <div class="bubble">\n                  Do international funds help me in a downturn?\n                  <div class="triangle-left"></div>\n                </div>\n              </div>\n              <div class="hflush question">\n                <div class="bubble">\n                  What good and bad companies am I invested in?\n                  <div class="triangle-right"></div>\n                </div>\n                <div class="face jef"></div>\n              </div>\n            </div>\n            <p>That 94M includes us, and probably you too. And we decided to build a tool that helps us answer these questions.</p>\n            <p>What if building portfolios was more like playing with LEGOs? What if it was dramatically easier to tinker with investments and get quality peer feedback?</p>\n            <p>We believe people are smart, and smart people deserve smart tools.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Three things we believe in.</h2>\n            <h3>1. Build to think</h3>\n            <p>People are smart, and people can figure out investing with the right tools. And we believe the best way to learn is to play with it. Put together portfolios to understand the relationships between input (holdings) and output (performances).</p>\n            <h3>2. Share to learn</h3>\n            <p>Learning happens faster together, and that\'s why we made it easy to share portfolios with unique links. Post it to Reddit, email it to your partner, see how people invest and why.</p>\n            <h3>3. Make it yours</h3>\n            <p>Yes, there are ways of designing generic portfolios and optimizing them based on Nobel-prize winning theories. However, you deserve to own that decision instead of just being told what to do. Furthermore, you have the rights to design unique portfolios that meet your personal needs and interests.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.SECTION("\n          ",HTML.DIV({"class":"container page-width-narrow"},"\n            ",HTML.Raw("<h2>Who's building Hello Money?</h2>"),"\n            ",HTML.P("Hello Money is made in ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),"http://j.mp/lab80sf")},target:"_blank"},"San Francisco")," and ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),"http://j.mp/lab80seoul-2015")},target:"_blank"},"Seoul")," by ",HTML.Raw('<a href="http://lab80.co">Lab80</a>'),", a small team led by a ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),"http://www.linkedin.com/in/keywon")},target:"_blank"},"designer")," (",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),"http://twitter.com/keywonc")},target:"_blank"},"@keywonc"),") and a ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),"http://www.linkedin.com/in/shilman")},target:"_blank"},"computer scientist")," (",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),"http://twitter.com/mshilman")},target:"_blank"},"@mshilman"),")."),"\n            ",HTML.Raw('<div class="mikey"></div>'),"\n            ",HTML.Raw('<div class="divider"></div>'),"\n          "),"\n        "),"\n        ",HTML.SECTION("\n          ",HTML.DIV({"class":"container page-width-narrow"},"\n            ",HTML.Raw("<h2>Join the movement.</h2>"),"\n            ",HTML.Raw("<p>Try Hello Money, and let us know what you think!</p>"),"\n            ",HTML.Raw("<h3>Create &amp; discuss portfolio ideas.</h3>"),"\n            ",HTML.P("Every portfolio you create gets a unique URL, so that you can share it on ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),"http://reddit.com/r/investing")},target:"_blank"},"Reddit"),", Twitter, Facebook, or just via email."),"\n            ",HTML.Raw("<h3>Help us improve our Beta.</h3>"),"\n            ",HTML.Raw('<p>Do you see a missing fund or stock? Have a suggestion or question? <a href="mailto:hellomoney@lab80.co">Let us know.</a></p>'),"\n          "),"\n        "),"\n      "),"\n      ",Spacebars.include(e.lookupTemplate("inlineSocialSignin")),"\n    "),"\n    ",Spacebars.include(e.lookupTemplate("footer")),"\n  ")})}).call(this);

(function(){Template.__checkName("privacy"),Template.privacy=new Template("Template.privacy",function(){var e=this;return HTML.DIV({"class":"js-privacy view static banner privacy"},"\n    ",Spacebars.include(e.lookupTemplate("viewIncludes")),"\n    ",HTML.DIV({id:"main"},"\n      ",HTML.DIV({"class":"area headline"},"\n        ",HTML.Raw('<div class="bg-fade-in"></div>'),"\n        ",HTML.Raw('<div class="overlay blue"></div>'),"\n        ",HTML.TABLE({"class":"vertical-align banner-content"},HTML.TBODY(HTML.TR(HTML.TD("\n          ",HTML.DIV({"class":"container page-width"},"\n            ",HTML.H1("Privacy Policy"),"\n            ",HTML.P({"class":"lead"},"Your privacy is ",HTML.SPAN({"class":"desktop"},"critically",HTML.CharRef({html:"&nbsp;",str:" "})),"important to us."),"\n          "),"\n        ")))),"\n      "),"\n\n      ",HTML.DIV({"class":"area"},"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Contact Us</h2>\n            <p>If you have questions about deleting or correcting your personal data please contact us at <a href="mailto:hellomoney@lab80.co">hellomoney@lab80.co</a>.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Our Principles</h2>\n            <p>Lab80, LLC ("Lab80") operates websites including <a href="http://lab80.co">lab80.co</a>, <a href="https://hellomoney.co">hellomoney.co</a>, and <a href="http://goodbyegunstocks.com">goodbyegunstocks.com</a>. It is Lab80’s policy to respect your privacy regarding any information we may collect while operating our websites. At Lab80 we have a few fundamental principles:</p>\n            <ul>\n              <li>\n                We don’t ask you for personal information unless we truly need it.\n              </li>\n              <li>\n                We don’t share your personal information with anyone except to comply with the law, develop our products, or protect our rights.\n              </li>\n              <li>\n                We don’t store personal information on our servers unless required for the on-going operation of one of our services.\n              </li>\n              <li>\n                In our products, we aim to make it as simple as possible for you to control what’s visible to the public, seen by search engines, kept private, and permanently deleted.\n              </li>\n            </ul>\n            <p>\n              Below is our privacy policy which incorporates these goals.\n            </p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Website Visitors</h2>\n            <p>Like most website operators, Lab80 collects non-personally-identifying information of the sort that web browsers and servers typically make available, such as the browser type, language preference, referring site, and the date and time of each visitor request. Lab80’s purpose in collecting non-personally identifying information is to better understand how Lab80’s visitors use its website. From time to time, Lab80 may release non-personally-identifying information in the aggregate, e.g., by publishing a report on trends in the usage of its website.</p>\n            <p>Lab80 also collects potentially personally-identifying information like Internet Protocol (IP) addresses for logged in users and for users leaving comments.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Gathering of Personally-Identifying Information</h2>\n            <p>Certain visitors to Lab80’s websites choose to interact with Lab80 in ways that require Lab80 to gather personally-identifying information. The amount and type of information that Lab80 gathers depends on the nature of the interaction. For example, visitors who sign up at <a href="https://hellomoney.co">hellomoney.co</a> may provide us with their name, email address, and the basic information in their social networks. Those who engage in transactions with Lab80 may be asked to provide additional information, including as necessary the personal and financial information required to process those transactions. In each case, Lab80 collects such information only insofar as is necessary or appropriate to fulfill the purpose of the visitor’s interaction with Lab80. Lab80 does not disclose personally-identifying information other than as described below. And visitors can always refuse to supply personally-identifying information, with the caveat that it may prevent them from engaging in certain website-related activities.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Aggregated Statistics</h2>\n            <p>Lab80 may collect statistics about the behavior of visitors to its websites. For instance, Lab80 may monitor the most active users on the <a href="http://hellomoney.co">hellomoney.co</a> site. Lab80 may display this information publicly or provide it to others. However, Lab80 does not disclose personally-identifying information other than as described below.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Protection of Certain Personally-Identifying Information</h2>\n            <p>Lab80 discloses potentially personally-identifying and personally-identifying information only to those of its employees, contractors and affiliated organizations that (i) need to know that information in order to process it on Lab80’s behalf or to provide services available at Lab80’s websites, and (ii) that have agreed not to disclose it to others. Some of those employees, contractors and affiliated organizations may be located outside of your home country; by using Lab80’s websites, you consent to the transfer of such information to them. Lab80 will not rent or sell potentially personally-identifying and personally-identifying information to anyone. Other than to its employees, contractors and affiliated organizations, as described above, Lab80 discloses potentially personally-identifying and personally-identifying information only in response to a subpoena, court order or other governmental request, or when Lab80 believes in good faith that disclosure is reasonably necessary to protect the property or rights of Lab80, third parties or the public at large. If you are a registered user of an Lab80 website and have supplied your email address, Lab80 may occasionally send you an email to tell you about new features, solicit your feedback, or just keep you up to date with what’s going on with Lab80 and our products. We primarily use our various social media pages or blogs to communicate this type of information, so we expect to keep this type of email to a minimum. If you send us a request (for example via a support email or via one of our feedback mechanisms), we reserve the right to publish it in order to help us clarify or respond to your request or to help us support other users. Lab80 takes all measures reasonably necessary to protect against the unauthorized access, use, alteration or destruction of potentially personally-identifying and personally-identifying information.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Cookies</h2>\n            <p>A cookie is a string of information that a website stores on a visitor’s computer, and that the visitor’s browser provides to the website each time the visitor returns. Lab80 uses cookies to help Lab80 identify and track visitors, their usage of Lab80 website, and their website access preferences. Lab80 visitors who do not wish to have cookies placed on their computers should set their browsers to refuse cookies before using Lab80’s websites, with the drawback that certain features of Lab80’s websites may not function properly without the aid of cookies.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Business Transfers</h2>\n            <p>If Lab80, or substantially all of its assets, were acquired, or in the unlikely event that Lab80 goes out of business or enters bankruptcy, user information would be one of the assets that is transferred or acquired by a third party. You acknowledge that such transfers may occur, and that any acquirer of Lab80 may continue to use your personal information as set forth in this policy.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Ads</h2>\n            <p>Ads appearing on any of our websites may be delivered to users by advertising partners, who may set cookies. These cookies allow the ad server to recognize your computer each time they send you an online advertisement to compile information about you or others who use your computer. This information allows ad networks to, among other things, deliver targeted advertisements that they believe will be of most interest to you. This Privacy Policy covers the use of cookies by Lab80 and does not cover the use of cookies by any advertisers.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Privacy Policy Changes</h2>\n            <p>Although most changes are likely to be minor, Lab80 may change its Privacy Policy from time to time, and in Lab80’s sole discretion. Lab80 encourages visitors to frequently check this page for any changes to its Privacy Policy. Your continued use of this site after any change in this Privacy Policy will constitute your acceptance of such change.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.SECTION("\n          ",HTML.DIV({"class":"container page-width-narrow"},"\n            ",HTML.Raw("<h2>Creative Commons</h2>"),"\n            ",HTML.P("This policy is based on ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),"http://automattic.com/privacy/")},target:"_blank"},"Automattic’s Privacy Policy")," available under a Creative Commons Sharealike license, which means you’re more than welcome to steal it and repurpose it for your own use, just make sure to replace references to us with ones to you."),"\n            ",HTML.Raw('<div class="divider"></div>'),"\n          "),"\n        "),"\n      "),"\n    "),"\n    ",Spacebars.include(e.lookupTemplate("footer")),"\n  ")})}).call(this);

(function(){Template.__checkName("termsOfService"),Template.termsOfService=new Template("Template.termsOfService",function(){var e=this;return HTML.DIV({"class":"js-privacy view static banner terms-of-service"},"\n    ",Spacebars.include(e.lookupTemplate("viewIncludes")),"\n    ",HTML.DIV({id:"main"},"\n      ",HTML.DIV({"class":"area headline"},"\n        ",HTML.Raw('<div class="bg-fade-in"></div>'),"\n        ",HTML.Raw('<div class="overlay blue"></div>'),"\n        ",HTML.TABLE({"class":"vertical-align banner-content"},HTML.TBODY(HTML.TR(HTML.TD("\n          ",HTML.DIV({"class":"container page-width"},"\n            ",HTML.H1("Terms of Service"),"\n            ",HTML.P({"class":"lead"},HTML.SPAN({"class":"desktop"},"We hate legalese, so we tried to make ours readable.",HTML.CharRef({html:"&nbsp;",str:" "})),"If you have any questions, ask us, and we'll do our best to answer."),"\n          "),"\n        ")))),"\n      "),"\n\n      ",HTML.DIV({"class":"area"},"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>Introduction</h2>\n            <p>Lab80, LLC ("we", "us", "our", "Lab80") presents the following terms and conditions, which govern your use of the Lab80 site (Website), and all content, services and products available at or through the Website, including but not limited to <a href="http://lab80.co">lab80.co</a>, <a href="https://hellomoney.co">hellomoney.co</a>, and <a href="https://goodbyegunstocks.com">goodbyegunstocks.com</a>.</p>\n            <p>The Website is offered subject to your acceptance, without modification, of all of the terms and conditions contained within, along with all other operating rules, policies (including, without limitation, Lab80\'s <a href="/privacy">Privacy Policy</a>) and procedures that may be published from time to time on this Website by us (collectively, the Agreement).</p>\n            <p>Please read this Agreement carefully before accessing or using the Website. By accessing or using any part of the Website, you agree that you\'re bound by the terms and conditions of this Agreement. If you do not agree to all the terms and conditions of this Agreement, then you may not access the Website or use any services. If these terms and conditions are considered an offer by Lab80, acceptance is expressly limited to these terms.</p>\n            <p>If you operate an account, comment on an account, post material to the Website, post links on the Website, or otherwise make (or allow any third party to make) material available by means of the Website (any such material, also known as "Content"), you are entirely responsible for that Content and any harm that may result from it. That is the case regardless of whether the Content in question constitutes text, graphics, an audio file, a video file, or computer software.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>I. Your Account</h2>\n            <p>If you create an account on the Website, you are responsible for maintaining the security of your account. You are responsible for all activities that occur under the account and any other actions taken in connection with the account. You must take reasonable steps to guard the security of your account. We will not be liable for any acts or omissions resulting from a breach of security, including any damages of any kind incurred as a result of such acts or omissions.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>II. Account Structure</h2>\n            <p>Lab80 currently provides user accounts free of charge. By using this Service, you agree to this account structure, and to Lab80\'s right to change, modify, or discontinue any type of account or the features available to it at any time.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>III. Privacy Policy</h2>\n            <p>Your use of the Website is governed by the Privacy Policy, currently located at <a href="/privacy">https://hellomoney.co/privacy</a>.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>IV. Indemnity</h2>\n            <p>You agree to indemnify and hold harmless Lab80, LLC, its contractors, its licensors, and their respective directors, officers, employees and agents from and against any and all claims and expenses, including attorneys\' fees, arising out of your use of the Website, including but not limited to out of your violation of this Agreement.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>V. Termination</h2>\n            <p>We may terminate your access to all or any part of the Website at any time, at our sole discretion, if we believe that you have violated this Agreement. You agree that any termination of your access to the Website may involve removing or discarding any content you have provided. We may, at our sole discretion, discontinue providing the Website at any time, with or without notice.</p>\n            <p>If you wish to terminate this Agreement, you may delete your account and cease using the Website. You agree that, upon deletion of your account, we may, but are not required to, remove any content you have provided, at any time past the deletion of your account.</p>\n            <p>All provisions of this Agreement which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>VI. License to Reproduce Content</h2>\n            <p>By submitting Content to us for inclusion on the Website, you grant us a world-wide, royalty-free, and non-exclusive license to reproduce, modify, adapt and publish the Content, solely for the purpose of displaying, distributing and promoting the contents of your account, including through downloadable clients and external feeds.</p>\n            <p>If you delete Content, we will use reasonable efforts to remove it from the Website, but you acknowledge that caching or references to the Content may not be made immediately unavailable.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>VII. Account Content</h2>\n            <p>You agree to the following provisions for posting Content to the Website:</p>\n            <ol>\n              <li>We claim no ownership or control over any Content that you post to the Website. You retain any intellectual property rights to the Content you post, in accordance with applicable law. By posting Content, you represent that you have the rights to reproduce that Content (and the right to allow us to serve such Content) without violation of the rights of any third party. You agree that you will bear any liability resulting from the posting of any Content that you do not have the rights to post.</li>\n              <li>All Content posted to the Website in any way is the responsibility of the owner. Within the confines of international and local law, we will generally not place a restriction on the type or appropriateness of any Content. If Content is deemed illegal by any law having jurisdiction over you, you agree that we may submit any necessary information to the proper authorities.</li>\n              <li>We do not pre-screen Content. However, you acknowledge that we have the right (but not the obligation), in our sole discretion, to remove or refuse to remove any Content from the service. You also agree that we may, without limitation, take any steps necessary to remove Content from the site search engine or member directory, at our sole discretion.</li>\n              <li>If any Content you have submitted is reported to us as violating this Agreement, you agree that we may call upon you to change, modify, or remove that Content, within a reasonable amount of time, as defined by us. If you do not follow this directive, we may terminate your account.</li>\n            </ol>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>VIII. Content Posted on Other Websites</h2>\n            <p>We have not reviewed, and cannot review, all of the material, including computer software, made available through the websites and webpages to which we, any user, or any provider of Content links, or that link to us. We do not have any control over those websites and webpages, and are not responsible for their contents or their use. By linking to an external website or webpage, we do not represent or imply that we endorse such website or webpage. You are responsible for taking precautions as necessary to protect yourself and your computer systems from viruses, worms, Trojan horses, and other harmful or destructive content. We disclaim any responsibility for any harm resulting from your use of external websites and webpages, whether that link is provided by us or by any provider of Content on the Website.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>IX. No Resale of Services</h2>\n            <p>You agree not to reproduce, duplicate, copy, sell, resell, or exploit any portion of the Website, use of the Website, or access to the Website.</p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>X. Exposure to Content</h2>\n            <p>\n              You agree that by using the service, you may be exposed to Content you find offensive or objectionable. If such Content is reported to us, it will be our sole discretion as to what action, if any, should be taken.\n            </p>\n\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>XI. Member Conduct</h2>\n            <p>\n              You agree that you will not use the Website to:\n            </p>\n            <ol>\n              <li>\n                Upload, post, or otherwise transmit any Content that is harmful, threatening, abusive, hateful, invasive to the privacy and publicity rights of any person, or that violates any applicable local, state, national, or international law, including any regulation having the force of law;\n\n              </li>\n              <li>\n                Upload, post, or otherwise transmit any Content that is spam, or contains unethical or unwanted commercial content designed to drive traffic to third party sites or boost the search engine rankings of third party sites, or to further unlawful acts (such as phishing) or mislead recipients as to the source of the material (such as spoofing);\n              </li>\n              <li>\n                Maliciously impersonate any real person or entity, including but not limited to a Lab80 staff member or volunteer, or to otherwise misrepresent your affiliation with any person or entity;\n              </li>\n              <li>\n                Upload, post or otherwise transmit any Content that you do not have a right to transmit under any law or under contractual or fiduciary relationships (such as inside information, proprietary and confidential information learned or disclosed as part of employment relationships or under nondisclosure agreements);\n              </li>\n              <li>\n                Upload, post or otherwise transmit any Content that infringes any patent, trademark, trade secret, copyright, or other proprietary rights of any party;\n              </li>\n              <li>\n                Interfere with or disrupt the Website or servers or networks connected to the Website, or disobey any requirements, procedures, policies or regulations of networks connected to the Website;\n              </li>\n              <li>\n                Solicit passwords or personal identifying information for unintended, commercial or unlawful purposes from other users;\n              </li>\n              <li>\n                Provide any material that is illegal under United States law;\n              </li>\n              <li>\n                Upload, post or otherwise transmit any Content that contains viruses, worms, malware, Trojan horses or other harmful or destructive content;\n              </li>\n              <li>\n                Allow usage by others in such a way as to violate this Agreement;\n              </li>\n              <li>\n                Make excessive or otherwise harmful automated use of the Website;\n              </li>\n              <li>\n                Access any other person\'s account, or exceed the scope of the Website that you have signed up for; for example, accessing and using features you don\'t have a right to use.\n              </li>\n            </ol>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>XII. Copyright Infringement</h2>\n            <p>\n              If you believe that material located on the Website violates your copyright, you may notify us in accordance with our Digital Millennium Copyright Act (\'DMCA\') Policy. We will respond to all such notices as required by law, including by removing the infringing material or disabling access to the infringing material. As set forth by law, we will, in our sole discretion, terminate or deny access to the Website to users of the site who have infringed upon the copyrights or intellectual property rights of others.\n            </p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n\n            <h2>XIII. Volunteers</h2>\n            <p>\n              We appreciate the service of volunteers in many aspects of Website management, including but not limited to providing technical support, creating web-based content, performing site administration duties, providing expert advice, research, technical writing, reviewing, categorizing, and other duties as necessary.\n            </p>\n            <p>\n              All volunteers are expected to be of legal age, or volunteering with the consent of a legal parent or guardian\n            </p>\n            <p>\n              By volunteering, you agree that any work created as a result of your volunteer service shall be licensed to Lab80 on a perpetual, irrevocable, and world-wide basis, to the extent permitted by law. You agree that Lab80 may determine the basis upon which your volunteer work shall be licensed to others, including under Open Source licenses that may permit the further alteration or dissemination of your work. If laws prevent such licensing, you agree never to sue Lab80 for the use of said work.\n            </p>\n            <p>\n              By volunteering, you agree that you are providing your work with no expectation of pay or future consideration by Lab80. You also agree that you have taken reasonable diligence to ensure that the work is correct, accurate, and free of defect. You agree that you will not disclose or share any proprietary or confidential information you are provided with in the course of your volunteer work.\n            </p>\n            <p>\n              No user is required to volunteer for the Website, and users without volunteer status will receive equal care, support, and attention.\n            </p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>XIV. Changes</h2>\n            <p>\n              We reserve the right, at our sole discretion, to modify or replace any part of this Agreement at any time. We will take reasonable steps to notify you of any substantial changes to this Agreement; however, it is your responsibility to check this Agreement periodically for changes. Your continued use of or access to the Website following the posting of any changes to this Agreement constitutes acceptance of those changes.\n            </p>\n            <p>\n              We may also, in the future, offer new services and/or features through the Website (including the release of new tools and resources). Such new features and/or services shall be subject to the terms and conditions of this Agreement.\n            </p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n\n            <h2>XV. Disclaimer of Warranties</h2>\n            <p>\n              This Website is provided "as is". Lab80, LLC and its suppliers and licensors hereby disclaim all warranties of any kind, express or implied, including, without limitation, the warranties of merchantability, fitness for a particular purpose and non-infringement. Neither Lab80, LLC, nor its suppliers and licensors, makes any warranty that the Website will be error free or that access to the Website will be continuous or uninterrupted. You agree that any interruptions to the service will not qualify for reimbursement or compensation. You understand that you download from, or otherwise obtain content or services through, the Website at your own discretion and risk.\n            </p>\n            <p>\n              No advice or information, whether oral or written, obtained by you in any fashion shall create any warranty not expressly stated in this Agreement.\n            </p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n\n            <h2>XVI. Limitation of Liability</h2>\n            <p>\n              You expressly understand and agree that in no event will Lab80, LLC, or its suppliers or licensors, be liable with respect to any subject matter of this agreement under any contract, negligence, strict liability or other legal or equitable theory for: (i) any special, incidental or consequential damages; (ii) the cost of procurement or substitute products or services; (iii) interruption of use or loss or corruption of data; (iv) any statements or conduct of any third party on the service; or (v) any unauthorized access to or alterations of your Content. We shall have no liability for any failure or delay due to matters beyond our reasonable control.\n            </p>\n            <p>\n              The foregoing shall not apply to the extent prohibited by applicable law.\n            </p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>XVII. General Information</h2>\n            <p>\n              This Agreement constitutes the entire agreement between us and you concerning your use of the Website. This Agreement may only be modified by a written amendment signed by an authorized representative of Lab80, LLC, or by the posting of a revised version to this location. Except to the extent that applicable law (if any) provides otherwise, any dispute arising between you and Lab80, LLC regarding these Terms of Service and/or your use or access of the Website will be governed by the laws of the state of California and the federal laws of the United States of America, excluding any conflict of law provisions. You agree to submit to the jurisdiction of the state and federal courts located in Albany, California for any disputes arising out of or relating to your use of the Website or your acceptance of this Agreement.\n            </p>\n            <p>\n              If any part of this Agreement is held invalid or unenforceable, that part will be construed to reflect original intent of the parties, and the remaining portions will remain in full force and effect. A waiver by either party of any term or condition of this Agreement or any breach thereof, in any one instance, will not waive such term or condition or any subsequent breach thereof.\n            </p>\n            <p>\n              The section titles in this Agreement are for convenience only and have no legal or contractual effect.\n            </p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.Raw('<section>\n          <div class="container page-width-narrow">\n            <h2>XVIII. Reporting Violations</h2>\n            <p>\n              To report a violation of this Agreement, please email us at <a href="mailto:hellomoney@lab80.co">hellomoney@lab80.co</a>.\n            </p>\n            <div class="divider"></div>\n          </div>\n        </section>'),"\n        ",HTML.SECTION("\n          ",HTML.DIV({"class":"container page-width-narrow"},"\n            ",HTML.Raw("<h2>XIX. Creative Commons</h2>"),"\n            ",HTML.P("\n              This Terms of Service document is based on one developed by Dreamwidth (",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),"http://www.dreamwidth.org/legal/tos")},target:"_blank"},"www.dreamwidth.org/legal/tos"),") and Automattic (",HTML.A({href:function(){return Spacebars.mustache(e.lookup("outlink"),"http://wordpress.com/tos/")},target:"_blank"},"wordpress.com/tos/"),") and is licensed under a Creative Commons Attribution-ShareAlike 2.5 License.\n            "),"\n            ",HTML.Raw('<div class="divider"></div>'),"\n          "),"\n        "),"\n      "),"\n\n      ",Spacebars.include(e.lookupTemplate("footer")),"\n    "),"\n  ")})}).call(this);

(function(){Template.__checkName("profile"),Template.profile=new Template("Template.profile",function(){var e=this;return HTML.DIV({"class":"js-profile view banner profile"},"\n    ",Spacebars.include(e.lookupTemplate("viewIncludes")),"\n    ",HTML.DIV({id:"main"},"\n      ",HTML.DIV({"class":"area headline"},"\n        ",HTML.Raw('<div class="bg-fade-in"></div>'),"\n        ",HTML.Raw('<div class="overlay blue"></div>'),"\n        ",HTML.TABLE({"class":"vertical-align banner-content"},HTML.TBODY(HTML.TR(HTML.TD("\n          ",HTML.DIV({"class":"container page-width"},"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("isCurrentUser"))},function(){return["\n            ",HTML.SPAN({"class":"label label-primary label-lg"},"YOU"),"\n            "]}),"\n            ",HTML.H1("\n              ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("subsReady"),Spacebars.kw({subs:"profileUser"}))},function(){return["\n                ",Blaze.View("lookup:profileUser.displayName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profileUser"),"displayName"))}),"\n              "]}),"\n            "),"\n            ",HTML.P({"class":"lead hflush yours"},"\n              ",HTML.IMG({"class":"user-badge",src:"/img/icon-badge.svg"}),"\n              ",HTML.SPAN({"class":"btn-text"},"Early Adopter"),"\n            "),"\n          "),"\n        ")))),"\n      "),"\n      ",HTML.DIV({"class":"area"},"\n        ",HTML.DIV({"class":"container page-width"},"\n          ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("subsReady"),Spacebars.kw({subs:"portfolios"}))},function(){return["\n          ",HTML.H2("\n            Created Portfolios\n            ",HTML.SPAN({"class":"pf-count badge"},Blaze.View("lookup:profileUser.profile.portfolioCount",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profileUser"),"profile","portfolioCount"))})),"\n          "),"\n\n          ",Blaze._TemplateWith(function(){return{cardTemplate:Spacebars.call("deletableMediumPortfolioCard"),portfolios:Spacebars.call(e.lookup("portfolios")),tag:Spacebars.call("profile"),displayNewPortfolioButton:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("portfolioCards"))}),"\n          "]},function(){return["\n          ",Spacebars.include(e.lookupTemplate("loadingAnimation")),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n    ",Spacebars.include(e.lookupTemplate("footer")),"\n  ")})}).call(this);

(function(){Template.__checkName("userSettings"),Template.userSettings=new Template("Template.userSettings",function(){var a=this;return HTML.DIV({"class":"js-user-settings view banner user-settings"},"\n    ",Spacebars.include(a.lookupTemplate("viewIncludes")),"\n    ",HTML.DIV({id:"main"},"\n      ",HTML.DIV({"class":"area headline"},"\n        ",HTML.Raw('<div class="bg-fade-in"></div>'),"\n        ",HTML.Raw('<div class="overlay blue"></div>'),"\n        ",HTML.TABLE({"class":"vertical-align banner-content"},HTML.TBODY(HTML.TR(HTML.TD("\n          ",HTML.DIV({"class":"container page-width"},"\n            ",HTML.H1("Settings"),"\n          "),"\n        ")))),"\n      "),"\n      ",HTML.DIV({"class":"area"},"\n        ",HTML.DIV({"class":"container page-width border-bottom npt"},"\n          ",Spacebars.include(a.lookupTemplate("userUpdateInfo")),"\n        "),"\n        ",Blaze.Unless(function(){return Spacebars.call(a.lookup("socialUser"))},function(){return["\n          ",HTML.DIV({"class":"container page-width border-bottom npb"},"\n            ",Spacebars.include(a.lookupTemplate("userChangePassword")),"\n          "),"\n        "]}),"\n      "),"\n    "),"\n    ",Spacebars.include(a.lookupTemplate("footer")),"\n  ")}),Template.__checkName("userUpdateInfo"),Template.userUpdateInfo=new Template("Template.userUpdateInfo",function(){var a=this;return[HTML.Raw('<h2>\n    <span class="glyphicon glyphicon-user"></span>\n    <span class="btn-text">Edit Profile</span>\n  </h2>\n  <p class="h2-caption">This is displayed on your profile.</p>\n  '),Blaze.If(function(){return Spacebars.call(a.lookup("user"))},function(){return["\n    ",Blaze._TemplateWith(function(){return{collection:Spacebars.call("Users"),data:Spacebars.call(a.lookup("user")),"class":Spacebars.call("js-profile-form"),action:Spacebars.call(a.lookup("updateName")),status:Spacebars.call(a.lookup("formStatus"))}},function(){return Spacebars.include(a.lookupTemplate("simpleForm"),function(){return["\n      ",HTML.DIV({"class":"row"},"\n        ",HTML.DIV({"class":"form-group col-xs-12 col-md-6 firstname"},"\n          ",Blaze._TemplateWith(function(){return{field:Spacebars.call("profile.firstName"),"class":Spacebars.call("input-lg"),placeholder:Spacebars.call("First")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n        "),"\n        ",HTML.DIV({"class":"form-group col-xs-12 col-md-6 lastname"},"\n          ",Blaze._TemplateWith(function(){return{field:Spacebars.call("profile.lastName"),"class":Spacebars.call("input-lg"),placeholder:Spacebars.call("Last")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"actions pull-right"},"\n        ",HTML.BUTTON({type:"submit","class":function(){return["btn btn-primary btn-lg ",Blaze.Unless(function(){return Spacebars.call(a.lookup("isFormValid"))},function(){return"disabled"})]}},"Update"),"\n      "),"\n    "]})}),"\n  "]})]}),Template.__checkName("userChangePassword"),Template.userChangePassword=new Template("Template.userChangePassword",function(){var a=this;return[HTML.Raw('<h2>\n    <span class="glyphicon glyphicon-lock"></span>\n    <span class="btn-text">Change Password</span>\n  </h2>\n  '),Blaze._TemplateWith(function(){return{schema:Spacebars.call("UserValidationSchema"),data:Spacebars.call(a.lookup("user")),"class":Spacebars.call("js-password-form"),action:Spacebars.call(a.lookup("changePassword")),status:Spacebars.call(a.lookup("formStatus"))}},function(){return Spacebars.include(a.lookupTemplate("simpleForm"),function(){return["\n    ",HTML.DIV({"class":"row"},"\n      ",HTML.DIV({"class":"col-xs-12 password-old"},"\n        ",Blaze._TemplateWith(function(){return{label:Spacebars.call("Current Password"),type:Spacebars.call("password"),field:Spacebars.call("oldPassword"),"class":Spacebars.call("js-current-password input-lg")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"row"},"\n      ",HTML.DIV({"class":"col-xs-12 password-new1"},"\n        ",Blaze._TemplateWith(function(){return{label:Spacebars.call("New Password"),type:Spacebars.call("password"),field:Spacebars.call("password"),"class":Spacebars.call("input-lg js-password"),hint:Spacebars.call("8-20 chars, numbers, special characters.")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"row"},"\n      ",HTML.DIV({"class":"col-xs-12 password-new2"},"\n        ",Blaze._TemplateWith(function(){return{label:Spacebars.call("New Password (again)"),type:Spacebars.call("password"),field:Spacebars.call("passwordConfirmation"),confirmation:Spacebars.call("password"),"class":Spacebars.call("input-lg"),hint:Spacebars.call("8-20 chars, numbers, special characters.")}},function(){return Spacebars.include(a.lookupTemplate("simpleInput"))}),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"actions pull-right"},"\n      ",HTML.BUTTON({type:"submit","class":function(){return["btn btn-primary btn-lg js-password-btn validate ",Blaze.Unless(function(){return Spacebars.call(a.lookup("isFormValid"))},function(){return"disabled"})]}},"Change"),"\n    "),"\n  "]})})]})}).call(this);

(function(){Template.__checkName("routerGo"),Template.routerGo=new Template("Template.routerGo",function(){var e=this;return HTML.A({href:"#"},"\n    ",Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})}),"\n  ")})}).call(this);

(function(){!function(t,i){if("function"==typeof define&&define.amd)define(["jquery"],i);else if("object"==typeof module&&module.exports){var e;try{e=require("jquery")}catch(s){e=null}module.exports=i(e)}else t.Slider=i(t.jQuery)}(this,function(t){var i;return function(t){"use strict";function i(){}function e(t){function e(i){i.prototype.option||(i.prototype.option=function(i){t.isPlainObject(i)&&(this.options=t.extend(!0,this.options,i))})}function o(i,e){t.fn[i]=function(o){if("string"==typeof o){for(var h=s.call(arguments,1),a=0,l=this.length;l>a;a++){var r=this[a],p=t.data(r,i);if(p)if(t.isFunction(p[o])&&"_"!==o.charAt(0)){var d=p[o].apply(p,h);if(void 0!==d&&d!==p)return d}else n("no such method '"+o+"' for "+i+" instance");else n("cannot call methods on "+i+" prior to initialization; attempted to call '"+o+"'")}return this}var c=this.map(function(){var s=t.data(this,i);return s?(s.option(o),s._init()):(s=new e(this,o),t.data(this,i,s)),t(this)});return!c||c.length>1?c:c[0]}}if(t){var n="undefined"==typeof console?i:function(t){console.error(t)};return t.bridget=function(t,i){e(i),o(t,i)},t.bridget}}var s=Array.prototype.slice;e(t)}(t),function(t){function e(i,e){function s(t,i){var e="data-slider-"+i.replace(/_/g,"-"),s=t.getAttribute(e);try{return JSON.parse(s)}catch(o){return s}}"string"==typeof i?this.element=document.querySelector(i):i instanceof HTMLElement&&(this.element=i),e=e?e:{};for(var n=Object.keys(this.defaultOptions),h=0;h<n.length;h++){var a=n[h],l=e[a];l="undefined"!=typeof l?l:s(this.element,a),l=null!==l?l:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=l}var r=this.element.style.width,p=!1,d=this.element.parentNode,c,u,m,v,f;if(this.sliderElem)p=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var _=document.createElement("div");if(_.className="slider-track",u=document.createElement("div"),u.className="slider-track-low",c=document.createElement("div"),c.className="slider-selection",m=document.createElement("div"),m.className="slider-track-high",v=document.createElement("div"),v.className="slider-handle min-slider-handle",f=document.createElement("div"),f.className="slider-handle max-slider-handle",_.appendChild(u),_.appendChild(c),_.appendChild(m),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(h=0;h<this.options.ticks.length;h++){var g=document.createElement("div");g.className="slider-tick",this.ticks.push(g),_.appendChild(g)}c.className+=" tick-slider-selection"}if(_.appendChild(v),_.appendChild(f),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",h=0;h<this.options.ticks_labels.length;h++){var y=document.createElement("div");y.className="slider-tick-label",y.innerHTML=this.options.ticks_labels[h],this.tickLabels.push(y),this.tickLabelContainer.appendChild(y)}var k=function(t){var i=document.createElement("div");i.className="tooltip-arrow";var e=document.createElement("div");e.className="tooltip-inner",t.appendChild(i),t.appendChild(e)},b=document.createElement("div");b.className="tooltip tooltip-main",k(b);var E=document.createElement("div");E.className="tooltip tooltip-min",k(E);var x=document.createElement("div");x.className="tooltip tooltip-max",k(x),this.sliderElem.appendChild(_),this.sliderElem.appendChild(b),this.sliderElem.appendChild(E),this.sliderElem.appendChild(x),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),d.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),o[this.options.scale]&&(this.options.scale=o[this.options.scale]),p===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this._addClass(this.tooltip,"right"),this.tooltip.style.left="100%",this._addClass(this.tooltip_min,"right"),this.tooltip_min.style.left="100%",this._addClass(this.tooltip_max,"right"),this.tooltip_max.style.left="100%"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=r,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this._addClass(this.tooltip,"top"),this.tooltip.style.top=-this.tooltip.outerHeight-14+"px",this._addClass(this.tooltip_min,"top"),this.tooltip_min.style.top=-this.tooltip_min.outerHeight-14+"px",this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=-this.tooltip_max.outerHeight-14+"px"),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?this.options.range=!0:this.options.range&&(this.options.value=[this.options.value,this.options.max]),this.trackLow=u||this.trackLow,this.trackSelection=c||this.trackSelection,this.trackHigh=m||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=v||this.handle1,this.handle2=f||this.handle2,p===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),h=0;h<this.ticks.length;h++)this._removeClass(this.ticks[h],"round triangle hide");var C=["round","triangle","custom"],w=-1!==C.indexOf(this.options.handle);if(w)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),h=0;h<this.ticks.length;h++)this._addClass(this.ticks[h],this.options.handle);this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos],this.setValue(this.options.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var s={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},o={linear:{toValue:function(t){var i=t/100*(this.options.max-this.options.min);if(this.options.ticks_positions.length>0){for(var e,s,o,n=0,h=0;h<this.options.ticks_positions.length;h++)if(t<=this.options.ticks_positions[h]){e=h>0?this.options.ticks[h-1]:0,o=h>0?this.options.ticks_positions[h-1]:0,s=this.options.ticks[h],n=this.options.ticks_positions[h];break}if(h>0){var a=(t-o)/(n-o);i=e+a*(s-e)}}var l=this.options.min+Math.round(i/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var i,e,s,o=0,n=0;n<this.options.ticks.length;n++)if(t<=this.options.ticks[n]){i=n>0?this.options.ticks[n-1]:0,s=n>0?this.options.ticks_positions[n-1]:0,e=this.options.ticks[n],o=this.options.ticks_positions[n];break}if(n>0){var h=(t-i)/(e-i);return s+h*(o-s)}}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var i=0===this.options.min?0:Math.log(this.options.min),e=Math.log(this.options.max),s=Math.exp(i+(e-i)*t/100);return s=this.options.min+Math.round((s-this.options.min)/this.options.step)*this.options.step,s<this.options.min?this.options.min:s>this.options.max?this.options.max:s},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var i=Math.log(this.options.max),e=0===this.options.min?0:Math.log(this.options.min),s=0===t?0:Math.log(t);return 100*(s-e)/(i-e)}}};if(i=function(t,i){return e.call(this,t,i),this},i.prototype={_init:function(){},constructor:i,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1},over:!1,inDrag:!1,getValue:function(){return this.options.range?this.options.value:this.options.value[0]},setValue:function(t,i,e){t||(t=0);var s=this.getValue();this.options.value=this._validateInputValue(t);var o=this._applyPrecision.bind(this);this.options.range?(this.options.value[0]=o(this.options.value[0]),this.options.value[1]=o(this.options.value[1]),this.options.value[0]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[0])),this.options.value[1]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[1]))):(this.options.value=o(this.options.value),this.options.value=[Math.max(this.options.min,Math.min(this.options.max,this.options.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this.options.value[1]=this.options.max:this.options.value[1]=this.options.min),this.options.max>this.options.min?this.percentage=[this._toPercentage(this.options.value[0]),this._toPercentage(this.options.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this.percentage=[0,0,100],this._layout();var n=this.options.range?this.options.value:this.options.value[0];return i===!0&&this._trigger("slide",n),s!==n&&e===!0&&this._trigger("change",{oldValue:s,newValue:n}),this._setDataVal(n),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this.options.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this.options.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this.options.enabled?this.disable():this.enable(),this},isEnabled:function(){return this.options.enabled},on:function(t,i){return this._bindNonQueryEventHandler(t,i),this},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,i){return this.options[t]=i,this},refresh:function(){return this._removeSliderEventHandlers(),e.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(t,i){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(i)},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),i=0;i<t.length;i++){var e=t[i];this.eventToCallbackMap[e]=null}},_showTooltip:function(){this.options.tooltip_split===!1?this._addClass(this.tooltip,"in"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in")),this.over=!0},_hideTooltip:function(){this.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this.over=!1},_layout:function(){var t;if(t=this.options.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle2.style[this.stylePos]=t[1]+"%",Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var i=Math.max.apply(Math,this.options.ticks),e=Math.min.apply(Math,this.options.ticks),s="vertical"===this.options.orientation?"height":"width",o="vertical"===this.options.orientation?"marginTop":"marginLeft",n=this.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var h=0;if(0===this.options.ticks_positions.length)this.tickLabelContainer.style[o]=-n/2+"px",h=this.tickLabelContainer.offsetHeight;else for(a=0;a<this.tickLabelContainer.childNodes.length;a++)this.tickLabelContainer.childNodes[a].offsetHeight>h&&(h=this.tickLabelContainer.childNodes[a].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=h+"px")}for(var a=0;a<this.options.ticks.length;a++){var l=this.options.ticks_positions[a]||100*(this.options.ticks[a]-e)/(i-e);this.ticks[a].style[this.stylePos]=l+"%",this._removeClass(this.ticks[a],"in-selection"),this.options.range?l>=t[0]&&l<=t[1]&&this._addClass(this.ticks[a],"in-selection"):"after"===this.options.selection&&l>=t[0]?this._addClass(this.ticks[a],"in-selection"):"before"===this.options.selection&&l<=t[0]&&this._addClass(this.ticks[a],"in-selection"),this.tickLabels[a]&&(this.tickLabels[a].style[s]=n+"px",void 0!==this.options.ticks_positions[a]&&(this.tickLabels[a].style.position="absolute",this.tickLabels[a].style[this.stylePos]=this.options.ticks_positions[a]+"%",this.tickLabels[a].style[o]=-n/2+"px"))}}if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%",this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var r=this.tooltip_min.getBoundingClientRect(),p=this.tooltip_max.getBoundingClientRect();r.right>p.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}var d;if(this.options.range){d=this.options.formatter(this.options.value),this._setText(this.tooltipInner,d),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var c=this.options.formatter(this.options.value[0]);this._setText(this.tooltipInner_min,c);var u=this.options.formatter(this.options.value[1]);this._setText(this.tooltipInner_max,u),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else d=this.options.formatter(this.options.value[0]),this._setText(this.tooltipInner,d),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")},_removeProperty:function(t,i){t.style.removeProperty?t.style.removeProperty(i):t.style.removeAttribute(i)},_mousedown:function(t){if(!this.options.enabled)return!1;this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos];var i=this._getPercentage(t);if(this.options.range){var e=Math.abs(this.percentage[0]-i),s=Math.abs(this.percentage[1]-i);this.dragged=s>e?0:1}else this.dragged=0;this.percentage[this.dragged]=this.options.reversed?100-i:i,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!1,!0),this._pauseEvent(t),this.options.focus&&this._triggerFocusOnHandle(this.dragged),!0},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,i){if(!this.options.enabled)return!1;var e;switch(i.keyCode){case 37:case 40:e=-1;break;case 39:case 38:e=1}if(e){if(this.options.natural_arrow_keys){var s="vertical"===this.options.orientation&&!this.options.reversed,o="horizontal"===this.options.orientation&&this.options.reversed;(s||o)&&(e=-e)}var n=this.options.value[t]+e*this.options.step;return this.options.range&&(n=[t?this.options.value[0]:n,t?n:this.options.value[1]]),this._trigger("slideStart",n),this._setDataVal(n),this.setValue(n,!0,!0),this._trigger("slideStop",n),this._setDataVal(n),this._layout(),this._pauseEvent(i),!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this.options.enabled)return!1;var i=this._getPercentage(t);this._adjustPercentageForRangeSliders(i),this.percentage[this.dragged]=this.options.reversed?100-i:i,this._layout();var e=this._calculateValue(!0);return this.setValue(e,!0,!0),!1},_adjustPercentageForRangeSliders:function(t){this.options.range&&(0===this.dragged&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0))},_mouseup:function(){if(!this.options.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this.inDrag=!1,this.over===!1&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._trigger("slideStop",t),this._setDataVal(t),!1},_calculateValue:function(t){var i;if(this.options.range?(i=[this.options.min,this.options.max],0!==this.percentage[0]&&(i[0]=this._toValue(this.percentage[0]),i[0]=this._applyPrecision(i[0])),100!==this.percentage[1]&&(i[1]=this._toValue(this.percentage[1]),i[1]=this._applyPrecision(i[1]))):(i=this._toValue(this.percentage[0]),i=parseFloat(i),i=this._applyPrecision(i)),t){for(var e=[i,1/0],s=0;s<this.options.ticks.length;s++){var o=Math.abs(this.options.ticks[s]-i);o<=e[1]&&(e=[this.options.ticks[s],o])}if(e[1]<=this.options.ticks_snap_bounds)return e[0]}return i},_applyPrecision:function(t){var i=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,i)},_getNumDigitsAfterDecimalPlace:function(t){var i=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return i?Math.max(0,(i[1]?i[1].length:0)-(i[2]?+i[2]:0)):0},_applyToFixedAndParseFloat:function(t,i){var e=t.toFixed(i);return parseFloat(e)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var i=t[this.mousePos],e=this.offset[this.stylePos],s=i-e,o=s/this.size*100;return o=Math.round(o/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,o))},_validateInputValue:function(t){if("number"==typeof t)return t;if(Array.isArray(t))return this._validateArray(t),t;throw new Error(s.formatInvalidInputErrorMsg(t))},_validateArray:function(t){for(var i=0;i<t.length;i++){var e=t[i];if("number"!=typeof e)throw new Error(s.formatInvalidInputErrorMsg(e))}},_setDataVal:function(t){var i="value: '"+t+"'";this.element.setAttribute("data",i),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(i,e){e=e||0===e?e:void 0;var s=this.eventToCallbackMap[i];if(s&&s.length)for(var o=0;o<s.length;o++){var n=s[o];n(e)}t&&this._triggerJQueryEvent(i,e)},_triggerJQueryEvent:function(t,i){var e={type:t,value:i};this.$element.trigger(e),this.$sliderElem.trigger(e)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,i){"undefined"!=typeof t.innerText?t.innerText=i:"undefined"!=typeof t.textContent&&(t.textContent=i)},_removeClass:function(t,i){for(var e=i.split(" "),s=t.className,o=0;o<e.length;o++){var n=e[o],h=new RegExp("(?:\\s|^)"+n+"(?:\\s|$)");s=s.replace(h," ")}t.className=s.trim()},_addClass:function(t,i){for(var e=i.split(" "),s=t.className,o=0;o<e.length;o++){var n=e[o],h=new RegExp("(?:\\s|^)"+n+"(?:\\s|$)"),a=h.test(s);a||(s+=" "+n)}t.className=s.trim()},_offsetLeft:function(t){for(var i=t.offsetLeft;(t=t.offsetParent)&&!isNaN(t.offsetLeft);)i+=t.offsetLeft;return i},_offsetTop:function(t){for(var i=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)i+=t.offsetTop;return i},_offset:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}},_css:function(i,e,s){if(t)t.style(i,e,s);else{var o=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,i){return i.toUpperCase()});i.style[o]=s}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])}},t){var n=t.fn.slider?"bootstrapSlider":"slider";t.bridget(n,i)}}(t),i})}).call(this);

(function(){!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";function t(t){return t.filter(function(t){return this[t]?!1:this[t]=!0},{})}function n(t,n){return Math.round(t/n)*n}function e(t){var n=t.getBoundingClientRect(),e=t.ownerDocument,r=e.documentElement,i=d();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),{top:n.top+i.y-r.clientTop,left:n.left+i.x-r.clientLeft}}function r(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function i(t){var n=Math.pow(10,7);return Number((Math.round(t*n)/n).toFixed(7))}function o(t,n,e){c(t,n),setTimeout(function(){l(t,n)},e)}function a(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function u(t){var n=t.split(".");return n.length>1?n[1].length:0}function c(t,n){t.classList?t.classList.add(n):t.className+=" "+n}function l(t,n){t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")}function f(t,n){t.classList?t.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(t.className)}function d(){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||""),e=t?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft,r=t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop;return{x:e,y:r}}function p(t){return function(n){return t+n}}function h(t,n){return 100/(n-t)}function m(t,n){return 100*n/(t[1]-t[0])}function g(t,n){return m(t,t[0]<0?n+Math.abs(t[0]):n-t[0])}function v(t,n){return n*(t[1]-t[0])/100+t[0]}function w(t,n){for(var e=1;t>=n[e];)e+=1;return e}function b(t,n,e){if(e>=t.slice(-1)[0])return 100;var r,i,o,a,s=w(e,t);return r=t[s-1],i=t[s],o=n[s-1],a=n[s],o+g([r,i],e)/h(o,a)}function S(t,n,e){if(e>=100)return t.slice(-1)[0];var r,i,o,a,s=w(e,n);return r=t[s-1],i=t[s],o=n[s-1],a=n[s],v([r,i],(e-o)*h(o,a))}function x(t,e,r,i){if(100===i)return i;var o,a,s=w(i,t);return r?(o=t[s-1],a=t[s],i-o>(a-o)/2?a:o):e[s-1]?t[s-1]+n(i-t[s-1],e[s-1]):i}function y(t,n,e){var i;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw new Error("noUiSlider: 'range' contains invalid value.");if(i="min"===t?0:"max"===t?100:parseFloat(t),!r(i)||!r(n[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");e.xPct.push(i),e.xVal.push(n[0]),i?e.xSteps.push(isNaN(n[1])?!1:n[1]):isNaN(n[1])||(e.xSteps[0]=n[1])}function E(t,n,e){return n?void(e.xSteps[t]=m([e.xVal[t],e.xVal[t+1]],n)/h(e.xPct[t],e.xPct[t+1])):!0}function U(t,n,e,r){this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=n,this.direction=e;var i,o=[];for(i in t)t.hasOwnProperty(i)&&o.push([t[i],i]);for(o.sort(o.length&&"object"==typeof o[0][0]?function(t,n){return t[0][0]-n[0][0]}:function(t,n){return t[0]-n[0]}),i=0;i<o.length;i++)y(o[i][1],o[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)E(i,this.xNumSteps[i],this)}function M(t,n){if(!r(n))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=n}function P(t,n){if("object"!=typeof n||Array.isArray(n))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new U(n,t.snap,t.dir,t.singleStep)}function N(t,n){if(n=s(n),!Array.isArray(n)||!n.length||n.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=n.length,t.start=n}function O(t,n){if(t.snap=n,"boolean"!=typeof n)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function L(t,n){if(t.animate=n,"boolean"!=typeof n)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function A(t,n){if("lower"===n&&1===t.handles)t.connect=1;else if("upper"===n&&1===t.handles)t.connect=2;else if(n===!0&&2===t.handles)t.connect=3;else{if(n!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function k(t,n){switch(n){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function j(t,n){if(!r(n))throw new Error("noUiSlider: 'margin' option must be numeric.");if(t.margin=t.spectrum.getMargin(n),!t.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function F(t,n){if(!r(n))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(n),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function V(t,n){switch(n){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function C(t,n){if("string"!=typeof n)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var e=n.indexOf("tap")>=0,r=n.indexOf("drag")>=0,i=n.indexOf("fixed")>=0,o=n.indexOf("snap")>=0;if(r&&!t.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");t.events={tap:e||o,drag:r,fixed:i,snap:o}}function T(t,n){if(n===!0&&(t.tooltips=!0),n&&n.format){if("function"!=typeof n.format)throw new Error("noUiSlider: 'tooltips.format' must be an object.");t.tooltips={format:n.format}}}function z(t,n){if(t.format=n,"function"==typeof n.to&&"function"==typeof n.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function q(t,n){if(void 0!==n&&"string"!=typeof n)throw new Error("noUiSlider: 'cssPrefix' must be a string.");t.cssPrefix=n}function H(t){var n,e={margin:0,limit:0,animate:!0,format:$};n={step:{r:!1,t:M},start:{r:!0,t:N},connect:{r:!0,t:A},direction:{r:!0,t:V},snap:{r:!1,t:O},animate:{r:!1,t:L},range:{r:!0,t:P},orientation:{r:!1,t:k},margin:{r:!1,t:j},limit:{r:!1,t:F},behaviour:{r:!0,t:C},format:{r:!1,t:z},tooltips:{r:!1,t:T},cssPrefix:{r:!1,t:q}};var r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"};return Object.keys(r).forEach(function(n){void 0===t[n]&&(t[n]=r[n])}),Object.keys(n).forEach(function(r){var i=n[r];if(void 0===t[r]){if(i.r)throw new Error("noUiSlider: '"+r+"' is required.");return!0}i.t(e,t[r])}),e.pips=t.pips,e.style=e.ort?"top":"left",e}function X(n,r){function i(t,n,e){var r=t+n[0],i=t+n[1];return e?(0>r&&(i+=Math.abs(r)),i>100&&(r-=i-100),[a(r),a(i)]):[r,i]}function h(t,n){t.preventDefault();var e,r,i=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),a=0===t.type.indexOf("pointer"),s=t;return 0===t.type.indexOf("MSPointer")&&(a=!0),i&&(e=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY),n=n||d(),(o||a)&&(e=t.clientX+n.x,r=t.clientY+n.y),s.pageOffset=n,s.points=[e,r],s.cursor=o||a,s}function m(t,n){var e=document.createElement("div"),r=document.createElement("div"),i=["-lower","-upper"];return t&&i.reverse(),c(r,tt[3]),c(r,tt[3]+i[n]),c(e,tt[2]),e.appendChild(r),e}function g(t,n,e){switch(t){case 1:c(n,tt[7]),c(e[0],tt[6]);break;case 3:c(e[1],tt[6]);case 2:c(e[0],tt[7]);case 0:c(n,tt[6])}}function v(t,n,e){var r,i=[];for(r=0;t>r;r+=1)i.push(e.appendChild(m(n,r)));return i}function w(t,n,e){c(e,tt[0]),c(e,tt[8+t]),c(e,tt[4+n]);var r=document.createElement("div");return c(r,tt[1]),e.appendChild(r),r}function b(t){return t}function S(t){var n=document.createElement("div");return n.className=tt[18],t.firstChild.appendChild(n)}function x(t){var n=t.format?t.format:b,e=I.map(S);$("update",function(t,r,i){e[r].innerHTML=n(t[r],i[r])})}function y(t,n,e){if("range"===t||"steps"===t)return Q.xVal;if("count"===t){var r,i=100/(n-1),o=0;for(n=[];(r=o++*i)<=100;)n.push(r);t="positions"}return"positions"===t?n.map(function(t){return Q.fromStepping(e?Q.getStep(t):t)}):"values"===t?e?n.map(function(t){return Q.fromStepping(Q.getStep(Q.toStepping(t)))}):n:void 0}function E(n,e,r){function i(t,n){return(t+n).toFixed(7)/1}var o=Q.direction,a={},s=Q.xVal[0],u=Q.xVal[Q.xVal.length-1],c=!1,l=!1,f=0;return Q.direction=0,r=t(r.slice().sort(function(t,n){return t-n})),r[0]!==s&&(r.unshift(s),c=!0),r[r.length-1]!==u&&(r.push(u),l=!0),r.forEach(function(t,o){var s,u,d,p,h,m,g,v,w,b,S=t,x=r[o+1];if("steps"===e&&(s=Q.xNumSteps[o]),s||(s=x-S),S!==!1&&void 0!==x)for(u=S;x>=u;u=i(u,s)){for(p=Q.toStepping(u),h=p-f,v=h/n,w=Math.round(v),b=h/w,d=1;w>=d;d+=1)m=f+d*b,a[m.toFixed(5)]=["x",0];g=r.indexOf(u)>-1?1:"steps"===e?2:0,!o&&c&&(g=0),u===x&&l||(a[p.toFixed(5)]=[u,g]),f=p}}),Q.direction=o,a}function U(t,n,e){function i(t){return["-normal","-large","-sub"][t]}function o(t,n,e){return'class="'+n+" "+n+"-"+s+" "+n+i(e[1])+'" style="'+r.style+": "+t+'%"'}function a(t,r){Q.direction&&(t=100-t),r[1]=r[1]&&n?n(r[0],r[1]):r[1],u.innerHTML+="<div "+o(t,"noUi-marker",r)+"></div>",r[1]&&(u.innerHTML+="<div "+o(t,"noUi-value",r)+">"+e.to(r[0])+"</div>")}var s=["horizontal","vertical"][r.ort],u=document.createElement("div");return c(u,"noUi-pips"),c(u,"noUi-pips-"+s),Object.keys(t).forEach(function(n){a(n,t[n])}),u}function M(t){var n=t.mode,e=t.density||1,r=t.filter||!1,i=t.values||!1,o=t.stepped||!1,a=y(n,i,o),s=E(e,n,a),u=t.format||{to:Math.round};return J.appendChild(U(s,r,u))}function P(){return G["offset"+["Width","Height"][r.ort]]}function N(t,n){void 0!==n&&1!==r.handles&&(n=Math.abs(n-r.dir)),Object.keys(_).forEach(function(e){var r=e.split(".")[0];t===r&&_[e].forEach(function(t){t(s(q()),n,O(Array.prototype.slice.call(Z)))})})}function O(t){return 1===t.length?t[0]:r.dir?t.reverse():t}function L(t,n,e,i){var o=function(n){return J.hasAttribute("disabled")?!1:f(J,tt[14])?!1:(n=h(n,i.pageOffset),t===R.start&&void 0!==n.buttons&&n.buttons>1?!1:(n.calcPoint=n.points[r.ort],void e(n,i)))},a=[];return t.split(" ").forEach(function(t){n.addEventListener(t,o,!1),a.push([t,o])}),a}function A(t,n){if(0===t.buttons&&0===t.which&&0!==n.buttonsProperty)return k(t,n);var e,r,o=n.handles||I,a=!1,s=100*(t.calcPoint-n.start)/n.baseSize,u=o[0]===I[0]?0:1;if(e=i(s,n.positions,o.length>1),a=C(o[0],e[u],1===o.length),o.length>1){if(a=C(o[1],e[u?0:1],!1)||a)for(r=0;r<n.handles.length;r++)N("slide",r)}else a&&N("slide",u)}function k(t,n){var e=G.querySelector("."+tt[15]),r=n.handles[0]===I[0]?0:1;null!==e&&l(e,tt[15]),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var i=document.documentElement;i.noUiListeners.forEach(function(t){i.removeEventListener(t[0],t[1])}),l(J,tt[12]),N("set",r),N("change",r)}function j(t,n){var e=document.documentElement;if(1===n.handles.length&&(c(n.handles[0].children[0],tt[15]),n.handles[0].hasAttribute("disabled")))return!1;t.stopPropagation();var r=L(R.move,e,A,{start:t.calcPoint,baseSize:P(),pageOffset:t.pageOffset,handles:n.handles,buttonsProperty:t.buttons,positions:[K[0],K[I.length-1]]}),i=L(R.end,e,k,{handles:n.handles});if(e.noUiListeners=r.concat(i),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,I.length>1&&c(J,tt[12]);var o=function(){return!1};document.body.noUiListener=o,document.body.addEventListener("selectstart",o,!1)}}function F(t){var n,i,a=t.calcPoint,s=0;return t.stopPropagation(),I.forEach(function(t){s+=e(t)[r.style]}),n=s/2>a||1===I.length?0:1,a-=e(G)[r.style],i=100*a/P(),r.events.snap||o(J,tt[14],300),I[n].hasAttribute("disabled")?!1:(C(I[n],i),N("slide",n),N("set",n),N("change",n),void(r.events.snap&&j(t,{handles:[I[n]]})))}function V(t){var n,e;if(!t.fixed)for(n=0;n<I.length;n+=1)L(R.start,I[n].children[0],j,{handles:[I[n]]});t.tap&&L(R.start,G,F,{handles:I}),t.drag&&(e=[G.querySelector("."+tt[7])],c(e[0],tt[10]),t.fixed&&e.push(I[e[0]===I[0]?1:0].children[0]),e.forEach(function(t){L(R.start,t,j,{handles:I})}))}function C(t,n,e){var i=t!==I[0]?1:0,o=K[0]+r.margin,s=K[1]-r.margin,u=K[0]+r.limit,f=K[1]-r.limit,d=Q.fromStepping(n);return I.length>1&&(n=i?Math.max(n,o):Math.min(n,s)),e!==!1&&r.limit&&I.length>1&&(n=i?Math.min(n,u):Math.max(n,f)),n=Q.getStep(n),n=a(parseFloat(n.toFixed(7))),n===K[i]&&d===Z[i]?!1:(window.requestAnimationFrame?window.requestAnimationFrame(function(){t.style[r.style]=n+"%"}):t.style[r.style]=n+"%",t.previousSibling||(l(t,tt[17]),n>50&&c(t,tt[17])),K[i]=n,Z[i]=Q.fromStepping(n),N("update",i),!0)}function T(t,n){var e,i,o;for(r.limit&&(t+=1),e=0;t>e;e+=1)i=e%2,o=n[i],null!==o&&o!==!1&&("number"==typeof o&&(o=String(o)),o=r.format.from(o),(o===!1||isNaN(o)||C(I[i],Q.toStepping(o),e===3-r.dir)===!1)&&N("update",i))}function z(t){var n,e,i=s(t);for(r.dir&&r.handles>1&&i.reverse(),r.animate&&-1!==K[0]&&o(J,tt[14],300),n=I.length>1?3:1,1===i.length&&(n=1),T(n,i),e=0;e<I.length;e++)N("set",e)}function q(){var t,n=[];for(t=0;t<r.handles;t+=1)n[t]=r.format.to(Z[t]);return O(n)}function X(){tt.forEach(function(t){t&&l(J,t)}),J.innerHTML="",delete J.noUiSlider}function D(){var t=K.map(function(t,n){var e=Q.getApplicableStep(t),r=u(String(e[2])),i=Z[n],o=100===t?null:e[2],a=Number((i-e[2]).toFixed(r)),s=0===t?null:a>=e[1]?e[2]:e[0]||!1;return[s,o]});return O(t)}function $(t,n){_[t]=_[t]||[],_[t].push(n),"update"===t.split(".")[0]&&I.forEach(function(t,n){N("update",n)})}function B(t){var n=t.split(".")[0],e=t.substring(n.length);Object.keys(_).forEach(function(t){var r=t.split(".")[0],i=t.substring(r.length);n&&n!==r||e&&e!==i||delete _[t]})}function W(t){var n=H({start:[0,0],margin:t.margin,limit:t.limit,step:t.step,range:t.range,animate:t.animate});r.margin=n.margin,r.limit=n.limit,r.step=n.step,r.range=n.range,r.animate=n.animate,Q=n.spectrum}var G,I,J=n,K=[-1,-1],Q=r.spectrum,Z=[],_={},tt=["target","base","origin","handle","horizontal","vertical","background","connect","ltr","rtl","draggable","","state-drag","","state-tap","active","","stacking","tooltip"].map(p(r.cssPrefix||Y));if(J.noUiSlider)throw new Error("Slider was already initialized.");return G=w(r.dir,r.ort,J),I=v(r.handles,r.dir,G),g(r.connect,J,I),V(r.events),r.pips&&M(r.pips),r.tooltips&&x(r.tooltips),{destroy:X,steps:D,on:$,off:B,get:q,set:z,updateOptions:W}}function D(t,n){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var e=H(n,t),r=X(t,e);return r.set(e.start),t.noUiSlider=r,r}var R=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},Y="noUi-";U.prototype.getMargin=function(t){return 2===this.xPct.length?m(this.xVal,t):!1},U.prototype.toStepping=function(t){return t=b(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},U.prototype.fromStepping=function(t){return this.direction&&(t=100-t),i(S(this.xVal,this.xPct,t))},U.prototype.getStep=function(t){return this.direction&&(t=100-t),t=x(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},U.prototype.getApplicableStep=function(t){var n=w(t,this.xPct),e=100===t?2:1;return[this.xNumSteps[n-2],this.xVal[n-e],this.xNumSteps[n-e]]},U.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var $={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};return{create:D}})}).call(this);

(function(){!function(){"use strict";function e(e){e.fn.swiper=function(a){var r;return e(this).each(function(){var e=new t(this,a);r||(r=e)}),r}}var a,t=function(e,r){function s(){return"horizontal"===y.params.direction}function i(e){return Math.floor(e)}function n(){y.autoplayTimeoutId=setTimeout(function(){y.params.loop?(y.fixLoop(),y._slideNext()):y.isEnd?r.autoplayStopOnLast?y.stopAutoplay():y._slideTo(0):y._slideNext()},y.params.autoplay)}function o(e,t){var r=a(e.target);if(!r.is(t))if("string"==typeof t)r=r.parents(t);else if(t.nodeType){var s;return r.parents().each(function(e,a){a===t&&(s=t)}),s?t:void 0}return 0===r.length?void 0:r[0]}function l(e,a){a=a||{};var t=window.MutationObserver||window.WebkitMutationObserver,r=new t(function(e){e.forEach(function(e){y.onResize(!0),y.emit("onObserverUpdate",y,e)})});r.observe(e,{attributes:"undefined"==typeof a.attributes?!0:a.attributes,childList:"undefined"==typeof a.childList?!0:a.childList,characterData:"undefined"==typeof a.characterData?!0:a.characterData}),y.observers.push(r)}function p(e){e.originalEvent&&(e=e.originalEvent);var a=e.keyCode||e.charCode;if(!y.params.allowSwipeToNext&&(s()&&39===a||!s()&&40===a))return!1;if(!y.params.allowSwipeToPrev&&(s()&&37===a||!s()&&38===a))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===a||39===a||38===a||40===a){var t=!1;if(y.container.parents(".swiper-slide").length>0&&0===y.container.parents(".swiper-slide-active").length)return;var r={left:window.pageXOffset,top:window.pageYOffset},i=window.innerWidth,n=window.innerHeight,o=y.container.offset();y.rtl&&(o.left=o.left-y.container[0].scrollLeft);for(var l=[[o.left,o.top],[o.left+y.width,o.top],[o.left,o.top+y.height],[o.left+y.width,o.top+y.height]],p=0;p<l.length;p++){var d=l[p];d[0]>=r.left&&d[0]<=r.left+i&&d[1]>=r.top&&d[1]<=r.top+n&&(t=!0)}if(!t)return}s()?((37===a||39===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===a&&!y.rtl||37===a&&y.rtl)&&y.slideNext(),(37===a&&!y.rtl||39===a&&y.rtl)&&y.slidePrev()):((38===a||40===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===a&&y.slideNext(),38===a&&y.slidePrev())}}function d(e){e.originalEvent&&(e=e.originalEvent);var a=y.mousewheel.event,t=0;if(e.detail)t=-e.detail;else if("mousewheel"===a)if(y.params.mousewheelForceToAxis)if(s()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;t=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;t=e.wheelDeltaY}else t=e.wheelDelta;else if("DOMMouseScroll"===a)t=-e.detail;else if("wheel"===a)if(y.params.mousewheelForceToAxis)if(s()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;t=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;t=-e.deltaY}else t=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(0!==t){if(y.params.mousewheelInvert&&(t=-t),y.params.freeMode){var r=y.getWrapperTranslate()+t*y.params.mousewheelSensitivity,i=y.isBeginning,n=y.isEnd;if(r>=y.minTranslate()&&(r=y.minTranslate()),r<=y.maxTranslate()&&(r=y.maxTranslate()),y.setWrapperTransition(0),y.setWrapperTranslate(r),y.updateProgress(),y.updateActiveIndex(),(!i&&y.isBeginning||!n&&y.isEnd)&&y.updateClasses(),y.params.freeModeSticky&&(clearTimeout(y.mousewheel.timeout),y.mousewheel.timeout=setTimeout(function(){y.slideReset()},300)),0===r||r===y.maxTranslate())return}else{if((new window.Date).getTime()-y.mousewheel.lastScrollTime>60)if(0>t)if(y.isEnd&&!y.params.loop||y.animating){if(y.params.mousewheelReleaseOnEdges)return!0}else y.slideNext();else if(y.isBeginning&&!y.params.loop||y.animating){if(y.params.mousewheelReleaseOnEdges)return!0}else y.slidePrev();y.mousewheel.lastScrollTime=(new window.Date).getTime()}return y.params.autoplay&&y.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function c(e,t){e=a(e);var r,i,n;r=e.attr("data-swiper-parallax")||"0",i=e.attr("data-swiper-parallax-x"),n=e.attr("data-swiper-parallax-y"),i||n?(i=i||"0",n=n||"0"):s()?(i=r,n="0"):(n=r,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*t+"%":i*t+"px",n=n.indexOf("%")>=0?parseInt(n,10)*t+"%":n*t+"px",e.transform("translate3d("+i+", "+n+",0px)")}function u(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof t))return new t(e,r);var m={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},f=r&&r.virtualTranslate;r=r||{};var h={};for(var g in r)if("object"==typeof r[g]){h[g]={};for(var v in r[g])h[g][v]=r[g][v]}else h[g]=r[g];for(var w in m)if("undefined"==typeof r[w])r[w]=m[w];else if("object"==typeof r[w])for(var b in m[w])"undefined"==typeof r[w][b]&&(r[w][b]=m[w][b]);var y=this;if(y.params=r,y.originalParams=h,y.classNames=[],"undefined"!=typeof a&&"undefined"!=typeof Dom7&&(a=Dom7),("undefined"!=typeof a||(a="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7))&&(y.$=a,y.currentBreakpoint=void 0,y.getActiveBreakpoint=function(){if(!y.params.breakpoints)return!1;var e=!1;for(var t in y.params.breakpoints)y.params.breakpoints.hasOwnProperty(t)&&t>=a(window).width()&&!e&&(e=t);return e||"max"},y.setBreakpoint=function(){var e=y.getActiveBreakpoint();if(e&&y.currentBreakpoint!==e){var a=e in y.params.breakpoints?y.params.breakpoints[e]:y.originalParams;for(var t in a)y.params[t]=a[t];y.currentBreakpoint=e}},y.params.breakpoints&&y.setBreakpoint(),y.container=a(e),0!==y.container.length)){if(y.container.length>1)return void y.container.each(function(){new t(this,r)});y.container[0].swiper=y,y.container.data("swiper",y),y.classNames.push("swiper-container-"+y.params.direction),y.params.freeMode&&y.classNames.push("swiper-container-free-mode"),y.support.flexbox||(y.classNames.push("swiper-container-no-flexbox"),y.params.slidesPerColumn=1),(y.params.parallax||y.params.watchSlidesVisibility)&&(y.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(y.params.effect)>=0&&(y.support.transforms3d?(y.params.watchSlidesProgress=!0,y.classNames.push("swiper-container-3d")):y.params.effect="slide"),"slide"!==y.params.effect&&y.classNames.push("swiper-container-"+y.params.effect),"cube"===y.params.effect&&(y.params.resistanceRatio=0,y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.centeredSlides=!1,y.params.spaceBetween=0,y.params.virtualTranslate=!0,y.params.setWrapperSize=!1),"fade"===y.params.effect&&(y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.watchSlidesProgress=!0,y.params.spaceBetween=0,"undefined"==typeof f&&(y.params.virtualTranslate=!0)),y.params.grabCursor&&y.support.touch&&(y.params.grabCursor=!1),y.wrapper=y.container.children("."+y.params.wrapperClass),y.params.pagination&&(y.paginationContainer=a(y.params.pagination),y.params.paginationClickable&&y.paginationContainer.addClass("swiper-pagination-clickable")),y.rtl=s()&&("rtl"===y.container[0].dir.toLowerCase()||"rtl"===y.container.css("direction")),y.rtl&&y.classNames.push("swiper-container-rtl"),y.rtl&&(y.wrongRTL="-webkit-box"===y.wrapper.css("display")),y.params.slidesPerColumn>1&&y.classNames.push("swiper-container-multirow"),y.device.android&&y.classNames.push("swiper-container-android"),y.container.addClass(y.classNames.join(" ")),y.translate=0,y.progress=0,y.velocity=0,y.lockSwipeToNext=function(){y.params.allowSwipeToNext=!1},y.lockSwipeToPrev=function(){y.params.allowSwipeToPrev=!1},y.lockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!1},y.unlockSwipeToNext=function(){y.params.allowSwipeToNext=!0},y.unlockSwipeToPrev=function(){y.params.allowSwipeToPrev=!0},y.unlockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!0},y.params.grabCursor&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grab",y.container[0].style.cursor="-moz-grab",y.container[0].style.cursor="grab"),y.imagesToLoad=[],y.imagesLoaded=0,y.loadImage=function(e,a,t,r,s){function i(){s&&s()}var n;e.complete&&r?i():a?(n=new window.Image,n.onload=i,n.onerror=i,t&&(n.srcset=t),a&&(n.src=a)):i()},y.preloadImages=function(){function e(){"undefined"!=typeof y&&null!==y&&(void 0!==y.imagesLoaded&&y.imagesLoaded++,y.imagesLoaded===y.imagesToLoad.length&&(y.params.updateOnImagesReady&&y.update(),y.emit("onImagesReady",y)))}y.imagesToLoad=y.container.find("img");for(var a=0;a<y.imagesToLoad.length;a++)y.loadImage(y.imagesToLoad[a],y.imagesToLoad[a].currentSrc||y.imagesToLoad[a].getAttribute("src"),y.imagesToLoad[a].srcset||y.imagesToLoad[a].getAttribute("srcset"),!0,e)},y.autoplayTimeoutId=void 0,y.autoplaying=!1,y.autoplayPaused=!1,y.startAutoplay=function(){return"undefined"!=typeof y.autoplayTimeoutId?!1:y.params.autoplay?y.autoplaying?!1:(y.autoplaying=!0,y.emit("onAutoplayStart",y),void n()):!1},y.stopAutoplay=function(e){y.autoplayTimeoutId&&(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplaying=!1,y.autoplayTimeoutId=void 0,y.emit("onAutoplayStop",y))},y.pauseAutoplay=function(e){y.autoplayPaused||(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplayPaused=!0,0===e?(y.autoplayPaused=!1,n()):y.wrapper.transitionEnd(function(){y&&(y.autoplayPaused=!1,y.autoplaying?n():y.stopAutoplay())}))},y.minTranslate=function(){return-y.snapGrid[0]},y.maxTranslate=function(){return-y.snapGrid[y.snapGrid.length-1]},y.updateContainerSize=function(){var e,a;e="undefined"!=typeof y.params.width?y.params.width:y.container[0].clientWidth,a="undefined"!=typeof y.params.height?y.params.height:y.container[0].clientHeight,0===e&&s()||0===a&&!s()||(e=e-parseInt(y.container.css("padding-left"),10)-parseInt(y.container.css("padding-right"),10),a=a-parseInt(y.container.css("padding-top"),10)-parseInt(y.container.css("padding-bottom"),10),y.width=e,y.height=a,y.size=s()?y.width:y.height)},y.updateSlidesSize=function(){y.slides=y.wrapper.children("."+y.params.slideClass),y.snapGrid=[],y.slidesGrid=[],y.slidesSizesGrid=[];var e,a=y.params.spaceBetween,t=-y.params.slidesOffsetBefore,r=0,n=0;"string"==typeof a&&a.indexOf("%")>=0&&(a=parseFloat(a.replace("%",""))/100*y.size),y.virtualSize=-a,y.slides.css(y.rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var o;y.params.slidesPerColumn>1&&(o=Math.floor(y.slides.length/y.params.slidesPerColumn)===y.slides.length/y.params.slidesPerColumn?y.slides.length:Math.ceil(y.slides.length/y.params.slidesPerColumn)*y.params.slidesPerColumn,"auto"!==y.params.slidesPerView&&"row"===y.params.slidesPerColumnFill&&(o=Math.max(o,y.params.slidesPerView*y.params.slidesPerColumn)));var l,p=y.params.slidesPerColumn,d=o/p,c=d-(y.params.slidesPerColumn*d-y.slides.length);for(e=0;e<y.slides.length;e++){l=0;var u=y.slides.eq(e);if(y.params.slidesPerColumn>1){var m,f,h;"column"===y.params.slidesPerColumnFill?(f=Math.floor(e/p),h=e-f*p,(f>c||f===c&&h===p-1)&&++h>=p&&(h=0,f++),m=f+h*o/p,u.css({"-webkit-box-ordinal-group":m,"-moz-box-ordinal-group":m,"-ms-flex-order":m,"-webkit-order":m,order:m})):(h=Math.floor(e/d),f=e-h*d),u.css({"margin-top":0!==h&&y.params.spaceBetween&&y.params.spaceBetween+"px"}).attr("data-swiper-column",f).attr("data-swiper-row",h)}"none"!==u.css("display")&&("auto"===y.params.slidesPerView?(l=s()?u.outerWidth(!0):u.outerHeight(!0),y.params.roundLengths&&(l=i(l))):(l=(y.size-(y.params.slidesPerView-1)*a)/y.params.slidesPerView,y.params.roundLengths&&(l=i(l)),s()?y.slides[e].style.width=l+"px":y.slides[e].style.height=l+"px"),y.slides[e].swiperSlideSize=l,y.slidesSizesGrid.push(l),y.params.centeredSlides?(t=t+l/2+r/2+a,0===e&&(t=t-y.size/2-a),Math.abs(t)<.001&&(t=0),n%y.params.slidesPerGroup===0&&y.snapGrid.push(t),y.slidesGrid.push(t)):(n%y.params.slidesPerGroup===0&&y.snapGrid.push(t),y.slidesGrid.push(t),t=t+l+a),y.virtualSize+=l+a,r=l,n++)}y.virtualSize=Math.max(y.virtualSize,y.size)+y.params.slidesOffsetAfter;var g;if(y.rtl&&y.wrongRTL&&("slide"===y.params.effect||"coverflow"===y.params.effect)&&y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}),(!y.support.flexbox||y.params.setWrapperSize)&&y.wrapper.css(s()?{width:y.virtualSize+y.params.spaceBetween+"px"}:{height:y.virtualSize+y.params.spaceBetween+"px"}),y.params.slidesPerColumn>1&&(y.virtualSize=(l+y.params.spaceBetween)*o,y.virtualSize=Math.ceil(y.virtualSize/y.params.slidesPerColumn)-y.params.spaceBetween,y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}),y.params.centeredSlides)){for(g=[],e=0;e<y.snapGrid.length;e++)y.snapGrid[e]<y.virtualSize+y.snapGrid[0]&&g.push(y.snapGrid[e]);y.snapGrid=g}if(!y.params.centeredSlides){for(g=[],e=0;e<y.snapGrid.length;e++)y.snapGrid[e]<=y.virtualSize-y.size&&g.push(y.snapGrid[e]);y.snapGrid=g,Math.floor(y.virtualSize-y.size)>Math.floor(y.snapGrid[y.snapGrid.length-1])&&y.snapGrid.push(y.virtualSize-y.size)}0===y.snapGrid.length&&(y.snapGrid=[0]),0!==y.params.spaceBetween&&y.slides.css(s()?y.rtl?{marginLeft:a+"px"}:{marginRight:a+"px"}:{marginBottom:a+"px"}),y.params.watchSlidesProgress&&y.updateSlidesOffset()},y.updateSlidesOffset=function(){for(var e=0;e<y.slides.length;e++)y.slides[e].swiperSlideOffset=s()?y.slides[e].offsetLeft:y.slides[e].offsetTop},y.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=y.translate||0),0!==y.slides.length){"undefined"==typeof y.slides[0].swiperSlideOffset&&y.updateSlidesOffset();var a=-e;y.rtl&&(a=e),y.slides.removeClass(y.params.slideVisibleClass);for(var t=0;t<y.slides.length;t++){var r=y.slides[t],s=(a-r.swiperSlideOffset)/(r.swiperSlideSize+y.params.spaceBetween);if(y.params.watchSlidesVisibility){var i=-(a-r.swiperSlideOffset),n=i+y.slidesSizesGrid[t],o=i>=0&&i<y.size||n>0&&n<=y.size||0>=i&&n>=y.size;o&&y.slides.eq(t).addClass(y.params.slideVisibleClass)}r.progress=y.rtl?-s:s}}},y.updateProgress=function(e){"undefined"==typeof e&&(e=y.translate||0);var a=y.maxTranslate()-y.minTranslate();0===a?(y.progress=0,y.isBeginning=y.isEnd=!0):(y.progress=(e-y.minTranslate())/a,y.isBeginning=y.progress<=0,y.isEnd=y.progress>=1),y.isBeginning&&y.emit("onReachBeginning",y),y.isEnd&&y.emit("onReachEnd",y),y.params.watchSlidesProgress&&y.updateSlidesProgress(e),y.emit("onProgress",y,y.progress)},y.updateActiveIndex=function(){var e,a,t,r=y.rtl?y.translate:-y.translate;for(a=0;a<y.slidesGrid.length;a++)"undefined"!=typeof y.slidesGrid[a+1]?r>=y.slidesGrid[a]&&r<y.slidesGrid[a+1]-(y.slidesGrid[a+1]-y.slidesGrid[a])/2?e=a:r>=y.slidesGrid[a]&&r<y.slidesGrid[a+1]&&(e=a+1):r>=y.slidesGrid[a]&&(e=a);(0>e||"undefined"==typeof e)&&(e=0),t=Math.floor(e/y.params.slidesPerGroup),t>=y.snapGrid.length&&(t=y.snapGrid.length-1),e!==y.activeIndex&&(y.snapIndex=t,y.previousIndex=y.activeIndex,y.activeIndex=e,y.updateClasses())},y.updateClasses=function(){y.slides.removeClass(y.params.slideActiveClass+" "+y.params.slideNextClass+" "+y.params.slidePrevClass);var e=y.slides.eq(y.activeIndex);if(e.addClass(y.params.slideActiveClass),e.next("."+y.params.slideClass).addClass(y.params.slideNextClass),e.prev("."+y.params.slideClass).addClass(y.params.slidePrevClass),y.bullets&&y.bullets.length>0){y.bullets.removeClass(y.params.bulletActiveClass);var t;y.params.loop?(t=Math.ceil(y.activeIndex-y.loopedSlides)/y.params.slidesPerGroup,t>y.slides.length-1-2*y.loopedSlides&&(t-=y.slides.length-2*y.loopedSlides),t>y.bullets.length-1&&(t-=y.bullets.length)):t="undefined"!=typeof y.snapIndex?y.snapIndex:y.activeIndex||0,y.paginationContainer.length>1?y.bullets.each(function(){a(this).index()===t&&a(this).addClass(y.params.bulletActiveClass)}):y.bullets.eq(t).addClass(y.params.bulletActiveClass)}y.params.loop||(y.params.prevButton&&(y.isBeginning?(a(y.params.prevButton).addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(a(y.params.prevButton))):(a(y.params.prevButton).removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(a(y.params.prevButton)))),y.params.nextButton&&(y.isEnd?(a(y.params.nextButton).addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(a(y.params.nextButton))):(a(y.params.nextButton).removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(a(y.params.nextButton)))))},y.updatePagination=function(){if(y.params.pagination&&y.paginationContainer&&y.paginationContainer.length>0){for(var e="",a=y.params.loop?Math.ceil((y.slides.length-2*y.loopedSlides)/y.params.slidesPerGroup):y.snapGrid.length,t=0;a>t;t++)e+=y.params.paginationBulletRender?y.params.paginationBulletRender(t,y.params.bulletClass):"<"+y.params.paginationElement+' class="'+y.params.bulletClass+'"></'+y.params.paginationElement+">";y.paginationContainer.html(e),y.bullets=y.paginationContainer.find("."+y.params.bulletClass),y.params.paginationClickable&&y.params.a11y&&y.a11y&&y.a11y.initPagination()}},y.update=function(e){function a(){r=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate()),y.setWrapperTranslate(r),y.updateActiveIndex(),y.updateClasses()}if(y.updateContainerSize(),y.updateSlidesSize(),y.updateProgress(),y.updatePagination(),y.updateClasses(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),e){var t,r;y.controller&&y.controller.spline&&(y.controller.spline=void 0),y.params.freeMode?a():(t=("auto"===y.params.slidesPerView||y.params.slidesPerView>1)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0),t||a())}},y.onResize=function(e){y.params.breakpoints&&y.setBreakpoint();var a=y.params.allowSwipeToPrev,t=y.params.allowSwipeToNext;if(y.params.allowSwipeToPrev=y.params.allowSwipeToNext=!0,y.updateContainerSize(),y.updateSlidesSize(),("auto"===y.params.slidesPerView||y.params.freeMode||e)&&y.updatePagination(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),y.controller&&y.controller.spline&&(y.controller.spline=void 0),y.params.freeMode){var r=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate());y.setWrapperTranslate(r),y.updateActiveIndex(),y.updateClasses()}else y.updateClasses(),("auto"===y.params.slidesPerView||y.params.slidesPerView>1)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0);y.params.allowSwipeToPrev=a,y.params.allowSwipeToNext=t};var x=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?x=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(x=["MSPointerDown","MSPointerMove","MSPointerUp"]),y.touchEvents={start:y.support.touch||!y.params.simulateTouch?"touchstart":x[0],move:y.support.touch||!y.params.simulateTouch?"touchmove":x[1],end:y.support.touch||!y.params.simulateTouch?"touchend":x[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===y.params.touchEventsTarget?y.container:y.wrapper).addClass("swiper-wp8-"+y.params.direction),y.initEvents=function(e){var t=e?"off":"on",s=e?"removeEventListener":"addEventListener",i="container"===y.params.touchEventsTarget?y.container[0]:y.wrapper[0],n=y.support.touch?i:document,o=y.params.nested?!0:!1;y.browser.ie?(i[s](y.touchEvents.start,y.onTouchStart,!1),n[s](y.touchEvents.move,y.onTouchMove,o),n[s](y.touchEvents.end,y.onTouchEnd,!1)):(y.support.touch&&(i[s](y.touchEvents.start,y.onTouchStart,!1),i[s](y.touchEvents.move,y.onTouchMove,o),i[s](y.touchEvents.end,y.onTouchEnd,!1)),!r.simulateTouch||y.device.ios||y.device.android||(i[s]("mousedown",y.onTouchStart,!1),document[s]("mousemove",y.onTouchMove,o),document[s]("mouseup",y.onTouchEnd,!1))),window[s]("resize",y.onResize),y.params.nextButton&&(a(y.params.nextButton)[t]("click",y.onClickNext),y.params.a11y&&y.a11y&&a(y.params.nextButton)[t]("keydown",y.a11y.onEnterKey)),y.params.prevButton&&(a(y.params.prevButton)[t]("click",y.onClickPrev),y.params.a11y&&y.a11y&&a(y.params.prevButton)[t]("keydown",y.a11y.onEnterKey)),y.params.pagination&&y.params.paginationClickable&&(a(y.paginationContainer)[t]("click","."+y.params.bulletClass,y.onClickIndex),y.params.a11y&&y.a11y&&a(y.paginationContainer)[t]("keydown","."+y.params.bulletClass,y.a11y.onEnterKey)),(y.params.preventClicks||y.params.preventClicksPropagation)&&i[s]("click",y.preventClicks,!0)},y.attachEvents=function(e){y.initEvents()},y.detachEvents=function(){y.initEvents(!0)},y.allowClick=!0,y.preventClicks=function(e){y.allowClick||(y.params.preventClicks&&e.preventDefault(),y.params.preventClicksPropagation&&y.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},y.onClickNext=function(e){e.preventDefault(),(!y.isEnd||y.params.loop)&&y.slideNext()},y.onClickPrev=function(e){e.preventDefault(),(!y.isBeginning||y.params.loop)&&y.slidePrev()},y.onClickIndex=function(e){e.preventDefault();var t=a(this).index()*y.params.slidesPerGroup;y.params.loop&&(t+=y.loopedSlides),y.slideTo(t)},y.updateClickedSlide=function(e){var t=o(e,"."+y.params.slideClass),r=!1;if(t)for(var s=0;s<y.slides.length;s++)y.slides[s]===t&&(r=!0);if(!t||!r)return y.clickedSlide=void 0,void(y.clickedIndex=void 0);if(y.clickedSlide=t,y.clickedIndex=a(t).index(),y.params.slideToClickedSlide&&void 0!==y.clickedIndex&&y.clickedIndex!==y.activeIndex){var i,n=y.clickedIndex;if(y.params.loop){if(y.animating)return;i=a(y.clickedSlide).attr("data-swiper-slide-index"),y.params.centeredSlides?n<y.loopedSlides-y.params.slidesPerView/2||n>y.slides.length-y.loopedSlides+y.params.slidesPerView/2?(y.fixLoop(),n=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+i+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){y.slideTo(n)},0)):y.slideTo(n):n>y.slides.length-y.params.slidesPerView?(y.fixLoop(),n=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+i+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){y.slideTo(n)},0)):y.slideTo(n)}else y.slideTo(n)}};var T,S,C,M,P,k,z,I,E,D,L="input, select, textarea, button",G=Date.now(),B=[];y.animating=!1,y.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var O,A;if(y.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),O="touchstart"===e.type,O||!("which"in e)||3!==e.which){if(y.params.noSwiping&&o(e,"."+y.params.noSwipingClass))return void(y.allowClick=!0);if(!y.params.swipeHandler||o(e,y.params.swipeHandler)){var t=y.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r=y.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(y.device.ios&&y.params.iOSEdgeSwipeDetection&&t<=y.params.iOSEdgeSwipeThreshold)){if(T=!0,S=!1,C=!0,P=void 0,A=void 0,y.touches.startX=t,y.touches.startY=r,M=Date.now(),y.allowClick=!0,y.updateContainerSize(),y.swipeDirection=void 0,y.params.threshold>0&&(I=!1),"touchstart"!==e.type){var s=!0;a(e.target).is(L)&&(s=!1),document.activeElement&&a(document.activeElement).is(L)&&document.activeElement.blur(),s&&e.preventDefault()}y.emit("onTouchStart",y,e)}}}},y.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(O&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(y.params.onlyExternal)return y.allowClick=!1,void(T&&(y.touches.startX=y.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y.touches.startY=y.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,M=Date.now()));if(O&&document.activeElement&&e.target===document.activeElement&&a(e.target).is(L))return S=!0,void(y.allowClick=!1);if(C&&y.emit("onTouchMove",y,e),!(e.targetTouches&&e.targetTouches.length>1)){if(y.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof P){var t=180*Math.atan2(Math.abs(y.touches.currentY-y.touches.startY),Math.abs(y.touches.currentX-y.touches.startX))/Math.PI;P=s()?t>y.params.touchAngle:90-t>y.params.touchAngle}if(P&&y.emit("onTouchMoveOpposite",y,e),"undefined"==typeof A&&y.browser.ieTouch&&(y.touches.currentX!==y.touches.startX||y.touches.currentY!==y.touches.startY)&&(A=!0),T){if(P)return void(T=!1);if(A||!y.browser.ieTouch){y.allowClick=!1,y.emit("onSliderMove",y,e),e.preventDefault(),y.params.touchMoveStopPropagation&&!y.params.nested&&e.stopPropagation(),S||(r.loop&&y.fixLoop(),z=y.getWrapperTranslate(),y.setWrapperTransition(0),y.animating&&y.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),y.params.autoplay&&y.autoplaying&&(y.params.autoplayDisableOnInteraction?y.stopAutoplay():y.pauseAutoplay()),D=!1,y.params.grabCursor&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grabbing",y.container[0].style.cursor="-moz-grabbin",y.container[0].style.cursor="grabbing")),S=!0;var i=y.touches.diff=s()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY;i*=y.params.touchRatio,y.rtl&&(i=-i),y.swipeDirection=i>0?"prev":"next",k=i+z;var n=!0;if(i>0&&k>y.minTranslate()?(n=!1,y.params.resistance&&(k=y.minTranslate()-1+Math.pow(-y.minTranslate()+z+i,y.params.resistanceRatio))):0>i&&k<y.maxTranslate()&&(n=!1,y.params.resistance&&(k=y.maxTranslate()+1-Math.pow(y.maxTranslate()-z-i,y.params.resistanceRatio))),n&&(e.preventedByNestedSwiper=!0),!y.params.allowSwipeToNext&&"next"===y.swipeDirection&&z>k&&(k=z),!y.params.allowSwipeToPrev&&"prev"===y.swipeDirection&&k>z&&(k=z),y.params.followFinger){if(y.params.threshold>0){if(!(Math.abs(i)>y.params.threshold||I))return void(k=z);if(!I)return I=!0,y.touches.startX=y.touches.currentX,y.touches.startY=y.touches.currentY,k=z,void(y.touches.diff=s()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY)}(y.params.freeMode||y.params.watchSlidesProgress)&&y.updateActiveIndex(),y.params.freeMode&&(0===B.length&&B.push({position:y.touches[s()?"startX":"startY"],time:M}),B.push({position:y.touches[s()?"currentX":"currentY"],time:(new window.Date).getTime()})),y.updateProgress(k),y.setWrapperTranslate(k)}}}}}},y.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),C&&y.emit("onTouchEnd",y,e),C=!1,T){y.params.grabCursor&&S&&T&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grab",y.container[0].style.cursor="-moz-grab",y.container[0].style.cursor="grab");var t=Date.now(),r=t-M;if(y.allowClick&&(y.updateClickedSlide(e),y.emit("onTap",y,e),300>r&&t-G>300&&(E&&clearTimeout(E),E=setTimeout(function(){y&&(y.params.paginationHide&&y.paginationContainer.length>0&&!a(e.target).hasClass(y.params.bulletClass)&&y.paginationContainer.toggleClass(y.params.paginationHiddenClass),y.emit("onClick",y,e))},300)),300>r&&300>t-G&&(E&&clearTimeout(E),y.emit("onDoubleTap",y,e))),G=Date.now(),setTimeout(function(){y&&(y.allowClick=!0)},0),!T||!S||!y.swipeDirection||0===y.touches.diff||k===z)return void(T=S=!1);T=S=!1;var s;if(s=y.params.followFinger?y.rtl?y.translate:-y.translate:-k,y.params.freeMode){if(s<-y.minTranslate())return void y.slideTo(y.activeIndex);if(s>-y.maxTranslate())return void y.slideTo(y.slides.length<y.snapGrid.length?y.snapGrid.length-1:y.slides.length-1);if(y.params.freeModeMomentum){if(B.length>1){var i=B.pop(),n=B.pop(),o=i.position-n.position,l=i.time-n.time;y.velocity=o/l,y.velocity=y.velocity/2,Math.abs(y.velocity)<y.params.freeModeMinimumVelocity&&(y.velocity=0),(l>150||(new window.Date).getTime()-i.time>300)&&(y.velocity=0)}else y.velocity=0;B.length=0;var p=1e3*y.params.freeModeMomentumRatio,d=y.velocity*p,c=y.translate+d;y.rtl&&(c=-c);var u,m=!1,f=20*Math.abs(y.velocity)*y.params.freeModeMomentumBounceRatio;if(c<y.maxTranslate())y.params.freeModeMomentumBounce?(c+y.maxTranslate()<-f&&(c=y.maxTranslate()-f),u=y.maxTranslate(),m=!0,D=!0):c=y.maxTranslate();else if(c>y.minTranslate())y.params.freeModeMomentumBounce?(c-y.minTranslate()>f&&(c=y.minTranslate()+f),u=y.minTranslate(),m=!0,D=!0):c=y.minTranslate();else if(y.params.freeModeSticky){var h,g=0;for(g=0;g<y.snapGrid.length;g+=1)if(y.snapGrid[g]>-c){h=g;break}c=Math.abs(y.snapGrid[h]-c)<Math.abs(y.snapGrid[h-1]-c)||"next"===y.swipeDirection?y.snapGrid[h]:y.snapGrid[h-1],y.rtl||(c=-c)}if(0!==y.velocity)p=Math.abs(y.rtl?(-c-y.translate)/y.velocity:(c-y.translate)/y.velocity);else if(y.params.freeModeSticky)return void y.slideReset();y.params.freeModeMomentumBounce&&m?(y.updateProgress(u),y.setWrapperTransition(p),y.setWrapperTranslate(c),y.onTransitionStart(),y.animating=!0,y.wrapper.transitionEnd(function(){y&&D&&(y.emit("onMomentumBounce",y),y.setWrapperTransition(y.params.speed),y.setWrapperTranslate(u),y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))})):y.velocity?(y.updateProgress(c),y.setWrapperTransition(p),y.setWrapperTranslate(c),y.onTransitionStart(),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))):y.updateProgress(c),y.updateActiveIndex()}return void((!y.params.freeModeMomentum||r>=y.params.longSwipesMs)&&(y.updateProgress(),y.updateActiveIndex()))}var v,w=0,b=y.slidesSizesGrid[0];for(v=0;v<y.slidesGrid.length;v+=y.params.slidesPerGroup)"undefined"!=typeof y.slidesGrid[v+y.params.slidesPerGroup]?s>=y.slidesGrid[v]&&s<y.slidesGrid[v+y.params.slidesPerGroup]&&(w=v,b=y.slidesGrid[v+y.params.slidesPerGroup]-y.slidesGrid[v]):s>=y.slidesGrid[v]&&(w=v,b=y.slidesGrid[y.slidesGrid.length-1]-y.slidesGrid[y.slidesGrid.length-2]);var x=(s-y.slidesGrid[w])/b;if(r>y.params.longSwipesMs){if(!y.params.longSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&y.slideTo(x>=y.params.longSwipesRatio?w+y.params.slidesPerGroup:w),"prev"===y.swipeDirection&&y.slideTo(x>1-y.params.longSwipesRatio?w+y.params.slidesPerGroup:w)}else{if(!y.params.shortSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&y.slideTo(w+y.params.slidesPerGroup),
"prev"===y.swipeDirection&&y.slideTo(w)}}},y._slideTo=function(e,a){return y.slideTo(e,a,!0,!0)},y.slideTo=function(e,a,t,r){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),y.snapIndex=Math.floor(e/y.params.slidesPerGroup),y.snapIndex>=y.snapGrid.length&&(y.snapIndex=y.snapGrid.length-1);var i=-y.snapGrid[y.snapIndex];y.params.autoplay&&y.autoplaying&&(r||!y.params.autoplayDisableOnInteraction?y.pauseAutoplay(a):y.stopAutoplay()),y.updateProgress(i);for(var n=0;n<y.slidesGrid.length;n++)-Math.floor(100*i)>=Math.floor(100*y.slidesGrid[n])&&(e=n);return!y.params.allowSwipeToNext&&i<y.translate&&i<y.minTranslate()?!1:!y.params.allowSwipeToPrev&&i>y.translate&&i>y.maxTranslate()&&(y.activeIndex||0)!==e?!1:("undefined"==typeof a&&(a=y.params.speed),y.previousIndex=y.activeIndex||0,y.activeIndex=e,i===y.translate?(y.updateClasses(),!1):(y.updateClasses(),y.onTransitionStart(t),s()?i:0,s()?0:i,0===a?(y.setWrapperTransition(0),y.setWrapperTranslate(i),y.onTransitionEnd(t)):(y.setWrapperTransition(a),y.setWrapperTranslate(i),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd(t)}))),!0))},y.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),y.lazy&&y.lazy.onTransitionStart(),e&&(y.emit("onTransitionStart",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeStart",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextStart",y):y.emit("onSlidePrevStart",y)))},y.onTransitionEnd=function(e){y.animating=!1,y.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),y.lazy&&y.lazy.onTransitionEnd(),e&&(y.emit("onTransitionEnd",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeEnd",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextEnd",y):y.emit("onSlidePrevEnd",y))),y.params.hashnav&&y.hashnav&&y.hashnav.setHash()},y.slideNext=function(e,a,t){return y.params.loop?y.animating?!1:(y.fixLoop(),y.container[0].clientLeft,y.slideTo(y.activeIndex+y.params.slidesPerGroup,a,e,t)):y.slideTo(y.activeIndex+y.params.slidesPerGroup,a,e,t)},y._slideNext=function(e){return y.slideNext(!0,e,!0)},y.slidePrev=function(e,a,t){return y.params.loop?y.animating?!1:(y.fixLoop(),y.container[0].clientLeft,y.slideTo(y.activeIndex-1,a,e,t)):y.slideTo(y.activeIndex-1,a,e,t)},y._slidePrev=function(e){return y.slidePrev(!0,e,!0)},y.slideReset=function(e,a,t){return y.slideTo(y.activeIndex,a,e)},y.setWrapperTransition=function(e,a){y.wrapper.transition(e),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTransition(e),y.params.parallax&&y.parallax&&y.parallax.setTransition(e),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTransition(e),y.params.control&&y.controller&&y.controller.setTransition(e,a),y.emit("onSetTransition",y,e)},y.setWrapperTranslate=function(e,a,t){var r=0,n=0,o=0;s()?r=y.rtl?-e:e:n=e,y.params.roundLengths&&(r=i(r),n=i(n)),y.params.virtualTranslate||y.wrapper.transform(y.support.transforms3d?"translate3d("+r+"px, "+n+"px, "+o+"px)":"translate("+r+"px, "+n+"px)"),y.translate=s()?r:n,a&&y.updateActiveIndex(),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTranslate(y.translate),y.params.parallax&&y.parallax&&y.parallax.setTranslate(y.translate),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTranslate(y.translate),y.params.control&&y.controller&&y.controller.setTranslate(y.translate,t),y.emit("onSetTranslate",y,y.translate)},y.getTranslate=function(e,a){var t,r,s,i;return"undefined"==typeof a&&(a="x"),y.params.virtualTranslate?y.rtl?-y.translate:y.translate:(s=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(r=s.transform||s.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),i=new window.WebKitCSSMatrix("none"===r?"":r)):(i=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),t=i.toString().split(",")),"x"===a&&(r=window.WebKitCSSMatrix?i.m41:parseFloat(16===t.length?t[12]:t[4])),"y"===a&&(r=window.WebKitCSSMatrix?i.m42:parseFloat(16===t.length?t[13]:t[5])),y.rtl&&r&&(r=-r),r||0)},y.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=s()?"x":"y"),y.getTranslate(y.wrapper[0],e)},y.observers=[],y.initObservers=function(){if(y.params.observeParents)for(var e=y.container.parents(),a=0;a<e.length;a++)l(e[a]);l(y.container[0],{childList:!1}),l(y.wrapper[0],{attributes:!1})},y.disconnectObservers=function(){for(var e=0;e<y.observers.length;e++)y.observers[e].disconnect();y.observers=[]},y.createLoop=function(){y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass).remove();var e=y.wrapper.children("."+y.params.slideClass);"auto"!==y.params.slidesPerView||y.params.loopedSlides||(y.params.loopedSlides=e.length),y.loopedSlides=parseInt(y.params.loopedSlides||y.params.slidesPerView,10),y.loopedSlides=y.loopedSlides+y.params.loopAdditionalSlides,y.loopedSlides>e.length&&(y.loopedSlides=e.length);var t,r=[],s=[];for(e.each(function(t,i){var n=a(this);t<y.loopedSlides&&s.push(i),t<e.length&&t>=e.length-y.loopedSlides&&r.push(i),n.attr("data-swiper-slide-index",t)}),t=0;t<s.length;t++)y.wrapper.append(a(s[t].cloneNode(!0)).addClass(y.params.slideDuplicateClass));for(t=r.length-1;t>=0;t--)y.wrapper.prepend(a(r[t].cloneNode(!0)).addClass(y.params.slideDuplicateClass))},y.destroyLoop=function(){y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass).remove(),y.slides.removeAttr("data-swiper-slide-index")},y.fixLoop=function(){var e;y.activeIndex<y.loopedSlides?(e=y.slides.length-3*y.loopedSlides+y.activeIndex,e+=y.loopedSlides,y.slideTo(e,0,!1,!0)):("auto"===y.params.slidesPerView&&y.activeIndex>=2*y.loopedSlides||y.activeIndex>y.slides.length-2*y.params.slidesPerView)&&(e=-y.slides.length+y.activeIndex+y.loopedSlides,e+=y.loopedSlides,y.slideTo(e,0,!1,!0))},y.appendSlide=function(e){if(y.params.loop&&y.destroyLoop(),"object"==typeof e&&e.length)for(var a=0;a<e.length;a++)e[a]&&y.wrapper.append(e[a]);else y.wrapper.append(e);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0)},y.prependSlide=function(e){y.params.loop&&y.destroyLoop();var a=y.activeIndex+1;if("object"==typeof e&&e.length){for(var t=0;t<e.length;t++)e[t]&&y.wrapper.prepend(e[t]);a=y.activeIndex+e.length}else y.wrapper.prepend(e);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.slideTo(a,0,!1)},y.removeSlide=function(e){y.params.loop&&(y.destroyLoop(),y.slides=y.wrapper.children("."+y.params.slideClass));var a,t=y.activeIndex;if("object"==typeof e&&e.length){for(var r=0;r<e.length;r++)a=e[r],y.slides[a]&&y.slides.eq(a).remove(),t>a&&t--;t=Math.max(t,0)}else a=e,y.slides[a]&&y.slides.eq(a).remove(),t>a&&t--,t=Math.max(t,0);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.params.loop?y.slideTo(t+y.loopedSlides,0,!1):y.slideTo(t,0,!1)},y.removeAllSlides=function(){for(var e=[],a=0;a<y.slides.length;a++)e.push(a);y.removeSlide(e)},y.effects={fade:{setTranslate:function(){for(var e=0;e<y.slides.length;e++){var a=y.slides.eq(e),t=a[0].swiperSlideOffset,r=-t;y.params.virtualTranslate||(r-=y.translate);var i=0;s()||(i=r,r=0);var n=y.params.fade.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:n}).transform("translate3d("+r+"px, "+i+"px, 0px)")}},setTransition:function(e){if(y.slides.transition(e),y.params.virtualTranslate&&0!==e){var a=!1;y.slides.transitionEnd(function(){if(!a&&y){a=!0,y.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)y.wrapper.trigger(e[t])}})}}},cube:{setTranslate:function(){var e,t=0;y.params.cube.shadow&&(s()?(e=y.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=a('<div class="swiper-cube-shadow"></div>'),y.wrapper.append(e)),e.css({height:y.width+"px"})):(e=y.container.find(".swiper-cube-shadow"),0===e.length&&(e=a('<div class="swiper-cube-shadow"></div>'),y.container.append(e))));for(var r=0;r<y.slides.length;r++){var i=y.slides.eq(r),n=90*r,o=Math.floor(n/360);y.rtl&&(n=-n,o=Math.floor(-n/360));var l=Math.max(Math.min(i[0].progress,1),-1),p=0,d=0,c=0;r%4===0?(p=4*-o*y.size,c=0):(r-1)%4===0?(p=0,c=4*-o*y.size):(r-2)%4===0?(p=y.size+4*o*y.size,c=y.size):(r-3)%4===0&&(p=-y.size,c=3*y.size+4*y.size*o),y.rtl&&(p=-p),s()||(d=p,p=0);var u="rotateX("+(s()?0:-n)+"deg) rotateY("+(s()?n:0)+"deg) translate3d("+p+"px, "+d+"px, "+c+"px)";if(1>=l&&l>-1&&(t=90*r+90*l,y.rtl&&(t=90*-r-90*l)),i.transform(u),y.params.cube.slideShadows){var m=i.find(s()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),f=i.find(s()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===m.length&&(m=a('<div class="swiper-slide-shadow-'+(s()?"left":"top")+'"></div>'),i.append(m)),0===f.length&&(f=a('<div class="swiper-slide-shadow-'+(s()?"right":"bottom")+'"></div>'),i.append(f)),i[0].progress,m.length&&(m[0].style.opacity=-i[0].progress),f.length&&(f[0].style.opacity=i[0].progress)}}if(y.wrapper.css({"-webkit-transform-origin":"50% 50% -"+y.size/2+"px","-moz-transform-origin":"50% 50% -"+y.size/2+"px","-ms-transform-origin":"50% 50% -"+y.size/2+"px","transform-origin":"50% 50% -"+y.size/2+"px"}),y.params.cube.shadow)if(s())e.transform("translate3d(0px, "+(y.width/2+y.params.cube.shadowOffset)+"px, "+-y.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+y.params.cube.shadowScale+")");else{var h=Math.abs(t)-90*Math.floor(Math.abs(t)/90),g=1.5-(Math.sin(2*h*Math.PI/360)/2+Math.cos(2*h*Math.PI/360)/2),v=y.params.cube.shadowScale,w=y.params.cube.shadowScale/g,b=y.params.cube.shadowOffset;e.transform("scale3d("+v+", 1, "+w+") translate3d(0px, "+(y.height/2+b)+"px, "+-y.height/2/w+"px) rotateX(-90deg)")}var x=y.isSafari||y.isUiWebView?-y.size/2:0;y.wrapper.transform("translate3d(0px,0,"+x+"px) rotateX("+(s()?0:t)+"deg) rotateY("+(s()?-t:0)+"deg)")},setTransition:function(e){y.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),y.params.cube.shadow&&!s()&&y.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=y.translate,t=s()?-e+y.width/2:-e+y.height/2,r=s()?y.params.coverflow.rotate:-y.params.coverflow.rotate,i=y.params.coverflow.depth,n=0,o=y.slides.length;o>n;n++){var l=y.slides.eq(n),p=y.slidesSizesGrid[n],d=l[0].swiperSlideOffset,c=(t-d-p/2)/p*y.params.coverflow.modifier,u=s()?r*c:0,m=s()?0:r*c,f=-i*Math.abs(c),h=s()?0:y.params.coverflow.stretch*c,g=s()?y.params.coverflow.stretch*c:0;Math.abs(g)<.001&&(g=0),Math.abs(h)<.001&&(h=0),Math.abs(f)<.001&&(f=0),Math.abs(u)<.001&&(u=0),Math.abs(m)<.001&&(m=0);var v="translate3d("+g+"px,"+h+"px,"+f+"px)  rotateX("+m+"deg) rotateY("+u+"deg)";if(l.transform(v),l[0].style.zIndex=-Math.abs(Math.round(c))+1,y.params.coverflow.slideShadows){var w=l.find(s()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),b=l.find(s()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===w.length&&(w=a('<div class="swiper-slide-shadow-'+(s()?"left":"top")+'"></div>'),l.append(w)),0===b.length&&(b=a('<div class="swiper-slide-shadow-'+(s()?"right":"bottom")+'"></div>'),l.append(b)),w.length&&(w[0].style.opacity=c>0?c:0),b.length&&(b[0].style.opacity=-c>0?-c:0)}}if(y.browser.ie){var x=y.wrapper[0].style;x.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){y.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},y.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,t){if("undefined"!=typeof e&&("undefined"==typeof t&&(t=!0),0!==y.slides.length)){var r=y.slides.eq(e),s=r.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!r.hasClass("swiper-lazy")||r.hasClass("swiper-lazy-loaded")||r.hasClass("swiper-lazy-loading")||(s=s.add(r[0])),0!==s.length&&s.each(function(){var e=a(this);e.addClass("swiper-lazy-loading");var s=e.attr("data-background"),i=e.attr("data-src"),n=e.attr("data-srcset");y.loadImage(e[0],i||s,n,!1,function(){if(s?(e.css("background-image","url("+s+")"),e.removeAttr("data-background")):(n&&(e.attr("srcset",n),e.removeAttr("data-srcset")),i&&(e.attr("src",i),e.removeAttr("data-src"))),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),r.find(".swiper-lazy-preloader, .preloader").remove(),y.params.loop&&t){var a=r.attr("data-swiper-slide-index");if(r.hasClass(y.params.slideDuplicateClass)){var o=y.wrapper.children('[data-swiper-slide-index="'+a+'"]:not(.'+y.params.slideDuplicateClass+")");y.lazy.loadImageInSlide(o.index(),!1)}else{var l=y.wrapper.children("."+y.params.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]');y.lazy.loadImageInSlide(l.index(),!1)}}y.emit("onLazyImageReady",y,r[0],e[0])}),y.emit("onLazyImageLoad",y,r[0],e[0])})}},load:function(){var e;if(y.params.watchSlidesVisibility)y.wrapper.children("."+y.params.slideVisibleClass).each(function(){y.lazy.loadImageInSlide(a(this).index())});else if(y.params.slidesPerView>1)for(e=y.activeIndex;e<y.activeIndex+y.params.slidesPerView;e++)y.slides[e]&&y.lazy.loadImageInSlide(e);else y.lazy.loadImageInSlide(y.activeIndex);if(y.params.lazyLoadingInPrevNext)if(y.params.slidesPerView>1){for(e=y.activeIndex+y.params.slidesPerView;e<y.activeIndex+y.params.slidesPerView+y.params.slidesPerView;e++)y.slides[e]&&y.lazy.loadImageInSlide(e);for(e=y.activeIndex-y.params.slidesPerView;e<y.activeIndex;e++)y.slides[e]&&y.lazy.loadImageInSlide(e)}else{var t=y.wrapper.children("."+y.params.slideNextClass);t.length>0&&y.lazy.loadImageInSlide(t.index());var r=y.wrapper.children("."+y.params.slidePrevClass);r.length>0&&y.lazy.loadImageInSlide(r.index())}},onTransitionStart:function(){y.params.lazyLoading&&(y.params.lazyLoadingOnTransitionStart||!y.params.lazyLoadingOnTransitionStart&&!y.lazy.initialImageLoaded)&&y.lazy.load()},onTransitionEnd:function(){y.params.lazyLoading&&!y.params.lazyLoadingOnTransitionStart&&y.lazy.load()}},y.scrollbar={isTouched:!1,setDragPosition:function(e){var a=y.scrollbar,t=s()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,r=t-a.track.offset()[s()?"left":"top"]-a.dragSize/2,i=-y.minTranslate()*a.moveDivider,n=-y.maxTranslate()*a.moveDivider;i>r?r=i:r>n&&(r=n),r=-r/a.moveDivider,y.updateProgress(r),y.setWrapperTranslate(r,!0)},dragStart:function(e){var a=y.scrollbar;a.isTouched=!0,e.preventDefault(),e.stopPropagation(),a.setDragPosition(e),clearTimeout(a.dragTimeout),a.track.transition(0),y.params.scrollbarHide&&a.track.css("opacity",1),y.wrapper.transition(100),a.drag.transition(100),y.emit("onScrollbarDragStart",y)},dragMove:function(e){var a=y.scrollbar;a.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a.setDragPosition(e),y.wrapper.transition(0),a.track.transition(0),a.drag.transition(0),y.emit("onScrollbarDragMove",y))},dragEnd:function(e){var a=y.scrollbar;a.isTouched&&(a.isTouched=!1,y.params.scrollbarHide&&(clearTimeout(a.dragTimeout),a.dragTimeout=setTimeout(function(){a.track.css("opacity",0),a.track.transition(400)},1e3)),y.emit("onScrollbarDragEnd",y),y.params.scrollbarSnapOnRelease&&y.slideReset())},enableDraggable:function(){var e=y.scrollbar,t=y.support.touch?e.track:document;a(e.track).on(y.touchEvents.start,e.dragStart),a(t).on(y.touchEvents.move,e.dragMove),a(t).on(y.touchEvents.end,e.dragEnd)},disableDraggable:function(){var e=y.scrollbar,t=y.support.touch?e.track:document;a(e.track).off(y.touchEvents.start,e.dragStart),a(t).off(y.touchEvents.move,e.dragMove),a(t).off(y.touchEvents.end,e.dragEnd)},set:function(){if(y.params.scrollbar){var e=y.scrollbar;e.track=a(y.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=a('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=s()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=y.size/y.virtualSize,e.moveDivider=e.divider*(e.trackSize/y.size),e.dragSize=e.trackSize*e.divider,s()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",y.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(y.params.scrollbar){var e,a=y.scrollbar,t=(y.translate||0,a.dragSize);e=(a.trackSize-a.dragSize)*y.progress,y.rtl&&s()?(e=-e,e>0?(t=a.dragSize-e,e=0):-e+a.dragSize>a.trackSize&&(t=a.trackSize+e)):0>e?(t=a.dragSize+e,e=0):e+a.dragSize>a.trackSize&&(t=a.trackSize-e),s()?(a.drag.transform(y.support.transforms3d?"translate3d("+e+"px, 0, 0)":"translateX("+e+"px)"),a.drag[0].style.width=t+"px"):(a.drag.transform(y.support.transforms3d?"translate3d(0px, "+e+"px, 0)":"translateY("+e+"px)"),a.drag[0].style.height=t+"px"),y.params.scrollbarHide&&(clearTimeout(a.timeout),a.track[0].style.opacity=1,a.timeout=setTimeout(function(){a.track[0].style.opacity=0,a.track.transition(400)},1e3))}},setTransition:function(e){y.params.scrollbar&&y.scrollbar.drag.transition(e)}},y.controller={LinearSpline:function(e,a){this.x=e,this.y=a,this.lastIndex=e.length-1;var t,r;this.x.length,this.interpolate=function(e){return e?(r=s(this.x,e),t=r-1,(e-this.x[t])*(this.y[r]-this.y[t])/(this.x[r]-this.x[t])+this.y[t]):0};var s=function(){var e,a,t;return function(r,s){for(a=-1,e=r.length;e-a>1;)r[t=e+a>>1]<=s?a=t:e=t;return e}}()},getInterpolateFunction:function(e){y.controller.spline||(y.controller.spline=y.params.loop?new y.controller.LinearSpline(y.slidesGrid,e.slidesGrid):new y.controller.LinearSpline(y.snapGrid,e.snapGrid))},setTranslate:function(e,a){function r(a){e=a.rtl&&"horizontal"===a.params.direction?-y.translate:y.translate,"slide"===y.params.controlBy&&(y.controller.getInterpolateFunction(a),i=-y.controller.spline.interpolate(-e)),i&&"container"!==y.params.controlBy||(s=(a.maxTranslate()-a.minTranslate())/(y.maxTranslate()-y.minTranslate()),i=(e-y.minTranslate())*s+a.minTranslate()),y.params.controlInverse&&(i=a.maxTranslate()-i),a.updateProgress(i),a.setWrapperTranslate(i,!1,y),a.updateActiveIndex()}var s,i,n=y.params.control;if(y.isArray(n))for(var o=0;o<n.length;o++)n[o]!==a&&n[o]instanceof t&&r(n[o]);else n instanceof t&&a!==n&&r(n)},setTransition:function(e,a){function r(a){a.setWrapperTransition(e,y),0!==e&&(a.onTransitionStart(),a.wrapper.transitionEnd(function(){i&&(a.params.loop&&"slide"===y.params.controlBy&&a.fixLoop(),a.onTransitionEnd())}))}var s,i=y.params.control;if(y.isArray(i))for(s=0;s<i.length;s++)i[s]!==a&&i[s]instanceof t&&r(i[s]);else i instanceof t&&a!==i&&r(i)}},y.hashnav={init:function(){if(y.params.hashnav){y.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var a=0,t=0,r=y.slides.length;r>t;t++){var s=y.slides.eq(t),i=s.attr("data-hash");if(i===e&&!s.hasClass(y.params.slideDuplicateClass)){var n=s.index();y.slideTo(n,a,y.params.runCallbacksOnInit,!0)}}}},setHash:function(){y.hashnav.initialized&&y.params.hashnav&&(document.location.hash=y.slides.eq(y.activeIndex).attr("data-hash")||"")}},y.disableKeyboardControl=function(){a(document).off("keydown",p)},y.enableKeyboardControl=function(){a(document).on("keydown",p)},y.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},y.params.mousewheelControl){try{new window.WheelEvent("wheel"),y.mousewheel.event="wheel"}catch(N){}y.mousewheel.event||void 0===document.onmousewheel||(y.mousewheel.event="mousewheel"),y.mousewheel.event||(y.mousewheel.event="DOMMouseScroll")}y.disableMousewheelControl=function(){return y.mousewheel.event?(y.container.off(y.mousewheel.event,d),!0):!1},y.enableMousewheelControl=function(){return y.mousewheel.event?(y.container.on(y.mousewheel.event,d),!0):!1},y.parallax={setTranslate:function(){y.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,y.progress)}),y.slides.each(function(){var e=a(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var a=Math.min(Math.max(e[0].progress,-1),1);c(this,a)})})},setTransition:function(e){"undefined"==typeof e&&(e=y.params.speed),y.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=a(this),r=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),t.transition(r)})}},y._plugins=[];for(var R in y.plugins){var V=y.plugins[R](y,y.params[R]);V&&y._plugins.push(V)}return y.callPlugins=function(e){for(var a=0;a<y._plugins.length;a++)e in y._plugins[a]&&y._plugins[a][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.emitterEventListeners={},y.emit=function(e){y.params[e]&&y.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var a;if(y.emitterEventListeners[e])for(a=0;a<y.emitterEventListeners[e].length;a++)y.emitterEventListeners[e][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);y.callPlugins&&y.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.on=function(e,a){return e=u(e),y.emitterEventListeners[e]||(y.emitterEventListeners[e]=[]),y.emitterEventListeners[e].push(a),y},y.off=function(e,a){var t;if(e=u(e),"undefined"==typeof a)return y.emitterEventListeners[e]=[],y;if(y.emitterEventListeners[e]&&0!==y.emitterEventListeners[e].length){for(t=0;t<y.emitterEventListeners[e].length;t++)y.emitterEventListeners[e][t]===a&&y.emitterEventListeners[e].splice(t,1);return y}},y.once=function(e,a){e=u(e);var t=function(){a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),y.off(e,t)};return y.on(e,t),y},y.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,a){return e.attr("role",a),e},addLabel:function(e,a){return e.attr("aria-label",a),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(a(e.target).is(y.params.nextButton)?(y.onClickNext(e),y.a11y.notify(y.isEnd?y.params.lastSlideMessage:y.params.nextSlideMessage)):a(e.target).is(y.params.prevButton)&&(y.onClickPrev(e),y.a11y.notify(y.isBeginning?y.params.firstSlideMessage:y.params.prevSlideMessage)),a(e.target).is("."+y.params.bulletClass)&&a(e.target)[0].click())},liveRegion:a('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var a=y.a11y.liveRegion;0!==a.length&&(a.html(""),a.html(e))},init:function(){if(y.params.nextButton){var e=a(y.params.nextButton);y.a11y.makeFocusable(e),y.a11y.addRole(e,"button"),y.a11y.addLabel(e,y.params.nextSlideMessage)}if(y.params.prevButton){var t=a(y.params.prevButton);y.a11y.makeFocusable(t),y.a11y.addRole(t,"button"),y.a11y.addLabel(t,y.params.prevSlideMessage)}a(y.container).append(y.a11y.liveRegion)},initPagination:function(){y.params.pagination&&y.params.paginationClickable&&y.bullets&&y.bullets.length&&y.bullets.each(function(){var e=a(this);y.a11y.makeFocusable(e),y.a11y.addRole(e,"button"),y.a11y.addLabel(e,y.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){y.a11y.liveRegion&&y.a11y.liveRegion.length>0&&y.a11y.liveRegion.remove()}},y.init=function(){y.params.loop&&y.createLoop(),y.updateContainerSize(),y.updateSlidesSize(),y.updatePagination(),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.set(),y.params.scrollbarDraggable&&y.scrollbar.enableDraggable()),"slide"!==y.params.effect&&y.effects[y.params.effect]&&(y.params.loop||y.updateProgress(),y.effects[y.params.effect].setTranslate()),y.params.loop?y.slideTo(y.params.initialSlide+y.loopedSlides,0,y.params.runCallbacksOnInit):(y.slideTo(y.params.initialSlide,0,y.params.runCallbacksOnInit),0===y.params.initialSlide&&(y.parallax&&y.params.parallax&&y.parallax.setTranslate(),y.lazy&&y.params.lazyLoading&&(y.lazy.load(),y.lazy.initialImageLoaded=!0))),y.attachEvents(),y.params.observer&&y.support.observer&&y.initObservers(),y.params.preloadImages&&!y.params.lazyLoading&&y.preloadImages(),y.params.autoplay&&y.startAutoplay(),y.params.keyboardControl&&y.enableKeyboardControl&&y.enableKeyboardControl(),y.params.mousewheelControl&&y.enableMousewheelControl&&y.enableMousewheelControl(),y.params.hashnav&&y.hashnav&&y.hashnav.init(),y.params.a11y&&y.a11y&&y.a11y.init(),y.emit("onInit",y)},y.cleanupStyles=function(){y.container.removeClass(y.classNames.join(" ")).removeAttr("style"),y.wrapper.removeAttr("style"),y.slides&&y.slides.length&&y.slides.removeClass([y.params.slideVisibleClass,y.params.slideActiveClass,y.params.slideNextClass,y.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),y.paginationContainer&&y.paginationContainer.length&&y.paginationContainer.removeClass(y.params.paginationHiddenClass),y.bullets&&y.bullets.length&&y.bullets.removeClass(y.params.bulletActiveClass),y.params.prevButton&&a(y.params.prevButton).removeClass(y.params.buttonDisabledClass),y.params.nextButton&&a(y.params.nextButton).removeClass(y.params.buttonDisabledClass),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.track&&y.scrollbar.track.length&&y.scrollbar.track.removeAttr("style"),y.scrollbar.drag&&y.scrollbar.drag.length&&y.scrollbar.drag.removeAttr("style"))},y.destroy=function(e,a){y.detachEvents(),y.stopAutoplay(),y.params.scrollbar&&y.scrollbar&&y.params.scrollbarDraggable&&y.scrollbar.disableDraggable(),y.params.loop&&y.destroyLoop(),a&&y.cleanupStyles(),y.disconnectObservers(),y.params.keyboardControl&&y.disableKeyboardControl&&y.disableKeyboardControl(),y.params.mousewheelControl&&y.disableMousewheelControl&&y.disableMousewheelControl(),y.params.a11y&&y.a11y&&y.a11y.destroy(),y.emit("onDestroy"),e!==!1&&(y=null)},y.init(),y}};t.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,a=e.match(/(Android);?[\s\/]+([\d.]+)?/),t=e.match(/(iPad).*OS\s([\d_]+)/),r=e.match(/(iPod)(.*OS\s([\d_]+))?/),s=!t&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:t||s||r,android:a}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,a="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),t=0;t<a.length;t++)if(a[t]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var r=["jQuery","Zepto","Dom7"],s=0;s<r.length;s++)window[r[s]]&&e(window[r[s]]);var i;i="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7,i&&("transitionEnd"in i.fn||(i.fn.transitionEnd=function(e){function a(i){if(i.target===this)for(e.call(this,i),t=0;t<r.length;t++)s.off(r[t],a)}var t,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],s=this;if(e)for(t=0;t<r.length;t++)s.on(r[t],a);return this}),"transform"in i.fn||(i.fn.transform=function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this}),"transition"in i.fn||(i.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this})),window.Swiper=t}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper})}).call(this);

(function(){!function(){"use strict";function e(e){e.fn.swiper=function(a){var r;return e(this).each(function(){var e=new t(this,a);r||(r=e)}),r}}var a,t=function(e,s){function i(){return"horizontal"===T.params.direction}function n(e){return Math.floor(e)}function o(){T.autoplayTimeoutId=setTimeout(function(){T.params.loop?(T.fixLoop(),T._slideNext()):T.isEnd?s.autoplayStopOnLast?T.stopAutoplay():T._slideTo(0):T._slideNext()},T.params.autoplay)}function l(e,t){var r=a(e.target);if(!r.is(t))if("string"==typeof t)r=r.parents(t);else if(t.nodeType){var s;return r.parents().each(function(e,a){a===t&&(s=t)}),s?t:void 0}return 0===r.length?void 0:r[0]}function d(e,a){a=a||{};var t=window.MutationObserver||window.WebkitMutationObserver,r=new t(function(e){e.forEach(function(e){T.onResize(!0),T.emit("onObserverUpdate",T,e)})});r.observe(e,{attributes:"undefined"==typeof a.attributes?!0:a.attributes,childList:"undefined"==typeof a.childList?!0:a.childList,characterData:"undefined"==typeof a.characterData?!0:a.characterData}),T.observers.push(r)}function p(e){e.originalEvent&&(e=e.originalEvent);var a=e.keyCode||e.charCode;if(!T.params.allowSwipeToNext&&(i()&&39===a||!i()&&40===a))return!1;if(!T.params.allowSwipeToPrev&&(i()&&37===a||!i()&&38===a))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===a||39===a||38===a||40===a){var t=!1;if(T.container.parents(".swiper-slide").length>0&&0===T.container.parents(".swiper-slide-active").length)return;var r={left:window.pageXOffset,top:window.pageYOffset},s=window.innerWidth,n=window.innerHeight,o=T.container.offset();T.rtl&&(o.left=o.left-T.container[0].scrollLeft);for(var l=[[o.left,o.top],[o.left+T.width,o.top],[o.left,o.top+T.height],[o.left+T.width,o.top+T.height]],d=0;d<l.length;d++){var p=l[d];p[0]>=r.left&&p[0]<=r.left+s&&p[1]>=r.top&&p[1]<=r.top+n&&(t=!0)}if(!t)return}i()?((37===a||39===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===a&&!T.rtl||37===a&&T.rtl)&&T.slideNext(),(37===a&&!T.rtl||39===a&&T.rtl)&&T.slidePrev()):((38===a||40===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===a&&T.slideNext(),38===a&&T.slidePrev())}}function u(e){e.originalEvent&&(e=e.originalEvent);var a=T.mousewheel.event,t=0;if(e.detail)t=-e.detail;else if("mousewheel"===a)if(T.params.mousewheelForceToAxis)if(i()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;t=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;t=e.wheelDeltaY}else t=e.wheelDelta;else if("DOMMouseScroll"===a)t=-e.detail;else if("wheel"===a)if(T.params.mousewheelForceToAxis)if(i()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;t=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;t=-e.deltaY}else t=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(0!==t){if(T.params.mousewheelInvert&&(t=-t),T.params.freeMode){var r=T.getWrapperTranslate()+t*T.params.mousewheelSensitivity,s=T.isBeginning,n=T.isEnd;if(r>=T.minTranslate()&&(r=T.minTranslate()),r<=T.maxTranslate()&&(r=T.maxTranslate()),T.setWrapperTransition(0),T.setWrapperTranslate(r),T.updateProgress(),T.updateActiveIndex(),(!s&&T.isBeginning||!n&&T.isEnd)&&T.updateClasses(),T.params.freeModeSticky&&(clearTimeout(T.mousewheel.timeout),T.mousewheel.timeout=setTimeout(function(){T.slideReset()},300)),0===r||r===T.maxTranslate())return}else{if((new window.Date).getTime()-T.mousewheel.lastScrollTime>60)if(0>t)if(T.isEnd&&!T.params.loop||T.animating){if(T.params.mousewheelReleaseOnEdges)return!0}else T.slideNext();else if(T.isBeginning&&!T.params.loop||T.animating){if(T.params.mousewheelReleaseOnEdges)return!0}else T.slidePrev();T.mousewheel.lastScrollTime=(new window.Date).getTime()}return T.params.autoplay&&T.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function c(e,t){e=a(e);var r,s,n;r=e.attr("data-swiper-parallax")||"0",s=e.attr("data-swiper-parallax-x"),n=e.attr("data-swiper-parallax-y"),s||n?(s=s||"0",n=n||"0"):i()?(s=r,n="0"):(n=r,s="0"),s=s.indexOf("%")>=0?parseInt(s,10)*t+"%":s*t+"px",n=n.indexOf("%")>=0?parseInt(n,10)*t+"%":n*t+"px",e.transform("translate3d("+s+", "+n+",0px)")}function m(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof t))return new t(e,s);var f={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},h=s&&s.virtualTranslate;s=s||{};var g={};for(var v in s)if("object"==typeof s[v]){g[v]={};for(var w in s[v])g[v][w]=s[v][w]}else g[v]=s[v];for(var b in f)if("undefined"==typeof s[b])s[b]=f[b];else if("object"==typeof s[b])for(var y in f[b])"undefined"==typeof s[b][y]&&(s[b][y]=f[b][y]);var T=this;if(T.params=s,T.originalParams=g,T.classNames=[],"undefined"!=typeof a&&"undefined"!=typeof r&&(a=r),("undefined"!=typeof a||(a="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r))&&(T.$=a,T.currentBreakpoint=void 0,T.getActiveBreakpoint=function(){if(!T.params.breakpoints)return!1;var e=!1;for(var t in T.params.breakpoints)T.params.breakpoints.hasOwnProperty(t)&&t>=a(window).width()&&!e&&(e=t);return e||"max"},T.setBreakpoint=function(){var e=T.getActiveBreakpoint();if(e&&T.currentBreakpoint!==e){var a=e in T.params.breakpoints?T.params.breakpoints[e]:T.originalParams;for(var t in a)T.params[t]=a[t];T.currentBreakpoint=e}},T.params.breakpoints&&T.setBreakpoint(),T.container=a(e),0!==T.container.length)){if(T.container.length>1)return void T.container.each(function(){new t(this,s)});T.container[0].swiper=T,T.container.data("swiper",T),T.classNames.push("swiper-container-"+T.params.direction),T.params.freeMode&&T.classNames.push("swiper-container-free-mode"),T.support.flexbox||(T.classNames.push("swiper-container-no-flexbox"),T.params.slidesPerColumn=1),(T.params.parallax||T.params.watchSlidesVisibility)&&(T.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(T.params.effect)>=0&&(T.support.transforms3d?(T.params.watchSlidesProgress=!0,T.classNames.push("swiper-container-3d")):T.params.effect="slide"),"slide"!==T.params.effect&&T.classNames.push("swiper-container-"+T.params.effect),"cube"===T.params.effect&&(T.params.resistanceRatio=0,T.params.slidesPerView=1,T.params.slidesPerColumn=1,T.params.slidesPerGroup=1,T.params.centeredSlides=!1,T.params.spaceBetween=0,T.params.virtualTranslate=!0,T.params.setWrapperSize=!1),"fade"===T.params.effect&&(T.params.slidesPerView=1,T.params.slidesPerColumn=1,T.params.slidesPerGroup=1,T.params.watchSlidesProgress=!0,T.params.spaceBetween=0,"undefined"==typeof h&&(T.params.virtualTranslate=!0)),T.params.grabCursor&&T.support.touch&&(T.params.grabCursor=!1),T.wrapper=T.container.children("."+T.params.wrapperClass),T.params.pagination&&(T.paginationContainer=a(T.params.pagination),T.params.paginationClickable&&T.paginationContainer.addClass("swiper-pagination-clickable")),T.rtl=i()&&("rtl"===T.container[0].dir.toLowerCase()||"rtl"===T.container.css("direction")),T.rtl&&T.classNames.push("swiper-container-rtl"),T.rtl&&(T.wrongRTL="-webkit-box"===T.wrapper.css("display")),T.params.slidesPerColumn>1&&T.classNames.push("swiper-container-multirow"),T.device.android&&T.classNames.push("swiper-container-android"),T.container.addClass(T.classNames.join(" ")),T.translate=0,T.progress=0,T.velocity=0,T.lockSwipeToNext=function(){T.params.allowSwipeToNext=!1},T.lockSwipeToPrev=function(){T.params.allowSwipeToPrev=!1},T.lockSwipes=function(){T.params.allowSwipeToNext=T.params.allowSwipeToPrev=!1},T.unlockSwipeToNext=function(){T.params.allowSwipeToNext=!0},T.unlockSwipeToPrev=function(){T.params.allowSwipeToPrev=!0},T.unlockSwipes=function(){T.params.allowSwipeToNext=T.params.allowSwipeToPrev=!0},T.params.grabCursor&&(T.container[0].style.cursor="move",T.container[0].style.cursor="-webkit-grab",T.container[0].style.cursor="-moz-grab",T.container[0].style.cursor="grab"),T.imagesToLoad=[],T.imagesLoaded=0,T.loadImage=function(e,a,t,r,s){function i(){s&&s()}var n;e.complete&&r?i():a?(n=new window.Image,n.onload=i,n.onerror=i,t&&(n.srcset=t),a&&(n.src=a)):i()},T.preloadImages=function(){function e(){"undefined"!=typeof T&&null!==T&&(void 0!==T.imagesLoaded&&T.imagesLoaded++,T.imagesLoaded===T.imagesToLoad.length&&(T.params.updateOnImagesReady&&T.update(),T.emit("onImagesReady",T)))}T.imagesToLoad=T.container.find("img");for(var a=0;a<T.imagesToLoad.length;a++)T.loadImage(T.imagesToLoad[a],T.imagesToLoad[a].currentSrc||T.imagesToLoad[a].getAttribute("src"),T.imagesToLoad[a].srcset||T.imagesToLoad[a].getAttribute("srcset"),!0,e)},T.autoplayTimeoutId=void 0,T.autoplaying=!1,T.autoplayPaused=!1,T.startAutoplay=function(){return"undefined"!=typeof T.autoplayTimeoutId?!1:T.params.autoplay?T.autoplaying?!1:(T.autoplaying=!0,T.emit("onAutoplayStart",T),void o()):!1},T.stopAutoplay=function(e){T.autoplayTimeoutId&&(T.autoplayTimeoutId&&clearTimeout(T.autoplayTimeoutId),T.autoplaying=!1,T.autoplayTimeoutId=void 0,T.emit("onAutoplayStop",T))},T.pauseAutoplay=function(e){T.autoplayPaused||(T.autoplayTimeoutId&&clearTimeout(T.autoplayTimeoutId),T.autoplayPaused=!0,0===e?(T.autoplayPaused=!1,o()):T.wrapper.transitionEnd(function(){T&&(T.autoplayPaused=!1,T.autoplaying?o():T.stopAutoplay())}))},T.minTranslate=function(){return-T.snapGrid[0]},T.maxTranslate=function(){return-T.snapGrid[T.snapGrid.length-1]},T.updateContainerSize=function(){var e,a;e="undefined"!=typeof T.params.width?T.params.width:T.container[0].clientWidth,a="undefined"!=typeof T.params.height?T.params.height:T.container[0].clientHeight,0===e&&i()||0===a&&!i()||(e=e-parseInt(T.container.css("padding-left"),10)-parseInt(T.container.css("padding-right"),10),a=a-parseInt(T.container.css("padding-top"),10)-parseInt(T.container.css("padding-bottom"),10),T.width=e,T.height=a,T.size=i()?T.width:T.height)},T.updateSlidesSize=function(){T.slides=T.wrapper.children("."+T.params.slideClass),T.snapGrid=[],T.slidesGrid=[],T.slidesSizesGrid=[];var e,a=T.params.spaceBetween,t=-T.params.slidesOffsetBefore,r=0,s=0;"string"==typeof a&&a.indexOf("%")>=0&&(a=parseFloat(a.replace("%",""))/100*T.size),T.virtualSize=-a,T.slides.css(T.rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var o;T.params.slidesPerColumn>1&&(o=Math.floor(T.slides.length/T.params.slidesPerColumn)===T.slides.length/T.params.slidesPerColumn?T.slides.length:Math.ceil(T.slides.length/T.params.slidesPerColumn)*T.params.slidesPerColumn,"auto"!==T.params.slidesPerView&&"row"===T.params.slidesPerColumnFill&&(o=Math.max(o,T.params.slidesPerView*T.params.slidesPerColumn)));var l,d=T.params.slidesPerColumn,p=o/d,u=p-(T.params.slidesPerColumn*p-T.slides.length);for(e=0;e<T.slides.length;e++){l=0;var c=T.slides.eq(e);if(T.params.slidesPerColumn>1){var m,f,h;"column"===T.params.slidesPerColumnFill?(f=Math.floor(e/d),h=e-f*d,(f>u||f===u&&h===d-1)&&++h>=d&&(h=0,f++),m=f+h*o/d,c.css({"-webkit-box-ordinal-group":m,"-moz-box-ordinal-group":m,"-ms-flex-order":m,"-webkit-order":m,order:m})):(h=Math.floor(e/p),f=e-h*p),c.css({"margin-top":0!==h&&T.params.spaceBetween&&T.params.spaceBetween+"px"}).attr("data-swiper-column",f).attr("data-swiper-row",h)}"none"!==c.css("display")&&("auto"===T.params.slidesPerView?(l=i()?c.outerWidth(!0):c.outerHeight(!0),T.params.roundLengths&&(l=n(l))):(l=(T.size-(T.params.slidesPerView-1)*a)/T.params.slidesPerView,T.params.roundLengths&&(l=n(l)),i()?T.slides[e].style.width=l+"px":T.slides[e].style.height=l+"px"),T.slides[e].swiperSlideSize=l,T.slidesSizesGrid.push(l),T.params.centeredSlides?(t=t+l/2+r/2+a,0===e&&(t=t-T.size/2-a),Math.abs(t)<.001&&(t=0),s%T.params.slidesPerGroup===0&&T.snapGrid.push(t),T.slidesGrid.push(t)):(s%T.params.slidesPerGroup===0&&T.snapGrid.push(t),T.slidesGrid.push(t),t=t+l+a),T.virtualSize+=l+a,r=l,s++)}T.virtualSize=Math.max(T.virtualSize,T.size)+T.params.slidesOffsetAfter;var g;if(T.rtl&&T.wrongRTL&&("slide"===T.params.effect||"coverflow"===T.params.effect)&&T.wrapper.css({width:T.virtualSize+T.params.spaceBetween+"px"}),(!T.support.flexbox||T.params.setWrapperSize)&&T.wrapper.css(i()?{width:T.virtualSize+T.params.spaceBetween+"px"}:{height:T.virtualSize+T.params.spaceBetween+"px"}),T.params.slidesPerColumn>1&&(T.virtualSize=(l+T.params.spaceBetween)*o,T.virtualSize=Math.ceil(T.virtualSize/T.params.slidesPerColumn)-T.params.spaceBetween,T.wrapper.css({width:T.virtualSize+T.params.spaceBetween+"px"}),T.params.centeredSlides)){for(g=[],e=0;e<T.snapGrid.length;e++)T.snapGrid[e]<T.virtualSize+T.snapGrid[0]&&g.push(T.snapGrid[e]);T.snapGrid=g}if(!T.params.centeredSlides){for(g=[],e=0;e<T.snapGrid.length;e++)T.snapGrid[e]<=T.virtualSize-T.size&&g.push(T.snapGrid[e]);T.snapGrid=g,Math.floor(T.virtualSize-T.size)>Math.floor(T.snapGrid[T.snapGrid.length-1])&&T.snapGrid.push(T.virtualSize-T.size)}0===T.snapGrid.length&&(T.snapGrid=[0]),0!==T.params.spaceBetween&&T.slides.css(i()?T.rtl?{marginLeft:a+"px"}:{marginRight:a+"px"}:{marginBottom:a+"px"}),T.params.watchSlidesProgress&&T.updateSlidesOffset()},T.updateSlidesOffset=function(){for(var e=0;e<T.slides.length;e++)T.slides[e].swiperSlideOffset=i()?T.slides[e].offsetLeft:T.slides[e].offsetTop},T.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=T.translate||0),0!==T.slides.length){"undefined"==typeof T.slides[0].swiperSlideOffset&&T.updateSlidesOffset();var a=-e;T.rtl&&(a=e),T.slides.removeClass(T.params.slideVisibleClass);for(var t=0;t<T.slides.length;t++){var r=T.slides[t],s=(a-r.swiperSlideOffset)/(r.swiperSlideSize+T.params.spaceBetween);if(T.params.watchSlidesVisibility){var i=-(a-r.swiperSlideOffset),n=i+T.slidesSizesGrid[t],o=i>=0&&i<T.size||n>0&&n<=T.size||0>=i&&n>=T.size;o&&T.slides.eq(t).addClass(T.params.slideVisibleClass)}r.progress=T.rtl?-s:s}}},T.updateProgress=function(e){"undefined"==typeof e&&(e=T.translate||0);var a=T.maxTranslate()-T.minTranslate();0===a?(T.progress=0,T.isBeginning=T.isEnd=!0):(T.progress=(e-T.minTranslate())/a,T.isBeginning=T.progress<=0,T.isEnd=T.progress>=1),T.isBeginning&&T.emit("onReachBeginning",T),T.isEnd&&T.emit("onReachEnd",T),T.params.watchSlidesProgress&&T.updateSlidesProgress(e),T.emit("onProgress",T,T.progress)},T.updateActiveIndex=function(){var e,a,t,r=T.rtl?T.translate:-T.translate;for(a=0;a<T.slidesGrid.length;a++)"undefined"!=typeof T.slidesGrid[a+1]?r>=T.slidesGrid[a]&&r<T.slidesGrid[a+1]-(T.slidesGrid[a+1]-T.slidesGrid[a])/2?e=a:r>=T.slidesGrid[a]&&r<T.slidesGrid[a+1]&&(e=a+1):r>=T.slidesGrid[a]&&(e=a);(0>e||"undefined"==typeof e)&&(e=0),t=Math.floor(e/T.params.slidesPerGroup),t>=T.snapGrid.length&&(t=T.snapGrid.length-1),e!==T.activeIndex&&(T.snapIndex=t,T.previousIndex=T.activeIndex,T.activeIndex=e,T.updateClasses())},T.updateClasses=function(){T.slides.removeClass(T.params.slideActiveClass+" "+T.params.slideNextClass+" "+T.params.slidePrevClass);var e=T.slides.eq(T.activeIndex);if(e.addClass(T.params.slideActiveClass),e.next("."+T.params.slideClass).addClass(T.params.slideNextClass),e.prev("."+T.params.slideClass).addClass(T.params.slidePrevClass),T.bullets&&T.bullets.length>0){T.bullets.removeClass(T.params.bulletActiveClass);var t;T.params.loop?(t=Math.ceil(T.activeIndex-T.loopedSlides)/T.params.slidesPerGroup,t>T.slides.length-1-2*T.loopedSlides&&(t-=T.slides.length-2*T.loopedSlides),t>T.bullets.length-1&&(t-=T.bullets.length)):t="undefined"!=typeof T.snapIndex?T.snapIndex:T.activeIndex||0,T.paginationContainer.length>1?T.bullets.each(function(){a(this).index()===t&&a(this).addClass(T.params.bulletActiveClass)}):T.bullets.eq(t).addClass(T.params.bulletActiveClass)}T.params.loop||(T.params.prevButton&&(T.isBeginning?(a(T.params.prevButton).addClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.disable(a(T.params.prevButton))):(a(T.params.prevButton).removeClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.enable(a(T.params.prevButton)))),T.params.nextButton&&(T.isEnd?(a(T.params.nextButton).addClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.disable(a(T.params.nextButton))):(a(T.params.nextButton).removeClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.enable(a(T.params.nextButton)))))},T.updatePagination=function(){if(T.params.pagination&&T.paginationContainer&&T.paginationContainer.length>0){for(var e="",a=T.params.loop?Math.ceil((T.slides.length-2*T.loopedSlides)/T.params.slidesPerGroup):T.snapGrid.length,t=0;a>t;t++)e+=T.params.paginationBulletRender?T.params.paginationBulletRender(t,T.params.bulletClass):"<"+T.params.paginationElement+' class="'+T.params.bulletClass+'"></'+T.params.paginationElement+">";T.paginationContainer.html(e),T.bullets=T.paginationContainer.find("."+T.params.bulletClass),T.params.paginationClickable&&T.params.a11y&&T.a11y&&T.a11y.initPagination()}},T.update=function(e){function a(){r=Math.min(Math.max(T.translate,T.maxTranslate()),T.minTranslate()),T.setWrapperTranslate(r),T.updateActiveIndex(),T.updateClasses()}if(T.updateContainerSize(),T.updateSlidesSize(),T.updateProgress(),T.updatePagination(),T.updateClasses(),T.params.scrollbar&&T.scrollbar&&T.scrollbar.set(),e){var t,r;T.controller&&T.controller.spline&&(T.controller.spline=void 0),T.params.freeMode?a():(t=("auto"===T.params.slidesPerView||T.params.slidesPerView>1)&&T.isEnd&&!T.params.centeredSlides?T.slideTo(T.slides.length-1,0,!1,!0):T.slideTo(T.activeIndex,0,!1,!0),t||a())}},T.onResize=function(e){T.params.breakpoints&&T.setBreakpoint();var a=T.params.allowSwipeToPrev,t=T.params.allowSwipeToNext;if(T.params.allowSwipeToPrev=T.params.allowSwipeToNext=!0,T.updateContainerSize(),T.updateSlidesSize(),("auto"===T.params.slidesPerView||T.params.freeMode||e)&&T.updatePagination(),T.params.scrollbar&&T.scrollbar&&T.scrollbar.set(),T.controller&&T.controller.spline&&(T.controller.spline=void 0),T.params.freeMode){var r=Math.min(Math.max(T.translate,T.maxTranslate()),T.minTranslate());T.setWrapperTranslate(r),T.updateActiveIndex(),T.updateClasses()}else T.updateClasses(),("auto"===T.params.slidesPerView||T.params.slidesPerView>1)&&T.isEnd&&!T.params.centeredSlides?T.slideTo(T.slides.length-1,0,!1,!0):T.slideTo(T.activeIndex,0,!1,!0);T.params.allowSwipeToPrev=a,T.params.allowSwipeToNext=t};var x=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?x=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(x=["MSPointerDown","MSPointerMove","MSPointerUp"]),T.touchEvents={start:T.support.touch||!T.params.simulateTouch?"touchstart":x[0],move:T.support.touch||!T.params.simulateTouch?"touchmove":x[1],end:T.support.touch||!T.params.simulateTouch?"touchend":x[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===T.params.touchEventsTarget?T.container:T.wrapper).addClass("swiper-wp8-"+T.params.direction),T.initEvents=function(e){var t=e?"off":"on",r=e?"removeEventListener":"addEventListener",i="container"===T.params.touchEventsTarget?T.container[0]:T.wrapper[0],n=T.support.touch?i:document,o=T.params.nested?!0:!1;T.browser.ie?(i[r](T.touchEvents.start,T.onTouchStart,!1),n[r](T.touchEvents.move,T.onTouchMove,o),n[r](T.touchEvents.end,T.onTouchEnd,!1)):(T.support.touch&&(i[r](T.touchEvents.start,T.onTouchStart,!1),i[r](T.touchEvents.move,T.onTouchMove,o),i[r](T.touchEvents.end,T.onTouchEnd,!1)),!s.simulateTouch||T.device.ios||T.device.android||(i[r]("mousedown",T.onTouchStart,!1),document[r]("mousemove",T.onTouchMove,o),document[r]("mouseup",T.onTouchEnd,!1))),window[r]("resize",T.onResize),T.params.nextButton&&(a(T.params.nextButton)[t]("click",T.onClickNext),T.params.a11y&&T.a11y&&a(T.params.nextButton)[t]("keydown",T.a11y.onEnterKey)),T.params.prevButton&&(a(T.params.prevButton)[t]("click",T.onClickPrev),T.params.a11y&&T.a11y&&a(T.params.prevButton)[t]("keydown",T.a11y.onEnterKey)),T.params.pagination&&T.params.paginationClickable&&(a(T.paginationContainer)[t]("click","."+T.params.bulletClass,T.onClickIndex),T.params.a11y&&T.a11y&&a(T.paginationContainer)[t]("keydown","."+T.params.bulletClass,T.a11y.onEnterKey)),(T.params.preventClicks||T.params.preventClicksPropagation)&&i[r]("click",T.preventClicks,!0)},T.attachEvents=function(e){T.initEvents()},T.detachEvents=function(){T.initEvents(!0)},T.allowClick=!0,T.preventClicks=function(e){T.allowClick||(T.params.preventClicks&&e.preventDefault(),T.params.preventClicksPropagation&&T.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},T.onClickNext=function(e){e.preventDefault(),(!T.isEnd||T.params.loop)&&T.slideNext()},T.onClickPrev=function(e){e.preventDefault(),(!T.isBeginning||T.params.loop)&&T.slidePrev()},T.onClickIndex=function(e){e.preventDefault();var t=a(this).index()*T.params.slidesPerGroup;T.params.loop&&(t+=T.loopedSlides),T.slideTo(t)},T.updateClickedSlide=function(e){var t=l(e,"."+T.params.slideClass),r=!1;if(t)for(var s=0;s<T.slides.length;s++)T.slides[s]===t&&(r=!0);if(!t||!r)return T.clickedSlide=void 0,void(T.clickedIndex=void 0);if(T.clickedSlide=t,T.clickedIndex=a(t).index(),T.params.slideToClickedSlide&&void 0!==T.clickedIndex&&T.clickedIndex!==T.activeIndex){var i,n=T.clickedIndex;if(T.params.loop){if(T.animating)return;i=a(T.clickedSlide).attr("data-swiper-slide-index"),T.params.centeredSlides?n<T.loopedSlides-T.params.slidesPerView/2||n>T.slides.length-T.loopedSlides+T.params.slidesPerView/2?(T.fixLoop(),n=T.wrapper.children("."+T.params.slideClass+'[data-swiper-slide-index="'+i+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){T.slideTo(n)},0)):T.slideTo(n):n>T.slides.length-T.params.slidesPerView?(T.fixLoop(),n=T.wrapper.children("."+T.params.slideClass+'[data-swiper-slide-index="'+i+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){T.slideTo(n)},0)):T.slideTo(n)}else T.slideTo(n)}};var S,C,M,E,P,k,z,I,L,D,B="input, select, textarea, button",G=Date.now(),O=[];T.animating=!1,T.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var A,N;if(T.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),A="touchstart"===e.type,A||!("which"in e)||3!==e.which){if(T.params.noSwiping&&l(e,"."+T.params.noSwipingClass))return void(T.allowClick=!0);if(!T.params.swipeHandler||l(e,T.params.swipeHandler)){var t=T.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r=T.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(T.device.ios&&T.params.iOSEdgeSwipeDetection&&t<=T.params.iOSEdgeSwipeThreshold)){if(S=!0,C=!1,M=!0,P=void 0,N=void 0,T.touches.startX=t,T.touches.startY=r,E=Date.now(),T.allowClick=!0,T.updateContainerSize(),T.swipeDirection=void 0,T.params.threshold>0&&(I=!1),"touchstart"!==e.type){var s=!0;a(e.target).is(B)&&(s=!1),document.activeElement&&a(document.activeElement).is(B)&&document.activeElement.blur(),s&&e.preventDefault()}T.emit("onTouchStart",T,e)}}}},T.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(A&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(T.params.onlyExternal)return T.allowClick=!1,void(S&&(T.touches.startX=T.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,T.touches.startY=T.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,E=Date.now()));if(A&&document.activeElement&&e.target===document.activeElement&&a(e.target).is(B))return C=!0,void(T.allowClick=!1);if(M&&T.emit("onTouchMove",T,e),!(e.targetTouches&&e.targetTouches.length>1)){if(T.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,T.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof P){var t=180*Math.atan2(Math.abs(T.touches.currentY-T.touches.startY),Math.abs(T.touches.currentX-T.touches.startX))/Math.PI;P=i()?t>T.params.touchAngle:90-t>T.params.touchAngle}if(P&&T.emit("onTouchMoveOpposite",T,e),"undefined"==typeof N&&T.browser.ieTouch&&(T.touches.currentX!==T.touches.startX||T.touches.currentY!==T.touches.startY)&&(N=!0),S){if(P)return void(S=!1);if(N||!T.browser.ieTouch){T.allowClick=!1,T.emit("onSliderMove",T,e),e.preventDefault(),T.params.touchMoveStopPropagation&&!T.params.nested&&e.stopPropagation(),C||(s.loop&&T.fixLoop(),z=T.getWrapperTranslate(),T.setWrapperTransition(0),T.animating&&T.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),T.params.autoplay&&T.autoplaying&&(T.params.autoplayDisableOnInteraction?T.stopAutoplay():T.pauseAutoplay()),D=!1,T.params.grabCursor&&(T.container[0].style.cursor="move",T.container[0].style.cursor="-webkit-grabbing",T.container[0].style.cursor="-moz-grabbin",T.container[0].style.cursor="grabbing")),C=!0;var r=T.touches.diff=i()?T.touches.currentX-T.touches.startX:T.touches.currentY-T.touches.startY;r*=T.params.touchRatio,T.rtl&&(r=-r),T.swipeDirection=r>0?"prev":"next",k=r+z;var n=!0;if(r>0&&k>T.minTranslate()?(n=!1,T.params.resistance&&(k=T.minTranslate()-1+Math.pow(-T.minTranslate()+z+r,T.params.resistanceRatio))):0>r&&k<T.maxTranslate()&&(n=!1,T.params.resistance&&(k=T.maxTranslate()+1-Math.pow(T.maxTranslate()-z-r,T.params.resistanceRatio))),n&&(e.preventedByNestedSwiper=!0),!T.params.allowSwipeToNext&&"next"===T.swipeDirection&&z>k&&(k=z),!T.params.allowSwipeToPrev&&"prev"===T.swipeDirection&&k>z&&(k=z),T.params.followFinger){if(T.params.threshold>0){if(!(Math.abs(r)>T.params.threshold||I))return void(k=z);if(!I)return I=!0,T.touches.startX=T.touches.currentX,T.touches.startY=T.touches.currentY,k=z,void(T.touches.diff=i()?T.touches.currentX-T.touches.startX:T.touches.currentY-T.touches.startY)}(T.params.freeMode||T.params.watchSlidesProgress)&&T.updateActiveIndex(),T.params.freeMode&&(0===O.length&&O.push({position:T.touches[i()?"startX":"startY"],time:E}),O.push({position:T.touches[i()?"currentX":"currentY"],time:(new window.Date).getTime()})),T.updateProgress(k),T.setWrapperTranslate(k)}}}}}},T.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),M&&T.emit("onTouchEnd",T,e),M=!1,S){T.params.grabCursor&&C&&S&&(T.container[0].style.cursor="move",T.container[0].style.cursor="-webkit-grab",T.container[0].style.cursor="-moz-grab",T.container[0].style.cursor="grab");var t=Date.now(),r=t-E;if(T.allowClick&&(T.updateClickedSlide(e),T.emit("onTap",T,e),300>r&&t-G>300&&(L&&clearTimeout(L),L=setTimeout(function(){T&&(T.params.paginationHide&&T.paginationContainer.length>0&&!a(e.target).hasClass(T.params.bulletClass)&&T.paginationContainer.toggleClass(T.params.paginationHiddenClass),T.emit("onClick",T,e))},300)),300>r&&300>t-G&&(L&&clearTimeout(L),T.emit("onDoubleTap",T,e))),G=Date.now(),setTimeout(function(){T&&(T.allowClick=!0)},0),!S||!C||!T.swipeDirection||0===T.touches.diff||k===z)return void(S=C=!1);S=C=!1;var s;if(s=T.params.followFinger?T.rtl?T.translate:-T.translate:-k,T.params.freeMode){if(s<-T.minTranslate())return void T.slideTo(T.activeIndex);if(s>-T.maxTranslate())return void T.slideTo(T.slides.length<T.snapGrid.length?T.snapGrid.length-1:T.slides.length-1);if(T.params.freeModeMomentum){if(O.length>1){var i=O.pop(),n=O.pop(),o=i.position-n.position,l=i.time-n.time;T.velocity=o/l,T.velocity=T.velocity/2,Math.abs(T.velocity)<T.params.freeModeMinimumVelocity&&(T.velocity=0),(l>150||(new window.Date).getTime()-i.time>300)&&(T.velocity=0)}else T.velocity=0;O.length=0;var d=1e3*T.params.freeModeMomentumRatio,p=T.velocity*d,u=T.translate+p;T.rtl&&(u=-u);var c,m=!1,f=20*Math.abs(T.velocity)*T.params.freeModeMomentumBounceRatio;if(u<T.maxTranslate())T.params.freeModeMomentumBounce?(u+T.maxTranslate()<-f&&(u=T.maxTranslate()-f),c=T.maxTranslate(),m=!0,D=!0):u=T.maxTranslate();else if(u>T.minTranslate())T.params.freeModeMomentumBounce?(u-T.minTranslate()>f&&(u=T.minTranslate()+f),c=T.minTranslate(),m=!0,D=!0):u=T.minTranslate();else if(T.params.freeModeSticky){var h,g=0;for(g=0;g<T.snapGrid.length;g+=1)if(T.snapGrid[g]>-u){h=g;break}u=Math.abs(T.snapGrid[h]-u)<Math.abs(T.snapGrid[h-1]-u)||"next"===T.swipeDirection?T.snapGrid[h]:T.snapGrid[h-1],T.rtl||(u=-u)}if(0!==T.velocity)d=Math.abs(T.rtl?(-u-T.translate)/T.velocity:(u-T.translate)/T.velocity);else if(T.params.freeModeSticky)return void T.slideReset();T.params.freeModeMomentumBounce&&m?(T.updateProgress(c),T.setWrapperTransition(d),T.setWrapperTranslate(u),T.onTransitionStart(),T.animating=!0,T.wrapper.transitionEnd(function(){T&&D&&(T.emit("onMomentumBounce",T),T.setWrapperTransition(T.params.speed),T.setWrapperTranslate(c),T.wrapper.transitionEnd(function(){T&&T.onTransitionEnd()}))})):T.velocity?(T.updateProgress(u),T.setWrapperTransition(d),T.setWrapperTranslate(u),T.onTransitionStart(),T.animating||(T.animating=!0,T.wrapper.transitionEnd(function(){T&&T.onTransitionEnd()}))):T.updateProgress(u),T.updateActiveIndex()}return void((!T.params.freeModeMomentum||r>=T.params.longSwipesMs)&&(T.updateProgress(),T.updateActiveIndex()))}var v,w=0,b=T.slidesSizesGrid[0];for(v=0;v<T.slidesGrid.length;v+=T.params.slidesPerGroup)"undefined"!=typeof T.slidesGrid[v+T.params.slidesPerGroup]?s>=T.slidesGrid[v]&&s<T.slidesGrid[v+T.params.slidesPerGroup]&&(w=v,b=T.slidesGrid[v+T.params.slidesPerGroup]-T.slidesGrid[v]):s>=T.slidesGrid[v]&&(w=v,b=T.slidesGrid[T.slidesGrid.length-1]-T.slidesGrid[T.slidesGrid.length-2]);var y=(s-T.slidesGrid[w])/b;if(r>T.params.longSwipesMs){if(!T.params.longSwipes)return void T.slideTo(T.activeIndex);"next"===T.swipeDirection&&T.slideTo(y>=T.params.longSwipesRatio?w+T.params.slidesPerGroup:w),"prev"===T.swipeDirection&&T.slideTo(y>1-T.params.longSwipesRatio?w+T.params.slidesPerGroup:w)}else{if(!T.params.shortSwipes)return void T.slideTo(T.activeIndex);"next"===T.swipeDirection&&T.slideTo(w+T.params.slidesPerGroup),"prev"===T.swipeDirection&&T.slideTo(w);

}}},T._slideTo=function(e,a){return T.slideTo(e,a,!0,!0)},T.slideTo=function(e,a,t,r){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),T.snapIndex=Math.floor(e/T.params.slidesPerGroup),T.snapIndex>=T.snapGrid.length&&(T.snapIndex=T.snapGrid.length-1);var s=-T.snapGrid[T.snapIndex];T.params.autoplay&&T.autoplaying&&(r||!T.params.autoplayDisableOnInteraction?T.pauseAutoplay(a):T.stopAutoplay()),T.updateProgress(s);for(var n=0;n<T.slidesGrid.length;n++)-Math.floor(100*s)>=Math.floor(100*T.slidesGrid[n])&&(e=n);return!T.params.allowSwipeToNext&&s<T.translate&&s<T.minTranslate()?!1:!T.params.allowSwipeToPrev&&s>T.translate&&s>T.maxTranslate()&&(T.activeIndex||0)!==e?!1:("undefined"==typeof a&&(a=T.params.speed),T.previousIndex=T.activeIndex||0,T.activeIndex=e,s===T.translate?(T.updateClasses(),!1):(T.updateClasses(),T.onTransitionStart(t),i()?s:0,i()?0:s,0===a?(T.setWrapperTransition(0),T.setWrapperTranslate(s),T.onTransitionEnd(t)):(T.setWrapperTransition(a),T.setWrapperTranslate(s),T.animating||(T.animating=!0,T.wrapper.transitionEnd(function(){T&&T.onTransitionEnd(t)}))),!0))},T.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),T.lazy&&T.lazy.onTransitionStart(),e&&(T.emit("onTransitionStart",T),T.activeIndex!==T.previousIndex&&(T.emit("onSlideChangeStart",T),T.activeIndex>T.previousIndex?T.emit("onSlideNextStart",T):T.emit("onSlidePrevStart",T)))},T.onTransitionEnd=function(e){T.animating=!1,T.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),T.lazy&&T.lazy.onTransitionEnd(),e&&(T.emit("onTransitionEnd",T),T.activeIndex!==T.previousIndex&&(T.emit("onSlideChangeEnd",T),T.activeIndex>T.previousIndex?T.emit("onSlideNextEnd",T):T.emit("onSlidePrevEnd",T))),T.params.hashnav&&T.hashnav&&T.hashnav.setHash()},T.slideNext=function(e,a,t){return T.params.loop?T.animating?!1:(T.fixLoop(),T.container[0].clientLeft,T.slideTo(T.activeIndex+T.params.slidesPerGroup,a,e,t)):T.slideTo(T.activeIndex+T.params.slidesPerGroup,a,e,t)},T._slideNext=function(e){return T.slideNext(!0,e,!0)},T.slidePrev=function(e,a,t){return T.params.loop?T.animating?!1:(T.fixLoop(),T.container[0].clientLeft,T.slideTo(T.activeIndex-1,a,e,t)):T.slideTo(T.activeIndex-1,a,e,t)},T._slidePrev=function(e){return T.slidePrev(!0,e,!0)},T.slideReset=function(e,a,t){return T.slideTo(T.activeIndex,a,e)},T.setWrapperTransition=function(e,a){T.wrapper.transition(e),"slide"!==T.params.effect&&T.effects[T.params.effect]&&T.effects[T.params.effect].setTransition(e),T.params.parallax&&T.parallax&&T.parallax.setTransition(e),T.params.scrollbar&&T.scrollbar&&T.scrollbar.setTransition(e),T.params.control&&T.controller&&T.controller.setTransition(e,a),T.emit("onSetTransition",T,e)},T.setWrapperTranslate=function(e,a,t){var r=0,s=0,o=0;i()?r=T.rtl?-e:e:s=e,T.params.roundLengths&&(r=n(r),s=n(s)),T.params.virtualTranslate||T.wrapper.transform(T.support.transforms3d?"translate3d("+r+"px, "+s+"px, "+o+"px)":"translate("+r+"px, "+s+"px)"),T.translate=i()?r:s,a&&T.updateActiveIndex(),"slide"!==T.params.effect&&T.effects[T.params.effect]&&T.effects[T.params.effect].setTranslate(T.translate),T.params.parallax&&T.parallax&&T.parallax.setTranslate(T.translate),T.params.scrollbar&&T.scrollbar&&T.scrollbar.setTranslate(T.translate),T.params.control&&T.controller&&T.controller.setTranslate(T.translate,t),T.emit("onSetTranslate",T,T.translate)},T.getTranslate=function(e,a){var t,r,s,i;return"undefined"==typeof a&&(a="x"),T.params.virtualTranslate?T.rtl?-T.translate:T.translate:(s=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(r=s.transform||s.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),i=new window.WebKitCSSMatrix("none"===r?"":r)):(i=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),t=i.toString().split(",")),"x"===a&&(r=window.WebKitCSSMatrix?i.m41:parseFloat(16===t.length?t[12]:t[4])),"y"===a&&(r=window.WebKitCSSMatrix?i.m42:parseFloat(16===t.length?t[13]:t[5])),T.rtl&&r&&(r=-r),r||0)},T.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=i()?"x":"y"),T.getTranslate(T.wrapper[0],e)},T.observers=[],T.initObservers=function(){if(T.params.observeParents)for(var e=T.container.parents(),a=0;a<e.length;a++)d(e[a]);d(T.container[0],{childList:!1}),d(T.wrapper[0],{attributes:!1})},T.disconnectObservers=function(){for(var e=0;e<T.observers.length;e++)T.observers[e].disconnect();T.observers=[]},T.createLoop=function(){T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass).remove();var e=T.wrapper.children("."+T.params.slideClass);"auto"!==T.params.slidesPerView||T.params.loopedSlides||(T.params.loopedSlides=e.length),T.loopedSlides=parseInt(T.params.loopedSlides||T.params.slidesPerView,10),T.loopedSlides=T.loopedSlides+T.params.loopAdditionalSlides,T.loopedSlides>e.length&&(T.loopedSlides=e.length);var t,r=[],s=[];for(e.each(function(t,i){var n=a(this);t<T.loopedSlides&&s.push(i),t<e.length&&t>=e.length-T.loopedSlides&&r.push(i),n.attr("data-swiper-slide-index",t)}),t=0;t<s.length;t++)T.wrapper.append(a(s[t].cloneNode(!0)).addClass(T.params.slideDuplicateClass));for(t=r.length-1;t>=0;t--)T.wrapper.prepend(a(r[t].cloneNode(!0)).addClass(T.params.slideDuplicateClass))},T.destroyLoop=function(){T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass).remove(),T.slides.removeAttr("data-swiper-slide-index")},T.fixLoop=function(){var e;T.activeIndex<T.loopedSlides?(e=T.slides.length-3*T.loopedSlides+T.activeIndex,e+=T.loopedSlides,T.slideTo(e,0,!1,!0)):("auto"===T.params.slidesPerView&&T.activeIndex>=2*T.loopedSlides||T.activeIndex>T.slides.length-2*T.params.slidesPerView)&&(e=-T.slides.length+T.activeIndex+T.loopedSlides,e+=T.loopedSlides,T.slideTo(e,0,!1,!0))},T.appendSlide=function(e){if(T.params.loop&&T.destroyLoop(),"object"==typeof e&&e.length)for(var a=0;a<e.length;a++)e[a]&&T.wrapper.append(e[a]);else T.wrapper.append(e);T.params.loop&&T.createLoop(),T.params.observer&&T.support.observer||T.update(!0)},T.prependSlide=function(e){T.params.loop&&T.destroyLoop();var a=T.activeIndex+1;if("object"==typeof e&&e.length){for(var t=0;t<e.length;t++)e[t]&&T.wrapper.prepend(e[t]);a=T.activeIndex+e.length}else T.wrapper.prepend(e);T.params.loop&&T.createLoop(),T.params.observer&&T.support.observer||T.update(!0),T.slideTo(a,0,!1)},T.removeSlide=function(e){T.params.loop&&(T.destroyLoop(),T.slides=T.wrapper.children("."+T.params.slideClass));var a,t=T.activeIndex;if("object"==typeof e&&e.length){for(var r=0;r<e.length;r++)a=e[r],T.slides[a]&&T.slides.eq(a).remove(),t>a&&t--;t=Math.max(t,0)}else a=e,T.slides[a]&&T.slides.eq(a).remove(),t>a&&t--,t=Math.max(t,0);T.params.loop&&T.createLoop(),T.params.observer&&T.support.observer||T.update(!0),T.params.loop?T.slideTo(t+T.loopedSlides,0,!1):T.slideTo(t,0,!1)},T.removeAllSlides=function(){for(var e=[],a=0;a<T.slides.length;a++)e.push(a);T.removeSlide(e)},T.effects={fade:{setTranslate:function(){for(var e=0;e<T.slides.length;e++){var a=T.slides.eq(e),t=a[0].swiperSlideOffset,r=-t;T.params.virtualTranslate||(r-=T.translate);var s=0;i()||(s=r,r=0);var n=T.params.fade.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:n}).transform("translate3d("+r+"px, "+s+"px, 0px)")}},setTransition:function(e){if(T.slides.transition(e),T.params.virtualTranslate&&0!==e){var a=!1;T.slides.transitionEnd(function(){if(!a&&T){a=!0,T.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)T.wrapper.trigger(e[t])}})}}},cube:{setTranslate:function(){var e,t=0;T.params.cube.shadow&&(i()?(e=T.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=a('<div class="swiper-cube-shadow"></div>'),T.wrapper.append(e)),e.css({height:T.width+"px"})):(e=T.container.find(".swiper-cube-shadow"),0===e.length&&(e=a('<div class="swiper-cube-shadow"></div>'),T.container.append(e))));for(var r=0;r<T.slides.length;r++){var s=T.slides.eq(r),n=90*r,o=Math.floor(n/360);T.rtl&&(n=-n,o=Math.floor(-n/360));var l=Math.max(Math.min(s[0].progress,1),-1),d=0,p=0,u=0;r%4===0?(d=4*-o*T.size,u=0):(r-1)%4===0?(d=0,u=4*-o*T.size):(r-2)%4===0?(d=T.size+4*o*T.size,u=T.size):(r-3)%4===0&&(d=-T.size,u=3*T.size+4*T.size*o),T.rtl&&(d=-d),i()||(p=d,d=0);var c="rotateX("+(i()?0:-n)+"deg) rotateY("+(i()?n:0)+"deg) translate3d("+d+"px, "+p+"px, "+u+"px)";if(1>=l&&l>-1&&(t=90*r+90*l,T.rtl&&(t=90*-r-90*l)),s.transform(c),T.params.cube.slideShadows){var m=s.find(i()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),f=s.find(i()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===m.length&&(m=a('<div class="swiper-slide-shadow-'+(i()?"left":"top")+'"></div>'),s.append(m)),0===f.length&&(f=a('<div class="swiper-slide-shadow-'+(i()?"right":"bottom")+'"></div>'),s.append(f)),s[0].progress,m.length&&(m[0].style.opacity=-s[0].progress),f.length&&(f[0].style.opacity=s[0].progress)}}if(T.wrapper.css({"-webkit-transform-origin":"50% 50% -"+T.size/2+"px","-moz-transform-origin":"50% 50% -"+T.size/2+"px","-ms-transform-origin":"50% 50% -"+T.size/2+"px","transform-origin":"50% 50% -"+T.size/2+"px"}),T.params.cube.shadow)if(i())e.transform("translate3d(0px, "+(T.width/2+T.params.cube.shadowOffset)+"px, "+-T.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+T.params.cube.shadowScale+")");else{var h=Math.abs(t)-90*Math.floor(Math.abs(t)/90),g=1.5-(Math.sin(2*h*Math.PI/360)/2+Math.cos(2*h*Math.PI/360)/2),v=T.params.cube.shadowScale,w=T.params.cube.shadowScale/g,b=T.params.cube.shadowOffset;e.transform("scale3d("+v+", 1, "+w+") translate3d(0px, "+(T.height/2+b)+"px, "+-T.height/2/w+"px) rotateX(-90deg)")}var y=T.isSafari||T.isUiWebView?-T.size/2:0;T.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(i()?0:t)+"deg) rotateY("+(i()?-t:0)+"deg)")},setTransition:function(e){T.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),T.params.cube.shadow&&!i()&&T.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=T.translate,t=i()?-e+T.width/2:-e+T.height/2,r=i()?T.params.coverflow.rotate:-T.params.coverflow.rotate,s=T.params.coverflow.depth,n=0,o=T.slides.length;o>n;n++){var l=T.slides.eq(n),d=T.slidesSizesGrid[n],p=l[0].swiperSlideOffset,u=(t-p-d/2)/d*T.params.coverflow.modifier,c=i()?r*u:0,m=i()?0:r*u,f=-s*Math.abs(u),h=i()?0:T.params.coverflow.stretch*u,g=i()?T.params.coverflow.stretch*u:0;Math.abs(g)<.001&&(g=0),Math.abs(h)<.001&&(h=0),Math.abs(f)<.001&&(f=0),Math.abs(c)<.001&&(c=0),Math.abs(m)<.001&&(m=0);var v="translate3d("+g+"px,"+h+"px,"+f+"px)  rotateX("+m+"deg) rotateY("+c+"deg)";if(l.transform(v),l[0].style.zIndex=-Math.abs(Math.round(u))+1,T.params.coverflow.slideShadows){var w=l.find(i()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),b=l.find(i()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===w.length&&(w=a('<div class="swiper-slide-shadow-'+(i()?"left":"top")+'"></div>'),l.append(w)),0===b.length&&(b=a('<div class="swiper-slide-shadow-'+(i()?"right":"bottom")+'"></div>'),l.append(b)),w.length&&(w[0].style.opacity=u>0?u:0),b.length&&(b[0].style.opacity=-u>0?-u:0)}}if(T.browser.ie){var y=T.wrapper[0].style;y.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){T.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},T.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,t){if("undefined"!=typeof e&&("undefined"==typeof t&&(t=!0),0!==T.slides.length)){var r=T.slides.eq(e),s=r.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!r.hasClass("swiper-lazy")||r.hasClass("swiper-lazy-loaded")||r.hasClass("swiper-lazy-loading")||(s=s.add(r[0])),0!==s.length&&s.each(function(){var e=a(this);e.addClass("swiper-lazy-loading");var s=e.attr("data-background"),i=e.attr("data-src"),n=e.attr("data-srcset");T.loadImage(e[0],i||s,n,!1,function(){if(s?(e.css("background-image","url("+s+")"),e.removeAttr("data-background")):(n&&(e.attr("srcset",n),e.removeAttr("data-srcset")),i&&(e.attr("src",i),e.removeAttr("data-src"))),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),r.find(".swiper-lazy-preloader, .preloader").remove(),T.params.loop&&t){var a=r.attr("data-swiper-slide-index");if(r.hasClass(T.params.slideDuplicateClass)){var o=T.wrapper.children('[data-swiper-slide-index="'+a+'"]:not(.'+T.params.slideDuplicateClass+")");T.lazy.loadImageInSlide(o.index(),!1)}else{var l=T.wrapper.children("."+T.params.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]');T.lazy.loadImageInSlide(l.index(),!1)}}T.emit("onLazyImageReady",T,r[0],e[0])}),T.emit("onLazyImageLoad",T,r[0],e[0])})}},load:function(){var e;if(T.params.watchSlidesVisibility)T.wrapper.children("."+T.params.slideVisibleClass).each(function(){T.lazy.loadImageInSlide(a(this).index())});else if(T.params.slidesPerView>1)for(e=T.activeIndex;e<T.activeIndex+T.params.slidesPerView;e++)T.slides[e]&&T.lazy.loadImageInSlide(e);else T.lazy.loadImageInSlide(T.activeIndex);if(T.params.lazyLoadingInPrevNext)if(T.params.slidesPerView>1){for(e=T.activeIndex+T.params.slidesPerView;e<T.activeIndex+T.params.slidesPerView+T.params.slidesPerView;e++)T.slides[e]&&T.lazy.loadImageInSlide(e);for(e=T.activeIndex-T.params.slidesPerView;e<T.activeIndex;e++)T.slides[e]&&T.lazy.loadImageInSlide(e)}else{var t=T.wrapper.children("."+T.params.slideNextClass);t.length>0&&T.lazy.loadImageInSlide(t.index());var r=T.wrapper.children("."+T.params.slidePrevClass);r.length>0&&T.lazy.loadImageInSlide(r.index())}},onTransitionStart:function(){T.params.lazyLoading&&(T.params.lazyLoadingOnTransitionStart||!T.params.lazyLoadingOnTransitionStart&&!T.lazy.initialImageLoaded)&&T.lazy.load()},onTransitionEnd:function(){T.params.lazyLoading&&!T.params.lazyLoadingOnTransitionStart&&T.lazy.load()}},T.scrollbar={isTouched:!1,setDragPosition:function(e){var a=T.scrollbar,t=i()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,r=t-a.track.offset()[i()?"left":"top"]-a.dragSize/2,s=-T.minTranslate()*a.moveDivider,n=-T.maxTranslate()*a.moveDivider;s>r?r=s:r>n&&(r=n),r=-r/a.moveDivider,T.updateProgress(r),T.setWrapperTranslate(r,!0)},dragStart:function(e){var a=T.scrollbar;a.isTouched=!0,e.preventDefault(),e.stopPropagation(),a.setDragPosition(e),clearTimeout(a.dragTimeout),a.track.transition(0),T.params.scrollbarHide&&a.track.css("opacity",1),T.wrapper.transition(100),a.drag.transition(100),T.emit("onScrollbarDragStart",T)},dragMove:function(e){var a=T.scrollbar;a.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a.setDragPosition(e),T.wrapper.transition(0),a.track.transition(0),a.drag.transition(0),T.emit("onScrollbarDragMove",T))},dragEnd:function(e){var a=T.scrollbar;a.isTouched&&(a.isTouched=!1,T.params.scrollbarHide&&(clearTimeout(a.dragTimeout),a.dragTimeout=setTimeout(function(){a.track.css("opacity",0),a.track.transition(400)},1e3)),T.emit("onScrollbarDragEnd",T),T.params.scrollbarSnapOnRelease&&T.slideReset())},enableDraggable:function(){var e=T.scrollbar,t=T.support.touch?e.track:document;a(e.track).on(T.touchEvents.start,e.dragStart),a(t).on(T.touchEvents.move,e.dragMove),a(t).on(T.touchEvents.end,e.dragEnd)},disableDraggable:function(){var e=T.scrollbar,t=T.support.touch?e.track:document;a(e.track).off(T.touchEvents.start,e.dragStart),a(t).off(T.touchEvents.move,e.dragMove),a(t).off(T.touchEvents.end,e.dragEnd)},set:function(){if(T.params.scrollbar){var e=T.scrollbar;e.track=a(T.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=a('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=i()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=T.size/T.virtualSize,e.moveDivider=e.divider*(e.trackSize/T.size),e.dragSize=e.trackSize*e.divider,i()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",T.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(T.params.scrollbar){var e,a=T.scrollbar,t=(T.translate||0,a.dragSize);e=(a.trackSize-a.dragSize)*T.progress,T.rtl&&i()?(e=-e,e>0?(t=a.dragSize-e,e=0):-e+a.dragSize>a.trackSize&&(t=a.trackSize+e)):0>e?(t=a.dragSize+e,e=0):e+a.dragSize>a.trackSize&&(t=a.trackSize-e),i()?(a.drag.transform(T.support.transforms3d?"translate3d("+e+"px, 0, 0)":"translateX("+e+"px)"),a.drag[0].style.width=t+"px"):(a.drag.transform(T.support.transforms3d?"translate3d(0px, "+e+"px, 0)":"translateY("+e+"px)"),a.drag[0].style.height=t+"px"),T.params.scrollbarHide&&(clearTimeout(a.timeout),a.track[0].style.opacity=1,a.timeout=setTimeout(function(){a.track[0].style.opacity=0,a.track.transition(400)},1e3))}},setTransition:function(e){T.params.scrollbar&&T.scrollbar.drag.transition(e)}},T.controller={LinearSpline:function(e,a){this.x=e,this.y=a,this.lastIndex=e.length-1;var t,r;this.x.length,this.interpolate=function(e){return e?(r=s(this.x,e),t=r-1,(e-this.x[t])*(this.y[r]-this.y[t])/(this.x[r]-this.x[t])+this.y[t]):0};var s=function(){var e,a,t;return function(r,s){for(a=-1,e=r.length;e-a>1;)r[t=e+a>>1]<=s?a=t:e=t;return e}}()},getInterpolateFunction:function(e){T.controller.spline||(T.controller.spline=T.params.loop?new T.controller.LinearSpline(T.slidesGrid,e.slidesGrid):new T.controller.LinearSpline(T.snapGrid,e.snapGrid))},setTranslate:function(e,a){function r(a){e=a.rtl&&"horizontal"===a.params.direction?-T.translate:T.translate,"slide"===T.params.controlBy&&(T.controller.getInterpolateFunction(a),i=-T.controller.spline.interpolate(-e)),i&&"container"!==T.params.controlBy||(s=(a.maxTranslate()-a.minTranslate())/(T.maxTranslate()-T.minTranslate()),i=(e-T.minTranslate())*s+a.minTranslate()),T.params.controlInverse&&(i=a.maxTranslate()-i),a.updateProgress(i),a.setWrapperTranslate(i,!1,T),a.updateActiveIndex()}var s,i,n=T.params.control;if(T.isArray(n))for(var o=0;o<n.length;o++)n[o]!==a&&n[o]instanceof t&&r(n[o]);else n instanceof t&&a!==n&&r(n)},setTransition:function(e,a){function r(a){a.setWrapperTransition(e,T),0!==e&&(a.onTransitionStart(),a.wrapper.transitionEnd(function(){i&&(a.params.loop&&"slide"===T.params.controlBy&&a.fixLoop(),a.onTransitionEnd())}))}var s,i=T.params.control;if(T.isArray(i))for(s=0;s<i.length;s++)i[s]!==a&&i[s]instanceof t&&r(i[s]);else i instanceof t&&a!==i&&r(i)}},T.hashnav={init:function(){if(T.params.hashnav){T.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var a=0,t=0,r=T.slides.length;r>t;t++){var s=T.slides.eq(t),i=s.attr("data-hash");if(i===e&&!s.hasClass(T.params.slideDuplicateClass)){var n=s.index();T.slideTo(n,a,T.params.runCallbacksOnInit,!0)}}}},setHash:function(){T.hashnav.initialized&&T.params.hashnav&&(document.location.hash=T.slides.eq(T.activeIndex).attr("data-hash")||"")}},T.disableKeyboardControl=function(){a(document).off("keydown",p)},T.enableKeyboardControl=function(){a(document).on("keydown",p)},T.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},T.params.mousewheelControl){try{new window.WheelEvent("wheel"),T.mousewheel.event="wheel"}catch(R){}T.mousewheel.event||void 0===document.onmousewheel||(T.mousewheel.event="mousewheel"),T.mousewheel.event||(T.mousewheel.event="DOMMouseScroll")}T.disableMousewheelControl=function(){return T.mousewheel.event?(T.container.off(T.mousewheel.event,u),!0):!1},T.enableMousewheelControl=function(){return T.mousewheel.event?(T.container.on(T.mousewheel.event,u),!0):!1},T.parallax={setTranslate:function(){T.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,T.progress)}),T.slides.each(function(){var e=a(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var a=Math.min(Math.max(e[0].progress,-1),1);c(this,a)})})},setTransition:function(e){"undefined"==typeof e&&(e=T.params.speed),T.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=a(this),r=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),t.transition(r)})}},T._plugins=[];for(var V in T.plugins){var W=T.plugins[V](T,T.params[V]);W&&T._plugins.push(W)}return T.callPlugins=function(e){for(var a=0;a<T._plugins.length;a++)e in T._plugins[a]&&T._plugins[a][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},T.emitterEventListeners={},T.emit=function(e){T.params[e]&&T.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var a;if(T.emitterEventListeners[e])for(a=0;a<T.emitterEventListeners[e].length;a++)T.emitterEventListeners[e][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);T.callPlugins&&T.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},T.on=function(e,a){return e=m(e),T.emitterEventListeners[e]||(T.emitterEventListeners[e]=[]),T.emitterEventListeners[e].push(a),T},T.off=function(e,a){var t;if(e=m(e),"undefined"==typeof a)return T.emitterEventListeners[e]=[],T;if(T.emitterEventListeners[e]&&0!==T.emitterEventListeners[e].length){for(t=0;t<T.emitterEventListeners[e].length;t++)T.emitterEventListeners[e][t]===a&&T.emitterEventListeners[e].splice(t,1);return T}},T.once=function(e,a){e=m(e);var t=function(){a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),T.off(e,t)};return T.on(e,t),T},T.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,a){return e.attr("role",a),e},addLabel:function(e,a){return e.attr("aria-label",a),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(a(e.target).is(T.params.nextButton)?(T.onClickNext(e),T.a11y.notify(T.isEnd?T.params.lastSlideMessage:T.params.nextSlideMessage)):a(e.target).is(T.params.prevButton)&&(T.onClickPrev(e),T.a11y.notify(T.isBeginning?T.params.firstSlideMessage:T.params.prevSlideMessage)),a(e.target).is("."+T.params.bulletClass)&&a(e.target)[0].click())},liveRegion:a('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var a=T.a11y.liveRegion;0!==a.length&&(a.html(""),a.html(e))},init:function(){if(T.params.nextButton){var e=a(T.params.nextButton);T.a11y.makeFocusable(e),T.a11y.addRole(e,"button"),T.a11y.addLabel(e,T.params.nextSlideMessage)}if(T.params.prevButton){var t=a(T.params.prevButton);T.a11y.makeFocusable(t),T.a11y.addRole(t,"button"),T.a11y.addLabel(t,T.params.prevSlideMessage)}a(T.container).append(T.a11y.liveRegion)},initPagination:function(){T.params.pagination&&T.params.paginationClickable&&T.bullets&&T.bullets.length&&T.bullets.each(function(){var e=a(this);T.a11y.makeFocusable(e),T.a11y.addRole(e,"button"),T.a11y.addLabel(e,T.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){T.a11y.liveRegion&&T.a11y.liveRegion.length>0&&T.a11y.liveRegion.remove()}},T.init=function(){T.params.loop&&T.createLoop(),T.updateContainerSize(),T.updateSlidesSize(),T.updatePagination(),T.params.scrollbar&&T.scrollbar&&(T.scrollbar.set(),T.params.scrollbarDraggable&&T.scrollbar.enableDraggable()),"slide"!==T.params.effect&&T.effects[T.params.effect]&&(T.params.loop||T.updateProgress(),T.effects[T.params.effect].setTranslate()),T.params.loop?T.slideTo(T.params.initialSlide+T.loopedSlides,0,T.params.runCallbacksOnInit):(T.slideTo(T.params.initialSlide,0,T.params.runCallbacksOnInit),0===T.params.initialSlide&&(T.parallax&&T.params.parallax&&T.parallax.setTranslate(),T.lazy&&T.params.lazyLoading&&(T.lazy.load(),T.lazy.initialImageLoaded=!0))),T.attachEvents(),T.params.observer&&T.support.observer&&T.initObservers(),T.params.preloadImages&&!T.params.lazyLoading&&T.preloadImages(),T.params.autoplay&&T.startAutoplay(),T.params.keyboardControl&&T.enableKeyboardControl&&T.enableKeyboardControl(),T.params.mousewheelControl&&T.enableMousewheelControl&&T.enableMousewheelControl(),T.params.hashnav&&T.hashnav&&T.hashnav.init(),T.params.a11y&&T.a11y&&T.a11y.init(),T.emit("onInit",T)},T.cleanupStyles=function(){T.container.removeClass(T.classNames.join(" ")).removeAttr("style"),T.wrapper.removeAttr("style"),T.slides&&T.slides.length&&T.slides.removeClass([T.params.slideVisibleClass,T.params.slideActiveClass,T.params.slideNextClass,T.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),T.paginationContainer&&T.paginationContainer.length&&T.paginationContainer.removeClass(T.params.paginationHiddenClass),T.bullets&&T.bullets.length&&T.bullets.removeClass(T.params.bulletActiveClass),T.params.prevButton&&a(T.params.prevButton).removeClass(T.params.buttonDisabledClass),T.params.nextButton&&a(T.params.nextButton).removeClass(T.params.buttonDisabledClass),T.params.scrollbar&&T.scrollbar&&(T.scrollbar.track&&T.scrollbar.track.length&&T.scrollbar.track.removeAttr("style"),T.scrollbar.drag&&T.scrollbar.drag.length&&T.scrollbar.drag.removeAttr("style"))},T.destroy=function(e,a){T.detachEvents(),T.stopAutoplay(),T.params.scrollbar&&T.scrollbar&&T.params.scrollbarDraggable&&T.scrollbar.disableDraggable(),T.params.loop&&T.destroyLoop(),a&&T.cleanupStyles(),T.disconnectObservers(),T.params.keyboardControl&&T.disableKeyboardControl&&T.disableKeyboardControl(),T.params.mousewheelControl&&T.disableMousewheelControl&&T.disableMousewheelControl(),T.params.a11y&&T.a11y&&T.a11y.destroy(),T.emit("onDestroy"),e!==!1&&(T=null)},T.init(),T}};t.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,a=e.match(/(Android);?[\s\/]+([\d.]+)?/),t=e.match(/(iPad).*OS\s([\d_]+)/),r=e.match(/(iPod)(.*OS\s([\d_]+))?/),s=!t&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:t||s||r,android:a}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,a="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),t=0;t<a.length;t++)if(a[t]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var r=(function(){var e=function(e){var a=this,t=0;for(t=0;t<e.length;t++)a[t]=e[t];return a.length=e.length,this},a=function(a,t){var r=[],s=0;if(a&&!t&&a instanceof e)return a;if(a)if("string"==typeof a){var i,n,o=a.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";for(0===o.indexOf("<li")&&(l="ul"),0===o.indexOf("<tr")&&(l="tbody"),(0===o.indexOf("<td")||0===o.indexOf("<th"))&&(l="tr"),0===o.indexOf("<tbody")&&(l="table"),0===o.indexOf("<option")&&(l="select"),n=document.createElement(l),n.innerHTML=a,s=0;s<n.childNodes.length;s++)r.push(n.childNodes[s])}else for(i=t||"#"!==a[0]||a.match(/[ .<>:~]/)?(t||document).querySelectorAll(a):[document.getElementById(a.split("#")[1])],s=0;s<i.length;s++)i[s]&&r.push(i[s])}else if(a.nodeType||a===window||a===document)r.push(a);else if(a.length>0&&a[0].nodeType)for(s=0;s<a.length;s++)r.push(a[s]);return new e(r)};return e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.add(a[t]);return this},removeClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.remove(a[t]);return this},hasClass:function(e){return this[0]?this[0].classList.contains(e):!1},toggleClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.toggle(a[t]);return this},attr:function(e,a){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var t=0;t<this.length;t++)if(2===arguments.length)this[t].setAttribute(e,a);else for(var r in e)this[t][r]=e[r],this[t].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var a=0;a<this.length;a++)this[a].removeAttribute(e);return this},data:function(e,a){if("undefined"==typeof a){if(this[0]){var t=this[0].getAttribute("data-"+e);return t?t:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}return void 0}for(var r=0;r<this.length;r++){var s=this[r];s.dom7ElementDataStorage||(s.dom7ElementDataStorage={}),s.dom7ElementDataStorage[e]=a}return this},transform:function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this},on:function(e,t,r,s){function i(e){var s=e.target;if(a(s).is(t))r.call(s,e);else for(var i=a(s).parents(),n=0;n<i.length;n++)a(i[n]).is(t)&&r.call(i[n],e)}var n,o,l=e.split(" ");for(n=0;n<this.length;n++)if("function"==typeof t||t===!1)for("function"==typeof t&&(r=arguments[1],s=arguments[2]||!1),o=0;o<l.length;o++)this[n].addEventListener(l[o],r,s);else for(o=0;o<l.length;o++)this[n].dom7LiveListeners||(this[n].dom7LiveListeners=[]),this[n].dom7LiveListeners.push({listener:r,liveListener:i}),this[n].addEventListener(l[o],i,s);return this},off:function(e,a,t,r){for(var s=e.split(" "),i=0;i<s.length;i++)for(var n=0;n<this.length;n++)if("function"==typeof a||a===!1)"function"==typeof a&&(t=arguments[1],r=arguments[2]||!1),this[n].removeEventListener(s[i],t,r);else if(this[n].dom7LiveListeners)for(var o=0;o<this[n].dom7LiveListeners.length;o++)this[n].dom7LiveListeners[o].listener===t&&this[n].removeEventListener(s[i],this[n].dom7LiveListeners[o].liveListener,r);return this},once:function(e,a,t,r){function s(n){t(n),i.off(e,a,s,r)}var i=this;"function"==typeof a&&(a=!1,t=arguments[1],r=arguments[2]),i.on(e,a,s,r)},trigger:function(e,a){for(var t=0;t<this.length;t++){var r;try{r=new window.CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0})}catch(s){r=document.createEvent("Event"),r.initEvent(e,!0,!0),r.detail=a}this[t].dispatchEvent(r)}return this},transitionEnd:function(e){function a(i){if(i.target===this)for(e.call(this,i),t=0;t<r.length;t++)s.off(r[t],a)}var t,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],s=this;if(e)for(t=0;t<r.length;t++)s.on(r[t],a);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null;

},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],a=e.getBoundingClientRect(),t=document.body,r=e.clientTop||t.clientTop||0,s=e.clientLeft||t.clientLeft||0,i=window.pageYOffset||e.scrollTop,n=window.pageXOffset||e.scrollLeft;return{top:a.top+i-r,left:a.left+n-s}}return null},css:function(e,a){var t;if(1===arguments.length){if("string"!=typeof e){for(t=0;t<this.length;t++)for(var r in e)this[t].style[r]=e[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(t=0;t<this.length;t++)this[t].style[e]=a;return this}return this},each:function(e){for(var a=0;a<this.length;a++)e.call(this[a],a,this[a]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var a=0;a<this.length;a++)this[a].innerHTML=e;return this},is:function(t){if(!this[0])return!1;var r,s;if("string"==typeof t){var i=this[0];if(i===document)return t===document;if(i===window)return t===window;if(i.matches)return i.matches(t);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(i.mozMatchesSelector)return i.mozMatchesSelector(t);if(i.msMatchesSelector)return i.msMatchesSelector(t);for(r=a(t),s=0;s<r.length;s++)if(r[s]===this[0])return!0;return!1}if(t===document)return this[0]===document;if(t===window)return this[0]===window;if(t.nodeType||t instanceof e){for(r=t.nodeType?[t]:t,s=0;s<r.length;s++)if(r[s]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],a=0;null!==(e=e.previousSibling);)1===e.nodeType&&a++;return a}return void 0},eq:function(a){if("undefined"==typeof a)return this;var t,r=this.length;return a>r-1?new e([]):0>a?(t=r+a,new e(0>t?[]:[this[t]])):new e([this[a]])},append:function(a){var t,r;for(t=0;t<this.length;t++)if("string"==typeof a){var s=document.createElement("div");for(s.innerHTML=a;s.firstChild;)this[t].appendChild(s.firstChild)}else if(a instanceof e)for(r=0;r<a.length;r++)this[t].appendChild(a[r]);else this[t].appendChild(a);return this},prepend:function(a){var t,r;for(t=0;t<this.length;t++)if("string"==typeof a){var s=document.createElement("div");for(s.innerHTML=a,r=s.childNodes.length-1;r>=0;r--)this[t].insertBefore(s.childNodes[r],this[t].childNodes[0])}else if(a instanceof e)for(r=0;r<a.length;r++)this[t].insertBefore(a[r],this[t].childNodes[0]);else this[t].insertBefore(a,this[t].childNodes[0]);return this},insertBefore:function(e){for(var t=a(e),r=0;r<this.length;r++)if(1===t.length)t[0].parentNode.insertBefore(this[r],t[0]);else if(t.length>1)for(var s=0;s<t.length;s++)t[s].parentNode.insertBefore(this[r].cloneNode(!0),t[s])},insertAfter:function(e){for(var t=a(e),r=0;r<this.length;r++)if(1===t.length)t[0].parentNode.insertBefore(this[r],t[0].nextSibling);else if(t.length>1)for(var s=0;s<t.length;s++)t[s].parentNode.insertBefore(this[r].cloneNode(!0),t[s].nextSibling)},next:function(t){return new e(this.length>0?t?this[0].nextElementSibling&&a(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var r=[],s=this[0];if(!s)return new e([]);for(;s.nextElementSibling;){var i=s.nextElementSibling;t?a(i).is(t)&&r.push(i):r.push(i),s=i}return new e(r)},prev:function(t){return new e(this.length>0?t?this[0].previousElementSibling&&a(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var r=[],s=this[0];if(!s)return new e([]);for(;s.previousElementSibling;){var i=s.previousElementSibling;t?a(i).is(t)&&r.push(i):r.push(i),s=i}return new e(r)},parent:function(e){for(var t=[],r=0;r<this.length;r++)e?a(this[r].parentNode).is(e)&&t.push(this[r].parentNode):t.push(this[r].parentNode);return a(a.unique(t))},parents:function(e){for(var t=[],r=0;r<this.length;r++)for(var s=this[r].parentNode;s;)e?a(s).is(e)&&t.push(s):t.push(s),s=s.parentNode;return a(a.unique(t))},find:function(a){for(var t=[],r=0;r<this.length;r++)for(var s=this[r].querySelectorAll(a),i=0;i<s.length;i++)t.push(s[i]);return new e(t)},children:function(t){for(var r=[],s=0;s<this.length;s++)for(var i=this[s].childNodes,n=0;n<i.length;n++)t?1===i[n].nodeType&&a(i[n]).is(t)&&r.push(i[n]):1===i[n].nodeType&&r.push(i[n]);return new e(a.unique(r))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,r=this;for(e=0;e<arguments.length;e++){var s=a(arguments[e]);for(t=0;t<s.length;t++)r[r.length]=s[t],r.length++}return r}},a.fn=e.prototype,a.unique=function(e){for(var a=[],t=0;t<e.length;t++)-1===a.indexOf(e[t])&&a.push(e[t]);return a},a}()),s=["jQuery","Zepto","Dom7"],i=0;i<s.length;i++)window[s[i]]&&e(window[s[i]]);var n;n="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r,n&&("transitionEnd"in n.fn||(n.fn.transitionEnd=function(e){function a(i){if(i.target===this)for(e.call(this,i),t=0;t<r.length;t++)s.off(r[t],a)}var t,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],s=this;if(e)for(t=0;t<r.length;t++)s.on(r[t],a);return this}),"transform"in n.fn||(n.fn.transform=function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this}),"transition"in n.fn||(n.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this})),window.Swiper=t}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper})}).call(this);

(function(){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){window.console&&console.warn&&console.warn(t)}var n=function(e,i){n._registry.push(this),this.$textarea=e,this.$textCopy=t("<span />"),this.$clone=t("<pre class='expanding-clone'><br /></pre>").prepend(this.$textCopy),e.wrap(t("<div class='expanding-wrapper' style='position:relative' />")).after(this.$clone),this.attach(),this.setStyles(),this.update(),i.update&&e.bind("update.expanding",i.update)};n._registry=[],n.getExpandingInstance=function(e){var i=t.map(n._registry,function(t){return t.$textarea[0]}),a=t.inArray(e,i);return a>-1?n._registry[a]:null};var i=function(){var t=-1;if("Microsoft Internet Explorer"===navigator.appName){var e=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");null!==n.exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),a="oninput"in document.createElement("input")&&9!==i;n.prototype={attach:function(){var t="input.expanding change.expanding",e=this;a||(t+=" keyup.expanding"),this.$textarea.bind(t,function(){e.update()})},update:function(){this.$textCopy.text(this.$textarea.val().replace(/\r\n/g,"\n")),this.$textarea.triggerHandler("update.expanding")},destroy:function(){this.$clone.remove(),this.$textarea.unwrap().attr("style",this._oldTextareaStyles||""),delete this._oldTextareaStyles;var e=t.inArray(this,n._registry);e>-1&&n._registry.splice(e,1),this.$textarea.unbind("input.expanding change.expanding keyup.expanding update.expanding")},setStyles:function(){this._resetStyles(),this._setCloneStyles(),this._setTextareaStyles()},_resetStyles:function(){this._oldTextareaStyles=this.$textarea.attr("style"),this.$textarea.add(this.$clone).css({margin:0,webkitBoxSizing:"border-box",mozBoxSizing:"border-box",boxSizing:"border-box",width:"100%"})},_setCloneStyles:function(){var t={display:"block",border:"0 solid",visibility:"hidden",minHeight:this.$textarea.outerHeight()};"off"===this.$textarea.attr("wrap")?t.overflowX="scroll":t.whiteSpace="pre-wrap",this.$clone.css(t),this._copyTextareaStylesToClone()},_copyTextareaStylesToClone:function(){var e=this,n=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","wordWrap","word-break","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","maxHeight"];t.each(n,function(t,n){var i=e.$textarea.css(n);e.$clone.css(n)!==i&&(e.$clone.css(n,i),"maxHeight"===n&&"none"!==i&&e.$clone.css("overflow","hidden"))})},_setTextareaStyles:function(){this.$textarea.css({position:"absolute",top:0,left:0,height:"100%",resize:"none",overflow:"auto"})}},t.expanding=t.extend({autoInitialize:!0,initialSelector:"textarea.expanding",opts:{update:function(){}}},t.expanding||{}),t.fn.expanding=function(i){if("destroy"===i)return this.each(function(){var t=n.getExpandingInstance(this);t&&t.destroy()}),this;if("active"===i)return!!this.filter(function(){return!!n.getExpandingInstance(this)}).length;if("refresh"===i)return this.each(function(){var t=n.getExpandingInstance(this);t&&t.setStyles()}),this;var a=t.extend({},t.expanding.opts,i);return this.filter("textarea").each(function(){var i=this.offsetWidth>0||this.offsetHeight>0,r=n.getExpandingInstance(this);i&&!r?new n(t(this),a):(i||e("ExpandingTextareas: attempt to initialize an invisible textarea. Call expanding() again once it has been inserted into the page and/or is visible."),r&&e("ExpandingTextareas: attempt to initialize a textarea that has already been initialized. Subsequent calls are ignored."))}),this},t(function(){t.expanding.autoInitialize&&t(t.expanding.initialSelector).expanding()})})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.AccountUIHelpers={_showSigninModal:function(e){var t,n;return n=this,Analytics.pageview(SYNTHETIC_PAGES.OPEN_SIGN_IN_MODAL),t=Blaze.renderWithData(Template.socialSigninModal,e,document.body),$(".js-social-signin-modal").modal("show").one("hidden.bs.modal",function(){return Meteor.user()||Analytics.event(e.gaContext.SIGN_IN_CANCEL),Blaze.remove(t)})},_hideSigninModal:function(){return $(".js-social-signin-modal").modal("hide")},_expireLoginToken:function(){return"undefined"!=typeof localStorage&&null!==localStorage?localStorage.setItem("Meteor.loginTokenExpires",new Date):void 0},forgotPassword:function(e){return Analytics.event(e.FORGOT_PASSWORD)},signOut:function(e){return Analytics.event(e.SIGN_OUT),Meteor.logout()},requireSignin:function(e){var t;return t=new $.Deferred,Meteor.user()?t.resolve():this._showSigninModal({gaContext:e,action:function(){return function(e){return t.resolve(e)}}}),t},signinWithTwitter:function(e,t){var n,i;return i=this,n=e.gaContext,Meteor.loginWithTwitter(function(){var e;return e=Meteor.user(),e?(e.profile.justCreated?(Analytics.event(n.SIGN_UP.TWITTER),Analytics.pageview(SYNTHETIC_PAGES.REGISTER_SUCCESS),Analytics.alias(e.profile.shortId),i.requireEmail(e,t)):(Analytics.event(n.SIGN_IN.TWITTER),Analytics.pageview(SYNTHETIC_PAGES.LOGIN_SUCCESS),t&&t(e)),AccountUIHelpers._hideSigninModal()):(Analytics.event(n.SIGN_IN_FAIL.TWITTER_FAIL),t?t(e):void 0)})},signinWithFacebook:function(e,t){var n,i;return i=this,n=e.gaContext,Meteor.loginWithFacebook(function(){var e;return e=Meteor.user(),e?(e.profile.justCreated?(Analytics.event(n.SIGN_UP.FACEBOOK),Analytics.pageview(SYNTHETIC_PAGES.REGISTER_SUCCESS),Analytics.alias(e.profile.shortId),i.requireEmail(e,t)):(Analytics.event(n.SIGN_IN.FACEBOOK),Analytics.pageview(SYNTHETIC_PAGES.LOGIN_SUCCESS),t&&t(e)),AccountUIHelpers._hideSigninModal()):(Analytics.event(n.SIGN_IN_FAIL.FACEBOOK_FAIL),t?t(e):void 0)})},signinWithReddit:function(e,t){var n,i;return i=this,n=e.gaContext,Meteor.loginWithReddit({requestPermissions:["identity","submit"]},function(){var e;return e=Meteor.user(),e?(e.profile.justCreated?(Analytics.event(n.SIGN_UP.REDDIT),Analytics.pageview(SYNTHETIC_PAGES.REGISTER_SUCCESS),Analytics.alias(e.profile.shortId),i.requireEmail(e,t)):(Analytics.event(n.SIGN_IN.REDDIT),Analytics.pageview(SYNTHETIC_PAGES.LOGIN_SUCCESS),t&&t(e)),AccountUIHelpers._hideSigninModal()):(Analytics.event(n.SIGN_IN_FAIL.REDDIT_FAIL),t?t(e):void 0)})},signinWithEmail:function(e,t,n){var i,o;return o=this,i=t.gaContext,Accounts.createUser(e,function(r){return r?"Email already exists."===r.reason?t.signUp?Alerts.error(r.reason):o._loginWithPassword(e,t,n):(Analytics.event(i.SIGN_IN_FAIL.EMAIL_FAIL),Alerts.error(r)):(t.rememberUser?Analytics.event(i.SIGN_UP.EMAIL):(Analytics.event(i.SIGN_UP.EMAIL_NO_REMEMBER),o._expireLoginToken()),Analytics.pageview(SYNTHETIC_PAGES.REGISTER_SUCCESS),Analytics.alias(Meteor.user().profile.shortId),o._hideSigninModal(),n?n(Meteor.user()):void 0)})},_loginWithPassword:function(e,t,n){var i,o;return o=this,i=t.gaContext,Meteor.loginWithPassword(e.email,e.password,function(r){return r?"User has no password set"===r.reason?(Analytics.event(i.SIGN_IN.EMAIL_NO_PASSWORD),RouteUtils.go("/accounts/forgot-password?email="+encodeURIComponent(e.email)),o._hideSigninModal()):"Incorrect password"===r.reason?Alerts.error("Password is incorrect."):(Analytics.event(i.SIGN_IN_FAIL.EMAIL_FAIL),Alerts.error(r)):(t.rememberUser?Analytics.event(i.SIGN_IN.EMAIL):(Analytics.event(i.SIGN_IN.EMAIL_NO_REMEMBER),o._expireLoginToken()),Analytics.pageview(SYNTHETIC_PAGES.LOGIN_SUCCESS),o._hideSigninModal(),n?n(Meteor.user()):void 0)})},_showCompleteAccountModal:function(e){var t;if(!$(".js-complete-account-modal").length)return t=Blaze.renderWithData(Template.completeAccountModal,e,$("body")[0]),$(".js-complete-account-modal").modal({backdrop:"static",keyboard:!1}).modal("show").one("shown.bs.modal",function(){return $("body").addClass("modal-open")}).one("hidden.bs.modal",function(){return Blaze.remove(t)})},_hideCompleteAccountModal:function(){return $(".js-complete-account-modal").modal("hide")},requireEmail:function(e,t){return e?e.profile.emailNotAddedWith&&!$(".js-complete-account-modal").is(":visible")?this._showCompleteAccountModal({serviceName:e.profile.emailNotAddedWith,action:function(){return t?t(e):void 0}}):e.profile.emailNotAddedWith?void 0:t(e):void 0},addEmailOnAccount:function(e,t,n){var i;return i=this,Meteor.apply("addEmailOnAccount",[e,t],{wait:!1},function(e,t){if(e)throw e;return Analytics.event(EVENT.HEADER.EMAIL_ADDED),i._hideCompleteAccountModal(),n?n():void 0})}}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.Alerts={_collection:new Mongo.Collection(null),alert:function(e,t,r){var o;return e?(o=Alerts._collection.insert({message:e,kind:t,seen:!1,createdAt:(new Date).getTime()}),Meteor.setTimeout(function(){return Alerts._collection.remove(o)},r),o):void 0},error:function(e){return this.closeAll(),Alerts.alert(e,"error",5e3)},update:function(e){return Alerts.alert(e,"update",1500)},closeAll:function(){return Alerts._collection.remove({})}}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var l=__coffeescriptShare,E,n,I;Analytics.BLACKLIST.MIXPANEL={Holding_Row:!0,Time_Frame:!0},I=function(l){var E,n;return null==l&&(l={}),E={FACEBOOK_FAIL:null,TWITTER_FAIL:null,REDDIT_FAIL:null,EMAIL_FAIL:null},n={FACEBOOK:null,TWITTER:null,REDDIT:null,EMAIL:null,EMAIL_NO_REMEMBER:null,EMAIL_NO_PASSWORD:null},_.extend(l,{SIGN_IN:_.clone(n),SIGN_IN_FAIL:_.clone(E),SIGN_UP:_.clone(n),SIGN_OUT:null,SIGN_IN_CANCEL:null,EMAIL_ADDED:null,FORGOT_PASSWORD:null})},this.EVENT={PORTFOLIO:{WEIGHT_CHANGE:{RESET:null,INCREASE_RETURNS:null,DECREASE_RISK:null,EQUAL_WEIGHTS:null},WEIGHT_SLIDER:null,WEIGHT_INPUT:null,SET_HOLDING_PERIOD:{SLIDER:null,INPUT:null},SET_PROJECTED_RETURNS:{SLIDER:null,INPUT:null},BENCHMARK:null,TIME_FRAME:null,REBALANCE_INTERVAL:null,HOLDING_ROW:{CHANGE_CLASS:null,TOGGLE:null,REPLACE:null},NORMALIZE_WEIGHTS:null,TOGGLE_WEIGHT_TYPE:null,TOGGLE_WEIGHT_LOCK:null,SET_TOTAL:null,DELETE_HOLDING:null,ADD_HOLDING:null,HIDE_SHORTEST_HOLDING:null,TOGGLE_CUSTOM_HOLDING:null,ADD_CUSTOM_HOLDING:null,ADD_ACCOUNT:null,DELETE_ACCOUNT:null,CLICK_GROUP_GLOBAL_CHECKBOX:null,CLICK_GROUP_LOCAL_CHECKBOX:null,CHANGE_GROUP_NAME:null,SHARE:{EMAIL:null,LINK:null,REDDIT:null},REDDIT_BACKLINK:{TOGGLE:null,OTHER_REDDIT_POST:null,NAVIGATE_TO_REDDIT_POST:null,NAVIGATE_TO_REDDIT_COMMENT:null}},PORTFOLIO_SAVE:I({SAVE_AS:null,SAVE:null,OPEN_SAVE_MODAL:null,SAVE_CANCEL:null}),SEARCH_HOLDING:I({DISMISS:null,POPULAR_FUND:null,NAME_SEARCH_SELECTED:null,NAME_SEARCH_SUBMIT:null,SYMBOL_SEARCH_CLICK:null,SYMBOL_SEARCH_ENTER:null}),USER_PROFILE:I({DELETE_PORTFOLIO:null,CREATE_PORTFOLIO:null}),INDEX:{HIRING:null,MAILING_LIST:null,TIME_FRAME:null,FEATURED_PORTFOLIO:null,SORT:{FEATURED:null,REDDIT:null,RECENT:null}},INLINE_SIGN_IN:I(),HEADER:I({SHARE:{FACEBOOK:null,TWITTER:null}}),HEADER_CREATE:I({CREATE_PORTFOLIO:null}),IMPORT_TEXTAREA:I({UPLOAD_CSV:{DRAG_AND_DROP:null,UPLOAD_INPUT:null},DOWNLOAD_CSV:null,ADD_ACCOUNT:null,CREATE_PORTFOLIO:null,ADD_HOLDING:null,DELETE_HOLDING:null,UPDATE_HOLDING:null,CLEAR_ALL:null}),SECURITY:I({CREATE_PORTFOLIO:null,ADD_TO_EXISTING_PORTFOLIO:null}),PORTFOLIO_NOTI_BAR:I({CREATE_US_PORTFOLIO:null,CREATE_CA_PORTFOLIO:null,HIDE_NOTI_BAR:null}),DISCOVER:{TIME_FRAME:null,SEARCH:null,SORT:null},GUN_APP:{SIGN_IN_SUCCESS:null,SIGN_IN_FAIL:null,CREATE_PORTFOLIO_SUCCESS:null,CREATE_PORTFOLIO_FAIL:null}},E=function(l){return l.charAt(0).toUpperCase()+l.substr(1).toLowerCase().trim().replace(/[-_\s]+(.)?/g,function(l,E){return E?"_"+E.toUpperCase():""})},n=function(l,I){return _.each(_.pairs(l),function(_){var O,T,u;return O=_[0],u=_[1],T=I.concat(E(O)),u?n(u,T):l[O]=T})},n(EVENT,[]),this.SYNTHETIC_PAGES={OPEN_SIGN_IN_MODAL:"/modal/signin",REGISTER_SUCCESS:"/register_success",LOGIN_SUCCESS:"/login_success"}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e;e=function(){function t(){this._localStorageAvailable()?this._storage=localStorage:this._storage=this._buildFallbackStorage()}return t.prototype.PREFIX="BrowserStorage-",t.prototype._buildKey=function(t){return""+this.PREFIX+t},t.prototype._stripKey=function(t){return t?t.replace(this.PREFIX,""):void 0},t.prototype._localStorageAvailable=function(){var t,e;e="#{@PREFIX}test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(r){return t=r,!1}},t.prototype._buildFallbackStorage=function(){var t;return new(t=function(){function t(){this._keyList=[]}return t.prototype.setItem=function(t,e){return _.contains(this._keyList,t)||this._keyList.push(t),Session.set(t,e)},t.prototype.getItem=function(t){return Tracker.nonreactive(function(){return Session.get(t)})},t.prototype.removeItem=function(t){return this._keyList=_.without(this._keyList,t),Session.set(t,null)},t.prototype.key=function(t){return _.isNumber(t)?this._keyList[t]:void 0},t.prototype.clear=function(){return _.each(keyList,this.removeItem)},t}())},t.prototype.setItem=function(t,e){return this._storage.setItem(this._buildKey(t),e)},t.prototype.getItem=function(t){return this._storage.getItem(this._buildKey(t))},t.prototype.removeItem=function(t){return this._storage.removeItem(this._buildKey(t))},t.prototype.key=function(t){return this._stripKey(this._storage.key(t))},t.prototype.clear=function(){return this._storage.clear()},t}(),window.browserStorage=new e}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=function(){function e(){this._warehouse={},this._storeDep=new Tracker.Dependency}return e.prototype.save=function(e,t,o){var r,i;return this.existStore(e)?r=this.getStore(e):(this._storeDep.changed(),r=new Mongo.Collection(null),this._warehouse[e]={metadata:t.metadata,collection:r}),i=o.id||"_id",_.each(t.data,function(e){var t;return t=e[i],e=_.omit(e,"_id"),r.update(t,e,{upsert:!0})}),r},e.prototype.remove=function(e){return delete this._warehouse[e]},e.prototype.existStore=function(e){return!!this._warehouse[e]},e.prototype.getStore=function(e){return this._storeDep.depend(),this._warehouse[e]?this._warehouse[e].collection:void 0},e.prototype.getMetadata=function(e){return this._storeDep.depend(),this._warehouse[e]?this._warehouse[e].metadata:void 0},e}(),this.CachedStore=t}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare;this.Charts={addDropshadow:function(t,a,e,r){var n,i,s;return s=t.append("filter").attr("id",a).attr("height","130%"),s.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",1).attr("result","blur"),s.append("feOffset").attr("in","blur").attr("dx",e).attr("dy",r).attr("result","offsetBlur"),n=s.append("feComponentTransfer"),i=s.append("feMerge"),i.append("feMergeNode").attr("in","offsetBlur"),i.append("feMergeNode").attr("in","SourceGraphic")},renderSparkline:function(t,a,e,r,n){var i,s,p,d,o,c,l,f,h,u,g,v,m,x,y,S,w;return i=2,t.empty(),_.size(a)<2||!_.isFinite(a[1].price)?null:(n=_.defaults(n||{},{dateCaptions:!1,fillLeft:!0}),m=t.width(),h=t.height(),_.size(a)<2||!_.isFinite(a[1].price)?null:(x=d3.time.scale().domain([r.start,r.stop]).range([0,m]),S=d3.scale.linear().domain([e.min,e.max]).range([0,h]).nice(),u=d3.svg.line().x(function(t){return x(t.date)}).y(function(t){return h-S(t.price)}),p=d3.svg.area().x(function(t){return x(t.date)}).y0(function(t){return h-S(t.price)}).y1(h),d=d3.select(t.get(0)).append("svg").attr("width",m).attr("height",h+i),o=d.append("defs"),Charts.addDropshadow(o,"drop-shadow",0,1),d=d.append("g"),l=[],n.fillLeft&&(l=[{date:r.start,price:a[0].price}]),l=l.concat([a[0]]).concat(a).concat([{date:r.stop,price:_.last(a).price}]),d.append("path").attr("class","history-area").attr("d",p(l)),y=d3.svg.axis().scale(x).orient("bottom").ticks(0).tickSize(0).tickPadding(1),d.append("g").attr("transform","translate(0, "+(h-S(0))+")").attr("class","x axis").call(y),g=d.append("path").attr("class","history-line portfolio").attr("d",u(a)),Modernizr.svgfilters&&!("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent.match(/msie/i):void 0)&&g.style("filter","url(#drop-shadow)"),d.append("circle").attr("cx",x(a[0].date)).attr("cy",h-S(a[0].price)).attr("r",i).attr("class","portfolio"),n.dateCaptions?(s=10,f=d3.time.format("%b %d, %Y"),w=h-s,v=d.append("svg:g").attr("transform","translate("+s+", "+w+")"),c=d.append("svg:g").attr("transform","translate("+(m-s-80)+", "+w+")"),v.append("svg:text").attr("class","date-caption").attr("text-anchor","left").text(f(r.start)),c.append("svg:text").attr("class","date-caption").attr("text-anchor","right").text(f(r.stop))):void 0))}}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,r;r=["twitter","facebook","reddit"],Template.registerHelper("socialUser",function(){var e,t;return(t=null!=(e=Meteor.user())?e.services:void 0)?!_.chain(t).pick(r).isEmpty().value():void 0}),Template.registerHelper("classForQuintile",function(e){return BUCKET_TO_CLASS[e]}),Template.registerHelper("labelForQuintile",function(e){return BUCKET_TO_LABEL[e].toLowerCase()}),Template.registerHelper("periodHumanized",Util.periodHumanized),Template.registerHelper("outlink",function(e){return"/out?url="+e}),Template.markdownWithCleanLink.onRendered(function(){var e;return e=this.$("a").attr("target","_blank"),this.data.setOutlink?e.attr("href",function(){return"/out?url="+this}):e.attr("rel","nofollow")})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,r,o,t;t={keepHistory:3e5,localSearch:!0},o=["name","symbol"],r=function(e){return!e||/[a-zA-Z0-9\,&'!$<>\s\/-:]+$/i.test(e)},this.HoldingSearch={source:new SearchSource("holdingSearch",o,t),throttledHoldingSearch:_.throttle(function(e,o,t){return null==o&&(o=[]),r(e)?(this.source.search(e),Tracker.autorun(function(e){return function(r){var c;return e.source.getStatus().loaded?(c=e.source.getData({sort:{size:-1},docTransform:function(e){return c=_.clone(o),_.extend(e,{symbolColor:UIHelpers.securityColor.expectedColorForHolding(e,c)})}}),t(c),r.stop()):void 0}}(this))):t([])},200)}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.IntercomSettings.userInfo=function(e,r){return r.user_id=e.profile.shortId,r.name=e.fullName(),r.first_name=e.profile.firstName,r.last_name=e.profile.lastName,r.email=e.emailAddress()}}).call(this);

(function(){!function(s){var t=s.fn.addClass;s.fn.addClass=function(a){for(var n=t.apply(this,arguments),r,e=0,i=this.length;i>e;e++)if(r=this[e],r instanceof SVGElement){var l=s(r).attr("class");if(l){var f=l.indexOf(a);-1===f&&(l=l+" "+a,s(r).attr("class",l))}else s(r).attr("class",a)}return n};var a=s.fn.removeClass;s.fn.removeClass=function(t){for(var n=a.apply(this,arguments),r,e=0,i=this.length;i>e;e++)if(r=this[e],r instanceof SVGElement){var l=s(r).attr("class");if(l){var f=l.indexOf(t);-1!==f&&(l=l.substring(0,f)+l.substring(f+t.length,l.length),s(r).attr("class",l))}}return n};var n=s.fn.hasClass;s.fn.hasClass=function(t){for(var a=n.apply(this,arguments),r,e=0,i=this.length;i>e;e++)if(r=this[e],r instanceof SVGElement){var l=s(r).attr("class");return l?-1===l.indexOf(t)?!1:!0:!1}return a}}(jQuery)}).call(this);

(function(){window.Modernizr=function(e,t,n){function r(e){m.cssText=e}function o(e,t){return r(prefixes.join(e+";")+(t||""))}function a(e,t){return typeof e===t}function i(e,t){return!!~(""+e).indexOf(t)}function c(e,t,r){for(var o in e){var i=t[e[o]];if(i!==n)return r===!1?e[o]:a(i,"function")?i.bind(r||t):i}return!1}var l="2.8.3",s={},u=!0,f=t.documentElement,d="modernizr",p=t.createElement(d),m=p.style,h,g={}.toString,v={svg:"http://www.w3.org/2000/svg"},y={},E={},b={},S=[],j=S.slice,C,w={}.hasOwnProperty,F;F=a(w,"undefined")||a(w.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return w.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=j.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=t.prototype;var a=new o,i=t.apply(a,n.concat(j.call(arguments)));return Object(i)===i?i:a}return t.apply(e,n.concat(j.call(arguments)))};return r}),y.svg=function(){return!!t.createElementNS&&!!t.createElementNS(v.svg,"svg").createSVGRect};for(var x in y)F(y,x)&&(C=x.toLowerCase(),s[C]=y[x](),S.push((s[C]?"":"no-")+C));return s.addTest=function(e,t){if("object"==typeof e)for(var r in e)F(e,r)&&s.addTest(r,e[r]);else{if(e=e.toLowerCase(),s[e]!==n)return s;t="function"==typeof t?t():t,"undefined"!=typeof u&&u&&(f.className+=" "+(t?"":"no-")+e),s[e]=t}return s},r(""),p=h=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function o(e){var t=g[e[m]];return t||(t={},h++,e[m]=h,g[h]=t),t}function a(e,n,r){if(n||(n=t),v)return n.createElement(e);r||(r=o(n));var a;return a=r.cache[e]?r.cache[e].cloneNode():d.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),!a.canHaveChildren||f.test(e)||a.tagUrn?a:r.frag.appendChild(a)}function i(e,n){if(e||(e=t),v)return e.createDocumentFragment();n=n||o(e);for(var a=n.frag.cloneNode(),i=0,c=r(),l=c.length;l>i;i++)a.createElement(c[i]);return a}function c(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function l(e){e||(e=t);var r=o(e);return y.shivCSS&&!p&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),v||c(e,r),e}var s="3.7.0",u=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p,m="_html5shiv",h=0,g={},v;!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",p="hidden"in e,v=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){p=!0,v=!0}}();var y={elements:u.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:s,shivCSS:u.shivCSS!==!1,supportsUnknownElements:v,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:i};e.html5=y,l(t)}(this,t),s._version=l,f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(u?" js "+S.join(" "):""),s}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==m.call(e)}function o(e){return"string"==typeof e}function a(){}function i(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function c(){var e=h.shift();g=1,e?e.t?d(function(){("c"==e.t?N.injectCss:N.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),c()):g=0}function l(e,n,r,o,a,l,s){function u(t){if(!m&&i(f.readyState)&&(b.r=m=1,!g&&c(),f.onload=f.onreadystatechange=null,t)){"img"!=e&&d(function(){E.removeChild(f)},50);for(var r in w[n])w[n].hasOwnProperty(r)&&w[n][r].onload()}}var s=s||N.errorTimeout,f=t.createElement(e),m=0,v=0,b={t:r,s:n,e:a,a:l,x:s};1===w[n]&&(v=1,w[n]=[]),"object"==e?f.data=n:(f.src=n,f.type=e),f.width=f.height="0",f.onerror=f.onload=f.onreadystatechange=function(){u.call(this,v)},h.splice(o,0,b),"img"!=e&&(v||2===w[n]?(E.insertBefore(f,y?null:p),d(u,s)):w[n].push(f))}function s(e,t,n,r,a){return g=0,t=t||"j",o(e)?l("c"==t?S:b,e,t,this.i++,n,r,a):(h.splice(this.i++,0,e),1==h.length&&c()),this}function u(){var e=N;return e.loader={load:s,i:0},e}var f=t.documentElement,d=e.setTimeout,p=t.getElementsByTagName("script")[0],m={}.toString,h=[],g=0,v="MozAppearance"in f.style,y=v&&!!t.createRange().compareNode,E=y?f:p.parentNode,f=e.opera&&"[object Opera]"==m.call(e.opera),f=!!t.attachEvent&&!f,b=v?"object":f?"script":"img",S=f?"script":b,j=Array.isArray||function(e){return"[object Array]"==m.call(e)},C=[],w={},F={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},x,N;N=function(e){function t(e){var e=e.split("!"),t=C.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},o,a,i;for(a=0;r>a;a++)i=e[a].split("="),(o=F[i.shift()])&&(n=o(n,i));for(a=0;t>a;a++)n=C[a](n);return n}function i(e,o,a,i,c){var l=t(e),s=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(o&&(o=r(o)?o:o[e]||o[i]||o[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,o,a,i,c):(w[l.url]?l.noexec=!0:w[l.url]=1,a.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(r(o)||r(s))&&a.load(function(){u(),o&&o(l.origUrl,c,i),s&&s(l.origUrl,c,i),w[l.url]=2})))}function c(e,t){function n(e,n){if(e){if(o(e))n||(s=function(){var e=[].slice.call(arguments);u.apply(this,e),f()}),i(e,s,t,0,c);else if(Object(e)===e)for(p in d=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--d&&(r(s)?s=function(){var e=[].slice.call(arguments);u.apply(this,e),f()}:s[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(u[p])),i(e[p],s,t,p,c))}else!n&&f()}var c=!!e.test,l=e.load||e.both,s=e.callback||a,u=s,f=e.complete||a,d,p;n(c?e.yep:e.nope,!!l),l&&n(l)}var l,s,f=this.yepnope.loader;if(o(e))i(e,0,f,0);else if(j(e))for(l=0;l<e.length;l++)s=e[l],o(s)?i(s,0,f,0):j(s)?N(s):Object(s)===s&&c(s,f);else Object(e)===e&&c(e,f)},N.addPrefix=function(e,t){F[e]=t},N.addFilter=function(e){C.push(e)},N.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",x=function(){t.removeEventListener("DOMContentLoaded",x,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=c,e.yepnope.injectJs=function(e,n,r,o,l,s){var u=t.createElement("script"),f,m,o=o||N.errorTimeout;u.src=e;for(m in r)u.setAttribute(m,r[m]);n=s?c:n||a,u.onreadystatechange=u.onload=function(){!f&&i(u.readyState)&&(f=1,n(),u.onload=u.onreadystatechange=null)},d(function(){f||(f=1,n(1))},o),l?u.onload():p.parentNode.insertBefore(u,p)},e.yepnope.injectCss=function(e,n,r,o,i,l){var o=t.createElement("link"),s,n=l?c:n||a;o.href=e,o.rel="stylesheet",o.type="text/css";for(s in r)o.setAttribute(s,r[s]);i||(p.parentNode.insertBefore(o,p),d(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("svgfilters",function(){var e=!1;try{e=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(t){}return e})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,o,e;e={LABELS:{stock:"stock",stocks:"stock fund",bonds:"bond fund",custom:"custom or cash holding",cash:"money market fund",other:"other fund"}},o={GROUPS:{stock:"stocks",stocks:"stocks",bonds:"bonds"}},UIHelpers.portfolio={selectInputText:function(t){return Meteor.defer(function(){return $(t).select(),t.setSelectionRange(0,9999)})},addHoldingAlert:function(t,o,e){var n,r,i;return null==e&&(e={}),e.textarea?r=$(".js-portfolio-import-form"):(n=$(".js-holdings-editor[data-group-id="+o+"]"),r=n.find(".js-holding-search-wrapper, .js-placeholder-holding-wrapper")),this._$tooltip&&this._$tooltip.tooltip("hide").tooltip("destroy"),i=e.duplicate?'<div class="tooltip add-holding-alert duplicate" role="tooltip"><div class="tooltip-inner"></div></div>':'<div class="tooltip add-holding-alert" role="tooltip"><div class="tooltip-inner"></div></div>',this._$tooltip=r.tooltip({title:t,placement:"top",trigger:"manual",animation:!1,template:i}),Meteor.defer(function(t){return function(){return t._$tooltip.tooltip("show")}}(this)),Meteor.setTimeout(function(t){return function(){return t._$tooltip?(t._$tooltip.tooltip("hide").tooltip("destroy"),t._$tooltip=null):void 0}}(this),1500)},primaryAssetClasses:function(t){return _.map(t,function(t){return t.asset_class||"other"})},DISPLAY_TO_FIELD:{returns:"gains",risk:"stddev",expenses:"expense_net"},makeField:function(t,o){return"expenses"===t?"expense_net":"yields"===t?"dividendYield":this.DISPLAY_TO_FIELD[t]+"_"+o},bucket:function(t,o){var e,n;return(n=FundThresholds.findOne({name:o}))?(e=n.values,Calculations.bucket(t,e)):(ErrorLogger.manualLog("UIHelpers.portfolio.bucket shows error on field: "+o),null)},portfolioIsMine:function(t){var o;return o=Meteor.userId(),o&&t?o===t.ownerId:!1},requirePortfolioOptions:function(){var t,o;return t=new $.Deferred,o=this,this._portfolioOptionsModal||(this._portfolioOptionsModal=Blaze.renderWithData(Template.portfolioSaveModal,{},document.body),$(".js-portfolio-save-modal").modal("show").one("shown.bs.modal",function(){return $("body").addClass("modal-open")}).one("hidden.bs.modal",function(){return Blaze.remove(o._portfolioOptionsModal),delete o._portfolioOptionsModal}).one("save.bs.modal",function(){var o;return o={name:$(".js-portfolio-save-modal [name=name]").val(),description:$(".js-portfolio-save-modal [name=description]").val(),isAmountVisible:$('.js-portfolio-save-modal button[data-option="show"]').hasClass("active")},t.resolve(o)}),Analytics.event(EVENT.PORTFOLIO_SAVE.OPEN_SAVE_MODAL)),t},requirePortfolioSaveAsOptions:function(t){var o;return o=Blaze.renderWithData(Template.portfolioSaveAsModal,{portfolio:t},document.body),$(".js-portfolio-save-as-modal").modal("show").one("hidden.bs.modal",function(){return Blaze.remove(o)}).one("shown.bs.modal",function(){var o;return o=$(".js-save-as-form"),o.find("[name=name]").val(t.name).change(),o.find("[name=description]").val(t.description).change()}),Analytics.event(EVENT.PORTFOLIO_SAVE.SAVE_AS)},checkPortfolioBeforeShare:function(t){var o;return o=new $.Deferred,t.isChanged()?UIHelpers.confirmationModal.requireConfirmation({title:'Share <span class="hidden-xs">Unsaved </span>Portfolio?',subtitle:"Do you want to share portfolio without saving?",okayButtonText:"Yes, Share it"}).done(function(){return o.resolve()}):o.resolve(),o},createPortfolio:function(t,o){var e;return null==t&&(t={}),e=_.defaults(t,TB.DEFAULT_PORTFOLIO),Meteor.apply("newPortfolio",[e],{wait:!1},function(t,e){var n,r;return null!=(n=$(".modal"))&&n.modal("hide"),t?Alerts.error(t):(r="/portfolio/"+e.shortId+"-"+e.slug,RouteUtils.go(r)),o?o(t):void 0})},createPortfolioWithRequireOptions:function(t,o){return null==t&&(t={}),this.requirePortfolioOptions().then(function(e){return _.extend(t,e),UIHelpers.portfolio.createPortfolio(t,o)})},addHoldingToExistingPortfolio:function(t,o){var e;return o&&t?(e=Portfolios.findOne({shortId:o}),_.find(e.holdings,function(o){return o.symbol===t.symbol})?Alerts.error("You already have "+t.symbol+" at "+e.name+"."):(e=_.pick(e,TB.PORTFOLIO_FIELDS),e.holdings.push(t),Meteor.apply("savePortfolio",[e],{wait:!1},function(t,o){var e;return t?Alerts.error(t.message):(e="/portfolio/"+o.shortId+"-"+o.slug,Analytics.event(EVENT.SECURITY.ADD_TO_EXISTING_PORTFOLIO),RouteUtils.go(e))}))):!1},weightAmountConverter:function(t,o,e,n){var r,i,a;return e?t?(a=t+e,r=a/t,i=o*r,e/a*i):n:0},blink:function(t){return Meteor.defer(function(){return _.each(t,function(t){var o;return o=$('.js-holdings-editor[data-group-id="'+t.groupId+'"] .js-holding-item[data-holding="'+t.symbol+'"]').closest(".item"),o.addClass("blink"),setTimeout(function(){return o.removeClass("blink")},500),0===o.has(".js-holding-details").length?o.click():void 0})})},getAvailableHistory:function(t,o){var e,n,r;return o=_.defaults(o||{},{yearLabel:"Year",monthLabel:"Month",pluralize:!0}),r=Calculations.availableYears(t),r>15&&(r=15),r>0?(e=pluralize(o.yearLabel,r),e.length>1&&(e=" "+e),r+e):(n=Calculations.availableMonths(t),_.isNumber(n)?(n||(n="< 1"),e=o.monthLabel,o.pluralize&&n&&(e=pluralize(e,n)),e.length>1&&(e=" "+e),""+(n||"< 1")+e):NO_HISTORY)},_dynamicAllocation:function(t){var o,e,n;return o=t.computeWeightedAllocations("asset_class"),n=(null!=(e=_.findWhere(o,{kind:"stocks"}))?e.weight:void 0)||0,n=Math.max(0,Math.min(100,Math.round(20*n)/.2)),[n,100-n]},dynamicBenchmarkLabel:function(t){var o,e,n;return e=this._dynamicAllocation(t),n=e[0],o=e[1],n+"/"+o+" Blended"},dynamicBenchmarkHoldings:function(t){var o,e,n;return e=Util.norm(this._dynamicAllocation(t)),n=e[0],o=e[1],new WeightedBenchmark([{symbol:"IWV",weight:n},{symbol:"VBMFX",weight:o}])},highlightIdx:function(t,o){var e,n,r;if(RouteUtils.subsReady("fundThresholds")&&(n=t.period.get(),r=t.highlights.get(o),!isNaN(r)&&n&&_.isNumber(r)))return"returns"===o&&(r=Calculations.gainsFromReturns(r,n)),e=this.makeField(o,n),this.bucket(r,e)},isFundHolding:function(t){var o;return!("stock"===(o=t.asset_class)||"custom"===o)},formatPeriod:function(t){var o;return t?(o=parseInt(t),_.isNaN(o)?t.toUpperCase():o+"Y"):"N/A"},shouldHideBenchmarks:function(t){return"CAN"===(null!=t?t.country:void 0)},url:function(t){return"/portfolio/"+(null!=t?t.shortId:void 0)+"-"+(null!=t?t.slug:void 0)},resetInput:function(t){var o;return o=t.attr("data-org"),t.val(o),t.keyup(),t.closest("form").submit()},_textify:function(t,o){return o||(o="/"),t.join().replace(/,/g,o)},_treatTotalWeights:function(t){var o;return o=Util.sum(t,function(t){return parseInt(t)}),100===o?t:(t[t.length-1]=parseInt(t[t.length-1])+(100-o),t)},getDisplayHoldings:function(t){var o,e,n,r;return r=_.reject(t._checkedHoldings(),function(t){return 0===t.amount}),o=_.groupBy(r,function(t){return _.isNumber(t.interest)}),e=_.pluck(o[!0]||[],"name"),n=_.pluck(o[!1]||[],"symbol"),_.uniq(_.flatten([e,n]))},textSummary:function(t){return this.holdingsSummary(t)+". "+this.allocationSummary(t)+"."},holdingsSummary:function(t){var o;return o=_.chain(Util.cleanHoldings(t.holdings)).groupBy(function(t){return t.asset_class}).pairs().sortBy(function(t){return TB.ASSET_CLASS_TO_ORDER[t[0]]}).map(function(t){return pluralize(e.LABELS[t[0]],_.size(t[1]),!0)}).value(),""+this._textify(o,", ")},allocationSummary:function(t){var e,n,r,i;return n=t.computeWeightedAllocations("asset_class"),e=_.chain(n).groupBy(function(t){return o.GROUPS[t.kind]||"other"}).pairs().map(function(t){return[t[0],Util.sum(t[1],function(t){return t.weight})]}).sortBy(function(t){return TB.ASSET_CLASS_TO_ORDER[t[0]]}).value(),r=_.map(e,function(t){return t[0]}),i=_.map(e,function(t){return Util.formatNumber(100*t[1])}),"It has a "+this._textify(this._treatTotalWeights(i))+"% allocation in "+this._textify(r)}}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare;this.ReactiveMagicBox=function(){function t(t){this._text=t}return t.prototype._text="",t.prototype._firstTime=!0,t.prototype._dep=new Tracker.Dependency,t.prototype.nonreactiveSet=function(t){return this._firstTime=!0,this._text=t},t.prototype.reactiveSet=function(t){return this._firstTime&&(this._firstTime=!1),this._text=t,this._dep.changed()},t.prototype.reactiveGet=function(){return this._dep.depend(),this._firstTime?"":this._text},t}()}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e=function(t,e){function o(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},n={}.hasOwnProperty,o=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};this.ReactivePortfolio=function(t){function n(t){_.extendOwn(this,t),_.find(this.holdings,function(t){return!_.isNumber(t.amount)})&&this.setDefaultAmounts(),this._original=_.pick(t,TB.PORTFOLIO_FIELDS),this._original.holdings=_.map(t.holdings,function(t){return _.clone(t)}),this._original.holdingGroups=_.map(t.holdingGroups,function(t){return _.clone(t)}),this._nameDep=new Tracker.Dependency,this._descriptionDep=new Tracker.Dependency,this._statusDep=new Tracker.Dependency,this._holdingGroupsDep=new Tracker.Dependency,this._holdingsDep=new Tracker.Dependency,this._holdingsDetails=new ReactiveVar([])}return e(n,t),n.prototype._strip=function(t){return t?(t=_.pick(t,TB.PORTFOLIO_FIELDS),t.holdings=_.indexBy(_.map(t.holdings,function(t){return{symbol:t.symbol,groupId:t.groupId,weight:t.weight,interest:_.isNumber(t.interest)?t.interest:void 0,amount:_.isNumber(t.amount)?t.amount:void 0}}),function(t){return t.groupId+"|"+t.symbol}),t):null},n.prototype.updateName=function(t){return this._nameDep.changed(),this.name=t},n.prototype.reactiveName=function(){return this._nameDep.depend(),this.name},n.prototype.updateDescription=function(t){return this._descriptionDep.changed(),this.description=t},n.prototype.reactiveDescription=function(){return this._descriptionDep.depend(),this.description},n.prototype._holdingsChanged=function(){return this._holdingsDep.changed()},n.prototype.updateHoldings=function(t,e){var n;return this._holdingsChanged(),n=e?this.holdingsWithoutGroup(e):null,n&&(t=_.union(t,n)),this.holdings=_.map(t,function(t){return _.clone(t)})},n.prototype.resetHoldings=function(){return this._holdingsChanged(),this._holdingGroupsDep.changed(),this.holdings=_.map(this._original.holdings,function(t){return _.clone(t)}),this.holdingGroups=_.map(this._original.holdingGroups,function(t){return _.clone(t)}),this.holding},n.prototype.reactiveHoldings=function(t){return this._holdingsDep.depend(),this._holdingGroupsDep.depend(),this.holdingsByGroup(t)},n.prototype.reactiveCheckedHoldings=function(){return this._holdingsDep.depend(),this._holdingGroupsDep.depend(),this._checkedHoldings()},n.prototype.setHoldings=function(t){var e;return this._holdingsChanged(),_.isEmpty(this.holdingGroups)&&!_.isEmpty(t)&&this.addNewGroup(),e=_.first(this.holdingGroups).id,_.each(t,function(t){return t.groupId||(t.groupId=e)}),this.holdings=t},n.prototype.addHoldings=function(t,e,n){var o,i,r,s;return e=_.defaults(e||{},{replaceDuplicates:!1}),_.isArray(t)||(t=[t]),o=[],i=_.map(this.holdings,function(t){return _.clone(t)}),_.each(t,function(t){var n;return n=_.find(i,function(e){return Util.holdingGroupIdSymbol(e)===Util.holdingGroupIdSymbol(t)}),n&&e.replaceDuplicates?n.weight=t.weight:n?o.push(t.symbol):i.push(t)}),o.length>0&&(r=o.join(", ")+" already exist",r+=1===o.length?"s":""),i=_.sortBy(i,function(t){return-t.weight}),this.updateHoldings(i),r&&(s={message:r}),e.replaceDuplicates||UIHelpers.portfolio.blink(t),n?n(s):void 0},n.prototype.removeHolding=function(t,e){return this._holdingsChanged(),this.holdings=_.reject(this.holdings,function(n){return n.groupId===t&&(!e||n.symbol===e)})},n.prototype.revaluateHoldings=function(t,e){var n,o,i;return i=this.totalWeight(e),o=this.totalAmount(e)||TB.DEFAULT_PORTFOLIO_AMOUNT*i,n=this.holdingsByGroup(e),n=_.map(n,function(t){return _.clone(t)}),t===WEIGHT_TYPE.WEIGHT&&_.each(n,function(t){return t.amount=t.weight>0?t.weight/i*o:0}),t===WEIGHT_TYPE.AMOUNT&&_.each(n,function(t){return t.weight=t.amount>0&&o>0?t.amount/o:0}),this.updateHoldings(n,e)},n.prototype.setTotalAmount=function(t,e){var n,o;return t?(o=this.totalWeight(e),n=this.holdingsByGroup(e),_.each(n,function(e){return e.amount=e.weight>0?e.weight/o*t:0}),this.addHoldings(n,{replaceDuplicates:!0})):!1},n.prototype.normalizeHoldings=function(t){var e,n,o;return o=this.totalWeight(t),e=this.holdingsByGroup(t),!o&&_.size(e)>0?(n=1/_.size(e),_.each(e,function(t){return t.weight=n})):_.each(e,function(t){return t.weight/=o}),this.addHoldings(e,{replaceDuplicates:!0})},n.prototype.holdingsDetails=function(){return this._holdingsDetails.get()},n.prototype.checkedHoldingsDetails=function(){var t,e,n;return t=this._checkedGroupIds(),e=this._holdingsDetails.get(),n=_.filter(e,function(e){var n;return n=e.groupId,o.call(t,n)>=0})},n.prototype.updateHoldingsDetails=function(t){var e;return e=_.chain(this.holdings).map(function(e){var n;return n=_.find(t,function(t){return t.symbol===e.symbol}),_.extend(_.clone(e),n)}).value(),this._holdingsDetails.set(e)},n.prototype.totalWeight=function(t){var e;return this._holdingsDep.depend(),e=this.holdingsByGroup(t),Util.sum(e,function(t){return t.weight})},n.prototype.totalCheckedAmountOrDefault=function(){return this.isAmountVisible||UIHelpers.portfolio.portfolioIsMine(this)?this.totalAmount(null,{checkedOnly:!0}):TB.DEFAULT_PORTFOLIO_AMOUNT},n.prototype.totalAmount=function(t,e){var n;return null==e&&(e={}),this._holdingsDep.depend(),e.checkedOnly?(this._holdingGroupsDep.depend(),n=this._checkedHoldings()):n=this.holdingsByGroup(t),Util.sum(n,function(t){return t.amount})},n.prototype.updateAmounts=function(t,e){var n,o,i,r;return r=this.checkedHoldingsDetails(),o=this._checkedGroupIds(),r.length?(n=this.totalAmount(null,{checkedOnly:!0}),r=t(r,n,e),i={},_.each(r,function(t){return i[t.groupId]||(i[t.groupId]=0),i[t.groupId]+=t.amount}),_.each(r,function(t){return t.weight=t.amount/i[t.groupId]}),this.updateHoldings(r,o)):void 0},n.prototype.setAmountVisible=function(t){return this._statusDep.changed(),this.isAmountVisible=t},n.prototype.getAmountVisible=function(){return this._statusDep.depend(),this.isAmountVisible},n.prototype.turnOffHolding=function(t){return _.chain(this.holdings).where({symbol:t}).each(function(t){return _.extend(t,{weight:0,amount:0})}),this._holdingsChanged()},n.prototype.getMonthlyHistory=function(t){var e,n;return n=Calculations.riskPeriodInterval(t,BenchmarkFunds.spy()),e=this.weightedMonthlyHistory(n,{strict:!0})},n.prototype.stddev=function(t){var e;return e=this.getMonthlyHistory(t),Calculations.risk(e)},n.prototype.sharpeRatio=function(t){var e;return e=this.getMonthlyHistory(t),Calculations.sharpeRatio(e)},n.prototype.startDate=function(){var t,e;return t=Util.cleanHoldings(this.checkedHoldingsDetails()),e=_.pluck(t,"annualHistory"),Calculations.mergedStartDate(e)},n.prototype.isChanged=function(){var t,e;return this._nameDep.depend(),this._descriptionDep.depend(),this._holdingsDep.depend(),this._statusDep.depend(),this._holdingGroupsDep.depend(),e=this._strip(this._original),t=this._strip(this),e&&t?!_.isEqual(e,t):!1},n.prototype.reactiveHoldingsExpenses=function(){var t,e,n;return this._holdingsDep.depend(),this._holdingGroupsDep.depend(),t=this.checkedHoldingsDetails(),n=Util.sum(_.pluck(t,"amount"),_.identity),e=_.object(_.map(this.holdingGroups,function(t){return[t.id,t.feeRatio]})),_.compact(_.map(t,function(t){var o,i,r;if(i=e[t.groupId]||0,t.expenses)o=_.clone(t.expenses),o.totalMaximum+=i,o.other+=i;else{if(!i)return null;o={frontLoad:0,backLoad:0,management:0,marketing:0,totalMaximum:i,other:i}}return r={weight:t.amount/n,expenses:o}}))},n.prototype.holdingsByGroup=function(t){return _.isUndefined(t)?this.holdings:(_.isArray(t)||(t=[t]),_.filter(this.holdings,function(e){var n;return n=e.groupId,o.call(t,n)>=0}))},n.prototype.holdingsWithoutGroup=function(t){return _.isUndefined(t)?[]:(_.isArray(t)||(t=[t]),_.filter(this.holdings,function(e){var n;return n=e.groupId,!(o.call(t,n)>=0)}))},n.prototype._checkedGroupIds=function(){return _.chain(this.holdingGroups).filter(function(t){return t.checked}).pluck("id").value()},n.prototype._uncheckedGroupIds=function(){return _.chain(this.holdingGroups).filter(function(t){return!t.checked}).pluck("id").value()},n.prototype._checkedHoldings=function(){return this.holdingsByGroup(this._checkedGroupIds())},n.prototype._uncheckedHoldings=function(){return this.holdingsByGroup(this._uncheckedGroupIds())},n.prototype.getGroupNameById=function(t){return _.findWhere(this.holdingGroups,{id:t}).name},n.prototype.getGroupAmoutRatioById=function(t){var e,n;return n=this.totalAmount(),e=this.totalAmount(t),e/n},n.prototype.getHoldingGroupCount=function(){return this._holdingGroupsDep.depend(),this.holdingGroups.length},n.prototype.addNewGroup=function(){var t,e;return this._holdingGroupsDep.changed(),t=(new Meteor.Collection.ObjectID)._str,e={id:t,name:"Account "+(this.holdingGroups.length+1),createdAt:new Date,checked:!0},this.holdingGroups.push(e),t},n.prototype.deleteGroup=function(t){return this._holdingGroupsDep.changed(),this.removeHolding(t),this.holdingGroups=_.reject(this.holdingGroups,function(e){return e.id===t})},n.prototype.holdingGroupChecked=function(t){var e;return this._holdingGroupsDep.depend(),(null!=(e=_.findWhere(this.holdingGroups,{id:t}))?e.checked:void 0)?"checked":null},n.prototype.holdingGroupsChecked=function(){var t,e;return this._holdingGroupsDep.depend(),t=_.groupBy(this.holdingGroups,function(t){return t.checked}),e=_.keys(t),2===e.length?"indeterminate":1===e.length&&"true"===e[0]?"checked":null},n.prototype.changeGroupCheckBox=function(t,e){var n;return this._holdingGroupsDep.changed(),n=_.findWhere(this.holdingGroups,{id:t}),n.checked=e},n.prototype.changeGroupsCheckBox=function(t){return this._holdingGroupsDep.changed(),_.each(this.holdingGroups,function(e){return e.checked=t})},n.prototype.changeGroupName=function(t,e){var n;return this._holdingGroupsDep.changed(),n=_.findWhere(this.holdingGroups,{id:t}),n.name=e},n.prototype.addFee=function(t,e,n){var o;return this._holdingGroupsDep.changed(),o=_.findWhere(this.holdingGroups,{id:t}),0===n?(delete o.feeName,delete o.feeRatio):(o.feeName=e,o.feeRatio=n)},n.prototype.getFee=function(t){var e;return this._holdingGroupsDep.depend(),e=_.findWhere(this.holdingGroups,{id:t}),(null!=e?e.feeRatio:void 0)&&(null!=e?e.feeName:void 0)?{feeName:e.feeName,feeRatio:e.feeRatio}:null},n.prototype.resetFee=function(t){return this._holdingGroupsDep.changed(),_.each(this.holdingGroups,function(t){return delete t.feeName,delete t.feeRatio})},n}(Portfolio)}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.AverageSummary=function(){function e(e){_.extend(this,e)}return e}(),this.AverageSummaries=new Mongo.Collection("averageSummaries",{transform:function(e){return new AverageSummary(e)}}),AverageSummaries.attachSchema({_id:{type:String},average:{type:Number}}),AverageSummaries.emptySummary={_id:null,average:null}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;this.FormHelper={getDataFromElements:function(e){var t;return t=$(e).serializeArray(),_.object(_.map(t,function(e){return[e.name,e.value]}))},extendTemplateFormStatus:function(e,t){var r;return r=_.defaults(t||{},{isValid:!1}),e.onCreated(function(){return this.isFormValid=new ReactiveVar(r.isValid)}),e.helpers({formStatus:function(){var e;return e=Template.instance().isFormValid,function(t,r){return e.set(t)}},isFormValid:function(){return Template.instance().isFormValid.get()}})}},t=["keyup","change","focus","blur"],ReactiveForms.createFormBlock({template:"wrapperFormBlock",submitType:"normal"}),ReactiveForms.createElement({template:"simpleInputElement",validationEvent:t}),ReactiveForms.createElement({template:"complexInputElement",validationEvent:t}),Template.simpleForm.helpers({schema:function(){return this.collection?window[this.collection].simpleSchema():window[this.schema]},action:function(){return this.action},status:function(){return this.status}}),Template.wrapperFormBlock.events({"keyup input, keyup textarea":function(e,t){return t.data.status?Meteor.defer(function(){var e;return e=t.reactiveForms.schemaContext.isValid(),t.data.status(e,t)}):void 0},keydown:function(e,t){return e.which===KEYCODE.ENTER&&e.metaKey?t.$("form").submit():void 0}}),Template.simpleInput.helpers({schema:function(){return this.schema?window[this.schema]:void 0}}),Template.transformInput.helpers({schema:function(){return this.schema?window[this.schema]:void 0},transformed:function(){var e;if(e=this.field.toUpperCase(),WEIGHT_TYPE[e]===WEIGHT_TYPE.WEIGHT){if(this.data)return Util.formatPercent(this.data[this.field],TB.HOLDING_PERCENT_DECIMALS,{smartThreshold:!0,percentClass:!1})}else if(WEIGHT_TYPE[e]===WEIGHT_TYPE.AMOUNT){if(this.data)return Util.formatDollars(this.data[this.field],2,{smartSuffix:!1,currencyPrefix:!1})}else if("INTEREST"===e&&this.data)return Util.formatPercent(this.data[this.field],TB.HOLDING_PERCENT_DECIMALS,{smartThreshold:!0})}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Avatar.getInitials=function(e){return e.displayName().charAt(0).toUpperCase()}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,i,n,t,o,s,a,r,c,l,d,h,m,u,p;this.HISTORY_START_WINDOW=7,this.TYPEAHEAD_LIMIT=10,a=[0,1,3,5,10,15],o=_.map(a,function(e){return e?e+"Y":"YTD"}),s=_.map(a,function(e){return e?e+"yr":"ytd"}),this.PERIOD={YEARS:a,LABELS:o,VALUES:s,VALUE_TO_LABEL:_.object(s,o)},this.SECURITY={STOCK:"stock",FUND:"fund"},this.BENCHMARK_TO_ORDER={IWV:0,SPY:1,DYNAMIC:2,BALANCED:3,VBMFX:4},this.BENCHMARK={BALANCED:{symbol:"BALANCED",name:"60/40 Balanced",holdings:[{symbol:"IWV",weight:.6},{symbol:"VBMFX",weight:.4}]},DYNAMIC:{symbol:"DYNAMIC",name:"Dynamic"}},this.HIGHLIGHTS=_.flatten(["expense_net",_.map(["gains","stddev"],function(e){return _.map(PERIOD.VALUES,function(i){return e+"_"+i})})]),this.STOCK_HIGHLIGHTS=_.flatten([_.map(["gains","stddev"],function(e){return _.map(PERIOD.VALUES,function(i){return e+"_"+i})}),"gains_ytd","gains_1mo","gains_6mo","gains_max","stddev_ytd"]),this.FUND_HIGHLIGHTS=_.union(STOCK_HIGHLIGHTS,["expense_net"]),this.GAINS_TO_LABEL={"highlights.gains_ytd":"YTD Returns","highlights.gains_5yr":"5yr Returns"},this.DISCOVER_TAGS=["stock","lazy","cruise_control","different"],this.BUCKET_TO_KIND={0:"very_low",1:"low",2:"medium",3:"high",4:"very_high","null":"unknown"},this.KIND_TO_BUCKET=_.invert(BUCKET_TO_KIND),this.BUCKET_TO_CLASS={0:"very-bad",1:"bad",2:"average",3:"good",4:"very-good","null":"unknown"},this.BUCKET_TO_LABEL={0:"Very Low",1:"Low",2:"Medium",3:"High",4:"Very High","null":"Unknown"},this.REVENUE_HISTORY={ORDER:{9:0,6:1,3:2,12:3},LABEL:{9:"Q4",6:"Q3",3:"Q2",12:"Q1"}},this.NAVIGATION_ERROR="Page doesn't exist, sorry!",this.APP_STATE={PAGE_LOADED:"pageLoaded",WINDOW_WIDTH:"windowWidth",WINDOW_HEIGHT:"windowHeight",SCROLL_TOP:"scroll.top",ERROR_REDIRECT:"errorRedirect",PORTFOLIO_PAGE:"portfolioPage",PORTFOLIO_IS_CHANGED:"portfolioIsChanged",PORTFOLIO_IS_VALID:"portfolioIsValid",INITIAL_PAGE_READY:"initialPageReady",ZERO_CLIPBOARD_READY:"zeroClipboardIsReady"},this.SESSION={SEARCH_LANDING:"searchLanding"},this.NO_HISTORY="<div class='no-history'>No History</div>",this.SECTOR_TO_DESCRIPTION={basic_materials:"Companies that manufacture chemicals, building materials and paper products. This sector also includes companies engaged in commodities exploration and processing. Companies in this sector include ArcelorMittal, BHP Billiton and Rio Tinto.",communication_services:"Companies that provide communication services using fixed-line networks or those that provide wireless access and services. This sector also includes companies that provide internet services such as access, navigation and internet related software and services. Companies in this sector include AT&T, France Telecom and Verizon Communications.",consumer_cyclical:"This sector includes retail stores, auto and auto parts manufacturers, companies engaged in residential construction, lodging facilities, restaurants and entertainment companies. Companies in this sector include Ford Motor Company, McDonald’s and News Corporation. ",consumer_defensive:"Companies engaged in the manufacturing of food, beverages, household and personal products, packaging, or tobacco. Also includes companies that provide services such as education & training services. Companies in this sector include Philip Morris International, Procter & Gamble and Wal-Mart Stores.",energy:"Companies that produce or refine oil and gas, oil field services and equipment companies, and pipeline operators. Companies in this sector include BP, ExxonMobil and Royal Dutch Shell. ",financial_services:"Companies that provide financial services which includes banks, savings and loans, asset management companies, credit services, investment brokerage firms, and insurance companies. Companies in this sector include Allianz, J.P. Morgan Chase and Legg Mason.",healthcare:"This sector includes biotechnology, pharmaceuticals, research services, home healthcare, hospitals, long-term care facilities, and medical equipment and supplies. Companies in this sector include Astra Zeneca, Pfizer and Roche Holding. ",industrials:"Companies that manufacture machinery, hand-held tools and industrial products. This sector also includes aerospace and defense firms as well as companied engaged in transportations and logistic services. Companies in this sector include 3M, Boeing and Siemens. ",realestate:"This sector includes mortgage companies, property management companies and REITs. Companies in this sector include Kimco Realty Corporation, Vornado Realty Trust and Westfield Group.",technology:"Companies engaged in the design, development, and support of computer operating systems and applications. This sector also includes companies that providecomputer technology consulting services. Also includes companies engaged in the manufacturing of computer equipment, data storage products, networking products, semiconductors, and components. Companies in this sector include Apple, Google and Microsoft.",utilities:"Electric, gas, and water utilities. Companies in this sector include Electricité de France, Exelon and PG&E Corporation.",unknown:"Fund companies do not specify the sector classifications of some stock holdings and many bond holdings. Cash holdings are also categorized as unknown."},this.SECTOR_TO_LABEL=_.object(_.map(_.keys(SECTOR_TO_DESCRIPTION),function(e){return[e,_s.titleize(_s.humanize(e))]})),this.FUNDTYPE_TO_SECTOR={"Communications Sector":"communication_services","Consumer Cyclical Sector":"consumer_cyclical","Consumer Defensive Sector":"consumer_defensive","Energy Sector":"energy","Financial Sector":"financial_services","Global Real Estate Sector":"realestate","Health Sector":"healthcare","Industrials Sector":"industrials","Natural Resources Sector":"basic_materials","Precious Metals Sector":"basic_materials","Real Estate Sector":"realestate","Technology Sector":"technology","Utilities Sector":"utilities"},h="Intermediate-Term Bond",m="U.S. Large Blend",d="Foreign Large Blend",u="World Stock",r="Real Estate Sector",c="Retirement Income Portfolio",t=["2015 Target Date Portfolio","2020 Target Date Portfolio","2025 Target Date Portfolio","2025+ Target Date Portfolio","Retirement Target Portfolio","Retirement Income Portfolio"],p=[u,h].sort(),l=[d,h,m].sort(),n=_.union(l,[u]).sort(),i=_.union(l,[r]).sort(),this.HOLDING_COUNT_TO_ALLOCATION_STYLES={1:_.map(t,function(e){return[e]}),2:[p],3:[l],4:[n,i]},this.ALLOCATION_STYLES_TO_TAGS=_.extend(Util.objectManyToOne(t,"one"),_.object([p,l,n,i],["two","three","four","core four"])),this.WHITELIST_FUND_PROVIDER_TAG=["Clearbridge","Direxion","Calvert","PIMCO","Cambria","GuideStone","SPDR","VelocityShares","Lifepath","Pacific","T.Rowe","Franklin","Invesco","ING","ProShares","SSgA","Oppenheimer","Templeton","MFS","TIAA-CREF","JPMorgan","Dimensional","USAA","Principal","iShares","Vanguard","Schwab","Fidelity"],this.HISTOGRAM_BUCKET_COUNT=64,this.HOME_DISCUSSION_COUNT=6,this.SEARCH={RESULTS_PER_PAGE:10,FILTER_TICKS:20},this.WEIGHT_TYPE={WEIGHT:"%",AMOUNT:"$"},this.KEYCODE={ENTER:13,ESC:27,TAB:9,DOWN:40,DELETE:46,BACKSPACE:8,Y:89,N:78},this.DEFAULT_HOLDING={AMOUNT:"1000.00",WEIGHT:"10.00"},this.SAVING_PORTFOLIO_FIELD=["ownerId","name","description","holdings","relatedPortfolios","isAmountVisible","holdingGroups"],this.BROWSER_STORAGE={DID_GUIDED_TOUR:"didGuidedTour",SHOWED_REDDIT_TOOLTIP:"showedRedditTooltip"}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Meteor.methods({addDesignComment:function(e){return check(e,Object),_.extend(e,{authorId:Meteor.userId(),createdAt:Date.now(),collectionName:"designs"}),Comments.insert(e,{validate:!1})},removeDesignComment:function(e){var t,o,n,m;return check(e,String),m=Meteor.user(),t=Comments.findOne({_id:e,authorId:m._id}),t&&!t.topLevelCommentId&&(o=null!=(n=Comments.findOne({topLevelCommentId:e}))?n._id:void 0,o&&(Comments.update({topLevelCommentId:e},{$set:{topLevelCommentId:o}},{multi:!0}),Comments.update({_id:o},{$unset:{topLevelCommentId:""},$set:{location:t.location}}))),Comments.remove({_id:e,authorId:m._id})},updateDesignComment:function(e,t){var o;return check(e,String),check(t,String),o=Meteor.user(),t?Comments.update({_id:e,authorId:o._id},{$set:{body:t}}):Comments.remove({_id:e,authorId:o._id})}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare;this.RouteUtils={go:function(r){return $("body").removeClass("modal-open"),FlowRouter.go(r)},registerSubscriptions:function(r,t){return _.each(r,function(r,e){return t.register(e,r)})},subsReady:function(r){return r?FlowRouter.subsReady(r):FlowRouter.subsReady()},correctParams:function(r){return Meteor.defer(function(){return Tracker.autorun(function(t){var e,o;if(r.ready())return r.data()?(o=r.correctedParams(),e=!0,_.each(o,function(r,t){return r!==FlowRouter.current().params[t]?e=!1:void 0}),e||FlowRouter.withReplaceState(function(){return FlowRouter.setParams(o)}),t.stop()):t.stop()})})},currentShortId:function(r){var t;return _.first(null!=(t=(r||FlowRouter.current().params).shortIdSlug)?t.split("-"):void 0)},currentSymbol:function(r){var t,e;return null!=(t=(r||FlowRouter.current().params).symbolSlug)&&null!=(e=t.match(/^[A-Z]+-[A-Z]+|^[A-Z]+/))?e[0]:void 0}}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,s,e,t,o,i;s=Util.suppressionFields(["relatedPortfolios","cachedHistory15yr"]),this.SubsMgr=new SubsManager({cacheLimit:20,expiresIn:3}),FlowRouter.route("/",{name:"home",subscriptions:function(){var r,e,t;return this.subs={redditDiscussions:SubsMgr.subscribe("redditDiscussions",HOME_DISCUSSION_COUNT+5,{portfolioOptions:{fields:s}})},"mobile"===(null!=(t=Meteor.device)?t.type:void 0)&&(this.subs.examples=SubsMgr.subscribe("portfoliosByTag","home_featured",{sort:{displayWeight:-1},limit:5,fields:s})),r={limit:6,sort:{displayWeight:-1},portfolioOptions:{fields:s}},e=_.defaults({fields:s,limit:4},r),_.each(DISCOVER_TAGS,function(r){return function(s){return r.subs[s]=SubsMgr.subscribe("portfoliosByTag",s,e)}}(this)),this.subs.benchmarkFunds=SubsMgr.subscribe("benchmarkSpy"),RouteUtils.registerSubscriptions(this.subs,this)},action:function(r){var s;return s=AppState.get(APP_STATE.ERROR_REDIRECT)||r.query&&r.query.error_redirect,s&&(AppState.set(APP_STATE.ERROR_REDIRECT,null),Alerts.error(s)),BlazeLayout.render("home")}}),FlowRouter.route("/accounts/forgot-password",{name:"forgot_password",action:function(r){return BlazeLayout.render("forgotPassword")}}),FlowRouter.route("/accounts/forgot-password-done",{name:"forgot_password_done",action:function(r){return BlazeLayout.render("forgotPasswordDone")}}),FlowRouter.route("/accounts/reset-password/:token",{name:"reset_password",action:function(r){return BlazeLayout.render("resetPassword")}}),FlowRouter.route("/accounts/reset-password-done",{name:"reset_password_done",action:function(r){return BlazeLayout.render("resetPasswordDone")}}),FlowRouter.route("/settings",{name:"settings",action:function(){return Meteor.userId()?BlazeLayout.render("userSettings"):RouteUtils.go("/")}}),FlowRouter.route("/user/:shortId",{name:"profile",subscriptions:function(r){return this.subs={profileUser:SubsMgr.subscribe("userByShortId",r.shortId),portfolios:SubsMgr.subscribe("portfoliosByOwnerShortId",r.shortId,{fields:s}),benchmarkFunds:SubsMgr.subscribe("benchmarkSpy")},RouteUtils.registerSubscriptions(this.subs,this)},action:function(){return BlazeLayout.render("profile")}}),e=!1,FlowRouter.route("/discover",{name:"discover",subscriptions:function(){var r,t,o;return r={limit:6,sort:{displayWeight:-1},portfolioOptions:{fields:s}},t=_.defaults({fields:s,limit:4},r),this.subs={discoverShortcuts:SubsMgr.subscribe("discoverShortcuts"),benchmarkFunds:SubsMgr.subscribe("benchmarkSpy"),fundThresholds:SubsMgr.subscribe("fundThresholds")},Meteor.isClient&&!e&&(o=FlowRouter.current().queryParams.q,this.subs.discoverNoindex=SubsMgr.subscribe("discoverQueryNoindex",o),e=!0),RouteUtils.registerSubscriptions(this.subs,this)},action:function(){return BlazeLayout.render("discover")}}),FlowRouter.route("/portfolio/:shortIdSlug",{name:"portfolio",subscriptions:function(r){return this.subs={benchmarkFunds:SubsMgr.subscribe("benchmarkFunds"),fundThresholds:SubsMgr.subscribe("fundThresholds"),portfolio:SubsMgr.subscribe("portfolioByShortId",RouteUtils.currentShortId(r),{fields:s}),redditPosts:SubsMgr.subscribe("redditPostsByPortfolioShortId",RouteUtils.currentShortId(r))},RouteUtils.registerSubscriptions(this.subs,this)},action:function(){return BlazeLayout.render("portfolio")}}),FlowRouter.route("/symbol/:symbolSlug",{name:"security",subscriptions:function(r){return this.subs={security:SubsMgr.subscribe("securityBySymbol",RouteUtils.currentSymbol(r)),fundThresholds:SubsMgr.subscribe("fundThresholds"),benchmarkFunds:SubsMgr.subscribe("benchmarkFunds")},RouteUtils.registerSubscriptions(this.subs,this)},action:function(){return BlazeLayout.render("security")}}),(null!=(o=Meteor.settings)&&null!=(i=o["public"])?i.staging:void 0)&&FlowRouter.route("/search",{name:"search",subscriptions:function(){return this.subs={stockThresholds:Meteor.subscribe("stockThresholds"),benchmarkFunds:Meteor.subscribe("benchmarkSpy")},Tracker.nonreactive("/search"===FlowRouter.current().path?function(){return Session.set(SESSION.SEARCH_LANDING,!0)}:function(){return Session.set(SESSION.SEARCH_LANDING,!1)}),RouteUtils.registerSubscriptions(this.subs,this)},action:function(){return BlazeLayout.render("search")}}),FlowRouter.route("/design/:shortIdSlug",{name:"design",subscriptions:function(r){return this.subs={design:Meteor.subscribe("designByShortId",RouteUtils.currentShortId(r))},RouteUtils.registerSubscriptions(this.subs,this)},action:function(){return BlazeLayout.render("design")}}),t=function(r,s){return Template[r]?(BlazeLayout.render(r),$("html, body").animate({scrollTop:0},600)):IRLibLoader.load(s,{success:function(){return BlazeLayout.render(r),$("html, body").animate({scrollTop:0},600)}})},FlowRouter.route("/about",{name:"about",action:function(){return t("about","/about.js")}}),FlowRouter.route("/privacy",{name:"privacy",action:function(){return t("privacy","/privacy.js")}}),FlowRouter.route("/terms-of-service",{name:"terms_of_service",action:function(){return t("termsOfService","/terms-of-service.js")}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;this.HistogramSummary=function(){function e(e){_.extend(this,e)}return e}(),this.HistogramSummaries=new Mongo.Collection("histogramSummaries",{transform:function(e){return new HistogramSummary(e)}}),t=new SimpleSchema({_id:{type:String},count:{type:Number}}),HistogramSummaries.attachSchema({_id:{type:String},average:{type:Number},histogram:{type:[t]}}),this.StocksForSearch=new Mongo.Collection("stocksForSearch"),StocksForSearch.attachSchema({_id:{type:Meteor.ObjectID,optional:!0},symbol:{type:String,label:"Symbol",min:1,max:8},tags:{type:[String],label:"Unioned tags"},highlights:{type:Object,blackbox:!0},market_cap:{type:Number,label:"Market capitalization",decimal:!0},peRatio:{type:Number,label:"Price/Earning ratio",decimal:!0,optional:!0},eps:{type:Number,label:"Earning per share",decimal:!0,optional:!0},fullTimeEmployeeCount:{type:Number,label:"Number of full time employees",optional:!0},latestClose:{type:Number,label:"Latest close price",decimal:!0,optional:!0}}),this.SearchFilters=new Mongo.Collection("searchFilters"),SearchFilters.attachSchema({_id:{type:Meteor.ObjectID,optional:!0},type:{type:String,label:"Type",min:1,max:30},symbol:{type:String,label:"Symbol",optional:!0,min:1,max:8},priority:{type:Number,label:"priority for Search",min:1,max:5},value:{type:[String],label:"Search Filter Value"},tagValueCount:{type:Number,label:"Tag value count",min:0,optional:!0},market_cap:{type:Number,label:"Market capitalization",decimal:!0,optional:!0},sector:{type:String,label:"stock sector",optional:!0}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,o,i;o="Hello Money",t="Be your own advisor, create your portfolio from over 30,000 funds and stocks -- sign up today to get early access.'",i="https://hellomoney.co",this.SEO_CONFIG={DEFAULT:{title:"Hello Money: Design and Share Portfolios",meta:{description:t},og:{title:o,site_name:o,type:"website",description:t,url:i}}},SEO_CONFIG.DEFAULT.og.image=_.map(_.range(1,6),function(e){return i+"/img/sns-thumb"+e+".jpg"}),this.PathUtils={securitySymbolSlug:function(e){return e.symbol+"-"+Util.slugify(e.displayName||e.name)}},Meteor.startup(function(){return Meteor.isClient?SEO.config(SEO_CONFIG.DEFAULT):void 0})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;SimpleSchema.messages({notMatchedPassword:"Passwords do not match",requirePassword:"Password required",sameAsOriginal:"New password should not be same as current password",duplicateHoldings:"Duplicate holdings not allowed"}),SimpleSchema.extendOptions({hint:Match.Optional(String),placeholder:Match.Optional(String)}),SimpleSchema.messages({required:"Required",minString:"[label] must be at least [min] characters",maxString:"[label] cannot exceed [max] characters",minNumber:"[label] must be at least [min]",maxNumber:"[label] cannot exceed [max]",minDate:"[label] must be on or after [min]",maxDate:"[label] cannot be after [max]",minCount:"You must specify at least [minCount] values",maxCount:"Portfolio cannot have more than [maxCount] holdings.",noDecimal:"[label] must be an integer",notAllowed:"[value] is not an allowed value",expectedString:"[label] must be a string",expectedNumber:"[label] must be a number",expectedBoolean:"[label] must be a boolean",expectedArray:"[label] must be an array",expectedObject:"[label] must be an object",expectedConstructor:"[label] must be a [type]",regEx:[{msg:"[label] failed regular expression validation"},{exp:SimpleSchema.RegEx.Email,msg:"[label] must be a valid e-mail address"},{exp:SimpleSchema.RegEx.WeakEmail,msg:"[label] must be a valid e-mail address"},{exp:SimpleSchema.RegEx.Domain,msg:"[label] must be a valid domain"},{exp:SimpleSchema.RegEx.WeakDomain,msg:"[label] must be a valid domain"},{exp:SimpleSchema.RegEx.IP,msg:"[label] must be a valid IPv4 or IPv6 address"},{exp:SimpleSchema.RegEx.IPv4,msg:"[label] must be a valid IPv4 address"},{exp:SimpleSchema.RegEx.IPv6,msg:"[label] must be a valid IPv6 address"},{exp:SimpleSchema.RegEx.Url,msg:"[label] must be a valid URL"},{exp:SimpleSchema.RegEx.Id,msg:"[label] must be a valid alphanumeric ID"}],keyNotInSchema:"[label] is not allowed by the schema","minString password":"8-20 letters, numbers, special characters","maxString password":"8-20 letters, numbers, special characters","minString passwordConfirmation":"8-20 letters, numbers, special characters","maxString passwordConfirmation":"8-20 letters, numbers, special characters","regEx email":"Not a valid email","regEx weight":"Bad weight!","regEx amount":"Bad amount!","regEx interest":"Bad interest!","belowZero interest":"Must be 0% or more","minNumber feeRatio":"Fee should be between 0-20%","maxNumber feeRatio":"Fee should be between 0-20%","notNumber total":"Must be positive number"})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,r,o,t,n;t=function(e){if(e.ownerId===Meteor.userId()||e.isAmountVisible){if(_.find(e.holdings,function(e){return null!=e.amount&&isNaN(e.amount)}))throw new Meteor.Error(400,"Holding amount should be a number");return e}return _.find(e.holdings,function(e){return null!=e.amount&&isNaN(e.amount)})?e.holdings=_.map(e.holdings,function(e){return _.pick(e,TB.NOT_OWNED_HOLDING_FIELDS)}):e.holdings=_.map(e.holdings,function(e){return _.pick(e,TB.HOLDING_FIELDS)}),e},r=function(){return{id:(new Meteor.Collection.ObjectID)._str,name:"Account 1",createdAt:new Date,checked:!0}},n=function(e){var o;return(!e.holdingGroups||e.holdings.length&&!e.holdings[0].groupId)&&(o=r(),e.holdingGroups=[o],_.each(e.holdings,function(e){return e.groupId=o.id})),e},o=function(e){var r,o;return Meteor.isClient?e:(o=Meteor.npmRequire("sanitize-html"),r=["name","description"],_.each(r,function(r){var t,n;if(e[r])return n="name"===r?{allowedTags:[]}:{},t=o(e[r],n),_.isString(t)&&(t=t.replace(/\&amp;/g,"&").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&quot;/g,'"')),e[r]=t||TB.DEFAULT_PORTFOLIO[r]}),e.holdingGroups?_.each(e.holdingGroups,function(e){var r;return r=o(e.name),_.isString(r)&&(r=r.replace(/\&amp;/g,"&").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&quot;/g,'"')),e.name=r}):void 0)},Meteor.methods({saveProfile:function(e){var r;if(check(e,{shortId:String,firstName:String,lastName:String}),r=Meteor.user(),!r)throw new Meteor.Error(401,"Must be logged in to save profile");return Users.update(r._id,{$set:{"profile.firstName":e.firstName,"profile.lastName":e.lastName}})},updatePortfolioCount:function(){return Users.updatePortfolioCount(Meteor.userId())}}),Meteor.methods({deletePortfolio:function(e){var r,o;if(check(e,Match.OneOf(Object,String)),_.isString(e)&&(e=Portfolios.findOne(e)),e=new Portfolio(e),o=Meteor.user(),e.ownerId!==o._id)throw new Meteor.Error(401,"This portfolio belongs to someone else");return Portfolios.remove(e._id),r=Meteor.isClient?o.profile.portfolioCount-1:null,Users.updatePortfolioCount(o._id,r)},savePortfolio:function(e){var r;if(check(e,Object),o(e),e=new Portfolio(e),e.ownerId!==Meteor.userId())throw new Meteor.Error(401,"This portfolio belongs to someone else");return r=_.extend(_.omit(e,"_id","tags"),{holdings:_.sortBy(_.map(e.holdings,function(e){return _.pick(e,TB.HOLDING_FIELDS)}),function(e){return-e.amount}),slug:Util.slugify(e.name),cachedHistory15yr:[],updatedAt:Util.now()}),e=_.defaults(e,r),Meteor.isServer&&Meteor.defer(function(){return Portfolios.update(e._id,{$set:{summaryTags:e.generateSummaryTags(),cachedHistory15yr:e.weightedMergedHistory(Calculations.gainsPeriodInterval("15yr",BenchmarkFunds.spy()))}})}),Portfolios.update(e._id,{$set:r}),e},newPortfolio:function(e){var r,i;if(check(e,Object),o(e),i=Meteor.user(),!i)throw new Meteor.Error(401,"Must be logged in to create portfolio");return e=new Portfolio(e),e=t(e),e=n(e),e=_.extend(e,{ownerId:i._id,createdAt:Util.now(),updatedAt:Util.now(),shortId:Util.makeShortId(TB.SHORT_ID_LENGTH),slug:Util.slugify(e.name),holdings:_.sortBy(e.holdings,function(e){return-e.weight}),cachedHistory15yr:[]}),e._id=Portfolios.insert(e),Meteor.isServer&&Meteor.defer(function(){return Portfolios.update(e._id,{$set:{summaryTags:e.generateSummaryTags(),cachedHistory15yr:e.weightedMergedHistory(Calculations.gainsPeriodInterval("15yr",BenchmarkFunds.spy()))}})}),r=Meteor.isClient?(i.profile.portfolioCount||0)+1:null,Users.updatePortfolioCount(i._id,r),e}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.alertList.helpers({alerts:function(){return Alerts._collection.find({},{sort:{createdAt:-1}})}}),Template.alertList.events({"click button":function(e,t){return Alerts._collection.update(this._id,{$set:{seen:!0}})}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.UserValidationSchema=new SimpleSchema({email:{type:String,label:"Email",regEx:TB.EMAIL_REGEX},oldPassword:{type:String,label:"Current password",min:8,max:20},password:{type:String,label:"New password",min:8,max:20,custom:function(){return this.value===$(".js-current-password").val()?"sameAsOriginal":void 0}},passwordConfirmation:{type:String,label:"New password (again)",min:8,max:20,custom:function(){var e;return e=$("input.js-password").val(),""===e?"requirePassword":this.value!==e?"notMatchedPassword":void 0}}}),this.HOLDING_REGEX={AMOUNT:/^\$?\d+(\,\d+)*(\.\d+)?[k|m|b]?$/i,WEIGHT:/^\<?(\d\.\d+|\.?\d+|\d+\.(\d+)?)$/,INTEREST:/^\-?\<?(\d\.\d+|\.?\d+|\d+\.(\d+)?)$/},this.HoldingValidationSchema=new SimpleSchema({weight:{type:String,label:"holding weight",regEx:HOLDING_REGEX.WEIGHT},amount:{type:String,label:"holding amount",regEx:HOLDING_REGEX.AMOUNT}}),this.PlaceholderHoldingSchema=new SimpleSchema({name:{type:String,label:"Holding Name",max:120,min:1},weight:{type:String,label:"Holding Weight",regEx:HOLDING_REGEX.WEIGHT,optional:!0},amount:{type:String,label:"Holding Amount",regEx:HOLDING_REGEX.AMOUNT,optional:!0},interest:{type:String,label:"Interest rate",custom:function(){return Util.parseDollars(this.value)<0?"belowZero":void 0},regEx:HOLDING_REGEX.INTEREST}}),this.PortfolioTotal=new SimpleSchema({total:{type:String,label:"total",custom:function(){return!RegExp(HOLDING_REGEX.AMOUNT).test(this.value)||Util.parseDollars(this.value)<=0?"notNumber":void 0}}}),this.FeeValidationSchema=new SimpleSchema({feeName:{type:String,label:"Fee Name",max:40,min:1},feeRatio:{type:Number,label:"Fee Ratio",regEx:HOLDING_REGEX.WEIGHT,min:0,max:20,decimal:!0}}),this.ExpensesValidationSchema=new SimpleSchema({holdingYears:{type:Number,label:"Holding period in years",max:50,min:1},projectedReturns:{type:Number,label:"Projected annual returns",min:-30,max:30,decimal:!0}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t={"click .js-new-portfolio-btn":function(e,t){return e.preventDefault(),Analytics.event(EVENT.HEADER_CREATE.CREATE_PORTFOLIO),AccountUIHelpers.requireSignin(EVENT.HEADER_CREATE).then(function(){return Meteor.call("setJustCreatedFalse"),UIHelpers.portfolio.createPortfolioWithRequireOptions()})}},Template.headerHero.events(t),Template.headerPortfolio.events(t)}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,a,r;r=function(e,t){var a;return _.isArray(t)||(t=[t]),a=jQuery.Event("keydown"),_.each(t,function(t){return a.keyCode=a.which=t,e.triggerHandler(a)})},a=function(){var e,t;return e=this.$("input.typeahead"),t=this,e.typeahead({highlight:!0,autoselect:!0,hint:!1},{source:function(a,n){var o,i,s;return s=Blaze.getData(t.view).portfolio,i=null!=s?s.country:void 0,o=s?s.holdings:[],i&&(a="country:"+i+" "+a),HoldingSearch.throttledHoldingSearch(a,o,function(a){return n(a),Meteor.defer(function(){var a;return t.$(".tt-suggestions .tt-cursor").length?void 0:(a=e.val().slice(0,e[0].selectionStart).length,r(e,[KEYCODE.DOWN]),e[0].setSelectionRange(a,a))})})},displayKey:"name",templates:{empty:function(e){return Blaze.toHTMLWithData(Template.emptyResult,e)},suggestion:function(e){return Blaze.toHTMLWithData(Template.fundResult,e)}}})},Template.addHoldingTypeahead.helpers({isWeightPercent:function(){return this.weightType===WEIGHT_TYPE.WEIGHT},isWeightAmount:function(){return this.weightType===WEIGHT_TYPE.AMOUNT},isHoldingSelected:function(){return null===this.searchedHolding.get()},weightUnit:function(){return this.weightType}}),Template.addHoldingTypeahead.events({"submit .js-typeahead-weight-form":function(e,t){var a,r,n,o,i,s,l,d;if(e.preventDefault(),o=this.searchedHolding.get()){if(o.groupId=this.groupId,l=this.portfolio.totalWeight(this.groupId),s=this.portfolio.totalAmount(this.groupId),this.weightType===WEIGHT_TYPE.WEIGHT){if(!RegExp(HOLDING_REGEX.WEIGHT).test(t.$(".js-weight").val()))return;d=parseFloat(t.$(".js-weight").val())/100,r=parseFloat(DEFAULT_HOLDING.AMOUNT),o.amount=UIHelpers.portfolio.weightAmountConverter(l,s,d,r),o.weight=d}else{if(!RegExp(HOLDING_REGEX.AMOUNT).test(t.$(".js-amount").val()))return;a=Util.parseDollars(t.$(".js-amount").val()),n=parseFloat(DEFAULT_HOLDING.WEIGHT)/100,o.weight=UIHelpers.portfolio.weightAmountConverter(s,l,a,n),o.amount=a}return i=this,this.portfolio.addHoldings(o,null,function(e){return e?(UIHelpers.portfolio.addHoldingAlert(e.message,i.groupId,{duplicate:!0}),t.$(".tt-input").focus()):(Analytics.event(EVENT.PORTFOLIO.ADD_HOLDING,o.symbol),UIHelpers.portfolio.addHoldingAlert(o.symbol+" added",i.groupId),t.$(".tt-input").typeahead("val",""),t.$(".tt-input").focus(),t.$(".js-field").closest(".form-group").removeClass("has-error"))})}},"keyup .tt-input, click .tt-dropdown-menu .js-typeahead-result":function(e,t){return this.searchedHolding.get()?Meteor.defer(function(){return t.$(".js-field").focus()}):void 0},"keyup .js-field":function(e){return e.which===KEYCODE.ENTER?$(e.target).closest("form").submit():void 0},"mousedown input":function(e){var t,a;return e.stopPropagation(),t=$("#viewport"),a=t.attr("content").replace("user-scalable=yes","user-scalable=no"),t.attr("content",a)},mousedown:function(e){var t,a,r;return e.stopPropagation(),t=$(e.target),t.is("input")||t.parent(".tt-dropdown")?void 0:(a=$("#viewport"),r=a.attr("content").replace("user-scalable=no","user-scalable=yes"),a.attr("content",r))},"typeahead:opened":function(e,t){var a,r,n;return a=$(e.target),this.searchedHolding.set(null),Meteor.defer(function(){return t.$(".js-field").val("")}),n=a.val(),n&&(a.typeahead("val",""),a.typeahead("val",n),r=a[0],UIHelpers.portfolio.selectInputText(r)),a.data("dismissed",!0)},"typeahead:closed":function(e,t){return $(e.target).data("dismissed")?Analytics.event(EVENT.SEARCH_HOLDING.DISMISS,$(e.target).val()):void 0},"typeahead:cursorchanged":function(e,t,a,r){var n,o;return n=t.$("input.typeahead"),o=n.typeahead("val"),n.val(o)},"typeahead:selected":function(e,t,a,r){var n,o;return e.preventDefault(),e.stopPropagation(),n=_.isArray(a)?a[0]:a,o=_.pick(n,"symbol","name","asset_class"),t.$(".js-weight").val(DEFAULT_HOLDING.WEIGHT),t.$(".js-amount").val(DEFAULT_HOLDING.AMOUNT),Analytics.event(EVENT.SEARCH_HOLDING.NAME_SEARCH_SELECTED,o.symbol),this.searchedHolding.set(o),$(e.target).data("dismissed",!1)}}),Template.typeaheadInput.onRendered(a),Template.startNewPortfolioHeaderTypeahead.onRendered(a),Template.startNewPortfolioHeadline.onRendered(a),t={"typeahead:cursorchanged":function(e,t,a,r){var n,o;return n=t.$("input.typeahead"),o=n.typeahead("val"),n.val(o)},"typeahead:opened":function(e,t){return $(e.target).data("dismissed",!0)},"typeahead:closed":function(e,t){return $(e.target).data("dismissed")&&Analytics.event(EVENT.SEARCH_HOLDING.DISMISS,$(e.target).val()),$(e.target).typeahead("val","")},"typeahead:selected":function(e,t,a,r){var n,o;return e.preventDefault(),n=_.isArray(a)?a[0]:a,o={holdings:[_.extend(_.pick(n,TB.HOLDING_FIELDS),{weight:1,amount:1e4})]},AccountUIHelpers.requireSignin(EVENT.IMPORT_TEXTAREA).then(function(){return Meteor.call("setJustCreatedFalse"),UIHelpers.portfolio.createPortfolioWithRequireOptions(o,function(t){return t?void 0:(Analytics.event(EVENT.SEARCH_HOLDING.NAME_SEARCH_SELECTED,n.symbol),$(e.target).typeahead("val",""),$(e.target).data("dismissed",!1))})})}},Template.startNewPortfolioHeaderTypeahead.events(t),Template.startNewPortfolioHeadline.events(t)}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;UIHelpers.confirmationModal={_showConfirmationModal:function(e){var t;return t=Blaze.renderWithData(Template.confirmationModal,e,document.body),$(".js-confirmation-modal").modal("show").one("hidden.bs.modal",function(){return Blaze.remove(t)})},_hideConfirmationModal:function(){return $(".js-confirmation-modal").modal("hide")},requireConfirmation:function(e){var t;return t=new $.Deferred,this._showConfirmationModal(_.extend(e,{promise:t})),t}},Template.confirmationModal.events({"click .js-okay":function(e,t){return e.preventDefault(),this.promise.resolve()},"click .js-cancel, click .js-close":function(e,t){return e.preventDefault(),this.promise.reject()},"click .modal-backdrop":function(e,t){return e.stopPropagation(),this.promise.reject()},keydown:function(e,t){return e.which===KEYCODE.ESC?this.promise.reject():e.which===KEYCODE.ENTER?t.$(".js-okay").click():void 0}}),UIHelpers.dynamicModal={showDynamicModal:function(e){var t;return t=Blaze.renderWithData(Template.dynamicModal,e,document.body),$(".js-dynamic-modal").modal("show").one("shown.bs.modal",function(){return $(this).find("input").first().focus()}).one("hidden.bs.modal",function(){return Blaze.remove(t)})},hideDynamicModal:function(){return $(".js-dynamic-modal").modal("hide")}},Template.addFeeModalContent.onRendered(function(){var e;return e=Template.currentData(),Meteor.defer(function(){var t;return e.feeName&&this.$(".js-fee-name-input").val(e.feeName).change(),e.feeRatio?(t=(100*e.feeRatio).toFixed(4),this.$(".js-fee-ratio-input").val(t).change()):void 0})}),Template.addFeeModalContent.events({"click .js-submit":function(e,t){var o,n;return o=t.$(".js-fee-name-input").val(),n=t.$(".js-fee-ratio-input").val(),o?o&&!n?(t.$(".js-fee-ratio-input").val("1.0").change(),Meteor.defer(function(){return t.$("form").submit()})):void 0:t.$(".js-fee-name-input").val("!").change().val("").change()}}),Template.addFeeModalContent.helpers({feeHint:function(){return Template.instance().data.feeHint},editFee:function(){var e,t,o;return o=this,t=this.portfolio,e=this.groupId,function(o,n,a){return t.addFee(e,this.feeName,this.feeRatio/100),UIHelpers.dynamicModal.hideDynamicModal()}}}),Template.PortfolioSummaryTagsModalContent.onCreated(function(){return this.subscribe("portfolioSummaryTagList")}),Template.PortfolioSummaryTagsModalContent.helpers({_tagUrl:function(e){return FlowRouter.path("discover",{},{q:e})},portfolioSummaryTagList:function(){var e;return e=PortfolioSummaryTags.find({},{fields:{value:1},sort:{value:1}}).fetch(),e=_.pluck(e,"value"),e.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),e}}),Template.PortfolioSummaryTagsModalContent.events({"click .js-tag-link":function(e,t){return $(".js-dynamic-modal").modal("hide")}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.createYourOwnContent.onRendered(function(){var e;return e=this,this.autorun(function(t){if(browserStorage.getItem("hideCreateYourOwnBar"))return t.stop();if(PortfolioData.securitySource.ready())return Meteor.setTimeout(function(){return $(".js-portfolio-row").addClass("is-notification-open"),$(".js-notification-bar").slideDown(400,function(){return e.$(".js-create-portfolio-bar").animate({opacity:1},400)}),t.stop()},1e3)})}),Template.createYourOwnContent.helpers({hideCreateYourOwnBar:function(){return browserStorage.getItem("hideCreateYourOwnBar")}}),Template.createYourOwnContent.events({"click .js-close":function(e,t){return Analytics.event(EVENT.PORTFOLIO_NOTI_BAR.HIDE_NOTI_BAR),t.$(".js-create-portfolio-bar").animate({opacity:0},400,function(){return $(".js-notification-bar").slideUp(400),$(".js-portfolio-row").removeClass("is-notification-open")}),browserStorage.setItem("hideCreateYourOwnBar","true")},"click .js-create-ca-portfolio":function(e,t){return Analytics.event(EVENT.PORTFOLIO_NOTI_BAR.CREATE_US_PORTFOLIO),AccountUIHelpers.requireSignin(EVENT.PORTFOLIO_NOTI_BAR).then(function(){return Meteor.call("setJustCreatedFalse"),UIHelpers.portfolio.createPortfolioWithRequireOptions({holdings:[TB.CAN.DEFAULT_HOLDING]}),t.$(".js-close").click()})},"click .js-create-us-portfolio":function(e,t){return Analytics.event(EVENT.PORTFOLIO_NOTI_BAR.CREATE_CA_PORTFOLIO),AccountUIHelpers.requireSignin(EVENT.PORTFOLIO_NOTI_BAR).then(function(){return Meteor.call("setJustCreatedFalse"),UIHelpers.portfolio.createPortfolioWithRequireOptions({holdings:[TB.USA.DEFAULT_HOLDING]}),t.$(".js-close").click()})}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,r,i,n,o,a,l,s,u,d,p,c,h;n={"%":"weight",$:"amount"},i={DEFAULT:"Type here or drag & drop a CSV file. It's instant and free.",ERROR:{DUPLICATE_HOLDING:"Duplicate holding! You already added it.",NOT_UNIFIED_WEIGHT:"Can't mix $ and %. Units should be the same.",NAME_MISSING:"Stock or fund name is missing.",WEIGHT_MISSING:"Stock or fund weight is missing.",INVALID_INPUT:"Yikes, that's not right. Use numbers bigger than 0.",HOLDING_MISSING:"Portfoilo should have at least one holding."}},r=new Mongo.Collection(null),r.helpers({isEmpty:function(){return!(this.symbol||this.amount||this.weight)},editCompleted:function(){return this.symbol&&(this.amount||this.weight)},isInvalid:function(){return this.symbol?_.isNull(this.amount)&&_.isNull(this.weight)?i.ERROR.WEIGHT_MISSING:!1:i.ERROR.NAME_MISSING},isLast:function(){var e,t;return e=r.find().fetch(),t=_.pluck(e,"_id"),t.pop()===this._id}}),u=new ReactiveVar,p=new ReactiveVar,p.setDefault=function(e,t){return this.set({error:!1,disabled:!1,message:e,weightType:t})},p.setError=function(e){return this.set({error:!0,disabled:!0,message:e})},p.setDisabled=function(){return this.set({error:!1,disabled:!0,message:i.DEFAULT})},d=new ReactiveDict,d.reset=function(){var e,t;return e=_.keys(this.keys),t=this,_.each(e,function(e){return t.set(e,null)})},d.setObject=function(e){var t;return t=this,_.each(e,function(e,r){return t.set(r,e)})},l=function(e){var t,r,n,o,a,l,s,u,d,p;if(u=_.pluck(e,"symbol"),r=_.uniq(u),u.length!==r.length)return{error:!0,message:i.ERROR.DUPLICATE_HOLDING};for(n=null,a=0,s=e.length;s>a;a++)if(o=e[a],n=o.isInvalid())return{error:!0,message:n};if(l=e[e.length-1],!_.isUndefined(null!=l?l.amount:void 0))if(t=Util.sum(e,function(e){return _.isNumber(e.amount)?1:0}),d=Util.sum(e,function(e){return _.isNumber(e.weight)?1:0}),e.length===t)p=WEIGHT_TYPE.AMOUNT;else{if(e.length!==d)return{error:!0,message:i.ERROR.NOT_UNIFIED_WEIGHT};p=WEIGHT_TYPE.WEIGHT}return{error:!1,weightType:p}},c=new ReactiveVar,c.list=["securitySearchTypeahead","weightInput"],c.next=function(){var e,t,r;return e=this.get(),t=_.indexOf(this.list,e),r=(t+1)%this.list.length,this.set(this.list[r])},s=function(){return Meteor.defer(function(){return $('.js-portfolio-import-form input[type="text"]').first().focus()})},h=function(e,t){var r;return _.isArray(t)||(t=[t]),r=jQuery.Event("keydown"),_.each(t,function(t){return r.keyCode=r.which=t,e.triggerHandler(r)})},Template.portfolioImportTextareaController.onCreated(function(){var e,t,n,o;return r.remove({}),d.reset(),n=this.data.modal,n||(e=_.extend(_.omit(TB.USA.DEFAULT_HOLDING,"weight"),{symbolColor:UIHelpers.securityColor.expectedColorForHolding(TB.USA.DEFAULT_HOLDING)}),r.insert(e)),p.setDefault(i.DEFAULT),c.set("securitySearchTypeahead"),o=this,this.autorun(function(){var e,t,a;return a=r.find().fetch(),e=l(a),e.error?p.setError(e.message):p.setDefault(i.DEFAULT,e.weightType),t=_.isEmpty(a)?n?o.data.modalPortfolio.country:null:International.countryForSymbol(a[0].symbol),u.set(t)}),t=n?!0:!1,this.dragover=new ReactiveVar(t)}),Template.portfolioImportTextareaController.onRendered(function(){return this.$(".js-upload-instruction").tooltip({trigger:"hover",placement:"bottom",title:'CSV file should have "symbol" and "value" columns in USD or CAD, and can contain maximum 100 rows.'})}),Template.portfolioImportTextareaController.events({"keydown input":function(e,t){var r,i,n,o,a,l;if(o=$(e.target),!o.hasClass("is-hidden"))if((l=e.which)===KEYCODE.BACKSPACE||l===KEYCODE.DELETE){if(o.val())return;if(r=o.closest(".js-input-field"),a=o.closest(".js-token"),a.length)return o.prevAll(".js-token-ingredient").length?o.prevAll(".js-token-ingredient").last().trigger("click"):(n=a.prev(),n.find(".js-token-ingredient").last().trigger("click"));if(i=o.closest(".js-input-field").prev(),i.length)return i.find(".js-token-ingredient").last().trigger("click")}else{if(e.which===KEYCODE.TAB)return e.preventDefault();if(e.which===KEYCODE.ENTER&&(e.preventDefault(),e.metaKey))return t.$(".js-submit").click()}},"click .js-portfolio-import-form":function(e,t){return e.stopPropagation(),s()},"click .js-delete-holding":function(e,t){return e.preventDefault(),r.remove(this._id),Analytics.event(EVENT.IMPORT_TEXTAREA.DELETE_HOLDING,this.symbol)},"dragover .js-portfolio-import-form":function(e,t){return e.preventDefault(),e.stopPropagation(),t.dragover.set(!0),p.setDisabled()},"click .js-upload-btn":function(e,t){return e.preventDefault(),t.$(".js-upload-file").click()},"click .js-clear-btn":function(e,t){return e.preventDefault(),r.remove({}),d.reset(),this.modal?t.dragover.set(!0):s(),Analytics.event(EVENT.IMPORT_TEXTAREA.CLEAR_ALL)}}),Template.portfolioImportTextareaController.helpers({setHelpers:function(){var e;return e=Template.instance(),{searchType:function(){return c.get()},portfolioHoldings:function(){return r.find()},caption:function(){return p.get().message},hasError:function(){return p.get().error},disabled:function(){return p.get().disabled},fileUploaded:function(){return d.get("uploaded")},dragover:function(){return e.dragover},modal:this.modal,modalPortfolio:this.modalPortfolio}}}),Template.portfolioImportTextarea.helpers({weightAdded:function(){return!_.isUndefined(this.amount)},_country:function(){return u.get()}}),Template.portfolioImportTextarea.events({"click .js-submit":function(e,t){var n;return""===t.$(".js-weight-input").val()?p.setError(i.ERROR.WEIGHT_MISSING):(n=jQuery.Event("keydown"),n.keyCode=n.which=KEYCODE.ENTER,t.$('input[type="text"]').trigger(n),Meteor.defer(function(){var e,t,n;if(!p.get().error)return n=r.find().fetch(),e=_.map(n,function(e){return _.pick(e,TB.HOLDING_FIELDS)}),e.length>0?(e=p.get().weightType===WEIGHT_TYPE.AMOUNT?Util.setWeightByAmount(e):Util.setAmountByWeight(e),t={holdings:e},AccountUIHelpers.requireSignin(EVENT.IMPORT_TEXTAREA).then(function(){return Meteor.call("setJustCreatedFalse"),UIHelpers.portfolio.createPortfolioWithRequireOptions(t,function(e){return e?void 0:Analytics.event(EVENT.IMPORT_TEXTAREA.CREATE_PORTFOLIO)})})):p.setError(i.ERROR.HOLDING_MISSING)}))},"change .usa-canada-selector input":function(e,t){var i,n;return e.preventDefault(),(n=$(e.target).val())?n===u.get()?void(t._renderedDialogueTemplate&&Blaze.remove(t._renderedDialogueTemplate)):(i=function(e){var t,i;return t=TB[e].DEFAULT_HOLDING,i=_.extend(_.omit(t,"weight"),{symbolColor:UIHelpers.securityColor.expectedColorForHolding(t)}),r.remove({}),r.insert(i),c.set("securitySearchTypeahead")},r.find().count()?(t._renderedDialogueTemplate&&Blaze.remove(t._renderedDialogueTemplate),t._renderedDialogueTemplate=Blaze.renderWithData(Template.dialogueChangeCountry,{country:International.getLabel(n),success:function(){return i(n)},fail:function(){return t.$('input[value="'+u.get()+'"]').click()}},t.$(".js-portfolio-import-form-wrapper")[0]),t.$(".js-dropper-dialogue-country").show()):i(n)):void 0}}),Template.portfolioImportTextareaModal.helpers({weightAdded:function(){return!_.isUndefined(this.amount)}}),Template.portfolioImportTextareaModal.events({"click .js-submit":function(e,t){var n,o;return""===t.$(".js-weight-input").val()?p.setError(i.ERROR.WEIGHT_MISSING):(n=jQuery.Event("keydown"),n.keyCode=n.which=KEYCODE.ENTER,t.$('input[type="text"]').trigger(n),o=this.modalPortfolio,Meteor.defer(function(){var e,n,a;if(!p.get().error)return a=r.find().fetch(),n=_.map(a,function(e){return _.pick(e,TB.HOLDING_FIELDS)}),n.length>0?(e=o.addNewGroup(),_.isNumber(n[0].amount)?n=Util.setWeightByAmount(n):_.isNumber(n[0].weight)&&(n=Util.setAmountByWeight(n)),_.each(n,function(t){return t.groupId=e}),o.addHoldings(n),t.$(".js-portfolio-import-modal").modal("hide"),Analytics.event(EVENT.IMPORT_TEXTAREA.ADD_ACCOUNT)):p.setError(i.ERROR.HOLDING_MISSING)}))}}),Template.portfolioImportTextareaModal.events({"shown.bs.modal":function(e,t){var r;return r=t.$(".typeahead").parent().width(),t.$(".tt-dropdown-menu").css({width:r}),s()}}),Template.editableUI.created=function(){return this.editing=new ReactiveVar(this.data.editing)},Template.editableUI.helpers({parentData:function(){return _.extend(Template.parentData(1),{editing:Template.instance().editing})},editing:function(){return Template.instance().editing.get()}}),Template.editableUI.events({"click .js-token-ingredient":function(e,t){var r;return r=$(e.target).closest(".js-token-ingredient"),r.is(".js-token-ingredient")?(r.addClass("is-selected"),r.find("input.is-hidden").length||r.append('<input type="text" class="is-hidden"></input>'),r.find("input.is-hidden").focus()):void 0},"dblclick .js-token-ingredient":function(e,t){return t.editing.set(!0)},"click .js-token-weight":function(e,t){return this.value?void 0:t.editing.set(!0)},"keydown input.is-hidden":function(e,t){var i,n,o;return(o=e.which)===KEYCODE.BACKSPACE||o===KEYCODE.DELETE?(e.preventDefault(),i=_.omit(this,"_id"),_.each(_.keys(i),function(e){return i[e]=null}),r.update(this._id,{$set:i}),n=r.findOne(this._id),n.isEmpty()?(n.isLast()&&c.set("securitySearchTypeahead"),r.remove(this._id),Analytics.event(EVENT.IMPORT_TEXTAREA.DELETE_HOLDING,this.symbol),s()):t.editing.set(!0)):e.which===KEYCODE.ENTER?t.editing.set(!0):void 0},"blur input.is-hidden":function(e,t){var r;return r=$(e.target).parent(),r.removeClass("is-selected"),$(e.target).remove()}}),Template.editableTokenWeight.helpers({getValue:function(){return _.isNumber(this.amount)?Util.formatDollars(this.amount,TB.HOLDING_AMOUNT_DECIMALS,{smartSuffix:!1}):_.isNumber(this.weight)?Util.formatPercent(this.weight,TB.HOLDING_PERCENT_DECIMALS,{smartThreshold:!1}):void 0}}),Template.securitySearchTypeahead.rendered=function(){var e,t;return e=this.$(".typeahead-input"),e.typeahead({hint:!1,highlight:!0,autoselect:!0},{name:"securities",source:function(t,r){var i;return i=u.get(),i&&(t="country:"+i+" "+t),HoldingSearch.throttledHoldingSearch(t,[],function(t){return r(t),Meteor.defer(function(){var t;return self.$(".tt-suggestions .tt-cursor").length?void 0:(t=e.val().slice(0,e[0].selectionStart).length,h(e,[KEYCODE.DOWN]),e[0].setSelectionRange(t,t))})})},displayKey:"name",templates:{empty:function(e){return Blaze.toHTMLWithData(Template.emptyResult,e)},suggestion:function(e){return Blaze.toHTMLWithData(Template.fundResult,e)}}}),this.$(".typeahead-input").focus(),t=this.$(".typeahead").parent().width(),this.$(".tt-dropdown-menu").css({width:t})},o=null,Template.securitySearchTypeahead.events({"typeahead:cursorchanged .typeahead-input":function(e,t,r,i){var n,o;return n=t.$(".typeahead-input"),o=n.typeahead("val"),n.val(o)},"typeahead:selected .typeahead-input":function(e,t,i){var n,a;return i=_.omit(i,"_id"),r.findOne({symbol:i.symbol})?(n=i.symbol+" already exist",UIHelpers.portfolio.addHoldingAlert(n,null,{textarea:!0,duplicate:!0}),void Meteor.defer(function(){return t.$(".typeahead-input").val("")})):(this._id?(r.update(this._id,{$set:i}),Analytics.event(EVENT.IMPORT_TEXTAREA.UPDATE_HOLDING,this.symbol,i.symbol),null!=(a=this.editing)&&a.set(!1)):(o=r.insert(i),Analytics.event(EVENT.IMPORT_TEXTAREA.ADD_HOLDING,i.symbol),c.next()),t.$(".typeahead-input").val(""),s())},"blur .typeahead-input":function(e,t){var r;return null!=(r=this.editing)?r.set(!1):void 0},"keydown .typeahead-input":function(e,t){return e.which===KEYCODE.ESC?($(e.target).blur(),s()):void 0}}),Template.weightInput.rendered=function(){return this.$(".js-weight-input").focus()},Template.weightInput.events({"keydown .js-weight-input":function(e,t){var n,a,l,u,d,h,f;return f=$(e.target).val(),!f||(a=e.which)!==KEYCODE.ENTER&&a!==KEYCODE.TAB?e.which===KEYCODE.ESC?(null!=(u=this.editing)&&u.set(!1),s()):void 0:Util.isSupportedNumber(f)?(h=Util.numberToType(f),n=Util.numberToRealValue(f),d={weight:null,amount:null},d[h]=n,this._id?(r.update(this._id,{$set:d}),null!=(l=this.editing)&&l.set(!1),s()):(r.update(o,{$set:d}),c.next())):p.setError(i.ERROR.INVALID_INPUT)},"blur .js-weight-input":function(e,t){var r;return null!=(r=this.editing)?r.set(!1):void 0}}),t={FILE_TYPE:'Try a CSV file with "symbol" and "value" columns.',FILE_EMPTY:"File is empty."},Template.textareaDropper.onCreated(function(){var e,n;return this.dropperDynamicDialogue=new ReactiveVar("dialogueDefault"),this.fileName=new ReactiveVar(null),this.errorText=new ReactiveVar(null),this.uploadConfirmed=new ReactiveVar(!1),$.event.props.push("dataTransfer"),this.fileReader=new FileReader,e=new ReactiveVar({}),this.fileReader.onload=function(t){return e.set({loaded:!0,result:t.target.result})},n=this,this.autorun(function(){var o,a;if(n.uploadConfirmed.get()&&e.get().loaded)return(a=e.get().result)?(o=n.data.modal?n.data.modalPortfolio.country:null,Meteor.apply("processCsvFile",[a,o],{wait:!1},function(t,o){return t?(n.errorText.set(t.reason),n.dropperDynamicDialogue.set("dialogueError")):(r.remove({}),_.each(o.holdings,function(e){return e.symbolColor=UIHelpers.securityColor.expectedColorForHolding(e),r.insert(e)}),p.setDefault(i.DEFAULT),d.setObject({uploaded:!0,candidates:o.valueInfo.candidates,currentField:o.valueInfo.currentField}),$(".js-dropper-dialogue").hide(),n.dropperDynamicDialogue.set("dialogueDefault")),n.uploadConfirmed.set(!1),e.set({})})):(n.errorText.set(t.FILE_EMPTY),n.dropperDynamicDialogue.set("dialogueError"),n.uploadConfirmed.set(!1),void e.set({}))})}),Template.textareaDropper.onRendered(function(){var e;return e=this,this.autorun(function(){var t;return t=e.data.dragover.get(),t?(e.dropperDynamicDialogue.set("dialogueDefault"),e.$(".js-dropper").show(),e.$(".js-dropper-dialogue").show()):void 0})}),Template.textareaDropper.helpers({dataForDialogue:function(){var e,t;return t=Template.instance(),e={fileName:t.fileName,dropperDynamicDialogue:t.dropperDynamicDialogue,errorText:t.errorText,uploadConfirmed:t.uploadConfirmed,dragover:this.dragover,modal:this.modal}}}),a=function(e,i){return e.fileName.set(i.name),i.name.match(/\.csv$|\.txt$/)?(r.find().count()?e.dropperDynamicDialogue.set("dialogueConfirm"):(e.dropperDynamicDialogue.set("dialogueLoading"),e.uploadConfirmed.set(!0)),e.fileReader.readAsText(i)):(e.errorText.set(t.FILE_TYPE),e.dropperDynamicDialogue.set("dialogueError"))},Template.textareaDropper.events({click:function(e,t){return e.stopPropagation()},"dragleave .js-dropper":function(e,t){return this.modal?void 0:(e.stopPropagation(),e.preventDefault(),this.dragover.set(!1),t.$(".js-dropper").hide(),t.$(".js-dropper-dialogue").hide(),p.setDefault(i.DEFAULT))},"dropped .js-dropper":function(e,t){var r;return e.preventDefault(),this.dragover.set(!1),t.$(".js-dropper").hide(),r=e.dataTransfer.files[0],a(t,r),Analytics.event(EVENT.IMPORT_TEXTAREA.UPLOAD_CSV.DRAG_AND_DROP)},"change .js-upload-file":function(e,t){var r;return this.dragover.set(!1),r=e.target.files[0],t.$(".js-dropper").hide(),a(t,r),t.$(".js-dropper-dialogue").show(),p.setDisabled(),Analytics.event(EVENT.IMPORT_TEXTAREA.UPLOAD_CSV.UPLOAD_INPUT)}}),Template.dialogueError.events({"click .js-dropper-error-ok":function(e,t){return $(".js-dropper-dialogue").hide(),this.dropperDynamicDialogue.set("dialogueDefault"),this.errorText.set(null),p.setDefault(i.DEFAULT),this.modal?this.dragover.set(!0):void 0}}),Template.dialogueConfirm.events({"click .js-dropper-confirm-cancel":function(e,t){return $(".js-dropper-dialogue").hide(),this.dropperDynamicDialogue.set("dialogueDefault"),p.setDefault(i.DEFAULT)},"click .js-dropper-confirm-ok":function(e,t){return this.dropperDynamicDialogue.set("dialogueLoading"),$('.js-portfolio-import-form input[type="text"]').val(""),this.uploadConfirmed.set(!0)}}),Template.dialogueChangeCountry.events({"click .js-dropper-confirm-cancel":function(e,t){return $(".js-dropper-dialogue-country").hide(),this.fail(),s()},"click .js-dropper-confirm-ok":function(e,t){return $(".js-dropper-dialogue-country").hide(),this.success(),s()}}),Template.reactiveHeader.onRendered(function(){return this.$("[data-toggle=dropdown]").dropdown()}),Template.reactiveHeader.helpers({headerValues:function(){return d.get("candidates")},selection:function(){return d.get("currentField")}}),Template.reactiveHeader.events({"click .js-textarea-header-dropdown li":function(e,t){var i;return e.preventDefault(),e.stopPropagation(),i=$(e.target).data("value"),d.set("currentField",i),r.find().forEach(function(e){var t,n,o;return e.amount=null,e.weight=null,n=null!=(t=e.originalData)?t[i]:void 0,o=Util.numberToType(n),o&&(e[o]=Util.numberToRealValue(n)),r.update(e._id,e)}),t.$("[data-toggle=dropdown]").dropdown("toggle")}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,o,n,r,i,a;e="https://www.reddit.com/submit",i=function(t,e){return window.location.origin+"/portfolio/"+t.shortId},o=function(t){var e;return e=Util.cleanHoldings(t.holdings),t.name+" - "+e.length+" holdings"},n=function(t){var e,o,n,r,a,s,d,l;return a=t.portfolio.get(),r=t.period.get().replace(/yr/,"Y").toUpperCase(),a?(s=Util.formatPercent(t.highlights.get("returns"),TB.HOLDING_PERCENT_DECIMALS),d=Util.formatPercent(t.highlights.get("risk"),TB.HOLDING_PERCENT_DECIMALS),e=Util.formatPercent(t.highlights.get("expenses"),TB.HOLDING_PERCENT_DECIMALS),n=i(a,"email"),o=Util.cleanHoldings(a.holdings),l="This portfolio has "+pluralize("holding",o.length,!0)+": ",l+=UIHelpers.portfolio.textSummary(a)+"\n\n",l+=n+"\n\n"+("YTD"!==r?"Past":"")+" "+r+" performance:\n\n- "+r+" return: "+s+"\n- "+r+" risk: "+d+"\n- Annual expenses: "+e+"\n\nPlease take a look and let me know what you think.",encodeURIComponent(l)):void 0},r=function(t,o){var n,r,a;return o=_.defaults(o||{},{selftext:!0}),n=Util.cleanHoldings(t.holdings),r="[My portfolio has "+pluralize("holding",n.length,!0)+"]("+i(t,"reddit-share")+"): "+UIHelpers.portfolio.textSummary(t)+"\n\n* My age:\n* Income:\n* Account type: 401k / IRA / taxable\n* Debt:\n* Other savings or investments:\n* Portfolio goal:\n\nPlease point out obvious mistakes, or how you might improve this portfolio. Thank you for your help!",a=e,a+="?selftext=true",a+="&title="+encodeURIComponent(t.name+" - critique my portfolio"),a+="&url="+encodeURIComponent(i(t,"reddit-share")),a+="&text="+encodeURIComponent(r)},Template.portfolioShare.onCreated(function(){return this.data.root.redditPosts=new ReactiveVar([]),this.data.root.isRedditExpanded=new ReactiveVar(!1)}),Template.portfolioShare.onRendered(function(){var t;return $(".js-share-btn-link").popover({title:"Copied!",placement:"top",trigger:"manual",template:'<div class="popover weight-type-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',container:"body"}),t=this,this.autorun(function(){var e,o;if(AppState.get(APP_STATE.ZERO_CLIPBOARD_READY))return e=t.$(".js-share-btn-link"),o=new ZeroClipboard(e),o.on("aftercopy",function(){return Analytics.event(EVENT.PORTFOLIO.SHARE.LINK),e.popover("show"),Meteor.setTimeout(function(){return e.popover("hide")},1e3)})}),this.autorun(function(){var e,o;if(FlowRouter.subsReady())return o=t.data.root.portfolio.get().shortId,e=RedditPosts.find({portfolioShortIds:o}).fetch(),e.length>0&&"true"!==browserStorage.getItem(BROWSER_STORAGE.SHOWED_REDDIT_TOOLTIP)?Meteor.defer(function(){var t,e,o;return t=$(".js-toggle-reddit-btn"),e=AppState.get(APP_STATE.WINDOW_WIDTH)<=SM.SCREEN_SIZE.TABLET?"top":"bottom",o={title:"See reddit comments",trigger:"manual",placement:e,template:'<div class="popover reddit-type-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',container:"body"},t.popover(o),t.popover("show"),Meteor.setTimeout(function(){return t.popover("hide")},3e3),browserStorage.setItem(BROWSER_STORAGE.SHOWED_REDDIT_TOOLTIP,!0)}):t.data.root.isRedditExpanded.set(!1),t.data.root.redditPosts.set(e)})}),Template.portfolioShare.helpers({getLinkUrl:function(){var t,e;return t=null!=(e=Template.instance().data.root.portfolio)?e.get():void 0,t?i(t,"link"):void 0},redditPosts:function(){return Template.instance().data.root.redditPosts.get()},getTotalCommentCount:function(){var t;return t=Template.instance().data.root.redditPosts.get(),Util.sum(t,function(t){return t.commentCount})||0},isRedditExpanded:function(){return Template.instance().data.root.isRedditExpanded.get()},redditPosition:function(){return AppState.get(APP_STATE.WINDOW_WIDTH)<=SM.SCREEN_SIZE.PHONE?{top:null,bottom:55,right:15,arrow:"bottom"}:AppState.get(APP_STATE.WINDOW_WIDTH)<=SM.SCREEN_SIZE.TABLET?{top:null,bottom:35,right:10,arrow:"bottom"}:{top:45,bottom:null,right:0,arrow:"top"}}}),Template.portfolioShare.events({"keyup .js-email-content":function(t,e){var o;return o=$(t.target),o.html().trim().length>0?o.closest(".form-group").hasClass("has-error")?o.closest(".form-group").removeClass("has-error"):void 0:o.closest(".form-group").addClass("has-error")},"click .js-share-btn-email":function(t,e){var r;return t.preventDefault(),r=e.data.root.portfolio.get(),UIHelpers.portfolio.checkPortfolioBeforeShare(r).then(function(){var t,e;return e=Template.instance().data.root,"mobile"===(null!=(t=Meteor.device)?t.type:void 0)?window.location="mailto:?subject="+o(r)+"&body="+n(e):window.open("mailto:?subject="+o(r)+"&body="+n(e)),Analytics.event(EVENT.PORTFOLIO.SHARE.EMAIL)})},"click .js-share-btn-reddit":function(t,e){var o;return o=e.data.root.portfolio.get(),UIHelpers.portfolio.checkPortfolioBeforeShare(o).then(function(){var t;return o=e.data.root.portfolio.get(),t=r(o),window.open(t),Analytics.event(EVENT.PORTFOLIO.SHARE.REDDIT)})},"mousedown .js-toggle-reddit-btn":function(t,e){return t.preventDefault()},"click .js-toggle-reddit-btn":function(t,e){var o;return Analytics.event(EVENT.PORTFOLIO.REDDIT_BACKLINK.TOGGLE),o=e.data.root.isRedditExpanded.get(),e.data.root.isRedditExpanded.set(!o)},"click .js-prev-reddit, click .js-next-reddit":function(t){return Analytics.event(EVENT.PORTFOLIO.REDDIT_BACKLINK.OTHER_REDDIT_POST)},"click .js-reddit-post":function(t){return Analytics.event(EVENT.PORTFOLIO.REDDIT_BACKLINK.NAVIGATE_TO_REDDIT_POST)},"click .js-reddit-comment":function(t){return Analytics.event(EVENT.PORTFOLIO.REDDIT_BACKLINK.NAVIGATE_TO_REDDIT_COMMENT)}}),a=function(t){return t.replace(/\[([^\[]+)\]\(([^\)]+)\)/g,function(t,e,o){return e})},Template.redditPostsThread.onCreated(function(){return this.redditSelection=new ReactiveVar(0),this.redditComments=new ReactiveVar([]),this.redditCommentReady=new ReactiveVar(!1)}),Template.redditPostsThread.onRendered(function(){var t,e,o;return o=this,e=Template.instance().data.redditPosts,t=_.map(e,function(t){return t.getId()}),0===_.max(_.pluck(e,"commentCount"))?o.redditCommentReady.set(!0):Meteor.call("getRedditCommentsByPostIds",t,function(t,e){var n;return t?void 0:(n=_.chain(e).map(function(t){return t.comments}).flatten().groupBy("postId").value(),o.redditComments.set(n),o.redditCommentReady.set(!0))}),$(".js-comments-popover").focus()}),Template.redditPostsThread.helpers({isCommentReady:function(){return Template.instance().redditCommentReady.get()},currentSelection:function(){return Template.instance().redditSelection.get()+1},hasMultipleRedditPosts:function(){return Template.instance().data.redditPosts.length>1},getCurrentRedditPost:function(){var t,e;return t=Template.instance(),e=t.data.redditPosts[t.redditSelection.get()],e.points=e.ups-e.downs,e},getComments:function(){var t,e,o;return e=Template.instance().data.redditPosts[Template.instance().redditSelection.get()],t=null!=(o=Template.instance().redditComments)?o.get():void 0,t?t[e.getId()]:null},pluralize:function(t,e){return pluralize(t,e,!0)},sanitize:function(t){return a(t)}}),Template.redditPostsThread.events({"click .js-prev-reddit":function(t,e){var o;return t.preventDefault(),o=e.redditSelection,o.set((o.get()-1)%e.data.redditPosts.length)},"click .js-next-reddit":function(t,e){var o;return t.preventDefault(),o=e.redditSelection,o.set((o.get()+1)%e.data.redditPosts.length)},"blur .js-comments-popover":function(t){return $(".js-toggle-reddit-btn").click()},"mousedown .js-comments-popover":function(t){return t.preventDefault()}}),Template.redditCommentsThread.helpers({points:function(){return this.ups-this.downs},pluralize:function(t,e){return e?pluralize(t,e,!0):void 0},moreCommentsNeeded:function(){return this.post.commentCount>5},sentenceWithComments:function(t){var e,o;return o=a(t.snippet),t.commentCount&&(e="&rarr; "+pluralize("comment",t.commentCount,!0)),o+' <span class="comment-item-body-count js-reddit-comment">'+(e||"")+"</span>"}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};this.SecuritySource=function(){function t(t){this._methodName=t,this._collection=new Mongo.Collection(null),this._ready=new ReactiveVar(!1),this._currentSymbols=[]}return t.prototype._symbols=function(t){return _.pluck(t,"symbol")},t.prototype._getDiff=function(t){var e,i,o;return i=this,o=Tracker.nonreactive(function(){return i._symbols(i._collection.find({symbol:{$in:t},injected:{$ne:!0}},{field:{symbol:1}}).fetch())}),e=_.difference(this._currentSymbols,o)},t.prototype.set=function(t,i){var o,n,r;return this.holdings=t,r=this,this._currentSymbols=this._symbols(this.holdings),o=this._getDiff(this._currentSymbols),_.isEmpty(o)?(this._ready.set(!0),i?i(this.get()):void 0):(this._ready.set(!1),n=_.filter(this.holdings,function(t){var i;return i=t.symbol,e.call(o,i)>=0}),r=this,Meteor.apply(this._methodName,[n],{wait:!1},function(t,e){if(t)throw t;return _.each(e,function(t){return"custom"===t.asset_class&&(t=_.omit(t,["amount","weight"])),r._collection.upsert({symbol:t.symbol},_.omit(t,"_id"))}),r._ready.set(!0),i?i(r.get()):void 0}))},t.prototype.ready=function(){return this._ready.get()},t.prototype.get=function(){return this._ready.get()?this._collection.find({symbol:{$in:this._currentSymbols}}).fetch():[]},t.prototype.getCollection=function(){return this._collection},t.prototype.findOneBySymbol=function(t){return this._collection.findOne({symbol:t})},t}()}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.headerRightSide.onCreated(function(){return this.subscribe("userData")}),Template.headerRightSide.events({"click .js-signin-btn":function(e,t){return AccountUIHelpers.requireSignin(EVENT.HEADER).then(function(e){return e.profile.justCreated?(UIHelpers.portfolio.createPortfolioWithRequireOptions(),Meteor.call("setJustCreatedFalse")):void 0})}}),Template.socialSigninModal.onCreated(function(){return this.signingInWith=new ReactiveVar(null)}),Template.socialSigninModal.helpers({modal:function(){return Template.instance()},signingInWith:function(){return Template.instance().signingInWith.get()}}),Template.socialSigninModal.events({"shown.bs.modal":function(e,t){return t.$("input").change()},"hide.bs.modal":function(e,t){return Alerts.closeAll()},"keydown input":function(e,t){return Alerts.closeAll()}}),Template.signinWithTwitterBtn.events({"click .js-twitter":function(){var e,t,n;return n=null!=(t=this.modal)?t.signingInWith:void 0,null!=n&&n.set("Twitter"),e={gaContext:this.gaContext},AccountUIHelpers.signinWithTwitter(e,function(e){return function(t){return t?e.action(t):null!=n?n.set(null):void 0}}(this))}}),Template.signinWithFacebookBtn.events({"click .js-facebook":function(){var e,t,n;return n=null!=(t=this.modal)?t.signingInWith:void 0,null!=n&&n.set("Facebook"),e={gaContext:this.gaContext},AccountUIHelpers.signinWithFacebook(e,function(e){return function(t){return t?e.action(t):null!=n?n.set(null):void 0}}(this))}}),Template.signinWithRedditBtn.events({"click .js-reddit":function(){var e,t,n;return n=null!=(t=this.modal)?t.signingInWith:void 0,null!=n&&n.set("Reddit"),e={gaContext:this.gaContext},AccountUIHelpers.signinWithReddit(e,function(e){return function(t){return t?e.action(t):null!=n?n.set(null):void 0}}(this))}}),FormHelper.extendTemplateFormStatus(Template.signinWithEmailForm),Template.signinWithEmailForm.onRendered(function(){return this.signUp=!1}),Template.signinWithEmailForm.helpers({signinWithEmail:function(){var e,t;return t=Template.instance(),e=this,function(n,i,r){var o,l,s;return o=FormHelper.getDataFromElements(n),s={email:o.email.toLowerCase(),password:o.password},l={gaContext:e.gaContext,rememberUser:t.$(".js-remember").prop("checked")?!0:!1,signUp:t.signUp},t.signUp=!1,AccountUIHelpers.signinWithEmail(s,l,function(t){return i.reset(!0),e.action(t)})}}}),Template.signinWithEmailForm.events({"click .js-forgot-password":function(e,t){return AccountUIHelpers.forgotPassword(t.data.gaContext)},"click .js-sign-up":function(e,t){return t.signUp=!0,t.$("form").submit()}}),Template.inlineSocialSignin.helpers({inlineSigninContext:EVENT.INLINE_SIGN_IN,createDefaultPortfolio:function(){var e;return e=Template.instance(),function(){var t;return t=Meteor.user(),t.profile.justCreated&&(UIHelpers.portfolio.createPortfolioWithRequireOptions(),Meteor.call("setJustCreatedFalse")),Meteor.defer(function(){return e.$(".js-field").blur().val("")})}}}),FormHelper.extendTemplateFormStatus(Template.completeAccountModal),Template.completeAccountModal.events({"shown.bs.modal":function(e,t){return Meteor.device.type?void 0:Meteor.setTimeout(function(){return t.$("input").focus()},300)}}),Template.completeAccountModal.helpers({addEmailOnAccount:function(){var e;return e=this,function(t,n,i){var r,o;return r=FormHelper.getDataFromElements(t),o=r.email.toLowerCase(),AccountUIHelpers.addEmailOnAccount(o,e.serviceName,e.action)}}}),Template.userProfileDropdown.rendered=function(){return this.$("[data-toggle=dropdown]").dropdown()},Template.userProfileDropdown.helpers({displayName:function(){return new User(Meteor.user()).displayName()},profileUrl:function(){return"/user/"+Meteor.user().profile.shortId}}),Template.userProfileDropdown.events({"click .js-logout-btn":function(e,t){return AccountUIHelpers.signOut(EVENT.HEADER)}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,r;t=function(e,t){var r;return r=Util.differenceInDays(e,new Date(t))<=30,r?e:t},r=function(e,r){var n,a,i;return _.isEmpty(e)?r:(a=_.first(e).date,i=_.last(e).date,n={start:t(a,r.start),stop:t(i,r.stop)})},Template.timelineBoomBust.created=function(){return this.selectorToGains=new ReactiveDict},Template.timelineBoomBust.rendered=function(){var e,t;return t=this,e=t.data.root,this.autorun(function(){var n,a,i;return AppState.get(APP_STATE.WINDOW_WIDTH),i={},_.each(["boom","bust"],function(r){return _.each(_.range(1,3),function(n){var a,s,o,l,c,u,f,m,d,p,_;if(m=".js-"+r+"-"+n,a=t.$(m),u={start:new Date(a.data("start")),stop:new Date(a.data("stop"))},_=t.data.type,_===SECURITY.STOCK)d=Stocks.findOne({symbol:RouteUtils.currentSymbol()}),c=d.mergedReinvestedHistory();else if(_===SECURITY.FUND)o=Funds.findOne({symbol:RouteUtils.currentSymbol()}),c=o.mergedReinvestedHistory();else if("PORTFOLIO"===_){if(f=e.portfolio.get(),!f)return;c=f.weightedMergedHistory(u,{strict:!0})}return p=Calculations.truncate(c,u),l=Calculations.gainsHistory(p),s={interval:u,history:l},i[m]=s,t.selectorToGains.set(m,Calculations.gains(p))})}),n=_.pluck(_.values(i),"history"),a=Calculations.minMax(n),Meteor.defer(function(){return _.each(_.pairs(i),function(e){var n,i,s,o;return o=e[0],i=e[1],n=t.$(o),s=r(i.history,i.interval),Charts.renderSparkline(n,i.history,a,s)})})})},Template.timelineBoomBust.helpers({label:function(e){var t,r;return r=Template.instance(),t=r.selectorToGains.get(e),_.isFinite(t)&&0!==t?t>0?"label-success":0>t?"label-danger":void 0:"label-default"},isAvailable:function(e){var t,r;return r=Template.instance(),t=r.selectorToGains.get(e||".js-boom-2"),_.isFinite(t)},formattedGains:function(e){var t,r;return r=Template.instance(),t=r.selectorToGains.get(e),_.isFinite(t)?Util.formatPercent(t,2,{smartThreshold:!1,commafy:!0}):NO_HISTORY}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,r,n,i,o;Template.timelineGraph.events({"change input":function(t,e){return e.data.root.period.set($(t.target).val()),Analytics.event(EVENT.PORTFOLIO.TIME_FRAME,$(t.target).val())},"click .js-benchmark li":function(t,e){return t.preventDefault(),e.data.root.benchmark.set($(t.target).data("value")),Analytics.event(EVENT.PORTFOLIO.BENCHMARK,$(t.target).text())},"click .js-rebalance-interval li":function(t,e){return t.preventDefault(),e.data.root.rebalanceInterval.set(parseInt($(t.target).data("value"))),Analytics.event(EVENT.PORTFOLIO.REBALANCE_INTERVAL,$(t.target).text())}}),n=function(t){return PERIOD.LABELS},i=function(t){return PERIOD.VALUES},r=function(t){return t?"Since "+Util.formatDate(t,{"long":!0,invalidText:NO_HISTORY}):"No History"},o=function(t){var e,r;return e=Util.cleanHoldings(t.checkedHoldingsDetails()),_.each(e,function(t){var e;return e=Calculations.mergedStartDate([t.annualHistory])||new Date,t.availableYears=t.status?0:Calculations.availableYears(e),t.startTime=t.status?(new Date).getTime():new Date(e).getTime()}),r=_.chain(e).sortBy(function(t){return-t.startTime}).sortBy(function(t){return!t.status}).first().value(),!r||r.availableYears>=15||1===e.length?null:(r.symbolColor||(r.symbolColor=_.find(t.holdings,function(t){return t.symbol===r.symbol}).symbolColor),r)},e=function(){return _.chain([BENCHMARK.DYNAMIC,BENCHMARK.BALANCED,BenchmarkFunds.find().fetch()]).flatten().sortBy(function(t){return BENCHMARK_TO_ORDER[t.symbol]}).value()},Template.timelineGraph.helpers({getTimelineGraphName:function(){return"PORTFOLIO"===this.type?"Portfolio":this.source.symbol},benchmarks:function(){var t,r,n,i,o;return i=null!=(o=this.root.portfolio)?o.get():void 0,t=e(),i?(n=i.reactiveCheckedHoldings(),r=_.findWhere(t,{symbol:BENCHMARK.DYNAMIC.symbol}),r.name=UIHelpers.portfolio.dynamicBenchmarkLabel(i)):t=_.without(t,_.findWhere(t,BENCHMARK.DYNAMIC)),t},benchmarkValues:function(){return _.pluck(this.benchmarks,"symbol")},benchmarkLabels:function(){return _.pluck(this.benchmarks,"name")},periodLabels:function(){return n(this.type)},periodValues:function(){return i(this.type)},rebalanceLabels:function(){return["Rebalance monthly","Rebalance quarterly","Rebalance annually","Do not rebalance"]},rebalanceValues:function(){return[1,3,12,0]},rebalanceClasses:function(){return _.size(this.root.portfolio.get().reactiveCheckedHoldings())<2?"sm disabled":"disabled"},isPortfolioTimeLine:function(){return"PORTFOLIO"===this.type},hideBenchmarks:function(){var t,e;return"PORTFOLIO"===this.type?(t=null!=(e=this.root.portfolio)?e.get():void 0,null!=t&&t.reactiveHoldings(),UIHelpers.portfolio.shouldHideBenchmarks(t)):!1},isHoldingsLoading:function(){return"PORTFOLIO"===this.type?!this.root.securitySource.ready():!1},availableDuration:function(){var t;return t=this.root.availableStartDate.get(),t?UIHelpers.portfolio.getAvailableHistory(t,{monthLabel:"M",pluralize:!1}):"N/A"},startDateFormatted:function(){return r(this.root.availableStartDate.get())}}),Template.timelineGraph.events({"click .js-turn-off-holding":function(t,e){var r,n,i;return t.preventDefault(),i=$(t.target).attr("data-symbol"),n=e.data.root,r=n.portfolio.get(),r.turnOffHolding(i),Analytics.event(EVENT.PORTFOLIO.HIDE_SHORTEST_HOLDING,i)}}),Template.timelineGraph.onRendered(function(){return this.$(".btn").button(),this.$("[data-toggle=dropdown]").dropdown()}),Template.shortHoldingBox.helpers({availableDuration:function(){var t;return t=this.root.availableStartDate.get(),t?UIHelpers.portfolio.getAvailableHistory(t,{monthLabel:"M",pluralize:!1}):"N/A"},startDateFormatted:function(){return r(this.root.availableStartDate.get())},getHoldingWithShortestHistory:function(){var t,e,r;return t=this.root.portfolio.get(),t&&(e=o(t))?(e.symbolColor=UIHelpers.securityColor.expectedColorForHolding(e),r={shortHolding:e,caption:e.status?"is "+e.status+".":"has shortest history."}):void 0}}),Template.timelineHighlights.helpers({returns:function(){return this.root.highlights.get("returns")},risk:function(){return this.root.highlights.get("risk")},expenses:function(){return this.root.highlights.get("expenses")},yields:function(){return this.root.highlights.get("yields")},returnsIdx:function(){return UIHelpers.portfolio.highlightIdx(this.root,"returns")},riskIdx:function(){return UIHelpers.portfolio.highlightIdx(this.root,"risk")},expensesIdx:function(){return UIHelpers.portfolio.highlightIdx(this.root,"expenses")},yieldsIdx:function(){return UIHelpers.portfolio.highlightIdx(this.root,"yields")},formatPercent:function(t){return Util.formatPercent(t,2,{invalidText:NO_HISTORY})},formatString:function(t){return BUCKET_TO_LABEL[t]},isYtd:function(){return"ytd"===this.root.period.get()},isStockTimeline:function(){return this.type===SECURITY.STOCK},getTimelineGraphName:function(){return"PORTFOLIO"===this.type?"Portfolio":this.source.symbol}}),Template.timelineChart.onCreated(function(){return this.isAvailable=new ReactiveVar(!1)}),Template.timelineChart.onRendered(function(){var t;return t=this,this.autorun(function(){var e,r,n,i,o,a,l,s,u,c,h,d,f,p,g,m,y,v,b,H,T,k,I,O;return AppState.get(APP_STATE.WINDOW_WIDTH),t.isAvailable.set(!1),e=t.$(".js-timeline-chart"),e.empty(),h={portfolio:t.data.root.weightedMergedHistory.get(),benchmark:t.data.root.benchmarkMergedHistory.get()},_.each(_.keys(h),function(t){return h[t]=Calculations.valueHistory(h[t],1e4)}),h.portfolio.length&&t.isAvailable.set(!0),g=[50,50],m=[10,20],b=e.width()-g[0]-g[1],c=e.height()-m[0]-m[1],s=_.flatten([h.portfolio,h.benchmark]),r=d3.time.scale().domain([d3.min(s,function(t){return t.date}),d3.max(s,function(t){return t.date})]).range([0,b]),f=d3.max(s,function(t){return t.price}),p=d3.min(s,function(t){return t.price}),n=d3.scale.linear().domain([p,f]).range([c,0]).nice(),d=d3.svg.line().interpolate("basis").x(function(t){return r(t.date)}).y(function(t){return n(t.price)}),i=d3.svg.area().x(function(t){return r(t.date)}).y0(function(t){return n(t.price)}).y1(c).interpolate("basis"),a=d3.select(e.get(0)),o=a.append("svg").attr("width",e.width()).attr("height",e.height()),l=o.append("defs"),Charts.addDropshadow(l,"drop-shadow",0,2),o=o.append("g").attr("transform","translate("+g[0]+", "+m[0]+")"),u=d3.time.format.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!==t.getDate()}],["%b %d",function(t){return 1!==t.getDate()}],["%b",function(t){return t.getMonth()}],["%Y",function(){return!0}]]),H=d3.svg.axis().scale(r).orient("bottom").ticks(8).tickSize(c).tickFormat(u).tickPadding(10),o.append("g").attr("class","x axis").style("stroke-dasharray","3, 3").call(H),k=d3.svg.axis().scale(n).ticks(6).tickPadding(6).tickFormat(function(t){return Util.formatDollars(t,1)}),I=k.orient("left").tickSize(-b),o.append("g").attr("class","y axis left").style("stroke-dasharray","3, 3").call(I),O=k.orient("right").tickSize(0),o.append("g").attr("class","y axis right").attr("transform","translate ("+b+", 0)").call(O),T=n(1e4),o.append("line").attr("class","baseline").attr("x1",0).attr("x2",b).attr("y1",T).attr("y2",T),o.append("path").attr("d",i(h.portfolio)).attr("class","history-area portfolio"),h.benchmark&&!UIHelpers.portfolio.shouldHideBenchmarks(null!=(v=t.data.root.portfolio)?v.get():void 0)&&o.append("path").attr("d",d(h.benchmark)).attr("class","history-line benchmark"),y=o.append("path").attr("d",d(h.portfolio)).attr("class","history-line portfolio"),Modernizr.svgfilters&&!("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent.match(/msie/i):void 0)&&y.style("filter","url(#drop-shadow)"),_.isEmpty(h.portfolio)?void 0:o.append("circle").attr("cx",r(h.portfolio[0].date)).attr("cy",n(h.portfolio[0].price)).attr("r",2).attr("class","portfolio")})}),Template.timelineChart.helpers({isTimeLineGraphAvailable:function(){return Template.instance().isAvailable.get()},isHoldingsEmpty:function(){var t,e;return t=null!=(e=this.root.portfolio)?e.get():void 0,t?Util.cleanHoldings(t.checkedHoldingsDetails()).length<=0:void 0},getHoldingWithNoHistory:function(){var t,e,r;return e=null!=(r=this.root.portfolio)?r.get():void 0,e?(t=Util.cleanHoldings(e.checkedHoldingsDetails()),_.find(t,function(t){return!t.annualHistory})):void 0}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n,o,r,i,a,s,c,m,u,d,l;n={WIDTH:50,HEIGHT:50},o={WIDTH:450,HEIGHT:200,MARGIN_LEFT:20,MARGIN_TOP:10},t={WIDTH:32,HEIGHT:20,MIN_TOP:3},r=["top","bottom","left","right"],i="webkitTransitionEnd oTransitionEnd transitionEnd msTransitionEnd transitionend",c=null,s=function(e,t){var r,i,a,s;return i=$(t).height(),a=o.HEIGHT/8,r=e+n.HEIGHT/2,s=r<a+o.MARGIN_TOP?o.MARGIN_TOP:e-a,c=s},a=function(e,t){var r;return r=$(t).width()/2,e>r?e-o.WIDTH-o.MARGIN_LEFT:e+n.WIDTH+o.MARGIN_LEFT},Template.commentsPopover.helpers({width:function(){return o.WIDTH},calculatedPosition:function(){var e,t,n;return this.nocalc?(t=this,_.chain(r).map(function(e){return _.isNumber(t[e])?e+": "+t[e]+"px; ":void 0}).value().join().replace(/,/g,"").trim()):(n=s(this.top,this.container),e=a(this.left,this.container),"top: "+n+"px; left: "+e+"px;")},arrow:function(){var e;return this.arrow?this.arrow:(e=$(this.container).width()/2,e<this.left?"right":"left")},arrowPosition:function(){var e,o;if(Template.instance().data.comments)return e=this.top+n.HEIGHT/2,o=e-c-t.HEIGHT/2,0>=o&&t.MIN_TOP,"top: "+o+"px;"},getCommentsTemplate:function(){return Template.instance().data.comments?"commentsThread":Template.instance().data.redditPosts?"redditPostsThread":void 0}}),Template.commentsPopover.events({"keydown .js-comments-popover":function(e,t){return e.which===KEYCODE.ESC?t.$(".js-comments-close").click():void 0}}),l=function(){return Meteor.defer(function(){var e,t,n;return n=$(".js-design-container").scrollTop()+$(".js-design-container").height(),t=$(".js-comments-popover-wrapper").position().top,e=$(".js-comments-popover-wrapper").height(),t+e>n?$(".js-design-container").scrollTop(t+o.MARGIN_TOP):void 0})},Template.commentsPopover.rendered=function(){return this.data.isOpen?l():void 0},Template.commentsThread.rendered=function(){var e;return this.commentScrollToBottom=function(e){var t;return null==e&&(e={}),t=this.$(".js-comments"),e.animate?Meteor.defer(function(){return t.animate({scrollTop:t[0].scrollHeight},e.duration||100)}):t.scrollTop(t[0].scrollHeight)},this.$(".js-comment-textarea").expanding().focus(),e=this,this.$(".js-comments")[0]._uihooks={insertElement:function(t,n){var o;return o=$(t),o.addClass("highlight").insertBefore(n),e.commentScrollToBottom({animate:!0,duration:100})}}},m=null,u=function(){var e,t;return t=new $.Deferred,e=$(".js-social-signin-modal"),Meteor.userId()?t.resolve():(m||(m=Tracker.autorun(function(e){return Meteor.userId()?(t.resolve(),m=null,e.stop()):void 0})),e.modal("show"),e.off("hidden.bs.modal"),e.on("hidden.bs.modal",function(){return m?(m.stop(),m=null):void 0})),t},Template.commentsThread.events({"touchstart textarea":function(e,t){return e.preventDefault()},"keydown .js-comment-textarea":function(e,t){return e.which!==KEYCODE.ENTER||e.shiftKey?void 0:(e.preventDefault(),t.$(".js-submit").click())},"click .js-submit":function(e,t){var n,o,r,i;return n=t.$(".js-comment-textarea"),o=n.val(),o.trim()?(i=Comments.findOne({"location.left":this.left,"location.top":this.top}),r=Designs.findOne()._id,u().then(function(e){return function(){var n;return n={body:o,itemId:r},i?n.topLevelCommentId=i._id:n.location={left:e.left,top:e.top},Meteor.call("addDesignComment",n),t.$(".js-comment-textarea").val("").change(),t.commentScrollToBottom({animate:!0,duration:100}),l()}}(this))):void 0}}),Template.commentsThreadHeader.helpers({commentsHeaderSummary:function(){var e,t,n,o;return this.comments.length?(e=_.countBy(this.comments,"authorId"),t=_.keys(e).length,n=_.chain(e).pairs().max(_.last).head().value(),o=Users.findOne({_id:n}).displayName(),o+" and "+(t-1)+" others"):""},noComments:function(){return!this.comments.length}}),d=function(e){var t,n,o,r,i;return t=e.closest(".js-comments"),i=t.scrollTop(),o=t.height(),n=e.position().top,o-n<e.height()?(r=e.height()-(o-n),t.scrollTop(t.scrollTop()+r)):void 0},Template.prototype.configVariable=function(e){var t;return this.onCreated(function(){var t;return t=this,_.each(e,function(e,n){return t[n]=_.clone(e)})}),t=function(e){var t;return t={},_.each(e,function(e,n){return t[n]=function(){return Template.instance()[n].get()}}),t},this.helpers(t(e))},Template.commentItem.configVariable({editing:new ReactiveVar(!1),deleted:new ReactiveVar(!1)}),Template.commentItem.onCreated(function(){var e;return e=this,this.deleteItself=function(){return Meteor.call("removeDesignComment",this.data._id)},this.autorun(function(t){return e.deleted.get()?(Meteor.setTimeout(function(){return e.deleted.get()?e.$(".js-comment-item").removeClass("in").one(i,function(t){return e.deleted.get()?Meteor.defer(function(){return e.deleteItself()}):void 0}):void 0},3e3),t.stop()):void 0})}),Template.commentItem.destroyed=function(){return this.deleted.get()?this.deleteItself():void 0},Template.commentItem.events({"click .js-comment-delete-btn":function(e,t){return e.preventDefault(),t.deleted.set(!0)},"click .js-comment-delete-cancel-btn":function(e,t){return e.preventDefault(),t.deleted.set(!1)},"click .js-comment-edit-btn":function(e,t){return e.preventDefault(),t.editing.set(!0),Meteor.defer(function(){var e,n;return e=t.$(".js-comment-edit-textarea").expanding(),n=e.val(),e.focus().val("").val(n),d(t.$(".js-comment-item"))})},"keydown .js-comment-edit-textarea":function(e,t){return e.which!==KEYCODE.ENTER||e.shiftKey?e.which===KEYCODE.ESC?(e.stopPropagation(),t.$(".js-comment-edit-textarea").blur()):void 0:(e.preventDefault(),$(".js-comment-edit-submit-btn").click())},"mousedown button":function(e,t){return e.preventDefault()},"click .js-comment-edit-submit-btn":function(e,t){var n;return e.preventDefault(),n=t.$(".js-comment-edit-textarea"),n.val().trim()?(Meteor.call("updateDesignComment",this._id,n.val()),browserStorage.removeItem("cachedComment-"+this._id),t.editing.set(!1),n.expanding("destroy"),Meteor.defer(function(){return d(t.$(".js-comment-item")),$(".js-comment-textarea").focus()})):void 0},"blur .js-comment-edit-textarea":function(e,t){var n;return t.editing.get()?(n=$(e.target),browserStorage.setItem("cachedComment-"+this._id,n.val()),t.editing.set(!1),n.expanding("destroy")):void 0},"click .js-comment-edit-cancel-btn":function(e,t){return e.preventDefault(),t.$(".js-comment-edit-textarea").blur()}}),Template.commentItem.helpers({authorUser:function(){return Users.findOne({_id:this.authorId})},name:function(){return Users.findOne({_id:this.authorId}).displayName()},formattedDate:function(){return Util.formatDate(this.createdAt,{withTime:!0})},isAuthor:function(){return this.authorId===Meteor.userId()},cachedBody:function(){return browserStorage.getItem("cachedComment-"+this._id)}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n,r,o,i,s,a,c,u,m;t={WIDTH:50,HEIGHT:50},n="webkitTransitionEnd oTransitionEnd transitionEnd msTransitionEnd transitionend",i=function(e,n){var r;return r=n.offset(),{x:parseInt(e.pageX-r.left-t.WIDTH/2),y:parseInt(e.pageY-r.top-t.HEIGHT/2)}},o=function(){return Designs.findOne({shortId:RouteUtils.currentShortId()})},u=function(){return $(".js-bar").addClass("open")},s=function(){return $(".js-bar").removeClass("open")},a=function(){return $(".js-instruction-content").fadeOut(),$(".js-instruction-drawer").removeClass("open"),$(".js-design-navbar").removeClass("in").one(n,function(e){return $(e.target).is(".js-design-navbar")?$(this).addClass("hidden"):void 0})},m=function(){return $(".js-instruction-drawer").addClass("open"),setTimeout(function(){return $(".js-design-navbar").removeClass("hidden").addClass("in"),$(".js-instruction-content").fadeIn()},250)},c=function(){return $(".js-instruction-drawer").hasClass("open")},r=function(e){return FlowRouter.withReplaceState(function(){return FlowRouter.setQueryParams({mode:e})})},Template.design.rendered=function(){var e;return e=this,this.autorun(function(t){var n;if(RouteUtils.subsReady())return n=FlowRouter.getQueryParam("mode"),"on"===n?e.isViewMode.set(!1):"off"===n?(e.isViewMode.set(!0),Meteor.defer(function(){return s()})):Meteor.defer(function(){return m()}),t.stop()})},Template.design.created=function(){var e,t;return t=this,this.commentOverlays=new ReactiveVar([]),this.commentOverlays.setWithRemoveEmptyOverlay=function(e){return _.each(e,function(t,n){return t.comments.length||t.isOpen?void 0:e.splice(n,1)}),this.set(e)},this.isViewMode=new ReactiveVar(!1),e="readComment-"+RouteUtils.currentShortId(),this.readComment=new ReactiveVar(JSON.parse(browserStorage.getItem(e))||{}),this.readComment.setWithLocalStorage=function(t,n){var r;return r=this.get(),r[t]=n,browserStorage.setItem(e,JSON.stringify(r)),this.set(r)},this.autorun(function(){var e,n,r,o,i;if(RouteUtils.subsReady("design"))return n=Comments.find().fetch(),i=_.groupBy(n,function(e){return e.topLevelCommentId||e._id}),e=Tracker.nonreactive(function(){return t.commentOverlays.get()}),r=_.find(e,function(e){return e.isOpen}),o=t.readComment.get(),e=_.map(_.values(i),function(e){var t,n,i;return i=_.find(e,function(e){return!e.topLevelCommentId}),n=_.clone(i.location),t=[n.top,n.left].toString(),o[t]&&e.length===o[t]&&(n.read=!0),r&&_.isEqual(i.location,{top:r.top,left:r.left})?n.isOpen=!0:n.isOpen=!1,n.topLevelCommentId=i._id,n.comments=e,n}),t.commentOverlays.set(e)})},Template.design.helpers({currentDesign:o,commentOverlays:function(){return this.root.commentOverlays.get()},isViewMode:function(){return this.root.isViewMode.get()},isCommentMode:function(){return!this.root.isViewMode.get()},designAuthor:function(){return Users.findOne(o().authorId)},commentLengthText:function(){var e;if(this.root.commentOverlays.get())return e=this.root.commentOverlays.get().length,0===e||1===e?(e||"NO")+" COMMENT":e+" COMMENTS"}}),Template.design.events({"click .js-mode-toggle-btn":function(e,t){var n,o,i;return e.preventDefault(),o=t.isViewMode.get(),o?u():($(".js-instruction-drawer").hasClass("open")&&(n=250),a(),setTimeout(s,n)),i=!o,r(i?"off":"on"),t.isViewMode.set(i)},"click .js-instruction-btn":function(e){var t;return e.preventDefault(),$(e.target).closest(".js-simple-switch").length?void 0:(t=this.root.isViewMode.get(),c()?(a(),r("on")):(t?(u(),setTimeout(m,250),this.root.isViewMode.set(!1)):m(),r("instruction")))},"click .js-design-image":function(e,t){var n,r,o,s;if(n=$(e.target),n.closest(".is-comment-mode").length){if(c())return a();if($(e.target).is("img.design-image")&&!this.root.isViewMode.get())return r=this.root.commentOverlays.get(),s=i(e,t.$(".js-design-image")),o=_.find(r,function(e){return e.isOpen}),o?(o.isOpen=!1,t.$(".js-comments-close").click()):r.push({top:s.y,left:s.x,isOpen:!0,comments:[]}),this.root.commentOverlays.setWithRemoveEmptyOverlay(r)}},"dragstart img":function(e){return e.preventDefault(),e.stopPropagation()},"dragstart .js-overlay":function(e){return console.log("dragging..."),e.preventDefault()},"click .js-overlay":function(e,t){var n,r,o,i;return n=t.commentOverlays.get(),r=_.find(n,function(e){return function(t){return e.top===t.top&&e.left===t.left}}(this)),o=r.isOpen,i=_.find(n,function(e){return e.isOpen}),i&&t.$(".js-comments-close").click(),r.isOpen=!o,t.commentOverlays.setWithRemoveEmptyOverlay(n)},"click .js-comments-close":function(e,t){var n,r;return e.preventDefault(),n=t.commentOverlays.get(),r=_.find(n,function(e){return function(t){return e.top===t.top&&e.left===t.left}}(this)),r&&(r.isOpen=!1),t.commentOverlays.setWithRemoveEmptyOverlay(n),t.readComment.setWithLocalStorage([this.top,this.left].toString(),r.comments.length)},"click .js-close-instruction-btn":function(e,t){return t.$(".js-instruction-btn").click()}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,r,o,n;this.DiscoverShortcuts=new Mongo.Collection("discoverShortcuts"),this.DiscoverNoindex=new Mongo.Collection("discoverNoindex"),n={sort:{displayWeight:-1,_id:-1}},r=6,Template.discover.onCreated(function(){var t,e,r;return this.SearchResults=new Mongo.Collection(null),this.period=new ReactiveVar(FlowRouter.current().queryParams.period||"1yr"),this.isReady=new ReactiveVar(!1),this.loadMoreData=new ReactiveVar(!1),r=this,e=null,t={},this.autorun(function(){var o;return FlowRouter.watchPathChange(),Meteor.defer(function(){return r.period.set(FlowRouter.current().queryParams.period||"1yr")}),o=FlowRouter.current().queryParams,r.searchText=o.q||"",r.options={sort:o.sort||{},from:0,size:15},r.from=r.options.size+1,e===o.q&&_.isEqual(t,o.sort)?void 0:(r.isReady.set(!1),Meteor.call("portfolioSearch",r.searchText,r.options,function(n,i){if(n)throw n;return r.total=i.metadata.total,r.options.from=r.options.size,r.SearchResults=new Mongo.Collection(null),_.each(i.data,function(t){return r.SearchResults.insert(t)}),e=o.q,t=o.sort,r.isReady.set(!0)}))}),Meteor.defer(function(){return $("html, body").scrollTop(0)})}),Template.discover.onRendered(function(){var t,e,r,o;return o=this,t=5,e=null,r=function(){return o.options.size=t,o.loadMoreData.set(!0),Meteor.call("portfolioSearch",o.searchText,o.options,function(t,e){if(t)throw t;return o.options.from=o.options.from+o.options.size,_.each(e.data,function(t){return o.SearchResults.insert(t)}),o.loadMoreData.set(!1)})},this.autorun(function(){return FlowRouter.watchPathChange(),o.$(".js-portfolio-search").val(FlowRouter.current().queryParams.q||"")}),this.autorun(function(){var t,n;if(!o.isReady.get())return e=null;if(n=AppState.get(APP_STATE.SCROLL_TOP),t=$(window).height()/3,o.$(".js-discover-search-results")[0].getBoundingClientRect().bottom<$(window).height()+t){if(o.options.from>=o.total)return;if(e===o.options.from)return;return e=o.options.from,r()}})}),Template.discover.helpers({_shortcutsFixture:function(){return ComponentFixtures.getData("portfolioSearchShortcuts","Normal")},_filtersFixture:function(){return ComponentFixtures.getData("portfolioSearchFilters","Normal")},_resultsFixture:function(){return ComponentFixtures.getData("portfolioSearchResults","Normal")},periodLabels:function(){return PERIOD.LABELS},periodValues:function(){return PERIOD.VALUES},_field:function(t,e){return t+"_"+e},endOfResult:function(){var t,e;return AppState.get(APP_STATE.SCROLL_TOP),e=Template.instance(),t=e.SearchResults.find().count(),t&&t===e.total},_discoverShortcuts:function(){return{shortcuts:DiscoverShortcuts.find().fetch()}}}),Template.discover.events({"focus .js-portfolio-search":function(t,e){return UIHelpers.portfolio.selectInputText(t.target)},'change input[name="timeframe"]':function(t,e){var r,o,n,i,s;return s=$(t.target).val(),n=FlowRouter.current().queryParams,n.period=s,i=FlowRouter.current().queryParams.sort,i&&_.keys(i)[0].match(/^returns|^stddev/)&&(r=_.keys(i)[0],o=r.replace(/\d+yr|ytd/,s),n.sort=_.object([o],[i[r]])),FlowRouter.go("discover",{},n),Analytics.event(EVENT.DISCOVER.TIME_FRAME,s)},"keyup .js-portfolio-search":function(t,e){var r,o,n;return t.which===KEYCODE.ENTER?(o=$(t.target).val().trim(),r=FlowRouter.current().queryParams,n=FlowRouter.path("discover",{},_.extend(r,{q:o})),FlowRouter.go(n),Analytics.event(EVENT.DISCOVER.SEARCH,o)):void 0},"click .js-back-to-top":function(t,e){return t.preventDefault(),$("html, body").animate({scrollTop:0},600)}}),o={"-1":"desc",1:"asc"},e="score",Template.portfolioSortButton.helpers({value:function(){var t,e,r,o;return r=Template.instance(),FlowRouter.watchPathChange(),e=FlowRouter.current().queryParams.sort||{},_.isEmpty(e)&&(e={score:"desc"}),t=_.keys(e)[0],o=null!=e?e[this.field]:void 0,(null!=t?t.split("_")[0]:void 0)!==this.field.split("_")[0]||o||(o=e[t]),o="asc"===o?1:"desc"===o?-1:null,_.extend(this,{value:o})},sortOrderToClass:function(){return 1===this.value?"is-up":-1===this.value?"is-down":void 0},url:function(){var t,e,r,n;return r=this,e=FlowRouter.current().queryParams,n=this.noOrder?-1:this.value?-this.value:"name"===this.field?1:-1,t=_.extend(e,{sort:_.object([r.field],[o[n]])}),t.sort.score&&(t=_.omit(t,"sort")),FlowRouter.path("discover",{},t)}}),Template.portfolioSortButton.events({"click .js-sort-btn":function(t,e){return Analytics.event(EVENT.DISCOVER.SORT,this.field)}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;Template.home.onRendered(function(){var e;return e=this,this.autorun(function(){var t;return t=Math.abs(AppState.get(APP_STATE.SCROLL_TOP)-e.$(".area.features").offset().top),400>t?e.$(".area.features").toggleClass("scrolled",!0):void 0}),null}),Template.home.events({"click .pf-card-wrapper":function(e,t){return Analytics.event(EVENT.INDEX.FEATURED_PORTFOLIO,$(e.target.parentElement).find("div.name").text().trim())}}),t=768,Template.headline.helpers({examples:function(){return Portfolios.findByTag("home_featured",{sort:{displayWeight:-1}})}}),Template.sampleDiscussions.helpers({_redditDiscussions:function(){var e,t,r,o;if(RouteUtils.subsReady("redditDiscussions"))return t=RedditPosts.find({},{limit:HOME_DISCUSSION_COUNT+5,sort:{createdAt:-1}}),o=new Date((new Date).getTime()-864e5),r={},e=[],_.each(t.fetch(),function(t){var i;return i=_.first(t.portfolioShortIds),_.size(e)>=HOME_DISCUSSION_COUNT||r[i]?void 0:(e.push({title:t.title,url:t.url,commentCount:t.commentCount,createdAt:t.createdAt,tags:t.createdAt>o?["new"]:void 0,portfolio:Portfolios.findOne({shortId:i})}),r[i]=!0)}),e}}),Template.samplePortfolios.helpers({portfolios:function(){var e;return e={},_.each(DISCOVER_TAGS,function(t){return e[t]=Portfolios.findByTag(t,{sort:{displayWeight:-1,_id:-1}})}),e}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;FormHelper.extendTemplateFormStatus(Template.forgotPassword),Template.forgotPassword.rendered=function(){var e;return e=$(".js-forgot-password-email"),_.isEmpty(this.data.email)||e.val(this.data.email),e.focus()},Template.forgotPassword.helpers({forgot:function(){return function(e,o,r){var t,s;return t=$(e),t.find("button").attr("disabled",!0),t.find(".spinner").show(),s={email:$(".js-forgot-password-email").val().toLowerCase()},Accounts.forgotPassword(s,function(e){return $(".js-forgot-password").removeClass("sending"),e?(t.find(".spinner").hide(),Alerts.error("User not found"===e.reason?"Address not found. Enter again?":e)):RouteUtils.go("/accounts/forgot-password-done")})}}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;FormHelper.extendTemplateFormStatus(Template.resetPassword),Template.resetPassword.helpers({reset:function(){return function(e,r,t){var o,s,a;return o=FormHelper.getDataFromElements(e),s=o.password,a=FlowRouter.getParam("token"),Accounts.resetPassword(a,s,function(e){return e?Alerts.error(e):(Meteor.call("updatePortfolioCount"),RouteUtils.go("/accounts/reset-password-done"))})}}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.addPlaceholderHolding.rendered=function(){return $(".js-placeholder-helper").popover({content:"The returns of this holding assuming a single compounding payment per year held. Also known as Effective Annual Rate.",trigger:"hover",placement:"top",delay:{hide:100},template:'<div class="popover weight-type-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',container:"body"})},Template.addPlaceholderHolding.helpers({addHolding:function(){var e,t,r,o;return r=Template.instance(),t=this.portfolio,o=this.weightType,e=this.groupId,function(n,a,i){var s,l,u,p,c,d,h;if(p=FormHelper.getDataFromElements(n),_.extend(p,{groupId:e,interest:.01*p.interest,symbol:t.shortId+"-"+Util.makeShortId(TB.SHORT_ID_LENGTH),asset_class:"custom"}),d=t.totalWeight(),c=t.totalAmount(),o===WEIGHT_TYPE.WEIGHT&&p.weight)h=parseFloat(p.weight)/100,l=parseFloat(DEFAULT_HOLDING.AMOUNT),p.amount=UIHelpers.portfolio.weightAmountConverter(d,c,h,l),p.weight=h;else{if(o!==WEIGHT_TYPE.AMOUNT||!p.amount)return Alerts.error("You must enter either weight or amount.");s=Util.parseDollars(p.amount),u=parseFloat(DEFAULT_HOLDING.WEIGHT)/100,p.weight=UIHelpers.portfolio.weightAmountConverter(c,d,s,u),p.amount=s}return t.addHoldings(p,null,function(t){return t?(UIHelpers.portfolio.addHoldingAlert(t.message,e,{duplicate:!0}),r.$(".js-field").focus()):(Analytics.event(EVENT.PORTFOLIO.ADD_CUSTOM_HOLDING,p.name),UIHelpers.portfolio.addHoldingAlert(p.name+" added",e),r.$(".js-field").val(""),r.$(".js-name").focus(),a.reset(!0))})}},isWeightPercent:function(){return this.weightType===WEIGHT_TYPE.WEIGHT},isWeightAmount:function(){return this.weightType===WEIGHT_TYPE.AMOUNT},weightLabel:function(){return this.weightType===WEIGHT_TYPE.WEIGHT?"Weight":"Amount"},weightUnit:function(){return this.weightType}}),Template.addPlaceholderHolding.events({"keyup .js-placeholder-holding-wrapper .js-field":function(e,t){return e.which===KEYCODE.ESC?t.data.isAddingPlaceholder.set(!1):void 0},"keyup .js-name":function(e,t){return e.which===KEYCODE.ENTER&&$(e.target).val()?t.$(".js-interest").focus():void 0},"keyup .js-interest":function(e,t){return e.which===KEYCODE.ENTER&&$(e.target).val()?t.$(".js-weight, .js-amount").focus():void 0},"keyup .js-weight, keyup .js-amount":function(e){return e.which===KEYCODE.ENTER?$(e.target).closest("form").submit():void 0},"blur .js-weight, blur .js-interest":function(e){var t,r;return t=$(e.target),!t.parent().hasClass("has-error")&&t.val()?(r=t.val(),r=.01*parseFloat(r),isNaN(r)||(r=Util.formatPercent(r,TB.HOLDING_PERCENT_DECIMALS,{smartThreshold:!0,percentClass:!1})),t.val(r)):void 0},"blur .js-amount":function(e){var t,r;return t=$(e.target),!t.parent().hasClass("has-error")&&t.val()?(r=Util.parseDollars(t.val()),isNaN(r)||(r=Util.formatDollars(r,2,{smartSuffix:!1,currencyPrefix:!1})),t.val(r)):void 0},"mousedown input":function(e){var t,r;return t=$("#viewport"),r=t.attr("content").replace("user-scalable=yes","user-scalable=no"),t.attr("content",r)},mousedown:function(e){var t,r,o;return e.stopPropagation(),t=$(e.target),t.is("input")||t.parent(".tt-dropdown")?void 0:(r=$("#viewport"),o=r.attr("content").replace("user-scalable=no","user-scalable=yes"),r.attr("content",o))}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,o;o=function(e){return _.isEmpty(e)?null:International.countryForSymbol(e[0].symbol)},Template.portfolio.destroyed=function(){return AppState.set(APP_STATE.PORTFOLIO_PAGE,!1),window.onbeforeunload=null,FlowRouter._page.show=this._originalShow.bind(FlowRouter._page),delete window.PortfolioData},Template.portfolio.onCreated(function(){var e,t;return AppState.set(APP_STATE.PORTFOLIO_PAGE,!0),AppState.set(APP_STATE.PORTFOLIO_IS_VALID,!0),window.onbeforeunload=function(){return AppState.get(APP_STATE.PORTFOLIO_IS_CHANGED)?"You haven't saved your changes yet. Leave without saving them?":void 0},this._originalShow=FlowRouter._page.show,t=this,FlowRouter._page.show=function(){var e;return e=arguments,e[0]!==location.pathname&&AppState.get(APP_STATE.PORTFOLIO_IS_CHANGED)?UIHelpers.confirmationModal.requireConfirmation({title:"Leave Page?",subtitle:"You haven't saved your changes yet. Leave without saving them?",okayButtonText:"Yes, Leave",cancelButtonText:"No, Stay"}).done(function(){return t._originalShow.apply(FlowRouter._page,e)}):t._originalShow.apply(FlowRouter._page,e)},this.period=new ReactiveVar("1yr"),this.benchmark=new ReactiveVar(BENCHMARK.DYNAMIC.symbol),this.rebalanceInterval=new ReactiveVar(0),this.weightedMergedHistory=new ReactiveVar(null),this.benchmarkMergedHistory=new ReactiveVar(null),this.highlights=new ReactiveDict,this.highlights.set("returns",null),this.highlights.set("risk",null),this.highlights.set("expenses",null),this.availableStartDate=new ReactiveVar(null),this.gainsYtd=new ReactiveVar(null),this.portfolio=new ReactiveVar(null),this.securitySource=new SecuritySource("holdingsDetails"),this.invalidExpenses=new ReactiveVar(null),this.validationState=new ReactiveVar([{section:"name",isValid:!0},{section:"description",isValid:!0}]),window.PortfolioData={portfolio:this.portfolio,securitySource:this.securitySource},e=!0,t=this,this.autorun(function(){return FlowRouter.watchPathChange(),e=!0}),this.autorun(function(){var o,r,i;return FlowRouter.watchPathChange(),o=Portfolios.findOne({shortId:RouteUtils.currentShortId()}),o&&(r=!UIHelpers.portfolio.portfolioIsMine(o),e||!r)?(e=!1,i=new ReactivePortfolio(o),t.portfolio.set(i)):void 0}),this.autorun(function(){var e,r,i;return(i=t.portfolio.get())?(r=i.reactiveHoldings(),t.securitySource.set(r,function(e){return i.updateHoldingsDetails(e)}),e=o(r),i.country=e):void 0}),this.autorun(function(){var e,o,r;if(t.securitySource.ready())return AppState.set(APP_STATE.INITIAL_PAGE_READY,!0),o=_.reject(_.filter(t.securitySource.get(),UIHelpers.portfolio.isFundHolding),function(e){return!e.status}),e=t.highlights.get("expenses"),r=_.isEmpty(o)?_.isNumber(e)?null:"Unknown expenses":o[0].symbol+" is "+o[0].status+".",t.invalidExpenses.set(r)})}),Template.portfolio.onRendered(function(){var e,t;return t=this,e=!1,this.autorun(function(){return FlowRouter.watchPathChange(),e=!1}),this.autorun(function(){var o,r,i,n;return i=t.portfolio.get(),i&&t.securitySource.ready()&&(t.highlights.set("expenses",i.expense_net()),n=i.startDate(),t.availableStartDate.set(n),!e)&&n?(o=Calculations.availableYears(n),e=!0,o>=1?(r=_.max(_.filter(PERIOD.YEARS,function(e){return o>=e})),t.period.set(r+"yr")):t.period.set("ytd")):void 0}),this.autorun(function(){var e,o,r,i,n,a,s,l,u,c,p;if(t.securitySource.ready()&&(u=BenchmarkFunds.spy(),u&&(r=t.period.get(),i=t.portfolio.get())))return n=t.rebalanceInterval.get(),e={strict:!1,rebalanceInterval:n},o=Calculations.gainsPeriodInterval(r,u),c=i.weightedMergedHistory(o,e),t.weightedMergedHistory.set(c),"ytd"===r?(c=i.weightedMergedHistory(o,null),s=!_.isEmpty(c)):s=Calculations.checkHistoryAvailable([c],o.start),a=s?Calculations.returns(c,r):null,t.highlights.set("returns",a),s?(o=Calculations.riskPeriodInterval(r,u),p=i.weightedMonthlyHistory(o,e),l=Calculations.risk(p)):l=null,t.highlights.set("risk",l)}),this.autorun(function(){var e,o,r,i,n,a,s,l,u;if(RouteUtils.subsReady("benchmarkFunds")&&(u=BenchmarkFunds.spy(),r=t.benchmark.get(),s=t.portfolio.get(),s&&(s.reactiveCheckedHoldings(),e=function(){switch(r){case"SPY":return new Fund(u);case BENCHMARK.BALANCED.symbol:return new WeightedBenchmark(BENCHMARK.BALANCED.holdings);case BENCHMARK.DYNAMIC.symbol:return UIHelpers.portfolio.dynamicBenchmarkHoldings(s);default:return BenchmarkFunds.findOne({symbol:r})}}(),u&&e)))return a=t.period.get(),l=t.rebalanceInterval.get(),i={strict:!1,rebalanceInterval:l},n=Calculations.gainsPeriodInterval(a,u),o=e.mergedReinvestedHistory(n,i),o&&(o=Calculations.truncate(o,n)),t.benchmarkMergedHistory.set(o)})}),t={TABLET:991,PHONE:768},Template.portfolio.helpers({isAdmin:function(){return Roles.userIsInRole(Meteor.userId(),["admin"])},piechartData:function(){var e;return null!=(e=Template.instance().portfolio.get())?e.reactiveCheckedHoldings():void 0},lessThanTablet:function(){return AppState.get(APP_STATE.WINDOW_WIDTH)<=SM.SCREEN_SIZE.TABLET},_portfolioHasExpenses:function(){var e,t,o;return(o=Template.instance().portfolio.get())?(t=_.any(o.reactiveCheckedHoldings(),UIHelpers.portfolio.isFundHolding),e=_.any(o.holdingGroups,function(e){return e.feeRatio}),t||e):void 0},reactivePortfolio:function(){var e;return e=Template.instance().portfolio.get(),e||{}},expenseClass:function(){var e;return e=UIHelpers.portfolio.highlightIdx(Template.instance(),"expenses"),BUCKET_TO_KIND[e]},screenWidth:function(){return AppState.get(APP_STATE.WINDOW_WIDTH)}}),Template.portfolio.events({"click .js-see-list":function(e,t){var o,r;return o=$(".js-holdings-editor")[0]||$(".js-add-group")[0],r=$("body").scrollTop()+o.getBoundingClientRect().top-$(".js-navbar").height(),$("html, body").animate({scrollTop:r},1e3)}}),Template.portfolioHeaderExtras.events({"click .js-portfolio-save-btn.live":function(e,t){var o;return e.preventDefault(),o=_.pick(this.root.portfolio.get(),TB.PORTFOLIO_FIELDS),Meteor.apply("savePortfolio",[o],{wait:!1},function(e,t){return e?Alerts.error(e.message):Alerts.update("Saved"),Analytics.event(EVENT.PORTFOLIO_SAVE.SAVE)})},"click .js-portfolio-save-as-btn":function(e,t){var o;return e.preventDefault(),o=t.data.root.portfolio.get(),AccountUIHelpers.requireSignin(EVENT.PORTFOLIO_SAVE).then(function(){return UIHelpers.portfolio.requirePortfolioSaveAsOptions(o)})},"click .js-portfolio-import-btn":function(e,t){return e.preventDefault(),AccountUIHelpers.requireSignin(EVENT.PORTFOLI_HEADER_SAVE).then(function(){return $(".js-portfolio-import-modal").modal("show")})}}),Template.portfolioHeaderExtras.created=function(){return this.portfolioChangedFirstTime=new ReactiveVar(!1)},Template.portfolioHeaderExtras.helpers({portfolioIsMine:function(){var e;return(e=this.root.portfolio.get())?UIHelpers.portfolio.portfolioIsMine(e):void 0},portfolioHasChanges:function(){var e,t,o;return(e=this.root.portfolio.get())?(o=e.isChanged(),AppState.set(APP_STATE.PORTFOLIO_IS_CHANGED,o),t=Template.instance().portfolioChangedFirstTime,t.get()||t.set(o),o):void 0},isPortfolioValidAndChanged:function(){var e,t,o;return o=this.root.portfolio.get(),e=o&&o.isChanged(),t=!_.find(this.root.validationState.get(),function(e){return!e.isValid}),t&&e},isPortfolioValid:function(){return!_.find(this.root.validationState.get(),function(e){return!e.isValid})},isAdmin:function(){return Roles.userIsInRole(Meteor.userId(),["admin"])}}),Template.portfolioHeaderExtras.rendered=function(){var e;return e=this,this.autorun(function(){var t;return"true"!==browserStorage.getItem(BROWSER_STORAGE.DID_GUIDED_TOUR)&&e.portfolioChangedFirstTime.get()?(t=$(".navbar-left"),t.tooltip({title:"Save portfolio to keep your changes!",placement:"bottom",trigger:"manual",template:'<div class="tooltip save-tip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',container:".navbar .container"}),t.tooltip("show"),Meteor.setTimeout(function(){return $(".tooltip").removeClass("in"),Meteor.setTimeout(function(){return $(".tooltip").remove(),null},600),null},6e3),browserStorage.setItem(BROWSER_STORAGE.DID_GUIDED_TOUR,!0)):void 0})},Template.portfolioPeriodHeader.helpers({periodLabels:function(){return PERIOD.LABELS},periodValues:function(){return PERIOD.VALUES}}),Template.portfolioPeriodHeader.events({"change input":function(e,t){return t.data.root.period.set($(e.target).val()),Analytics.event(EVENT.PORTFOLIO.TIME_FRAME,$(e.target).val())}}),Template.portfolioPeriodHeader.onRendered(function(){return this.$(".btn").button()})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,r;r=function(t){var e;return e=Util.sum(t.allocations,function(t){return t.weight}),t=0>=e||!_.isFinite(e)?{allocations:[{kind:"unknown",label:"Unknown",weight:1}],totalWeight:1}:{allocations:t.allocations,totalWeight:e}},Template.allocationChart.rendered=function(){var t;return t=this,this.autorun(function(){var e,n,o,i,a,s,l,c,u,d,f,h,p,g,m,v,k,b,w,y,S,T,A;return k=t.data.source,k.ready()?(AppState.get(APP_STATE.WINDOW_WIDTH),e=t.$(".js-allocations-piechart"),e.empty(),s=k.get(),n=s.allocations,w=s.minify?.6:.75,d=[10,10],f=[10,10],A=e.width(),c=e.height(),m=Math.min(A,c)/2,l=r({allocations:n}),a=d3.select(e.get(0)).append("svg").attr("width",A).attr("height",c).append("svg:g").datum(_.filter(l.allocations,function(t){return t.weight>=0})).attr("transform","translate("+A/2+", "+m+")"),o=d3.svg.arc().outerRadius(m).innerRadius(m*w),g=d3.layout.pie().sort(null).value(function(t){return t.weight/l.totalWeight}),i=a.selectAll("g.slice").data(g).enter().append("svg:g").attr("class",function(t){return"slice "+t.data.kind}).attr("data-kind",function(t){return t.data.kind}).attr("data-title",function(t){return t.data.label}),T=function(t){var e;return e=d3.interpolate(this._current,t),this._current=e(0),function(t){return o(e(t))}},h=function(t){var e;return e=d3.interpolate({startAngle:1.1*Math.PI,endAngle:1.1*Math.PI},t),function(t){return o(e(t))}},p=i.append("svg:path").attr("d",o),s.label||s.subLabel?(u=a,u.append("svg:text").attr("class","holdings-count").attr("text-anchor","middle").text(s.label),u.append("svg:text").attr("transform","translate(0,"+c/10+")").attr("class","caption").attr("text-anchor","middle").text(s.subLabel)):(v=m/120,y=-m*w*.6,S=-7.5*Math.max(0,_.size(l.allocations)-1),b=a.append("svg:g").attr("transform","translate("+y+", "+S+") scale("+v+", "+v+")"),b.selectAll("text").data(l.allocations).enter().append("svg:text").attr("class",function(t){return""+t.kind}).attr("transform",function(t,e){return"translate(-1, "+18*e+")"}).text(function(t){return t.label+" "+Util.formatPercent(t.weight,1)})),k.onRendered?k.onRendered():void 0):void 0})},e=function(t,e){return{ready:function(){return t.portfolio.get()&&t.securitySource.ready()},kind:function(){return e},get:function(){var r,n,o,i,a;return o=t.portfolio.get(),r={allocations:o.computeWeightedAllocations(e)},"sector"===e&&(n=_.filter(r.allocations,function(t){return"unknown"!==t.kind}),i=_.first(_.sortBy(n,function(t){return-t.weight}),3),a=Util.sum(i,function(t){return t.weight}),r.label=Util.formatPercent(a,1),r.subLabel="Top 3 Sectors"),r}}},Template.portfolioAllocations.helpers({assetClassSource:function(){return e(this.root,"asset_class")},marketCapSource:function(){return e(this.root,"market_cap")},regionalSource:function(){return e(this.root,"regional")},expensesSource:function(){return e(this.root,"expenses")},sectorSource:function(){return e(this.root,"sector")},sectorRows:function(){var t,e,r,n,o,i,a;if(RouteUtils.subsReady("benchmarkFunds")&&(o=this.root.portfolio.get(),o&&this.root.securitySource.ready()))return t=function(t){return _.pluck(t,"kind")},e=function(t){return t?t.weight:0},r=BenchmarkFunds.spy(),i=o.computeWeightedAllocations("sector"),n=[],r&&(n=r.allocation.sector),a=_.union(t(n),t(i)),_.map(a,function(t){var r,o,a,s;return o=_.findWhere(i,{kind:t}),r=_.findWhere(n,{kind:t}),s=o||r,a={_id:s.kind+"_"+e(o)+"_"+e(r),kind:s.kind,label:s.label,description:SECTOR_TO_DESCRIPTION[t],portfolioWeightFormatted:Util.formatPercent(e(o),1,{smartThreshold:!1}),benchmarkWeightFormatted:Util.formatPercent(e(r),1,{smartThreshold:!1})}})},marketCapDescription:function(){var t,e,r,n,o;return r=this.root.portfolio.get(),r&&this.root.securitySource.ready()?(n=r.computeWeightedAllocations("market_cap"),e=o=0,_.each(n,function(t,r){return _.contains(["large","giant"],t.kind)?e+=t.weight:_.contains(["medium","small","micro"],t.kind)?o+=t.weight:void 0}),t=Util.approxEqual(e+o,0),t?"We don't have market cap information for this portfolio.":"<em>"+Util.formatPercent(e,1)+"</em> of this portfolio is in large to giant-sized company stocks; <em>"+Util.formatPercent(o,1)+"</em> is in medium to micro-sized company stocks."):void 0},regionalDescription:function(){var t,e,r,n,o,i,a;return o=this.root.portfolio.get(),o&&this.root.securitySource.ready()?(i=o.computeWeightedAllocations("international"),t=n=0,_.each(i,function(e,r){return"domestic"===e.kind?t+=e.weight:"international"===e.kind?n+=e.weight:void 0}),e=o.reactiveCheckedHoldings(),r=_.size(e),a=_.size(_.filter(e,function(t){return"stock"===t.asset_class})),r&&r===a?"Geographic breakdown of individual stocks are currently unsupported. Coming soon!":Util.approxEqual(t+n,0)?"We don't have regional information for this portfolio.":"<em>"+Util.formatPercent(t,1)+"</em> of this portfolio is in North American stocks."):void 0}}),Template.portfolioAllocations.created=function(){return this.hoverKind=new ReactiveVar(null)},Template.portfolioAllocations.events({"mouseover .sectors g.slice":function(t,e){return e.hoverKind.set($(t.currentTarget).data("kind"))},"mouseout .sectors g.slice":function(t,e){return e.hoverKind.set(null)},"mouseenter .list tr":function(t,e){return e.hoverKind.set($(t.currentTarget).attr("class"))},"mouseleave .list tr":function(t,e){return e.hoverKind.set(null)},"mouseenter .info-card":function(t,e){return $(t.currentTarget).find(".hover-info").addClass("show")},"mouseleave .info-card":function(t,e){return $(t.currentTarget).find(".hover-info").removeClass("show")}}),Template.portfolioAllocations.rendered=function(){var t;return t=this,sorttable.makeSortable(this.$("table.sorttable").get(0)),this.autorun(function(){var e,r;return r=t.hoverKind.get(),e=t.$(".sectors svg"),t.$(".list tr").removeClass("hover"),e.find("g.slice").removeClass("hover"),r&&(t.$(".list tr."+r).addClass("hover"),e.find("g.slice."+r).addClass("hover")),t.$("[data-toggle=popover]").popover({trigger:"hover"})})}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;Template.portfolioDividends.onCreated(function(){return this.dividendYield=new ReactiveVar(null),this.dividendYieldIdx=new ReactiveVar(null),this.portfolioAmount=new ReactiveVar(null),this.dividendAmount=new ReactiveVar(null),this.sharpeRatio=new ReactiveVar(null),this.sharpeRatioIdx=new ReactiveVar(null)}),t=function(e){return"ytd"===e||"1yr"===e},Template.portfolioDividends.onRendered(function(){return this.autorun(function(e){return function(){var i,o,r,n,a,d,s,l;if(RouteUtils.subsReady("fundThresholds"))return a=e.data.root.portfolio.get(),n=e.data.root.period.get(),o=null!=a?a.dividendYield():void 0,e.dividendYield.set(o),d=a.totalCheckedAmountOrDefault(),e.portfolioAmount.set(d),i=o*d,e.dividendAmount.set(i),r=UIHelpers.portfolio.bucket(o,"dividendYield"),e.dividendYieldIdx.set(r),t(n)||(s=null!=a?a.sharpeRatio(n):void 0),l=UIHelpers.portfolio.bucket(s,"sharpeRatio"),e.sharpeRatio.set(s),e.sharpeRatioIdx.set(l)}}(this))}),Template.portfolioDividends.helpers({_sharpeLabel:function(){var e;return e=UIHelpers.portfolio.formatPeriod(this.root.period.get()),e+" Sharpe<span class='desktop'>&nbsp;Ratio</span>"},_sharpeValueFormatted:function(){var e;return e=Template.instance().sharpeRatio.get(),Util.formatNumber(e,{precision:2,invalidText:NO_HISTORY})},_isPeriodTooShort:function(){return t(this.root.period.get())},_periodFormatted:function(){return UIHelpers.portfolio.formatPeriod(this.root.period.get())},_oneYearAgo:function(){var e;return e=Calculations.gainsPeriodInterval("1yr",BenchmarkFunds.spy()),Util.formatDate(e.start,{"long":!0})}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,o,i,n,r,l,a,s,u;u=function(t,e,o){var i,n,r;return r=.01*parseFloat(t.val().replace(/[^\d^\.]/,"")),r>=0?(n=t.closest("[data-holding]").attr("data-holding"),i=_.map(e.holdings,function(t){return t.symbol===n&&t.groupId===o?_.defaults({weight:r},t):_.clone(t)}),e.updateHoldings(i),e.revaluateHoldings(WEIGHT_TYPE.WEIGHT,o),0!==r&&1e-4>r?t.val("<0.01"):void 0):void 0},a=function(t,e,o){var i,n,r;return i=Util.parseDollars(t.val()),i>=0?(r=t.closest("[data-holding]").attr("data-holding"),n=_.map(e.holdings,function(t){return t.symbol===r&&t.groupId===o?_.defaults({amount:i},t):_.clone(t)}),e.updateHoldings(n),e.revaluateHoldings(WEIGHT_TYPE.AMOUNT,o)):void 0},s=function(t,e,o){var i;if(!isNaN(e))return i=_.map(o.holdings,function(o){return o.symbol===t?_.defaults({interest:e},o):_.clone(o)}),o.updateHoldings(i)},l=function(t){return t.prop("indeterminate",!1),t.prop("checked",!1)},Template.portfolioHoldingsEditorByGroup.onCreated(function(){var t,e,o,i;return i=null!=(e=FlowRouter.current().queryParams.type)?e.toUpperCase():void 0,t=WEIGHT_TYPE[i]||WEIGHT_TYPE.WEIGHT,this.globalWeightType=new ReactiveVar(t),o=this,this.autorun(function(){var t,e;return Meteor.user(),(t=o.data.portfolio.get())?(e=UIHelpers.portfolio.portfolioIsMine(t),e&&o.globalWeightType.set(WEIGHT_TYPE.AMOUNT),t.isAmountVisible&&!e&&o.globalWeightType.set(WEIGHT_TYPE.AMOUNT),t.isAmountVisible||e?void 0:o.globalWeightType.set(WEIGHT_TYPE.WEIGHT)):void 0})}),Template.portfolioHoldingsEditorByGroup.onRendered(function(){var t;return t=this,this.autorun(function(){var e,o,i;return(o=t.data.portfolio.get())?(i=o.holdingGroupsChecked(),e=$(".js-holding-groups-header-checkbox"),l(e),i?e.prop(i,!0):void 0):void 0})}),Template.portfolioHoldingsEditorByGroup.helpers({holdingsByGroup:function(){var t,e,o,i;return Meteor.user(),o=this.period.get(),(i=this.portfolio.get())?(e=i.reactiveHoldings(),t=_.groupBy(e,function(t){return t.groupId}),_.chain(i.holdingGroups).map(function(t){return{portfolio:i,groupId:t.id,createdAt:t.createdAt,holdings:i.holdingsByGroup(t.id),period:o}}).sortBy(function(t){return t.createdAt}).value()):void 0},getPortfolio:function(){return this.portfolio.get()},portfolioIsMine:function(){return UIHelpers.portfolio.portfolioIsMine(this.portfolio)},isAmountVisible:function(){var t;return null!=(t=this.portfolio)?t.getAmountVisible():void 0},pluralize:function(t,e){return e?pluralize(t,e,!0):void 0},groupCount:function(){var t;return null!=(t=this.portfolio)?t.getHoldingGroupCount():void 0},isAmountVisibleOrMine:function(){var t;return(null!=(t=this.portfolio)?t.getAmountVisible():void 0)||UIHelpers.portfolio.portfolioIsMine(this.portfolio)},totalAmountFormatted:function(){var t,e;return e=null!=(t=this.portfolio)?t.totalAmount(null,{checkedOnly:!0}):void 0,e?Util.formatDollars(e,0,{smartSuffix:!1}):void 0},disabledIfTotal3:function(){var t,e;return t=null!=(e=this.portfolio)?e.getHoldingGroupCount():void 0,t>2?"disabled":void 0},disabledIfNoHolding:function(){var t,e,o;return(t=null!=(o=this.portfolio)?o.reactiveHoldings():void 0)?(e=_.size(Util.cleanHoldings(t)),e?void 0:"disabled"):void 0},_country:function(){var t,e;return null!=(t=this.portfolio)&&t.reactiveHoldings(),null!=(e=this.portfolio)?e.country:void 0}}),Template.portfolioHoldingsEditorByGroup.events({"change .usa-canada-selector input":function(t,e){var o,i,n,r;return t.preventDefault(),o=$(t.target),n=o.val(),n&&(r=e.data.portfolio.get(),n!==r.country)?(i=function(t){var e;return e=[_.clone(TB[t].DEFAULT_HOLDING)],r.setHoldings(e),r.resetFee()},_.isEmpty(r.holdings)?i(n):UIHelpers.confirmationModal.requireConfirmation({title:"Change to "+International.getLabel(n)+"?",subtitle:"Holdings and fees will be lost on all accounts.",okayButtonText:"Change"}).done(function(){return i(n)}).fail(function(){return e.$('input[value="'+r.country+'"]').click()})):void 0},"click .js-weight-lock":function(t,e){return t.preventDefault(),this.portfolio.setAmountVisible(!this.portfolio.isAmountVisible),Analytics.event(EVENT.PORTFOLIO.TOGGLE_WEIGHT_LOCK)},"click .js-add-group":function(t,e){return t.preventDefault(),this.portfolio.addNewGroup(),Meteor.defer(function(){var t,o;return e.$("input.typeahead").last().focus(),t=e.$(".js-holdings-editor").last()[0].getBoundingClientRect().top,o=$(".js-left-pane").scrollTop(),$(".js-left-pane").animate({scrollTop:o+t},600)}),Analytics.event(EVENT.PORTFOLIO.ADD_ACCOUNT)},"change .js-holding-groups-header-checkbox":function(t,e){var o;return t.preventDefault(),o=$(t.target).prop("checked"),this.portfolio.changeGroupsCheckBox(o),Analytics.event(EVENT.PORTFOLIO.CLICK_GROUP_GLOBAL_CHECKBOX)},"click .js-upload-csv":function(t,e){var o;return o=Blaze.renderWithData(Template.portfolioImportTextareaController,{modal:!0,modalPortfolio:this.portfolio},$("body")[0]),$(".js-portfolio-import-modal").modal("show").one("hidden.bs.modal",function(){return Blaze.remove(o)})},"click .js-download-csv":function(t,e){var o,i,n,r,l,a,s,u,d,p,c,h;return c=this.portfolio,d=c.reactiveHoldings(),d=_.map(d,function(t){return _.clone(t)}),h=c.isAmountVisible||UIHelpers.portfolio.portfolioIsMine(c),h?(i=["Account name","Symbol","Name","Weight","Amount"],n=["groupName","symbol","name","weight","amount"]):(i=["Account name","Symbol","Name","Weight"],n=["groupName","symbol","name","weight"]),s=[i],p=_.groupBy(d,"groupId"),_.each(p,function(t,e){var o;return o=c.getGroupNameById(e),_.each(t,function(t){var e;return t.groupName=o,CustomHistory.isCustom(t)&&(t.symbol="CUSTOM"),t.weight=Util.formatPercent(t.weight,2,{smartThreshold:!1}),h&&(t.amount=Util.formatDollars(t.amount,2,{smartSuffix:!1}).replace(/,/g,"")),e=_.chain(t).pick(n).values().value(),s.push(e)})}),Analytics.event(EVENT.IMPORT_TEXTAREA.DOWNLOAD_CSV),a="",_.each(s,function(t,e){var o;return o=t.join(","),a+=e<s.length?o+"\n":o}),("undefined"!=typeof navigator&&null!==navigator?navigator.msSaveOrOpenBlob:void 0)?(r=new Blob([a]),navigator.msSaveOrOpenBlob(r,c.name+".csv")):(a="data:text/csv;charset=utf-8,"+a,u=encodeURI(a),o=$(document.createElement("a")),o.attr("href",u),o.attr("target","_blank"),o.attr("download",c.name+".csv"),l=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),o.get(0).dispatchEvent(l))}}),Template.portfolioHoldingsEditor.events({"focus .js-field":function(t){return UIHelpers.portfolio.selectInputText(t.target)},"click .js-delete-group":function(t,e){var o,i,n;return t.preventDefault(),o=this.portfolio.getGroupNameById(this.groupId),i=this.portfolio.holdingsByGroup(this.groupId).length,i?(n=this,UIHelpers.confirmationModal.requireConfirmation({title:"Delete "+o+"?",subtitle:"Holdings in "+o+" will be lost."}).done(function(){return n.portfolio.deleteGroup(n.groupId)})):this.portfolio.deleteGroup(this.groupId),Analytics.event(EVENT.PORTFOLIO.DELETE_ACCOUNT)},"click .js-weight-type":function(t,e){var o,i,n;return t.preventDefault(),o=$(t.target).closest(".js-weight-type"),n=o.attr("data-type"),i=$(".form-group.has-error .js-field"),i.length>0&&_.each(i,function(t){return UIHelpers.portfolio.resetInput($(t))}),e.localWeightType.set(n),Analytics.event(EVENT.PORTFOLIO.TOGGLE_WEIGHT_TYPE)},"change .js-holding-group-checkbox":function(t){var e;return t.preventDefault(),e=$(t.target).prop("checked"),this.portfolio.changeGroupCheckBox(this.groupId,e),Analytics.event(EVENT.PORTFOLIO.CLICK_GROUP_LOCAL_CHECKBOX)},"click .js-holding-group-name-editable":function(t,e){var o,i;return o=e.holdingGroupNameEditing,o.get()?void 0:(o.set(!o.get()),i=this,Meteor.defer(function(){var t;return t=i.portfolio.getGroupNameById(i.groupId),e.$(".js-holding-group-name-editable-input").val(t).select()}),Analytics.event(EVENT.PORTFOLIO.CHANGE_GROUP_NAME))},"keydown .js-holding-group-name-editable-input":function(t,e){var o;return o=$(t.target).val(),t.which===KEYCODE.ENTER?o.length>20?Alerts.error("Account name is too long"):(this.portfolio.changeGroupName(this.groupId,o),e.holdingGroupNameEditing.set(!1)):t.which===KEYCODE.ESC?e.holdingGroupNameEditing.set(!1):void 0},"blur .js-holding-group-name-editable-input":function(t,e){return e.holdingGroupNameEditing.set(!1)}}),Template.portfolioHoldingsEditor.onCreated(function(){var t;return this.localWeightType=new ReactiveVar(null),this.holdingGroupNameEditing=new ReactiveVar(!1),t=this,this.autorun(function(){return Meteor.user(),t.localWeightType.set(t.data.globalWeightType.get())})}),Template.portfolioHoldingsEditor.helpers({holdingsCount:function(){return _.chain(this.holdings).reject(function(t){return 0===t.weight}).size().value()},weightType:function(){return Template.instance().localWeightType.get()},typeIsWeight:function(){return Template.instance().localWeightType.get()===WEIGHT_TYPE.WEIGHT},isAmountVisibleOrMine:function(){return this.portfolio.getAmountVisible()||UIHelpers.portfolio.portfolioIsMine(this.portfolio)},holdingGroupName:function(){return this.portfolio.getGroupNameById(this.groupId)},holdingGroupChecked:function(){return this.portfolio.holdingGroupChecked(this.groupId)}}),Template.portfolioHoldings.onCreated(function(){return this.isAddingPlaceholder=new ReactiveVar(!1),this.searchedHolding=new ReactiveVar(null),this.validationState=new ReactiveVar([])}),Template.portfolioHoldings.rendered=function(){var t;return t={trigger:"hover",placement:"top",delay:{show:1e3,hide:100},template:'<div class="popover weight-type-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',container:"body"},_.each(WEIGHT_TYPE,function(e){return $(".js-weight-type[data-type='"+e+"']").popover(t)}),_.each(["open","close"],function(e){return $(".glyphicon-eye-"+e).closest(".js-weight-lock").popover(_.defaults({content:"open"===e?"Click to hide.":"Click to show.",template:'<div class="popover hidden-xs weight-type-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'},t))})},Template.portfolioHoldings.helpers({coloredHoldingsDetails:function(){var t,e,o,i,n;return o=this.holdings,t=UIHelpers.portfolio.primaryAssetClasses(o),e=UIHelpers.securityColor.generateColors(t),n=Template.instance(),_.each(o,function(t,o){return t.symbolColor=e[o],t.name=t.name||"Unknown holding"}),o=_.sortBy(o,function(t){return TB.ASSET_CLASS_TO_ORDER[t.asset_class]}),i=this,_.map(o,function(t){return{holding:t,portfolio:i.portfolio,validationState:n.validationState,weightType:i.weightType,period:i.period}})},totalWeightFormatted:function(){return Util.formatPercent(this.portfolio.totalWeight(this.groupId),TB.HOLDING_PERCENT_DECIMALS,{smartThreshold:!1})},totalAmountFormatted:function(){var t;return t=this.portfolio.totalAmount(this.groupId),t?Util.formatDollars(t,2,{smartSuffix:!1}):void 0},disabledIf100Percent:function(){var t;return t=this.portfolio.totalWeight(this.groupId),t?Util.approxEqual(this.portfolio.totalWeight(this.groupId),1)?"disabled":null:"disabled"},disabledIfNoHolding:function(){return _.size(Util.cleanHoldings(this.portfolio.reactiveHoldings(this.groupId)))?void 0:"disabled"},isPercentWeight:function(){return this.weightType===WEIGHT_TYPE.WEIGHT},holdingsGroupName:function(){return this.portfolio.getGroupNameById(this.groupId)},holdingsGroupAmountRatio:function(){return Util.formatPercent(this.portfolio.getGroupAmoutRatioById(this.groupId),0,{smartThreshold:!1})},weightLabel:function(){return this.weightType===WEIGHT_TYPE.WEIGHT?"Weight":"Amount"},piechartData:function(){return this.portfolio.reactiveHoldings(this.groupId)},feeAdded:function(){return this.portfolio.getFee(this.groupId)},feeName:function(){return this.portfolio.getFee(this.groupId).feeName},feeRatioFormatted:function(){return Util.formatPercent(this.portfolio.getFee(this.groupId).feeRatio,TB.HOLDING_PERCENT_DECIMALS,{smartThreshold:!0})}}),Template.portfolioHoldings.events({"click .js-normalize":function(t,e){return t.preventDefault(),this.portfolio.normalizeHoldings(this.groupId),Analytics.event(EVENT.PORTFOLIO.NORMALIZE_WEIGHTS)},"click .js-set-total-btn":function(t,e){var o,i;return t.preventDefault(),i=e.$(".js-total-amount").text(),o=Blaze.renderWithData(Template.setTotalModal,this,$("body")[0]),$(".js-set-total-modal").modal("show").one("hidden.bs.modal",function(){return Blaze.remove(o)}),Analytics.event(EVENT.PORTFOLIO.SET_TOTAL)},"click .js-placeholder-holding-link":function(t,e){return t.preventDefault(),e.isAddingPlaceholder.set(!0),Meteor.defer(function(){return e.$(".js-name").focus()}),Analytics.event(EVENT.PORTFOLIO.TOGGLE_CUSTOM_HOLDING)},"click .js-placeholder-cancel-btn":function(t,e){return t.preventDefault(),e.isAddingPlaceholder.set(!1),Analytics.event(EVENT.PORTFOLIO.TOGGLE_CUSTOM_HOLDING)},"click .js-add-fee":function(t,e){var o;return o=this.portfolio.getFee(this.groupId)||{},UIHelpers.dynamicModal.showDynamicModal({template:"addFeeModalContent",title:"Account Fee",portfolio:this.portfolio,groupId:this.groupId,feeHint:'Fee will be added to "'+this.portfolio.getGroupNameById(this.groupId)+'" annual expenses.',feeName:o.feeName,feeRatio:o.feeRatio})}}),e=function(t){return PortfolioData.securitySource.findOneBySymbol(t.holding.symbol)},n=function(t,e,o){return t&&t.highlights?t.highlights[UIHelpers.portfolio.makeField(e,o)]:null},r=function(t,e,o){var i;if(RouteUtils.subsReady("fundThresholds"))return t&&t.highlights?(i=UIHelpers.portfolio.makeField(e,o),UIHelpers.portfolio.bucket(t.highlights[i],i)):null},i=function(t,o){var i;return null!=(i=e(t))?i[o]:void 0},o=function(t,e){var o,n;return n=i(t,e),RouteUtils.subsReady("fundThresholds")&&_.isNumber(n)?o=UIHelpers.portfolio.bucket(n,e):void 0},Template.holdingItem.created=function(){var t,e;return t=this.data.holding,e=this.data.validationState.get(),e.push({section:t.symbol,isValid:!0}),this.data.validationState.set(e)},Template.holdingItem.helpers({isWeightPercent:function(){return this.weightType===WEIGHT_TYPE.WEIGHT},weightUnit:function(){return this.weightType},updateHolding:function(){var t,e;return t=this.holding.groupId,e=this.weightType,function(o,i,n){var r;if(!(_.isEmpty(n)||e===WEIGHT_TYPE.WEIGHT&&"<0.01"===n.weight))return r=Template.instance().data.doc,e===WEIGHT_TYPE.WEIGHT?u($(o),r,t):e===WEIGHT_TYPE.AMOUNT&&a($(o),r,t),Meteor.defer(function(){return $(o).blur()})}},holdingStatus:function(){var t;return t=this.validationState,function(e,o){var i,n;return n=o.data.data.symbol,i=t.get(),_.each(i,function(t){return t.section===n?t.isValid=e:void 0}),t.set(i)}},turnedOff:function(t){return 0===t.weight&&0===t.amount}}),Template.holdingItem.events({"blur .js-weight, blur .js-amount":function(t,e){var o;return o=$(t.target),o.attr("data-org")!==o.val()?$(t.target).closest("form").submit():void 0},"keydown .js-weight, keydown .js-amount":function(t,e){return t.which===KEYCODE.ESC?UIHelpers.portfolio.resetInput($(t.target)):void 0},"paste .js-weight, paste .js-amount":function(t,e){return Meteor.defer(function(){return"<0.01"===$(t.target).val()?(t.preventDefault(),$(t.target).val(.01)):void 0})},"click li":function(t,e){var o;return o=$(t.target),o.is(".js-delete, .js-delete span, .js-weight, .js-amount, .js-detail-interest")?void 0:(t.preventDefault(),e.$(".js-holding-details").toggleClass("hidden"),Analytics.event(EVENT.PORTFOLIO.HOLDING_ROW.TOGGLE,e.data.holding.symbol))}}),Template.holdingName.helpers({isCustomHolding:function(){return"custom"===this.holding.asset_class},isBelowZeroInterest:function(){return"custom"===this.holding.asset_class&&this.holding.interest<0}}),Template.holdingName.events({"click .js-delete":function(t,e){return this.portfolio.removeHolding(this.holding.groupId,this.holding.symbol),Analytics.event(EVENT.PORTFOLIO.DELETE_HOLDING)}}),Template.holdingDetails.helpers({holdingDetails:function(){return _.findWhere(this.portfolio.holdingsDetails(),{symbol:this.holding.symbol})},isCustomHolding:function(){return"custom"===this.holding.asset_class},periodUpperCase:function(){return this.period.replace("yr","Y").toUpperCase()},isYtd:function(){return"ytd"===this.period},returns:function(){return Calculations.returnsFromGains(n(this.holding,"returns",this.period),this.period)},risk:function(){return n(this.holding,"risk",this.period)},returnsIdx:function(){return r(this.holding,"returns",this.period)},riskIdx:function(){return r(this.holding,"risk",this.period)},expensesIdx:function(){return r(this.holding,"expenses",this.period)},expenses:function(){return n(this.holding,"expenses",this.period)},highlightPercent:function(t){return Util.formatPercent(t,TB.HOLDING_PERCENT_DECIMALS,{invalidText:NO_HISTORY})},availableYears:function(){var t;return this.holding?(t=Calculations.mergedStartDate([this.holding.annualHistory]),UIHelpers.portfolio.getAvailableHistory(t)):NO_HISTORY},getCategoryOrSector:function(){return"stock"===this.holding.asset_class&&this.holding.sector?{label:"Sector",data:this.holding.sector.replace(/_/g," ")}:this.holding.fund_type?{label:"Category",data:this.holding.fund_type}:void 0},dividendYield:function(){return i(this,"dividendYield")},dividendYieldIdx:function(){return o(this,"dividendYield")}}),Template.holdingDetails.events({"blur .js-detail-interest, keyup .js-detail-interest":function(t,e){var o,i,n;return o=$(t.target),"focusout"===t.type&&o.parent().hasClass("has-error")?UIHelpers.portfolio.resetInput(o):"focusout"===t.type||t.which===KEYCODE.ENTER?(n=e.data.holding.symbol,i=.01*parseFloat(o.val()),s(n,i,e.data.portfolio)):t.which===KEYCODE.ESC?UIHelpers.portfolio.resetInput(o):void 0}}),Template.setTotalModal.helpers({portfolio:function(){return this.portfolio},setTotal:function(){var t;return t=this,function(e,o,i){var n,r,l;return n=$(e),(l=Util.parseDollars(n.val()))?(r=Template.instance().data.doc,r.setTotalAmount(l,t.groupId),$(".js-set-total-modal").modal("hide")):!1}}}),Template.setTotalModal.events({"shown.bs.modal .modal":function(t,e){var o;return o=e.$(".js-total-input")[0],UIHelpers.portfolio.selectInputText(o)},"blur .js-total-input":function(t){var e,o;return e=$(t.target),e.parent().hasClass("has-error")?!1:(o=Util.parseDollars(e.val()),isNaN(o)?void 0:e.val(Util.formatDollars(o,2,{smartSuffix:!1})))}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,r,i,n,o,s,a;t=3,s=function(e){var r,i;return r=UIHelpers.portfolio.getDisplayHoldings(e),i=""+pluralize("holding",_.size(r),!0),_.size(r)&&(i+=" including "+_.first(r,t).join(", ")),i},n=function(e){var t,r,n;return t=i(e),n=_.size(t)>1?[_.initial(t).join(", "),_.last(t)].join(" and "):t.join(", "),r=o(e),_.isEmpty(t)?""+r:"Heavy in "+n+" "+pluralize("sector",_.size(t))+".\n"+r},i=function(e){return e.computeHeavySectors(30)},a=function(e,t){return BUCKET_TO_LABEL[UIHelpers.portfolio.bucket(e,t)].toLowerCase()},o=function(e){var t,r,i;if(e)return e._holdingsDep.depend(),t=e.dividendYield(),r=e.expense_net(),i="",_.isNumber(r)&&(i+=a(r,"expense_net")+" expenses"),_.isNumber(r)&&_.isNumber(t)&&(i+=" and "),_.isNumber(t)&&(i+=a(t,"dividendYield")+" dividend yield"),i?"This portfolio has "+i+".":""},Template.portfolioTextSummary.helpers({_summary:function(){var e;return e=this.portfolio.get(),s(e)+".\n"+UIHelpers.portfolio.allocationSummary(e)+".\n"+n(e)}}),Template.portfolioSummaryTags.helpers({_tags:function(){var e;return null!=(e=this.portfolio.get())?e.generateSummaryTags():void 0},_tagUrl:function(e){return FlowRouter.path("discover",{},{q:e})}}),r=4,Template.portfolioRelatedLinks.onCreated(function(){var e,t;return this.showMore=new ReactiveVar(!1),this.relatedLinks=new ReactiveVar(!1),t=RouteUtils.currentShortId(),e=this,Meteor.apply("portfolio.relatedLinks",[t],{wait:!1},function(t,r){if(t)throw t;return e.relatedLinks.set(r)}),this.autorun(function(t){return e.relatedLinks.get()&&e.data.securitySource.ready()?(Meteor.defer(function(){return window.prerenderReady=!0}),t.stop()):void 0})}),Template.portfolioRelatedLinks.helpers({relatedLinksExist:function(){return Template.instance().relatedLinks.get()},visibleLinks:function(){return _.first(Template.instance().relatedLinks.get(),r)},moreLinks:function(){return _.rest(Template.instance().relatedLinks.get(),r)},showMore:function(){return Template.instance().showMore.get()}}),Template.portfolioRelatedLinks.events({"click .js-toggle":function(e,t){var r;return r=!t.showMore.get(),t.showMore.set(r)}}),Template.portfolioLinks.helpers({url:function(){return"/portfolio/"+this.shortId+"-"+this.slug}}),Template.portfolioLinks.events({"click a":function(e,t){return $(".js-left-pane").scrollTop(0)}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,o,r;e=_.clone(PERIOD.YEARS),e.reverse(),o=function(t){var o,r,i,n,a;return i=t.availableStartDate.get(),n=Calculations.gainsPeriodInterval(t.period.get(),BenchmarkFunds.spy()),a=i||Util.today(),a=Math.max(n.start,a),o=Calculations.availableYears(a),r=_.find(e,function(t){return o>=t}),r?r+"yr":t.period.get()},r=null,Template.portfolioNameDescription.created=function(){return r=new ReactiveVar(!1)},Template.portfolioNameDescription.helpers({portfolio:function(){return this.root.portfolio.get()},portfolioIsMine:function(){return UIHelpers.portfolio.portfolioIsMine(this.root.portfolio.get())},viewModeClicked:function(){return r.get()},isAmountVisible:function(){var t;return null!=(t=this.root.portfolio.get())?t.getAmountVisible():void 0},portfolioIsMine:function(){return UIHelpers.portfolio.portfolioIsMine(this.root.portfolio.get())},edit:function(){return function(t,e,o){var i,n,a,s;return i=FormHelper.getDataFromElements(t),a=i.name,n=i.description,s=Template.instance().data.doc,s.updateName(a),s.updateDescription(n),_.each(t,function(t){return $(t).attr("data-org",i[$(t).attr("name")])}),r.set(!1)}},nameDescriptionFormStatus:function(){var t;return t=this.root.validationState,function(e,o){var r,i;return r=o.data.data,i=t.get(),_.each(i,function(t){return _.find(_.keys(r),function(e){return e===t.section})?t.isValid=e:void 0}),t.set(i)}},data:function(){var t;return t=this.root.portfolio.get(),{name:t.reactiveName(),description:t.reactiveDescription()}}}),Template.portfolioNameDescription.events({"focus .js-field":function(t){return UIHelpers.portfolio.selectInputText(t.target)},"keypress input, keypress textarea":function(t,e){return t.which===KEYCODE.ENTER?(t.preventDefault(),e.$("form").submit()):void 0},"keyup input, keyup textarea":function(t,e){return t.which===KEYCODE.ESC?(UIHelpers.portfolio.resetInput($(t.target)),r.set(!1)):void 0},"click .viewmode, focus .viewmode":function(t,e){return!$(t.target).is("a")&&UIHelpers.portfolio.portfolioIsMine(this.root.portfolio.get())?(r.set(!0),Meteor.defer($(t.target).is("h2")?function(){return e.$(".editmode textarea").focus()}:function(){return e.$(".editmode input").focus()})):void 0},"blur input, blur textarea":function(t,e){return setTimeout(function(){return $(document.activeElement).is(".js-portfolio-fields")?void 0:$(t.target).closest("form").submit()},10)}}),Template.portfolioEditButtons.helpers({disabledIfNotPossible:function(){return!this.root.securitySource.ready()||_.size(Util.cleanHoldings(this.root.portfolio.get().reactiveCheckedHoldings()))<2?"disabled":void 0},disabledIfNotPossibleForEqualAmounts:function(){return this.root.securitySource.ready()&&0!==_.size(Util.cleanHoldings(this.root.portfolio.get().reactiveCheckedHoldings()))?void 0:"disabled"}}),Template.portfolioEditButtons.events({"click .js-increase-returns":function(t,e){var r;return r=o(e.data.root),e.data.root.portfolio.get().updateAmounts(Calculations.increaseReturns,r),Analytics.event(EVENT.PORTFOLIO.WEIGHT_CHANGE.INCREASE_RETURNS)},"click .js-decrease-risk":function(t,e){var r;return r=o(e.data.root),e.data.root.portfolio.get().updateAmounts(Calculations.decreaseRisk,r),Analytics.event(EVENT.PORTFOLIO.WEIGHT_CHANGE.DECREASE_RISK)},"click .js-equal-amounts":function(t,e){return e.data.root.portfolio.get().updateAmounts(Calculations.equalAmounts,null),Analytics.event(EVENT.PORTFOLIO.WEIGHT_CHANGE.EQUAL_WEIGHTS)},"click .js-reset-holdings":function(t,e){var o;return o=e.data.root.portfolio.get(),o.isChanged()&&UIHelpers.confirmationModal.requireConfirmation({title:"Reset portfolio?",subtitle:"You will lose unsaved changes."}).done(function(){return o.resetHoldings()}),Analytics.event(EVENT.PORTFOLIO.WEIGHT_CHANGE.RESET)}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;FormHelper.extendTemplateFormStatus(Template.portfolioSaveAsModal,{isValid:!0}),Template.portfolioSaveAsModal.helpers({saveAs:function(){return function(e,t,o){var a,n,i;return $(".js-portfolio-save-as-modal .modal-content").addClass("loading"),n=Template.instance().data.doc,i=UIHelpers.portfolio.portfolioIsMine(n),i||n.isAmountVisible||n.setDefaultAmounts(),a=_.pick(n,SAVING_PORTFOLIO_FIELD),_.extend(a,{name:$(".js-portfolio-save-as-modal [name=name]").val(),description:$(".js-portfolio-save-as-modal [name=description]").val(),isAmountVisible:$('.js-portfolio-save-as-modal button[data-option="show"]').hasClass("active")}),AppState.set(APP_STATE.PORTFOLIO_IS_CHANGED,!1),UIHelpers.portfolio.createPortfolio(a,function(e){return Meteor.defer(function(){return $(".js-portfolio-save-as-modal").modal("hide")})}),$(e).data("canceled",!1)}}}),Template.portfolioSaveAsModal.events({"hidden.bs.modal .modal":function(e,t){return t.$(".js-portfolio-save-as-modal .modal-content").removeClass("loading"),$(e.target).data("canceled")?Analytics.event(EVENT.PORTFOLIO_SAVE.SAVE_CANCEL):void 0},"shown.bs.modal .modal":function(e,t){var o,a;return o=" Copy",a=t.$("input[name=name]").val(),t.$("input[name=name]").val(""+a+o),t.$("input[name=name]").select(),$(e.target).data("canceled",!0)}}),FormHelper.extendTemplateFormStatus(Template.portfolioSaveModal,{isValid:!1}),Template.portfolioSaveModal.onRendered(function(){return $(".js-portfolio-save-modal").delegate("save")}),Template.portfolioSaveModal.helpers({save:function(){return function(e,t,o){return $(".js-portfolio-save-modal .modal-content").addClass("loading"),$(".js-portfolio-save-modal").trigger("save")}}}),Template.portfolioSaveModal.events({"hidden.bs.modal .modal":function(e,t){return t.$(".js-portfolio-save-modal .modal-content").removeClass("loading"),$(e.target).data("canceled")?Analytics.event(EVENT.PORTFOLIO_SAVE.SAVE_CANCEL):void 0},"shown.bs.modal .modal":function(e,t){return t.$("textarea[name=description]").val("!").change().val("").change(),t.$("input[name=name]").select(),$(e.target).data("canceled",!0)}}),Template.amountVisibilityOptionButtons.onCreated(function(){return this.isAmountVisible=new ReactiveVar(!0)}),Template.amountVisibilityOptionButtons.helpers({isAmountVisible:function(){return Template.instance().isAmountVisible.get()}}),Template.amountVisibilityOptionButtons.events({"click .js-option-group > .js-save-option-btn":function(e,t){var o,a;return a=Template.instance().isAmountVisible,o="show"===$(e.target).attr("data-option"),a.set(o)}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var a=__coffeescriptShare;Template.browseAllTagsModal.helpers({browseAllTagsClicked:function(){return this.root.allTagsClicked||(this.root.allTagsClicked=new ReactiveVar(!1)),this.root.allTagsClicked.get()}}),Template.browseAllTagsModal.events({"click a":function(a,e){return $("body").removeClass("modal-open")}}),Template.categoryTags.helpers({getTags:function(){return ALL_TAGS[this.category]},url:function(){var a;return a=encodeURIComponent(this.tag),"/search?tags="+a}}),this.ALL_TAGS={Index:[{tag:"Nasdaq 100",displayName:"Nasdaq 100",count:107},{tag:"S&P 500",displayName:"S&P 500",count:472}],"Industry - Oil & Gas":[{tag:"Independent Oil & Gas",displayName:"Independent Oil & Gas",count:117},{tag:"Oil & Gas Drilling",displayName:"Oil & Gas Drilling",count:1},{tag:"Oil & Gas Drilling & Exploration",displayName:"Oil & Gas Drilling & Exploration",count:54},{tag:"Oil & Gas E&P",displayName:"Oil & Gas E&P",count:12},{tag:"Oil & Gas Equipment & Services",displayName:"Oil & Gas Equipment & Services",count:60},{tag:"Oil & Gas Integrated",displayName:"Oil & Gas Integrated",count:1},{tag:"Oil & Gas Midstream",displayName:"Oil & Gas Midstream",count:1},{tag:"Oil & Gas Pipelines",displayName:"Oil & Gas Pipelines",count:58},{tag:"Oil & Gas Production",displayName:"Oil & Gas Production",count:13},{tag:"Oil & Gas Refining & Marketing",displayName:"Oil & Gas Refining & Marketing",count:29},{tag:"Oil Refining/Marketing",displayName:"Oil Refining/Marketing",count:2},{tag:"Oil, Gas & Coal",displayName:"Oil, Gas & Coal",count:2},{tag:"Oilfield Services/Equipment",displayName:"Oilfield Services/Equipment",count:2}],"Location by Country":[{tag:"Argentina",displayName:"Argentina",count:15},{tag:"Australia",displayName:"Australia",count:12},{tag:"Auto Salvage",displayName:"Auto Salvage",count:1},{tag:"Bahamas",displayName:"Bahamas",count:2},{tag:"Belgium",displayName:"Belgium",count:4},{tag:"Bermuda",displayName:"Bermuda",count:44},{tag:"Brazil",displayName:"Brazil",count:32},{tag:"Canada",displayName:"Canada",count:177},{tag:"Cayman Islands",displayName:"Cayman Islands",count:12},{tag:"Chile",displayName:"Chile",count:17},{tag:"China",displayName:"China",count:178},{tag:"Colombia",displayName:"Colombia",count:5},{tag:"Curacao",displayName:"Curacao",count:1},{tag:"Cyprus",displayName:"Cyprus",count:1},{tag:"Denmark",displayName:"Denmark",count:3},{tag:"Finland",displayName:"Finland",count:1},{tag:"France",displayName:"France",count:11},{tag:"Germany",displayName:"Germany",count:10},{tag:"Greece",displayName:"Greece",count:19},{tag:"Hong Kong",displayName:"Hong Kong",count:23},{tag:"India",displayName:"India",count:11},{tag:"Indonesia",displayName:"Indonesia",count:1},{tag:"Ireland",displayName:"Ireland",count:28},{tag:"Israel",displayName:"Israel",count:83},{tag:"Italy",displayName:"Italy",count:6},{tag:"Japan",displayName:"Japan",count:17},{tag:"Korea",displayName:"Korea",count:1},{tag:"Luxembourg",displayName:"Luxembourg",count:11},{tag:"Macau",displayName:"Macau",count:1},{tag:"Malaysia",displayName:"Malaysia",count:1},{tag:"Marshall Islands",displayName:"Marshall Islands",count:2},{tag:"Mexico",displayName:"Mexico",count:14},{tag:"Monaco",displayName:"Monaco",count:8},{tag:"Netherlands",displayName:"Netherlands",count:34},{tag:"Norway",displayName:"Norway",count:3},{tag:"Panama",displayName:"Panama",count:2},{tag:"Peru",displayName:"Peru",count:5},{tag:"Philippines",displayName:"Philippines",count:1},{tag:"Portugal",displayName:"Portugal",count:1},{tag:"Puerto Rico",displayName:"Puerto Rico",count:1},{tag:"Russia",displayName:"Russia",count:6},{tag:"Singapore",displayName:"Singapore",count:5},{tag:"South Africa",displayName:"South Africa",count:10},{tag:"South Korea",displayName:"South Korea",count:10},{tag:"Spain",displayName:"Spain",count:4},{tag:"Sweden",displayName:"Sweden",count:3},{tag:"Switzerland",displayName:"Switzerland",count:15},{tag:"Taiwan",displayName:"Taiwan",count:11},{tag:"Turkey",displayName:"Turkey",count:1},{tag:"United Arab Emirates",displayName:"United Arab Emirates",count:1},{tag:"United Kingdom",displayName:"United Kingdom",count:61},{tag:"United States",displayName:"United States",count:4064},{tag:"Venezuela",displayName:"Venezuela",count:2}],"Location by City":[{tag:"Albuquerque",displayName:"Albuquerque",count:2},{tag:"Anchorage",displayName:"Anchorage",count:3},{tag:"Ann Arbor",displayName:"Ann Arbor",count:1},{tag:"Austin",displayName:"Austin",count:4},{tag:"Baltimore",displayName:"Baltimore",count:4},{tag:"Battle Creek",displayName:"Battle Creek",count:1},{tag:"Beaverton",displayName:"Beaverton",count:1},{tag:"Boston",displayName:"Boston",count:6},{tag:"Buenos Aires",displayName:"Buenos Aires",count:8},{tag:"Burbank",displayName:"Burbank",count:1},{tag:"Cambridge",displayName:"Cambridge",count:2},{tag:"Channel Islands",displayName:"Channel Islands",count:2},{tag:"Chicago",displayName:"Chicago",count:23},{tag:"Cincinnati",displayName:"Cincinnati",count:31},{tag:"Cleveland",displayName:"Cleveland",count:5},{tag:"Columbus",displayName:"Columbus",count:15},{tag:"Dallas",displayName:"Dallas",count:2},{tag:"Dayton",displayName:"Dayton",count:1},{tag:"Dearborn",displayName:"Dearborn",count:1},{tag:"Denver",displayName:"Denver",count:2},{tag:"Des Moines",displayName:"Des Moines",count:4},{tag:"Detroit",displayName:"Detroit",count:1},{tag:"Dublin",displayName:"Dublin",count:4},{tag:"El Segundo",displayName:"El Segundo",count:1},{tag:"Hartford",displayName:"Hartford",count:3},{tag:"Honolulu",displayName:"Honolulu",count:6},{tag:"Houston",displayName:"Houston",count:6},{tag:"Indianapolis",displayName:"Indianapolis",count:5},{tag:"Jackson",displayName:"Jackson",count:1},{tag:"Kyoto",displayName:"Kyoto",count:1},{tag:"Las Vegas",displayName:"Las Vegas",count:3},{tag:"Long Island",displayName:"Long Island",count:5},{tag:"Los Angeles",displayName:"Los Angeles",count:2},{tag:"Louisville",displayName:"Louisville",count:5},{tag:"McLean",displayName:"McLean",count:1},{tag:"Melbourne",displayName:"Melbourne",count:1},{tag:"Miami",displayName:"Miami",count:4},{tag:"Milwaukee",displayName:"Milwaukee",count:2},{tag:"Minneapolis",displayName:"Minneapolis",count:13},{tag:"Mountain View",displayName:"Mountain View",count:1},{tag:"Nashville",displayName:"Nashville",count:11},{tag:"New Orleans",displayName:"New Orleans",count:2},{tag:"Newark",displayName:"Newark",count:1},{tag:"Oklahoma City",displayName:"Oklahoma City",count:7},{tag:"Orlando",displayName:"Orlando",count:1},{tag:"Palo Alto",displayName:"Palo Alto",count:1},{tag:"Philadelphia",displayName:"Philadelphia",count:5},{tag:"Phoenix",displayName:"Phoenix",count:7},{tag:"Pittsburgh",displayName:"Pittsburgh",count:13},{tag:"Portland",displayName:"Portland",count:4},{tag:"Provo",displayName:"Provo",count:1},{tag:"Raleigh",displayName:"Raleigh",count:3},{tag:"Redmond",displayName:"Redmond",count:1},{tag:"Redwood City",displayName:"Redwood City",count:2},{tag:"Reston",displayName:"Reston",count:1},{tag:"Rochester",displayName:"Rochester",count:3},{tag:"Salt Lake City",displayName:"Salt Lake City",count:5},{tag:"San Antonio",displayName:"San Antonio",count:4},{tag:"San Diego",displayName:"San Diego",count:9},{tag:"San Francisco",displayName:"San Francisco",count:2},{tag:"San Jose",displayName:"San Jose",count:2},{tag:"San Mateo",displayName:"San Mateo",count:1},{tag:"San Ramon",displayName:"San Ramon",count:1},{tag:"Santa Clara",displayName:"Santa Clara",count:1},{tag:"Scottsdale",displayName:"Scottsdale",count:1},{tag:"Seattle",displayName:"Seattle",count:5},{tag:"St. Paul",displayName:"St. Paul",count:3},{tag:"St. Petersburg",displayName:"St. Petersburg",count:1},{tag:"Stamford",displayName:"Stamford",count:1},{tag:"Sunnyvale",displayName:"Sunnyvale",count:1},{tag:"Tampa",displayName:"Tampa",count:2},{tag:"Thousand Oaks",displayName:"Thousand Oaks",count:1},{tag:"Tokyo",displayName:"Tokyo",count:3},{tag:"Toledo",displayName:"Toledo",count:1},{tag:"Toronto",displayName:"Toronto",count:3},{tag:"Tulsa",displayName:"Tulsa",count:2},{tag:"Vancouver",displayName:"Vancouver",count:2},{tag:"Washington, DC",displayName:"Washington, DC",count:3},{tag:"Winston-Salem",displayName:"Winston-Salem",count:2}],"Industry - Finance":[{tag:"Accident & Health Insurance",displayName:"Accident & Health Insurance",count:12},{tag:"Banks",displayName:"Banks",count:1},{tag:"Banks - Global",displayName:"Banks - Global",count:1},{tag:"Banks - Regional - Latin America",displayName:"Banks - Latin America",count:1},{tag:"Banks - Regional - US",displayName:"Banks - US",count:7},{tag:"Credit Services",displayName:"Credit Services",count:42},{tag:"EDP Services",displayName:"EDP Services",count:4},{tag:"Finance: Consumer Services",displayName:"Finance: Consumer Services",count:30},{tag:"Hedge Funds",displayName:"Hedge Funds",count:1},{tag:"Insurance - Diversified",displayName:"Insurance - Diversified",count:2},{tag:"Insurance - Life",displayName:"Insurance - Life",count:1},{tag:"Insurance - Property & Casualty",displayName:"Insurance - Property & Casualty",count:3},{tag:"Insurance - Reinsurance",displayName:"Insurance - Reinsurance",count:1},{tag:"Insurance Brokers",displayName:"Insurance Brokers",count:12},{tag:"Investment Bankers/Brokers/Service",displayName:"Investment Bankers/Brokers/Service",count:2},{tag:"Investment Brokerage - National",displayName:"Investment Brokerage - National",count:23},{tag:"Investment Brokerage - Regional",displayName:"Investment Brokerage - Regional",count:7},{tag:"Investment Managers",displayName:"Investment Managers",count:1},{tag:"Life Insurance",displayName:"Life Insurance",count:27},{tag:"Money Center Banks",displayName:"Money Center Banks",count:50},{tag:"Mortgage Investment",displayName:"Mortgage Investment",count:21},{tag:"Property & Casualty Insurance",displayName:"Property & Casualty Insurance",count:71},{tag:"Regional - Mid-Atlantic Banks",displayName:"US Banks - Mid-Atlantic",count:76},{tag:"Regional - Midwest Banks",displayName:"US Banks - Midwest",count:45},{tag:"Regional - Northeast Banks",displayName:"US Banks - Northeast",count:68},{tag:"Regional - Pacific Banks",displayName:"US Banks - Pacific",count:41},{tag:"Regional - Southeast Banks",displayName:"US Banks - Southeast",count:38},{tag:"Regional - Southwest  Banks",displayName:"US Banks - Southwest",count:23},{tag:"Savings & Loans",displayName:"Savings & Loans",count:84},{tag:"Savings Institutions",displayName:"Savings Institutions",count:9}],"Industry - Technology":[{tag:"Application Software",displayName:"Application Software",count:126},{tag:"Computer Based Systems",displayName:"Computer Based Systems",count:6},{tag:"Computer Peripherals",displayName:"Computer Peripherals",count:15},{tag:"Computer Software: Prepackaged Software",displayName:"Computer Software: Prepackaged Software",count:4},{tag:"Computer Systems",displayName:"Computer Systems",count:2},{tag:"Computers Wholesale",displayName:"Computers Wholesale",count:7},{tag:"Consumer Electronics/Video Chains",displayName:"Consumer Electronics/Video Chains",count:1},{tag:"Data Storage Devices",displayName:"Data Storage Devices",count:15},{tag:"E-commerce",displayName:"E-commerce",count:13},{tag:"Information Technology",displayName:"Information Technology",count:563},{tag:"Information Technology Services",displayName:"Information Technology Services",count:40},{tag:"Internet Content & Information",displayName:"Internet Content & Information",count:4},{tag:"Internet Information Providers",displayName:"Internet Information Providers",count:54},{tag:"Internet Service Providers",displayName:"Internet Service Providers",count:5},{tag:"Internet Software & Services",displayName:"Internet Software & Services",count:27},{tag:"Multimedia & Graphics Software",displayName:"Multimedia & Graphics Software",count:20},{tag:"Networking & Communication Devices",displayName:"Networking & Communication Devices",count:15},{tag:"Online Game Provider",displayName:"Online Game Provider",count:2},{tag:"Other Consumer Services",displayName:"Other Consumer Services",count:1},{tag:"Software",displayName:"Software",count:117},{tag:"Software - Application",displayName:"Software - Application",count:4},{tag:"Software - Infrastructure",displayName:"Software - Infrastructure",count:2},{tag:"Technical & System Software",displayName:"Technical & System Software",count:18},{tag:"Videogames",displayName:"Videogames",count:9}],Ranking:[{tag:"Business Week 50",displayName:"Business Week 50",count:45},{tag:"Top Brands 2005",displayName:"Top Brands 2005",count:50},{tag:"Top Brands 2006",displayName:"Top Brands 2006",count:51}],Industry:[{tag:"Advertising",displayName:"Advertising",count:11},{tag:"Advertising Agencies",displayName:"Advertising Agencies",count:10},{tag:"Aerospace & Defense",displayName:"Aerospace & Defense",count:1},{tag:"Aerospace/Defense - Major Diversified",displayName:"Aerospace & Defense - Major Diversified",count:6},{tag:"Aerospace/Defense Products & Services",displayName:"Aerospace &Defense Products & Services",count:39},{tag:"Agricultural Chemicals",displayName:"Agricultural Chemicals",count:16},{tag:"Agricultural Inputs",displayName:"Agricultural Inputs",count:1},{tag:"Air Delivery & Freight Services",displayName:"Air Delivery & Freight Services",count:14},{tag:"Air Services, Other",displayName:"Air Services, Other",count:7},{tag:"Airlines",displayName:"Airlines",count:2},{tag:"Airports & Air Services",displayName:"Airports & Air Services",count:1},{tag:"Altamonte Springs",displayName:"Altamonte Springs",count:1},{tag:"Alternative Energy",displayName:"Alternative Energy",count:28},{tag:"Aluminum",displayName:"Aluminum",count:5},{tag:"Animation Studio",displayName:"Animation Studio",count:2},{tag:"Apparel Stores",displayName:"Apparel Stores",count:37},{tag:"Appliances",displayName:"Appliances",count:2},{tag:"Asset Management",displayName:"Asset Management",count:59},{tag:"Auto & Truck Dealerships",displayName:"Auto & Truck Dealerships",count:1},{tag:"Auto Dealerships",displayName:"Auto Dealerships",count:12},{tag:"Auto Manufacturers",displayName:"Auto Manufacturers",count:1},{tag:"Auto Manufacturers - Major",displayName:"Auto Manufacturers - Major",count:8},{tag:"Auto Parts",displayName:"Auto Parts",count:40},{tag:"Auto Parts Stores",displayName:"Auto Parts Stores",count:5},{tag:"Auto Parts Wholesale",displayName:"Auto Parts Wholesale",count:3},{tag:"Basic Materials Wholesale",displayName:"Basic Materials Wholesale",count:3},{tag:"Beverages",displayName:"Beverages",count:27},{tag:"Beverages - Brewers",displayName:"Beverages - Brewers",count:11},{tag:"Beverages - Soft Drinks",displayName:"Beverages - Soft Drinks",count:16},{tag:"Beverages - Wineries & Distillers",displayName:"Beverages - Wineries & Distillers",count:6},{tag:"Broadcasting",displayName:"Broadcasting",count:1},{tag:"Broadcasting - Radio",displayName:"Broadcasting - Radio",count:13},{tag:"Broadcasting - TV",displayName:"Broadcasting - TV",count:20},{tag:"Building Materials",displayName:"Building Materials",count:1},{tag:"Building Materials Wholesale",displayName:"Building Materials Wholesale",count:3},{tag:"Business Equipment",displayName:"Business Equipment",count:10},{tag:"Business Services",displayName:"Business Services",count:101},{tag:"Business Software & Services",displayName:"Business Software & Services",count:49},{tag:"Catalog & Mail Order Houses",displayName:"Catalog & Mail Order Houses",count:12},{tag:"Catalog/Specialty Distribution",displayName:"Catalog/Specialty Distribution",count:3},{tag:"CATV Systems",displayName:"CATV Systems",count:12},{tag:"Cement",displayName:"Cement",count:5},{tag:"Chemicals - Major Diversified",displayName:"Chemicals - Major Diversified",count:27},{tag:"Cleaning Products",displayName:"Cleaning Products",count:7},{tag:"Clothing",displayName:"Clothing",count:23},{tag:"Clothing/Shoe/Accessory Stores",displayName:"Clothing/Shoe/Accessory Stores",count:2},{tag:"Coal Mining",displayName:"Coal Mining",count:1},{tag:"Communication Equipment",displayName:"Communication Equipment",count:64},{tag:"Confectioners",displayName:"Confectioners",count:3},{tag:"Conglomerates",displayName:"Conglomerates",count:32},{tag:"Consumer Services",displayName:"Consumer Services",count:3},{tag:"Copper",displayName:"Copper",count:3},{tag:"Cosmetics",displayName:"Cosmetics",count:3},{tag:"Credit Card",displayName:"Credit Card",count:9},{tag:"Dairy Products",displayName:"Dairy Products",count:2},{tag:"Department Stores",displayName:"Department Stores",count:9},{tag:"Department/Specialty Retail Stores",displayName:"Department/Specialty Retail Stores",count:1},{tag:"Discount, Variety Stores",displayName:"Discount, Variety Stores",count:12},{tag:"Diversified Commercial Services",displayName:"Diversified Commercial Services",count:1},{tag:"Diversified Communication Services",displayName:"Diversified Communication Services",count:32},{tag:"Diversified Computer Systems",displayName:"Diversified Computer Systems",count:6},{tag:"Diversified Electronics",displayName:"Diversified Electronics",count:48},{tag:"Diversified Financial Services",displayName:"Diversified Financial Services",count:1},{tag:"Diversified Investments",displayName:"Diversified Investments",count:14},{tag:"Diversified Machinery",displayName:"Diversified Machinery",count:71},{tag:"Diversified Utilities",displayName:"Diversified Utilities",count:29},{tag:"Drug Stores",displayName:"Drug Stores",count:4},{tag:"Education & Training Services",displayName:"Education & Training Services",count:30},{tag:"Electric Utilities",displayName:"Electric Utilities",count:46},{tag:"Electric Utilities: Central",displayName:"Electric Utilities: Central",count:15},{tag:"Electronic Components",displayName:"Electronic Components",count:1},{tag:"Electronic Equipment",displayName:"Electronic Equipment",count:12},{tag:"Electronic Gaming & Multimedia",displayName:"Electronic Gaming & Multimedia",count:1},{tag:"Electronics Stores",displayName:"Electronics Stores",count:4},{tag:"Electronics Wholesale",displayName:"Electronics Wholesale",count:8},{tag:"Engineering & Construction",displayName:"Engineering & Construction",count:1},{tag:"Entertainment - Diversified",displayName:"Entertainment - Diversified",count:16},{tag:"Environmental Services",displayName:"Environmental Services",count:1},{tag:"Farm & Construction Machinery",displayName:"Farm & Construction Machinery",count:14},{tag:"Farm Products",displayName:"Farm Products",count:19},{tag:"Farming/Seeds/Milling",displayName:"Farming/Seeds/Milling",count:4},{tag:"Fitness Clubs",displayName:"Fitness Clubs",count:2},{tag:"Food - Major Diversified",displayName:"Food - Major Diversified",count:15},{tag:"Food Chains",displayName:"Food Chains",count:2},{tag:"Food Distributors",displayName:"Food Distributors",count:1},{tag:"Food Wholesale",displayName:"Food Wholesale",count:7},{tag:"Footwear",displayName:"Footwear",count:4},{tag:"Games",displayName:"Games",count:3},{tag:"Gaming Activities",displayName:"Gaming Activities",count:7},{tag:"Gas Utilities",displayName:"Gas Utilities",count:24},{tag:"General Building Materials",displayName:"General Building Materials",count:30},{tag:"General Contractors",displayName:"General Contractors",count:6},{tag:"General Entertainment",displayName:"General Entertainment",count:9},{tag:"Grocery Stores",displayName:"Grocery Stores",count:16},{tag:"Heavy Construction",displayName:"Heavy Construction",count:14},{tag:"Home Furnishing Stores",displayName:"Home Furnishing Stores",count:6},{tag:"Home Furnishings & Fixtures",displayName:"Home Furnishings & Fixtures",count:18},{tag:"Home Improvement",displayName:"Home Improvement",count:9},{tag:"Home Improvement Stores",displayName:"Home Improvement Stores",count:5},{tag:"Hotels",displayName:"Hotels",count:4},{tag:"Hotels/Resorts",displayName:"Hotels/Resorts",count:2},{tag:"Housewares & Accessories",displayName:"Housewares & Accessories",count:8},{tag:"Industrial Electrical Equipment",displayName:"Industrial Electrical Equipment",count:33},{tag:"Industrial Equipment & Components",displayName:"Industrial Equipment & Components",count:15},{tag:"Industrial Equipment Wholesale",displayName:"Industrial Equipment Wholesale",count:15},{tag:"Industrial Machinery/Components",displayName:"Industrial Machinery/Components",count:1},{tag:"Industrial Metals & Minerals",displayName:"Industrial Metals & Minerals",count:67},{tag:"Industrial Specialties",displayName:"Industrial Specialties",count:3},{tag:"Information & Delivery Services",displayName:"Information & Delivery Services",count:7},{tag:"Jewelry",displayName:"Jewelry",count:6},{tag:"Jewelry Stores",displayName:"Jewelry Stores",count:5},{tag:"Leisure",displayName:"Leisure",count:2},{tag:"Lodging",displayName:"Lodging",count:15},{tag:"Long Distance Carriers",displayName:"Long Distance Carriers",count:2},{tag:"Long-Term Care Facilities",displayName:"Long-Term Care Facilities",count:10},{tag:"Lumber, Wood Production",displayName:"Lumber, Wood Production",count:10},{tag:"Machine Tools & Accessories",displayName:"Machine Tools & Accessories",count:9},{tag:"Major Airlines",displayName:"Major Airlines",count:9},{tag:"Major Banks",displayName:"Major Banks",count:22},{tag:"Major Chemicals",displayName:"Major Chemicals",count:4},{tag:"Major Integrated Oil & Gas",displayName:"Major Integrated Oil & Gas",count:18},{tag:"Major Pharmaceuticals",displayName:"Major Pharmaceuticals",count:20},{tag:"Management Services",displayName:"Management Services",count:13},{tag:"Manufactured Housing",displayName:"Manufactured Housing",count:1},{tag:"Marine Transportation",displayName:"Marine Transportation",count:1},{tag:"Marketing Services",displayName:"Marketing Services",count:13},{tag:"Meat Products",displayName:"Meat Products",count:4},{tag:"Media - Diversified",displayName:"Media - Diversified",count:5},{tag:"Medical Appliances & Equipment",displayName:"Medical Appliances & Equipment",count:79},{tag:"Metal Fabrication",displayName:"Metal Fabrication",count:19},{tag:"Metal Fabrications",displayName:"Metal Fabrications",count:2},{tag:"Military/Government/Technical",displayName:"Military/Government/Technical",count:3},{tag:"Mining & Quarrying of Nonmetallic Minerals (No Fuels)",displayName:"Mining & Quarrying of Nonmetallic Minerals",count:2},{tag:"Movie Production, Theaters",displayName:"Movie Production, Theaters",count:10},{tag:"Movies/Entertainment",displayName:"Movies/Entertainment",count:1},{tag:"Municipal Bonds",displayName:"Municipal Bonds",count:6},{tag:"Music",displayName:"Music",count:5},{tag:"Music & Video Stores",displayName:"Music & Video Stores",count:1},{tag:"Natural Gas Distribution",displayName:"Natural Gas Distribution",count:5},{tag:"Nonmetallic Mineral Mining",displayName:"Nonmetallic Mineral Mining",count:9},{tag:"Nonprofit",displayName:"Nonprofit",count:1},{tag:"Office Equipment/Supplies/Services",displayName:"Office Equipment/Supplies/Services",count:1},{tag:"Office Supplies",displayName:"Office Supplies",count:2},{tag:"Other Specialty Stores",displayName:"Other Specialty Stores",count:2},{tag:"Packaged Foods",displayName:"Packaged Foods",count:4},{tag:"Packaging & Containers",displayName:"Packaging & Containers",count:21},{tag:"Paper & Paper Products",displayName:"Paper & Paper Products",count:11},{tag:"Pay TV",displayName:"Pay TV",count:2},{tag:"Personal Products",displayName:"Personal Products",count:23},{tag:"Personal Services",displayName:"Personal Services",count:14},{tag:"Photographic Equipment & Supplies",displayName:"Photographic Equipment & Supplies",count:2},{tag:"Pollution & Treatment Controls",displayName:"Pollution & Treatment Controls",count:17},{tag:"Power Generation",displayName:"Power Generation",count:2},{tag:"Precious Metals",displayName:"Precious Metals",count:1},{tag:"Printed Circuit Boards",displayName:"Printed Circuit Boards",count:12},{tag:"Processed & Packaged Goods",displayName:"Processed & Packaged Goods",count:27},{tag:"Processing Systems & Products",displayName:"Processing Systems & Products",count:4},{tag:"Property Management",displayName:"Property Management",count:27},{tag:"Property-Casualty Insurers",displayName:"Property-Casualty Insurers",count:7},{tag:"Publishing - Books",displayName:"Publishing - Books",count:4},{tag:"Publishing - Newspapers",displayName:"Publishing - Newspapers",count:7},{tag:"Publishing - Periodicals",displayName:"Publishing - Periodicals",count:7},{tag:"Radio And Television Broadcasting And Communications Equipment",displayName:"Broadcasting And Communications Equipment",count:2},{tag:"Railroads",displayName:"Railroads",count:19},{tag:"Real Estate",displayName:"Real Estate",count:3},{tag:"Real Estate - General",displayName:"Real Estate - General",count:1},{tag:"Real Estate Development",displayName:"Real Estate Development",count:23},{tag:"Real Estate Investment Trusts",displayName:"Real Estate Investment Trusts",count:11},{tag:"Real Estate Services",displayName:"Real Estate Services",count:2},{tag:"Recreational Goods, Other",displayName:"Recreational Goods, Other",count:7},{tag:"Recreational Vehicles",displayName:"Recreational Vehicles",count:8},{tag:"Regional Airlines",displayName:"Regional Airlines",count:11},{tag:"Rental & Leasing Services",displayName:"Rental & Leasing Services",count:23},{tag:"Rental/Leasing Companies",displayName:"Rental/Leasing Companies",count:1},{tag:"Research Services",displayName:"Research Services",count:7},{tag:"Residential Construction",displayName:"Residential Construction",count:24},{tag:"Resorts & Casinos",displayName:"Resorts & Casinos",count:26},{tag:"Restaurants",displayName:"Restaurants",count:53},{tag:"Retail",displayName:"Retail",count:26},{tag:"Retail - Consumer Staples",displayName:"Retail - Consumer Staples",count:1},{tag:"Rubber & Plastics",displayName:"Rubber & Plastics",count:14},{tag:"Scientific & Technical Instruments",displayName:"Scientific & Technical Instruments",count:40},{tag:"Security & Protection Services",displayName:"Security & Protection Services",count:15},{tag:"Security Software & Services",displayName:"Security Software & Services",count:10},{tag:"Semiconductor - Broad Line",displayName:"Semiconductor - Broad Line",count:26},{tag:"Semiconductor - Integrated Circuits",displayName:"Semiconductor - Integrated Circuits",count:46},{tag:"Semiconductor - Specialized",displayName:"Semiconductor - Specialized",count:30},{tag:"Semiconductor Equipment & Materials",displayName:"Semiconductor Equipment & Materials",count:43},{tag:"Semiconductor- Memory Chips",displayName:"Semiconductor- Memory Chips",count:7},{tag:"Semiconductors",displayName:"Semiconductors",count:6},{tag:"Services-Misc. Amusement & Recreation",displayName:"Services-Misc. Amusement & Recreation",count:1},{tag:"Shipping",displayName:"Shipping",count:47},{tag:"Shipping & Ports",displayName:"Shipping & Ports",count:2},{tag:"Shoe Manufacturing",displayName:"Shoe Manufacturing",count:1},{tag:"Small Tools & Accessories",displayName:"Small Tools & Accessories",count:7},{tag:"Specialized Health Services",displayName:"Specialized Health Services",count:18},{tag:"Specialty Alloys",displayName:"Specialty Alloys",count:4},{tag:"Specialty Chemicals",displayName:"Specialty Chemicals",count:57},{tag:"Specialty Eateries",displayName:"Specialty Eateries",count:7},{tag:"Specialty Finance",displayName:"Specialty Finance",count:2},{tag:"Specialty Insurers",displayName:"Specialty Insurers",count:2},{tag:"Specialty Retail",displayName:"Specialty Retail",count:94},{tag:"Speech Recognition Software",displayName:"Speech Recognition Software",count:1},{tag:"Sporting Activities",displayName:"Sporting Activities",count:10},{tag:"Sporting Goods",displayName:"Sporting Goods",count:7},{tag:"Sporting Goods Stores",displayName:"Sporting Goods Stores",count:4},{tag:"Staffing & Outsourcing Services",displayName:"Staffing & Outsourcing Services",count:27},{tag:"Steel & Iron",displayName:"Steel & Iron",count:30},{tag:"Steel/Iron Ore",displayName:"Steel/Iron Ore",count:1},{tag:"Synthetics",displayName:"Synthetics",count:3},{tag:"Technical Services",displayName:"Technical Services",count:13},{tag:"Teen Clothing",displayName:"Teen Clothing",count:8},{tag:"Telecom Services",displayName:"Telecom Services",count:3},{tag:"Telecom Services - Domestic",displayName:"Telecom Services - Domestic",count:14},{tag:"Telecom Services - Foreign",displayName:"Telecom Services - Foreign",count:8},{tag:"Telecommunications Equipment",displayName:"Telecommunications Equipment",count:12},{tag:"Television Services",displayName:"Television Services",count:3},{tag:"Textile - Apparel Clothing",displayName:"Textile - Apparel Clothing",count:26},{tag:"Textile - Apparel Footwear & Accessories",displayName:"Textile - Footwear & Accessories",count:16},{tag:"Textile Industrial",displayName:"Textile Industrial",count:5},{tag:"Theme Parks",displayName:"Theme Parks",count:4},{tag:"Tobacco Products, Other",displayName:"Tobacco Products, Other",count:2},{tag:"Toy & Hobby Stores",displayName:"Toy & Hobby Stores",count:1},{tag:"Toys & Games",displayName:"Toys & Games",count:4},{tag:"Trucking",displayName:"Trucking",count:19},{tag:"Trucking Freight/Courier Services",displayName:"Trucking Freight/Courier Services",count:1},{tag:"Trucks & Other Vehicles",displayName:"Trucks & Other Vehicles",count:7},{tag:"Utilities - Diversified",displayName:"Utilities - Diversified",count:1},{tag:"Utilities - Regulated Electric",displayName:"Utilities - Regulated Electric",count:1},{tag:"Waste Management",displayName:"Waste Management",count:24},{tag:"Water Utilities",displayName:"Water Utilities",count:13},{tag:"Wireless Communications",displayName:"Wireless Communications",count:29},{tag:"Women's Apparel",displayName:"Women's Apparel",count:13}],"Industry - Medical/Heathcare":[{tag:"Diagnostic Substances",displayName:"Diagnostic Substances",count:14},{tag:"Diagnostics & Research",displayName:"Diagnostics & Research",count:4},{tag:"Drug Delivery",displayName:"Drug Delivery",count:13},{tag:"Drug Manufacturers - Major",displayName:"Drug Manufacturers - Major",count:39},{tag:"Drug Manufacturers - Other",displayName:"Drug Manufacturers - Other",count:26},{tag:"Drug Manufacturers - Specialty & Generic",displayName:"Drug Manufacturers - Specialty & Generic",count:2},{tag:"Drug Related Products",displayName:"Drug Related Products",count:4},{tag:"Drugs - Generic",displayName:"Drugs - Generic",count:39},{tag:"Drugs Wholesale",displayName:"Drugs Wholesale",count:3},{tag:"Health Care Plans",displayName:"Health Care Plans",count:14},{tag:"Healthcare Information Services",displayName:"Healthcare Information Services",count:23},{tag:"Home Health Care",displayName:"Home Health Care",count:6},{tag:"Hospital/Nursing Management",displayName:"Hospital/Nursing Management",count:1},{tag:"Hospitals",displayName:"Hospitals",count:12},{tag:"Medical Care",displayName:"Medical Care",count:1},{tag:"Medical Devices",displayName:"Medical Devices",count:4},{tag:"Medical Equipment Wholesale",displayName:"Medical Equipment Wholesale",count:5},{tag:"Medical Instruments & Supplies",displayName:"Medical Instruments & Supplies",count:59},{tag:"Medical Laboratories & Research",displayName:"Medical Laboratories & Research",count:41},{tag:"Medical Specialities",displayName:"Medical Specialities",count:3},{tag:"Medical/Dental Instruments",displayName:"Medical/Dental Instruments",count:3},{tag:"Medical/Nursing Services",displayName:"Medical/Nursing Services",count:2}],"Industry - Biotech":[{tag:"Biotechnology",displayName:"Biotechnology",count:287},{tag:"Biotechnology: Biological Products (No Diagnostic Substances)",displayName:"Biotechnology: Biological Products ",count:3},{tag:"Biotechnology: Commercial Physical & Biological Resarch",displayName:"Biotechnology: Commercial Researcg",count:1},{tag:"Biotechnology: In Vitro & In Vivo Diagnostic Substances",displayName:"Biotechnology: Diagnostic Substances",count:1},{tag:"Genomics",displayName:"Genomics",count:12
}],Sector:[{tag:"Basic Materials",displayName:"Basic Materials",count:576},{tag:"Communication Services",displayName:"Communication Services",count:49},{tag:"Consumer Cyclical",displayName:"Consumer Cyclical",count:591},{tag:"Consumer Defensive",displayName:"Consumer Defensive",count:217},{tag:"Energy",displayName:"Energy",count:106},{tag:"Financial Services",displayName:"Financial Services",count:1051},{tag:"Healthcare",displayName:"Healthcare",count:713},{tag:"Industrials",displayName:"Industrials",count:716},{tag:"Realestate",displayName:"Realestate",count:51},{tag:"Technology",displayName:"Technology",count:859},{tag:"Unknown",displayName:"Unknown",count:308},{tag:"Utilities",displayName:"Utilities",count:116}],"Industry - Real Estate":[{tag:"REIT - Diversified",displayName:"REIT - Diversified",count:58},{tag:"REIT - Healthcare Facilities",displayName:"REIT - Healthcare Facilities",count:16},{tag:"REIT - Hotel/Motel",displayName:"REIT - Hotel/Motel",count:18},{tag:"REIT - Industrial",displayName:"REIT - Industrial",count:14},{tag:"REIT - Office",displayName:"REIT - Office",count:23},{tag:"REIT - Residential",displayName:"REIT - Residential",count:35},{tag:"REIT - Retail",displayName:"REIT - Retail",count:34}],Trend:[{tag:"Anti-terror",displayName:"Anti-terror",count:2},{tag:"Asbestos",displayName:"Asbestos",count:4},{tag:"Cancer Drugs",displayName:"Cancer Drugs",count:4},{tag:"Casinos",displayName:"Casinos",count:13},{tag:"CEO over 70",displayName:"CEO over 70",count:4},{tag:"CEO under 35",displayName:"CEO under 35",count:10},{tag:"Cigarettes",displayName:"Cigarettes",count:7},{tag:"Cloud Computing",displayName:"Cloud Computing",count:30},{tag:"Disrupts Bricks-and-Mortar",displayName:"Disrupts bricks and mortar",count:13},{tag:"Emerging Markets",displayName:"Emerging Markets",count:1},{tag:"Family Oriented",displayName:"Family Oriented",count:3},{tag:"Fast Food",displayName:"Fast Food",count:11},{tag:"Founder CEO",displayName:"Founder CEO",count:19},{tag:"Fuel Cells",displayName:"Fuel Cells",count:2},{tag:"Global Warming",displayName:"Global Warming",count:1},{tag:"Gold",displayName:"Gold",count:50},{tag:"Holding Company",displayName:"Holding Company",count:3},{tag:"Major 2005 Lawsuit",displayName:"Major 2005 Lawsuit",count:5},{tag:"Master Limited Partnership",displayName:"Master Limited Partnership",count:37},{tag:"Multi-level Marketing",displayName:"Multi-level Marketing",count:6},{tag:"Online Gambling",displayName:"Online Gambling",count:1},{tag:"Organic Foods",displayName:"Organic Foods",count:4},{tag:"Pornography",displayName:"Pornography",count:1},{tag:"Products for Nerds",displayName:"Products for Nerds",count:5},{tag:"RFID",displayName:"RFID",count:5},{tag:"Robots",displayName:"Robots",count:4},{tag:"SEC investigation",displayName:"SEC investigation",count:3},{tag:"Silver",displayName:"Silver",count:12},{tag:"Six Sigma(c)",displayName:"Six Sigma",count:29},{tag:"Social Networking",displayName:"Social Networking",count:7},{tag:"Specialty Retail, Other",displayName:"Specialty Retail, Other",count:44},{tag:"Stem Cells",displayName:"Stem Cells",count:7},{tag:"Surety & Title Insurance",displayName:"Surety & Title Insurance",count:5},{tag:"Synthetic Fuels",displayName:"Synthetic Fuels",count:8},{tag:"Tobacco",displayName:"Tobacco",count:8},{tag:"Venture Capital",displayName:"Venture Capital",count:1},{tag:"Voice Over Internet (VOIP)",displayName:"Voice Over IP",count:18},{tag:"Weapons",displayName:"Weapons",count:57}],Global:[{tag:"Foreign Money Center Banks",displayName:"Foreign Money Center Banks",count:10},{tag:"Foreign Regional Banks",displayName:"Foreign Regional Banks",count:23},{tag:"Foreign Utilities",displayName:"Foreign Utilities",count:2}],"Location by Region":[{tag:"Africa",displayName:"Africa",count:1},{tag:"Asia",displayName:"Asia",count:2},{tag:"Latin America",displayName:"Latin America",count:36},{tag:"South America",displayName:"South America",count:1}],"Investing Style":[{tag:"Blue Chip",displayName:"Blue Chip",count:207},{tag:"Buffett Stock",displayName:"Buffett Stock",count:86},{tag:"Distressed",displayName:"Distressed",count:921},{tag:"Growth",displayName:"Growth",count:942},{tag:"High Yield",displayName:"High Yield",count:21},{tag:"Value",displayName:"Value",count:919}],"Location by State":[{tag:"Alabama",displayName:"Alabama",count:8},{tag:"Alaska",displayName:"Alaska",count:4},{tag:"Alberta",displayName:"Alberta",count:1},{tag:"Arizona",displayName:"Arizona",count:10},{tag:"Arkansas",displayName:"Arkansas",count:7},{tag:"Atlanta",displayName:"Atlanta",count:17},{tag:"California",displayName:"California",count:34},{tag:"Colorado",displayName:"Colorado",count:8},{tag:"Connecticut",displayName:"Connecticut",count:5},{tag:"Delaware",displayName:"Delaware",count:1},{tag:"Florida",displayName:"Florida",count:14},{tag:"Georgia",displayName:"Georgia",count:25},{tag:"Hawaii",displayName:"Hawaii",count:8},{tag:"Illinois",displayName:"Illinois",count:27},{tag:"Iowa",displayName:"Iowa",count:8},{tag:"Kentucky",displayName:"Kentucky",count:8},{tag:"Louisiana",displayName:"Louisiana",count:4},{tag:"Maine",displayName:"Maine",count:2},{tag:"Maryland",displayName:"Maryland",count:6},{tag:"Massachusetts",displayName:"Massachusetts",count:12},{tag:"Michigan",displayName:"Michigan",count:16},{tag:"Minnesota",displayName:"Minnesota",count:29},{tag:"Mississippi",displayName:"Mississippi",count:2},{tag:"Missouri",displayName:"Missouri",count:13},{tag:"Nebraska",displayName:"Nebraska",count:6},{tag:"Nevada",displayName:"Nevada",count:2},{tag:"New Hampshire",displayName:"New Hampshire",count:2},{tag:"New Jersey",displayName:"New Jersey",count:15},{tag:"New York",displayName:"New York",count:32},{tag:"North Carolina",displayName:"North Carolina",count:11},{tag:"Ohio",displayName:"Ohio",count:77},{tag:"Oklahoma",displayName:"Oklahoma",count:10},{tag:"Ontario",displayName:"Ontario",count:5},{tag:"Oregon",displayName:"Oregon",count:28},{tag:"Pennsylvania",displayName:"Pennsylvania",count:21},{tag:"Rhode Island",displayName:"Rhode Island",count:2},{tag:"South Carolina",displayName:"South Carolina",count:4},{tag:"South Dakota",displayName:"South Dakota",count:5},{tag:"Tennessee",displayName:"Tennessee",count:18},{tag:"Texas",displayName:"Texas",count:20},{tag:"Utah",displayName:"Utah",count:13},{tag:"Vermont",displayName:"Vermont",count:3},{tag:"Virginia",displayName:"Virginia",count:8},{tag:"Washington",displayName:"Washington",count:9},{tag:"Wisconsin",displayName:"Wisconsin",count:12}],Event:[{tag:"Bought Competitor",displayName:"Bought Competitor",count:12},{tag:"IPO in 2000",displayName:"IPO in 2000",count:10},{tag:"IPO in 2001",displayName:"IPO in 2001",count:24},{tag:"IPO in 2002",displayName:"IPO in 2002",count:21},{tag:"IPO in 2003",displayName:"IPO in 2003",count:30},{tag:"IPO in 2004",displayName:"IPO in 2004",count:68},{tag:"IPO in 2005",displayName:"IPO in 2005",count:80},{tag:"IPO in 2006",displayName:"IPO in 2006",count:111},{tag:"IPO in 2007",displayName:"IPO in 2007",count:138},{tag:"IPO in 2008",displayName:"IPO in 2008",count:34},{tag:"IPO in 2009",displayName:"IPO in 2009",count:38},{tag:"IPO in 2010",displayName:"IPO in 2010",count:124},{tag:"IPO in 2011",displayName:"IPO in 2011",count:106},{tag:"IPO in 2012",displayName:"IPO in 2012",count:125},{tag:"IPO in 2013",displayName:"IPO in 2013",count:222},{tag:"IPO in 2014",displayName:"IPO in 2014",count:265},{tag:"IPO in 2015",displayName:"IPO in 2015",count:3},{tag:"Spin-off - 2006",displayName:"Spinoff in 2006",count:14},{tag:"Split in 2014",displayName:"Split in 2014",count:125},{tag:"Split in 2015",displayName:"Split in 2015",count:7}]}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.SEARCH_STATE={SEARCHING:"searching",LOADED:"loaded"},Template.search.destroyed=function(){return $("body").removeClass("is-buddhacave")},Template.search.created=function(){var e,t;return $("body").addClass("is-buddhacave"),this.cachedStore=new CachedStore,this.searchState=new ReactiveVar(SEARCH_STATE.LOADED),this.currentQuery=new ReactiveVar(location.search.replace(/^\?/,"")),t=QueryManager.get("sort",location.search),_.isEmpty(t)&&(t={}),this.currentSort=new ReactiveVar(t),this.currentTags=new ReactiveVar(QueryManager.get("tags",location.search)),e=location.search.match(/highlights.gains_(...)=/)&&location.search.match(/highlights.gains_(...)=/)[1],this.period=new ReactiveVar(e||"ytd"),this.timelinesMinMaxY=new ReactiveVar(null),this.columnSliderValues=new ReactiveVar(null),this.inputTextOnMagicBox,this.blurMagicBox,this.sliders=[],this.resetAllSlider=function(){return _.each(this.sliders,function(e){return e.resetSlider()})}},Template.search.helpers({showSearchLanding:function(){return Session.get(SESSION.SEARCH_LANDING)}}),Template.search.rendered=function(){var e,t,r;return this.$(".js-magic-box.main").focus(),r=this,e=["highlights.gains_ytd","highlights.gains_1mo","highlights.gains_6mo","highlights.gains_1yr","highlights.gains_5yr","market_cap","latestClose","peRatio","eps","fullTimeEmployeeCount","beta","dividendYield"],Meteor.apply("textSearch.facets",[e],{wait:!1},function(e,t){if(e)throw e;return r.columnSliderValues.set(t)}),this.getElasticFilters=function(e){var t,r,a,i,s,n,o,c;return i={},t=QueryManager.mongofy(e).condition,o=_.omit(t,["q","tags","sector","sort"]),c=JSON.stringify(o).replace(/\$gte/g,"gte").replace(/\$lte/g,"lte"),s=JSON.parse(c),a=[],_.each(s,function(e,t){return a.push({range:_.object([t],[e])})}),r=QueryManager.get("tags",e),n=[],_.each(r,function(e){return n.push({term:{"tags.raw":e}})}),{bool:{must:_.union(a,n)}}},this.getPostFilter=function(){var e,t;return e=QueryManager.get("sector",location.search),_.isEmpty(e)?void 0:(t=_.map(e,function(e){return{term:{"sector.raw":e}}}),{bool:{should:t}})},this.getElasticSort=function(){var e,t;return t=QueryManager.get("sort",location.search),_.isEmpty(t)?[]:(e="1"===t.order?"asc":"desc",[_.object([t.field],[e])])},this.textSearch=function(e,t,a){var i,s;return i=e,s=Tracker.nonreactive(function(){return r.currentQuery.get()}),r.cachedStore.existStore(s)?void 0:Meteor.apply("textSearch.initial",[e,t,a],{wait:!1},function(t,a){if(t)throw t;if(i===e)return r.cachedStore.save(s,a,{id:"symbol"})})},this.autorun(function(){var e,t,a,i,s,n;return FlowRouter.watchPathChange(),Session.get(SESSION.SEARCH_LANDING)?void 0:(i=QueryManager.get("q",location.search)[0]||"",e=r.getElasticFilters(location.search),n=QueryManager.get("tags",location.search),s=QueryManager.get("sort",location.search),_.isEmpty(s)&&(s={}),r.currentTags.set(n),r.currentSort.set(s),r.currentQuery.set(location.search.replace(/^\?/,"")),r.inputTextOnMagicBox(i),a=r.getPostFilter(),t=r.getElasticSort(),r.textSearch(i,e,{postFilter:a,sort:t}),r.searchState.set(SEARCH_STATE.LOADED),Meteor.defer(function(){return $(".js-header-tags").toggleClass("is-closed",!n.length),$(".js-result-wrapper").toggleClass("is-tags-closed",!n.length),$(".js-tags-list").scrollLeft(1e5)}))}),t=.2,this.autorun(function(){var e,a,i,s,n,o,c;return(o=r.columnSliderValues.get())?(n=r.period.get(),e="highlights.gains_"+n,c=o[e].values,i=c["5.0"],a=c["95.0"],i-=Math.abs(i)*t,a+=Math.abs(a)*t,s={min:i,max:a},r.timelinesMinMaxY.set(s)):void 0})}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,r,n,o,i,a,s,u,l,c,d,f=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};Template.searchHeader.helpers({searchLanding:function(){return Session.get(SESSION.SEARCH_LANDING)},currentTags:function(){return this.root.currentTags.get()},resultsCount:function(){var e,t;return t=this.root.currentQuery.get(),e=this.root.cachedStore.getMetadata(t),e?e.total:void 0}}),Template.searchHeader.events({"click .js-logo-search":function(e,t){return t.data.root.inputTextOnMagicBox(""),$(document).scrollTop(0)},"click .js-tag-remove-btn":function(e,t){var r,n,o,i;return r=t.data.root.currentTags,o=location.search,i=this.toString(),f.call(r.get(),i)>=0&&(o=QueryManager.remove("tags",o),n=_.difference(r.get(),[this.toString()]),_.each(n,function(e){return o=QueryManager.add("tags",e,o)})),RouteUtils.go("/search?"+o)}}),Template.searchHeader.rendered=function(){var e,t;return t=this,e=!0,this.autorun(function(r){var n,o;if(Session.get(SESSION.SEARCH_LANDING))return e=!0;if(e!==!1)return t.data.root.sliders=[],o=["peRatio","eps","fullTimeEmployeeCount","beta","dividendYield"],n=_.keys(QueryManager.mongofy(location.search).condition),_.intersection(n,o).length&&e&&Meteor.defer(function(){return t.$(".js-more-btn").popover("show")}),e=!1})},Template.searchResultsTimeframe.helpers({periodLabels:function(){return["YTD","1M","6M","1Y","5Y"]},periodValues:function(){return["ytd","1mo","6mo","1yr","5yr"]},selectedPeriod:function(){return this.root.period.get()}}),Template.searchResultsTimeframe.events({"click .js-filter-timeframe label":function(e,t){var r,n,o;return e.preventDefault(),n=$(e.currentTarget).find("input").val(),o=t.data.root.currentSort.get(),!_.isEmpty(o)&&o.field.match(/^highlights.gains_/)&&(r=QueryManager.remove("sort",location.search),t.data.root.currentSort.set({}),history.replaceState(history.state,document.title,location.pathname+"?"+r)),t.data.root.period.set(n)}}),n=function(e){var t;return t=32===e||8===e||9===e||13===e||27===e||e>36&&41>e||e>64&&91>e||e>47&&58>e||e>95&&112>e||e>185&&193>e||222===e},o=function(e){return!e||/[a-zA-Z0-9\,&'!$<>\/-]+$/i.test(e)},Template.magicBox.rendered=function(){var e,t,r;return e=this.$(".js-magic-box"),t=new ReactiveMagicBox(""),e.focus(),this.blurMagicBox=this.data.root.blurMagicBox=function(){return Meteor.defer(function(){return e.blur()})},this.inputTextOnMagicBox=this.data.root.inputTextOnMagicBox=function(r){return t.nonreactiveSet(r),e.val(r)},this.reactiveInputTextOnMagicBox=function(r){return t.reactiveSet(r),e.val(r)},r=this.data.root,this.goToQueryPage=this.data.root.goToQueryPage=function(e){var t;return r.searchState.set(SEARCH_STATE.LOADED),t="/search?"+e,FlowRouter.current().path!==t?RouteUtils.go(t):void 0},this.goToMainPage=this.data.root.goToMainPage=function(){return r.searchState.set(SEARCH_STATE.LOADED),RouteUtils.go("/search")}},t={UP:38,DOWN:40,TAB:9,ENTER:13,ESC:27,BACKSPACE:8},l=null,Template.magicBox.events({"keyup .js-magic-box":_.throttle(function(e,r){var i,a,s,u,c,d,f;if(n(e.which)&&(i=$(e.target),f=i.val().trim(),o(f)))return f&&Session.get(SESSION.SEARCH_LANDING)&&Session.set(SESSION.SEARCH_LANDING,!1),u=f?QueryManager.update("q",f,location.search):"",u=QueryManager.remove("sort",u),e.which===t.ENTER?void r.goToQueryPage(u):e.which===t.ESC?(r.goToMainPage(),void r.inputTextOnMagicBox("")):(c=r.data.root,c.currentQuery.set(u),c.currentSort.set({}),f||c.resetAllSlider(),Session.get(SESSION.SEARCH_LANDING)||(c.searchState.set(SEARCH_STATE.SEARCHING),a=c.getElasticFilters(u),d=QueryManager.get("sector",location.search),s=c.getPostFilter(),c.textSearch(f,a,{postFilter:s})),history.replaceState(history.state,document.title,location.pathname+"?"+u),l&&Meteor.clearTimeout(l),l=Meteor.setTimeout(function(){return i.val().trim()!==f?l=null:(r.goToQueryPage(u),l=null)},1e3))},500)}),Template.moreFilters.helpers({metricHeaders:function(){return[{title:"P/E Ratio",field:function(){return"peRatio"},minMax:[0,SEARCH.FILTER_TICKS],formatter:function(e){return parseFloat(e.toFixed(2))}},{title:"EPS",field:function(){return"eps"},minMax:[0,SEARCH.FILTER_TICKS],formatter:function(e){return Util.formatDollars(e,1)}},{title:"Employee Count",field:function(){return"fullTimeEmployeeCount"},minMax:[0,SEARCH.FILTER_TICKS],formatter:function(e){return Util.formatNumber(e)}},{title:"Beta",field:function(){return"beta"},minMax:[0,SEARCH.FILTER_TICKS],formatter:function(e){return parseFloat(e.toFixed(2))}},{title:"Dividend Yield",field:function(){return"dividendYield"},minMax:[0,SEARCH.FILTER_TICKS],formatter:function(e){return Util.formatPercent(e,2)}}]}}),Template.searchResultsColumnHeader.helpers({isSearchLanding:function(){return Session.get(SESSION.SEARCH_LANDING)},metricHeaders:function(){return[{title:"Stock Price",field:function(){return"latestClose"},minMax:[0,SEARCH.FILTER_TICKS],formatter:function(e){return Util.formatDollars(e,1)}},{title:this.root.period.get().toUpperCase()+" Returns",field:function(){return"highlights.gains_"+this.root.period.get()},minMax:[0,SEARCH.FILTER_TICKS],formatter:function(e){return Util.formatPercent(e,1,{smartThreshold:!1})}},{title:"Market Cap",field:function(){return"market_cap"},minMax:[0,SEARCH.FILTER_TICKS],formatter:function(e){return Util.formatDollars(e,0)}}]},allocationSource:function(){return{ready:function(e){return function(){var t,r;return r=e.root.currentQuery.get(),t=e.root.cachedStore.getMetadata(r)}}(this),kind:function(){return"sector"},get:function(e){return function(){var t,r,n,o;return o=e.root.currentQuery.get(),n=e.root.cachedStore.getMetadata(o),t=n.aggregations.sector.buckets,t=_.sortBy(t,function(e){return e.key}),r={label:_.size(t),minify:!0,allocations:_.map(t,function(e){return{weight:e.doc_count,kind:e.key,label:SECTOR_TO_LABEL[e.key]}})}}}(this),onRendered:function(e){return function(){var e,t;return t=QueryManager.get("sector",location.search),e=!_.isEmpty(t),$(".sector-slice-tooltip").remove(),_.each(self.$(".sector g.slice"),function(r){var n,o,i,a,s;return n=$(r),a=n.attr("data-kind"),s=SECTOR_TO_LABEL[a],o='<div class="sector-slice-tooltip tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',n.tooltip({trigger:"hover",container:"body",placement:"bottom",template:o}),i=e&&f.call(t,a)<0,n.toggleClass("dim",i)})}}(this)}}}),Template.searchResultsColumnHeader.events({"shown.bs.popover .js-more-btn":function(e,t){var r;return r=t.$(".js-more-filter-popover-content").empty(),t.renderedMoreFilter=Blaze.renderWithData(Template.moreFilters,this,r[0])},"hide.bs.popover .js-more-btn":function(e,t){var r;return r=t.renderedMoreFilter,r?Blaze.remove(r):void 0},"click g.slice":function(e,t){var r,n,o;return r=$(e.currentTarget).attr("data-kind"),o=QueryManager.get("sector",location.search),f.call(o,r)>=0?o=_.difference(o,[r]):o.push(r),n=QueryManager.remove("sector",location.search),_.each(o,function(e){return n=QueryManager.add("sector",e,n)}),RouteUtils.go("/search?"+n)},"mouseover .slice":function(e,t){var r;return r=$(e.currentTarget),r.addClass("hover")},"mouseout .slice":function(e,t){var r;return r=$(e.currentTarget),r.removeClass("hover")}}),Template.searchResultsColumnHeader.rendered=function(){var e;return e=this,this.autorun(function(){return Session.get(SESSION.SEARCH_LANDING)?void 0:Meteor.defer(function(){var t;return t=e.$(".js-more-btn"),t.popover({html:!0,content:'<div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>',template:'<div class="popover results-header-listing-column-more-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content js-more-filter-popover-content"></div></div>'}),$("body").unbind("click").bind("click",function(e){return $(".popover").length?t.is(e.target)||0!==t.has(e.target).length||0!==$(".popover").has(e.target).length?void 0:t.popover("hide"):void 0})})})},c=function(e,t){var r,n,o,i;return r=e.data.field(),r.match(/^highlights./)&&(i=e.data.root.period.get(),o=Calculations.returnsFromGains(t[0],i)||0,n=Calculations.returnsFromGains(t[1],i)||0,t=[o,n]),e.$(".js-min").text(e.data.formatter(t[0])),e.$(".js-max").text(e.data.formatter(t[1]))},d=function(e,t){var r;return r=(100*t/SEARCH.FILTER_TICKS).toFixed(1),e[r]},i=function(e,t,r){var n,o;return e?(o=d(e[t].values,parseInt(r[0])),n=d(e[t].values,parseInt(r[1])),[o,n]):[null,null]},u=function(e,t,r){var n;return n=QueryManager.remove(e,location.search),r["0.0"]!==t[0]&&(n=QueryManager.add(e,"__gte_"+t[0],n)),r["100.0"]!==t[1]&&(n=QueryManager.add(e,"__lte_"+t[1],n)),RouteUtils.go("/search?"+n)},r=function(e,t){var r;return r=null,_.each(e,function(n,o){return _.isNumber(n)&&(null===r||Math.abs(n-t)<Math.abs(e[r]-t))?r=o:void 0}),parseInt(r*(SEARCH.FILTER_TICKS/100))},s=function(e,t){var n,o;return e||t?(o=r(e,t.$gte),n=r(e,t.$lte),[o||0,n||SEARCH.FILTER_TICKS]):[null,null]},a=function(e,t){var r,n;return e||t?(n=!t.$gte||t.$gte<e["0.0"]?e["0.0"]:t.$gte,r=!t.$lte||e["100.0"]<t.$lte?e["100.0"]:t.$lte,[n,r]):[null,null]},Template.metricFilter.rendered=function(){var e,t,r;return r=this,t=this.data.root,this.autorun(function(){var e,n,o,u,l;if(!Session.get(SESSION.SEARCH_LANDING)&&(l=t.columnSliderValues.get(),e=r.data.field(),l)){if(u=QueryManager.get(e,location.search),_.isEmpty(u)?c(r,i(l,e,r.data.minMax)):(n=l[e].values,r.data.minMax=s(n,u),o=a(n,u),c(r,o)),r.slider)return;return r.slider=r.$(".slider-input").slider({min:0,max:SEARCH.FILTER_TICKS,value:r.data.minMax,tooltip:"hide"}),r.slider.resetSlider=function(){return r.data.minMax=[0,SEARCH.FILTER_TICKS],r.slider.slider("setValue",r.data.minMax),c(r,i(l,e,r.data.minMax))},t.sliders.push(r.slider)}}),e=t.period.get(),r.data.field().match(/^highlights/)?this.autorun(function(){var n,o,i;return o=t.period.get(),e!==o?(n="highlights.gains_"+e,_.isEmpty(QueryManager.get(n,location.search))||(i=QueryManager.remove(n,location.search),r.data.minMax=[0,SEARCH.FILTER_TICKS],r.slider.slider("setValue",r.data.minMax),RouteUtils.go("/search?"+i)),e=o):void 0}):void 0},Template.metricFilter.events({"slide .slider-input":function(e,t){return c(t,i(this.root.columnSliderValues.get(),this.field(),e.value))},"slideStop .slider-input":function(e,t){var r,n,o;return r=this.root.columnSliderValues.get(),n=this.field(),o=i(r,n,e.value),c(t,o),u(this.field(),o,r[n].values)},"click .js-sort-link":function(e,t){var r;return e.preventDefault(),$(e.target).is("a")&&"#"!==$(e.target).attr("href")?(r=$(e.target).attr("href"),RouteUtils.go(r)):void 0}}),Template.metricFilter.helpers({sortLink:function(){var e,t,r,n;return(t=this.field())?(e=this.root.currentSort.get(),r="-1",e&&e.field===t&&(r=-parseInt(e.order)),n=QueryManager.update("sort",t+"__"+r,this.root.currentQuery.get()),"/search?"+n):"#"},displaySort:function(){var e;if(e=this.root.currentSort.get(),e&&e.field===this.field()){if("1"===e.order)return'<span id="sorttable_sortfwdind">△</span>';if("-1"===e.order)return'<span id="sorttable_sortrevind">▽</span>'}},isSelectedSort:function(){var e;return e=this.root.currentSort.get(),e&&e.field===this.field()}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare;Template.searchHistograms.helpers({period:function(){return this.root.period.get()},returnsHistogramSource:function(){return{kind:function(){return"returns"},data:function(t){return function(){var r,a;return a=t.returnsSummary(),r={average:{value:a.average,bucket:a.bucket,label:Util.formatPercent(a.average,2,{smartThreshold:!1})},histogram:a.histogram,maxBucketCount:a.maxBucketCount}}}(this)}},marketCapHistogramSource:function(){return{kind:function(){return"market-cap"},data:function(t){return function(){var r,a;return a=t.marketCapSummary(),r={average:{value:a.average,bucket:a.bucket,label:Util.formatDollars(a.average,1)},histogram:a.histogram,maxBucketCount:a.maxBucketCount}}}(this)}}}),Template.histogram.rendered=function(){var t;return t=this,this.autorun(function(r){return function(){var a,e,n,i,u,c,o,s,d,h,l,m,g,p,f,k,v,x,b,y,S,B,C;return AppState.get(APP_STATE.WINDOW_WIDTH),a=r.$(".js-histogram"),a.empty(),S=[10,10],C=a.width()-S[0]-S[1],f=a.height(),B=t.data.source,v=B.kind(),p=B.data(),s=p.average,k=p.histogram,k=_.sortBy(k,function(t){return t._id}),y=p.maxBucketCount,n=5,u=20,e=15,c=d3.scale.ordinal().domain(_.range(HISTOGRAM_BUCKET_COUNT)).rangeBands([0,C],.25),o=d3.scale.linear().domain([0,y]).range([0,f-u-e]),g=d3.select(a.get(0)),m=g.append("svg").attr("width",a.width()).attr("height",a.height()).append("g").attr("transform","translate("+S[0]+", 0)"),l=m.selectAll("g.bucket").data(k).enter().append("g").attr("class","bucket").attr("transform",function(t){return"translate("+c(t._id)+", "+(f-e)+") scale(1, -1)"}),h=c.rangeBand(),l.append("rect").attr("width",h).attr("rx",h/2).attr("ry",h/2).attr("height",function(t){return Math.max(o(t.count),h)}),m.append("rect").attr("class","baseline").attr("width",C).attr("height",6).attr("rx",2).attr("ry",2).attr("x",0).attr("y",f-n-3),d=c(s.bucket)+c.rangeBand()/2,b=m.append("g").attr("class","marker").attr("transform","translate("+d+", "+u+")"),i=60,x=0,i>d?x=i-d:d>C-i&&(x=C-d-i),b.append("text").attr("text-anchor","middle").attr("x",x).text(s.label),b.append("line").attr("y1",10).attr("y2",f),b.append("circle").attr("cx",0).attr("cy",f-n-u).attr("r",n)}}(this))}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,a,t,i;a={EPS:"eps",EMPLOYEE_COUNT:"fullTimeEmployeeCount",YTD_RETURNS:"highlights.gains_ytd",LATEST_CLOSE:"latestClose",PE_RATIO:"peRatio",MARKET_CAP:"market_cap",BETA:"beta"},i={VERY_HIGH:{gte:"80.0",lte:"100.0"},HIGH:{gte:"60.0",lte:"80.0"},MEDIUM:{gte:"40.0",lte:"60.0"},LOW:{gte:"20.0",lte:"40.0"},VERY_LOW:{gte:"0.0",lte:"20.0"}},t=[{count:46,name:"Blue Chip in Warren Buffet Portfolio",tags:["Blue Chip","Buffett Stock"],img:"/img/landingface02.png"},{count:41,name:"Low Risk, High Earnings",metricFilters:[{field:a.BETA,value:i.VERY_LOW},{field:a.EPS,value:i.VERY_HIGH}],img:"/img/landingface03.png"},{count:32,name:"Products for Nerds",tags:["Videogames"],img:"/img/landingface04.png"},{count:29,name:"Small and Profitable",metricFilters:[{field:a.EMPLOYEE_COUNT,value:i.VERY_LOW},{field:a.EPS,value:i.VERY_HIGH}],img:"/img/landingface05.png"},{count:26,name:"Founder CEOs",tags:["Founder CEO"],img:"/img/landingface06.png"},{count:16,name:"Recent Stock Splits",tags:["Split in 2014"],img:"/img/landingface07.png"},{count:13,name:"Big in Brazil",tags:["Brazil"],metricFilters:[{field:a.MARKET_CAP,value:i.VERY_HIGH}],img:"/img/landingface08.png"},{count:8,name:"Retail and Military Weapons",tags:["Weapons"],img:"/img/landingface09.png"},{count:7,name:"All IPOs in 2014",tags:["IPO in 2014"],img:"/img/landingface01.png"}],Template.trendingSearch.helpers({url:function(){var e,a;if(e="",this.tags&&_.each(this.tags,function(a){return e=QueryManager.add("tags",a,e)}),this.metricFilters){if(a=this.root.columnSliderValues.get(),!a)return;_.each(this.metricFilters,function(t){var i;return i=a[t.field].values,_.each(t.value,function(a,n){return e=QueryManager.add(t.field,"__"+n+"_"+i[a],e)})})}return"/search?"+e}}),Template.searchLanding.helpers({trendingSearches:t}),Template.searchLanding.events({"click .js-all-tags-btn":function(e,a){return a.data.root.allTagsClicked.set(!0)},"hidden.bs.modal":function(e,a){return a.data.root.allTagsClicked.set(!1)}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.searchResults.helpers({searchResults:function(){var e,t;return e=this.root.currentQuery.get(),t=this.root.cachedStore.getStore(e),t?t.find():void 0},noResults:function(){var e,t;return t=this.root.currentQuery.get(),e=this.root.cachedStore.getMetadata(t),e?!e.total:void 0},moreResults:function(){return this.root.searchState.get()===SEARCH_STATE.LOADED?Template.instance().moreResults():void 0},clearFilterUrl:function(){var e,t;return t=QueryManager.get("q",location.search)[0]||"",t&&(e=QueryManager.add("q",t,"")),"/search?"+(e||"")},filtered:function(){var e;return e=this.root.currentQuery.get(),!!QueryManager.remove("q",e)}}),Template.searchResults.events({"click .js-clear-filter":function(e,t){return t.data.root.resetAllSlider()}}),Template.searchResults.created=function(){return this.moreResults=function(){var e,t,r,o,a;return a=this.data.root,o=a.currentQuery.get(),(t=a.cachedStore.getStore(o))?(r=a.cachedStore.getMetadata(o),e=t.find().count(),r.total===e?!1:!0):!1}},Template.searchResults.rendered=function(){var e,t;return t=this,e=function(){var e,r,o,a,n,c,i,s;if(t.moreResults())return s=t.data.root,c=Tracker.nonreactive(function(){return s.currentQuery.get()}),i=QueryManager.get("q",c)[0]||"",a={},e=s.cachedStore.getStore(c).find().count(),r=s.getElasticFilters(c),n=s.getPostFilter(),o=s.getElasticSort(),a=_.extend(a,{postFilter:n,from:e,size:5,sort:o}),Meteor.apply("textSearch.infiniteScroll",[i,r,a],{wait:!1},function(t,r){if(t)throw t;if(s.cachedStore.getStore(c).find().count()===e)return s.cachedStore.save(c,r,{id:"symbol"})})},this.autorun(function(){var t;return t=AppState.get(APP_STATE.SCROLL_TOP),t>$(document).height()-$(window).height()-300?e():void 0})}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,i,n,r,a,s,o,c,l,u,h,d=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};u=function(t){var e;return e=t.trim(),/^\s/.test(t)&&(e="... "+e),/[^\.]$/.test(t)&&(e+=" ..."),e},h=Stocks.simpleSchema(),l=function(t){var e;return e=h.getDefinition(t),e&&e.label||_s.titleize(t)},r=function(t,e){var i,n;return i=_.map(t,function(t){return t.replace(/<.[^>]*>/g,"")}),n=_.difference(e,i),_.flatten([t,_.first(n,3)])},Template.searchResultItem.created=function(){return this.isMaximized=new ReactiveVar(!1)},o=function(){var t;return document.getSelection?t=document.getSelection().toString():document.selection&&document.selection.createRange&&(t=document.selection.createRange().text),!_.isEmpty(t)},Template.searchResultItem.events({"click a":function(t){return t.preventDefault()},"click a.js-listing-like":function(t,e){return t.stopPropagation(),e.$("a.js-listing-like").toggleClass("active")},"click li.normal, click li.maxi":function(t,e){var i;if(!o())return i=$(t.currentTarget).hasClass("normal"),i?e.$("li").removeClass("normal").addClass("maxi"):(e.isMaximized.set(i),e.$("li").removeClass("maxi").addClass("normal"))},"transitionend li.js-listing, webkitTransitionEnd li.js-listing, mozTransitionEnd li.js-listing, oTransitionEnd li.js-listing":function(t,e){var i;return i=$(t.target),i.is("li.js-listing")&&i.hasClass("maxi")?e.isMaximized.set(!0):void 0}}),n="-",s=function(t){return"gains_"+t.root.period.get()},Template.searchResultItem.helpers({sectorLabel:function(){var t;return t=this.sector.text?SECTOR_TO_LABEL[this.sector.text]:"Unknown",this.sector.matched?"<span class='match'>"+t+"</span>":t},relevance:function(){var t,e;if(!Template.instance().isMaximized.get())return this.relevance?(t=[],_.size(this.relevance.description)&&(e=_.map(this.relevance.description,u).join(" "),t=["<p>"+e+"</p>"]),_.each(_.pairs(this.relevance),function(e){return function(i){var n,a;return n=i[0],a=i[1],"tags"===n&&(a=r(a,e.tags)),"description"!==n&&_.size(a)?t.push("<p><span class='key'>"+l(n)+":</span> "+a.join(", ")+"</p>"):void 0}}(this)),t.join("\n")):"Click to expand."},isMaximized:function(){return Template.instance().isMaximized.get()},searchLoaded:function(){return this.root.searchState.get()===SEARCH_STATE.LOADED},lastPrice:function(){return Util.formatDollars(this.latestClose,2,{smartSuffix:!1,invalidText:n})},ipoPrice:function(){return Util.formatDollars(this.ipoPrice,2,{smartSuffix:!1,invalidText:n})},marketCapFormatted:function(){return Util.formatDollars(this.market_cap,1)},returnsFormatted:function(){var t,e;return t=this.highlights&&this.highlights[s(this)],e=Calculations.returnsFromGains(t,this.root.period.get()),Util.formatPercent(e,2,{smartThreshold:!1,invalidText:n})},marketCapActiveIdx:function(){return RouteUtils.subsReady("stockThresholds")?Calculations.bucket(this.market_cap,StockThresholds.findOne({name:"market_cap"}).values):void 0},returnsActiveIdx:function(){var t,e;return RouteUtils.subsReady("stockThresholds")?(t=this.root.period.get().toLowerCase(),e=StockThresholds.findOne({name:"gains_"+t}),Calculations.bucket(this.highlights&&this.highlights[s(this)],e.values)):void 0},gainsSinceIpo:function(){var t;return t=this.highlights&&this.highlights.gains_max,Util.formatPercent(t,2,{smartThreshold:!1,invalidText:n})}}),Template.searchResultMaximized.created=function(){var t,e;return this.maximizedData=new ReactiveVar(null),e=this,t=QueryManager.get("q",location.search)[0]||"",Meteor.call("stock.maximized",this.data.symbolRaw,t,function(t,i){if(t)throw t;return e.maximizedData.set(i[0])})},Template.searchResultMaximized.helpers({maximizedData:function(){return Template.instance().maximizedData.get()},description:function(){return this.description||"Company description not available."},employeeCount:function(){return Util.formatNumber(this.fullTimeEmployeeCount,{invalidText:"Not Available"})},foundedYear:function(){return this.foundedYear||"Not Available"},headquarters:function(){return this.headquarters||"Not Available"},peRatio:function(){return this.peRatio&&this.peRatio.toFixed(1)||"N/A"},eps:function(){return this.eps&&Util.formatDollars(this.eps,2)||"N/A"},beta:function(){return this.beta&&this.beta.toFixed(2)||"N/A"},dividendYield:function(){return this.dividendYield&&Util.formatPercent(this.dividendYield,2)||"N/A"},hasTags:function(){return _.size(this.tags)>0},priceRange:function(){var t,e,i,n;return this.priceRange&&2===_.size(this.priceRange)?(t=function(t){return Util.formatDollars(t,2,{smartSuffix:!1})},n=this.priceRange,i=n[0],e=n[1],t(i)+" - "+t(e)):"Not Available"},googleLink:function(){return"https://www.google.com/finance?q="+this.symbolRaw},yahooLink:function(){return"http://finance.yahoo.com/q?s="+this.symbolRaw}}),Template.searchResultMaximized.rendered=function(){var t;return $("body").off("mouseover").on("mouseover",function(){return"hidden"===$("body").css("overflow")?$("body").css("overflow","auto"):void 0}),t=this,this.autorun(function(e){return t.maximizedData.get()?(Meteor.defer(function(){var e,i;return i=t.$(".js-description .match"),i.length?(e=t.$(".js-description"),i.position().top>e.height()/2?e.animate({scrollTop:i.position().top-e.height()/2},500):void 0):void 0}),e.stop()):void 0})},a=function(t){return t.replace(/<(.|\n)*?>/g,"")},Template.searchResultMaximized.events({"click .js-listing-maxi .tags a":function(t){return t.stopPropagation()},"click .js-more a":function(t){return t.stopPropagation()},"click .js-tag-link":function(t,e){var i,n;return t.preventDefault(),i=location.search,n=a(this.toString()),d.call(QueryManager.get("tags",location.search),n)<0&&(i=QueryManager.add("tags",n,location.search)),RouteUtils.go("/search?"+i)},"scroll .description":function(t,e){return $("body").css("overflow","hidden")}}),c=function(t){var e,i;return e=t[0],i=e.getBoundingClientRect(),i.top>=0&&i.left>=0&&i.bottom<=$(window).height()&&i.right<=$(window).width()},e=function(){function t(t,e){this._update(t||!1,e||null)}return t.prototype._update=function(t,e){return this._rendered=t,this._period=e},t.prototype.updateInfo=function(t,e){return this._update(t,e)},t.prototype.isRendered=function(t){return this._rendered&&this._period===t},t}(),Template.stockChart.created=function(){var t;return this.stockHistory=new ReactiveVar,this.chartRenderInfo=new e,t=this,Meteor.apply("stock.history",[this.data.symbolRaw],{wait:!1},function(e,i){if(e)throw e;return t.stockHistory.set(i)})},i=26784e5,Template.stockChart.rendered=function(){var t,e;return t=this.$(".js-chart"),e=this,this.autorun(function(){var n,r,a,s,o,l,u,h,d;if(e.stockHistory.get()&&(AppState.get(APP_STATE.SCROLL_TOP),AppState.get(APP_STATE.WINDOW_WIDTH),c(t)&&(u=e.data.root.period.get(),!e.chartRenderInfo.isRendered(u)&&(s=Calculations.gainsPeriodInterval(u,BenchmarkFunds.spy()),h=new Stock(e.stockHistory.get()),a=h.mergedHistory()))))return d=Calculations.truncate(a,s),r=Calculations.gainsHistory(d),l=e.data.root.timelinesMinMaxY.get(),l?(o=_.first(d).date,n=o-s.start,i>n&&(s.start=o),e.chartRenderInfo.updateInfo(!0,u),Charts.renderSparkline(t,r,l,s,{fillLeft:!1,dateCaptions:!0})):void 0})}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n;Template.smooth.rendered=function(){var e,t,r,o;return this.data&&this.data.plugin?(r=n[this.data.plugin])?(t=r(),t.moveElement||(t.moveElement=function(e,t,n){return $(e).remove(),t.parentNode.insertBefore(e,t)}),check(t,Match.Where(function(e){return _.isFunction(e.insertElement)&&_.isFunction(e.moveElement)&&_.isFunction(e.removeElement)})),o=this,e=this.$(this.data.hookClass)[0]||this.lastNode,e._uihooks={insertElement:function(e,n){return t.insertElement(e,n,o)},moveElement:function(e,n){return t.moveElement(e,n,o)},removeElement:function(e){return t.removeElement(e,o)}}):console.error("Can't find plugin "+this.data.plugin):console.error("Missing 'plugin' argument")},t="webkitTransitionEnd oTransitionEnd transitionEnd msTransitionEnd transitionend",n={transitionForSummary:function(){var e;return e={insertElement:function(e,t,n){return t.parentNode.insertBefore(e,t),Tracker.afterFlush(function(){return Meteor.defer(function(){return n.$(".js-old-result").length?n.$(".js-old-result").addClass("out"):void 0})})},removeElement:function(e,n){return $(e).addClass("js-old-result").addClass("old-result").addClass("fade"),$(e).one(t,function(t){return t.target===e?$(e).remove():void 0})}}},transitionForPieChart:function(){var e,n;return e=function(e,t){var n;return n=Meteor.setInterval(function(){return $.contains(document.documentElement,e)||Meteor.clearInterval(n),$(e).find("svg").length?(t(),Meteor.clearInterval(n)):void 0},300)},n={insertElement:function(t,n,r){return n.parentNode.insertBefore(t,n),r.$(".js-old-result").length?e(t,function(){return r.$(".js-old-result").addClass("out")}):void 0},removeElement:function(e,n){return $(e).addClass("js-old-result").addClass("old-result").addClass("fade"),$(e).one(t,function(t){return t.target===e?$(e).remove():void 0})}}},transitionForStockResults:function(){var e,t,n;return e=Template.instance().$(".js-old-stock-result").addClass("hidden"),t=$("div.js-right-side-scroll"),n={insertElement:function(n,r,o){return r.parentNode.insertBefore(n,r),Tracker.afterFlush(function(){return Meteor.defer(function(){return e.is(":empty")?void 0:(0!==t.scrollTop()&&t.scrollTop(0),t.removeClass("loading"),e.addClass("hidden").empty())})})},removeElement:function(t,n){return $(t).remove(),$(t).appendTo(e),e.hasClass("hidden")&&!e.attr("data-no-result")&&e.removeClass("hidden"),Tracker.afterFlush(function(){return!e.is(":empty")&&n.$(".js-smooth-loading>.js-listing").length?e.addClass("hidden").empty():void 0})}}}}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,n,r,o,i;n=function(t){return Util.formatDollars(t,2,{smartSuffix:!0,heuristicPrecision:!1})},o=function(t){return t.symbol?(t.symbol=t.symbol.replace(".","-"),t.asset_class?"/symbol/"+PathUtils.securitySymbolSlug(t):null):void 0},Template.fundDetails.helpers({minimumInvestment:function(){var t,e;return t=this.source.minimumInvestment,_.compact(t).length?(e=""+n(t[0].replace(/,/g,"")),2===_.compact(t).length&&(e+="&ndash;"+n(t[1].replace(/,/g,""))),e):"N/A"}}),Template.fundDetailCategory.created=function(){var t,e,n;return this.topFunds=new ReactiveVar(null),t=5,e=this.data.source.fund_type,n=RouteUtils.currentSymbol(),Meteor.apply("topFundsFromCategory",[e,t,n],{wait:!1},function(t){return function(e,n){if(e)throw e;return t.topFunds.set(n)}}(this))},Template.fundDetailCategory.helpers({symbolColor:function(){return UIHelpers.securityColor.expectedColorForHolding(this)},topFunds:function(){return Template.instance().topFunds.get()},url:function(){return o(this)}}),Template.fundDetailSiblings.created=function(){var t;return t=this.data.source.canonicalSymbol,this.siblings=new ReactiveVar(null),Meteor.apply("siblingsBySymbol",[t,RouteUtils.currentSymbol()],{wait:!1},function(t){return function(e,n){if(e)throw e;return t.siblings.set(n)}}(this))},Template.fundDetailSiblings.helpers({symbolColor:function(){return UIHelpers.securityColor.expectedColorForHolding(this)},fundSiblings:function(){return Template.instance().siblings.get()},url:function(){return"/symbol/"+this.symbol+"-"+Util.slugify(this.name)},fundSiblingsAvailable:function(){var t;return!!(null!=(t=Template.instance().siblings.get())?t.length:void 0)}}),Template.fundDetailHoldings.helpers({topHoldings:function(){return this.source.holdings.length?this.source.holdings:void 0},weightTotal:function(){return Util.sum(this.source.holdings,function(t){return t.weight})}}),Template.fundDetailHoldingItem.helpers({symbolColor:function(){return UIHelpers.securityColor.expectedColorForHolding(this)},url:function(){return o(this)},displaySymbol:function(){return this.symbol||"N/A"}}),e=function(t,e){return{ready:function(){return t},kind:function(){return e},get:function(){var n,r,o,i;return n={allocations:t[e]},"sector"===e&&(r=_.filter(n.allocations,function(t){return"unknown"!==t.kind}),o=_.first(_.sortBy(r,function(t){return-t.weight}),3),i=Util.sum(o,function(t){return t.weight}),n.label=Util.formatPercent(i,1),n.subLabel="Top 3 Sectors"),n}}},Template.fundDetailAllocations.helpers({assetClassSource:function(){return e(this.source.allocation,"asset_class")},marketCapSource:function(){return e(this.source.allocation,"market_cap")},regionalSource:function(){return e(this.source.allocation,"regional")},sectorSource:function(){return e(this.source.allocation,"sector")},marketCapDescription:function(){var t,e,n,r;return n=this.source.allocation.market_cap,e=r=0,_.each(n,function(t,n){return _.contains(["large","giant"],t.kind)?e+=t.weight:_.contains(["medium","small","micro"],t.kind)?r+=t.weight:void 0}),t=Util.approxEqual(e+r,0),t?"We don't have market cap information for this portfolio.":"<em>"+Util.formatPercent(e,1)+"</em> of this fund is in large to giant-sized company stocks; <em>"+Util.formatPercent(r,1)+"</em> is in medium to micro-sized company stocks."},regionalDescription:function(){var t,e,n;return n=this.source.allocation.international,t=e=0,_.each(n,function(n,r){return"domestic"===n.kind?t+=n.weight:"international"===n.kind?e+=n.weight:void 0}),Util.approxEqual(t+e,0)?"We don't have regional information for this portfolio.":"<em>"+Util.formatPercent(t,1)+"</em> of this fund is in North American stocks."}}),Template.fundDetailAllocations.events({"mouseenter .info-card":function(t,e){return $(t.currentTarget).find(".hover-info").addClass("show")},"mouseleave .info-card":function(t,e){return $(t.currentTarget).find(".hover-info").removeClass("show")}}),Template.fundDetailAllocationsSector.created=function(){return this.hoverKind=new ReactiveVar(null)},r=function(t){return _.pluck(t,"kind")},i=function(t){return t?t.weight:0},Template.fundDetailAllocationsSector.helpers({sectorSource:function(){return e(this.source.allocation,"sector")},sectorRows:function(){var t,e,n,o;return t=BenchmarkFunds.spy(),o=this.source.allocation.sector,e=[],t&&(e=t.allocation.sector),n=_.union(r(e),r(o)),_.map(n,function(t){var n,r,l;return l=_.findWhere(o,{kind:t}),n=_.findWhere(e,{kind:t}),r={_id:t+"_"+i(l)+"_"+i(n),kind:t,label:(null!=n?n.label:void 0)||(null!=l?l.label:void 0),description:SECTOR_TO_DESCRIPTION[t],weightFormatted:Util.formatPercent(i(l),1,{smartThreshold:!1}),benchmarkWeightFormatted:Util.formatPercent(i(n),1,{smartThreshold:!1})}})}}),Template.fundDetailAllocationsSector.events({"mouseover g.slice":function(t,e){return e.hoverKind.set($(t.currentTarget).data("kind"))},"mouseout  g.slice":function(t,e){return e.hoverKind.set(null)},"mouseenter .list tr":function(t,e){return e.hoverKind.set($(t.currentTarget).attr("class"))},"mouseleave .list tr":function(t,e){return e.hoverKind.set(null)}}),Template.fundDetailAllocationsSector.rendered=function(){var t;return t=this,sorttable.makeSortable(this.$("table.sorttable").get(0)),this.autorun(function(){var e,n;return n=t.hoverKind.get(),e=t.$("svg"),t.$(".list tr").removeClass("hover"),e.find("g.slice").removeClass("hover"),n&&(t.$(".list tr."+n).addClass("hover"),e.find("g.slice."+n).addClass("hover")),t.$("[data-toggle=popover]").popover({trigger:"hover"})})}}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare;Template.temporaryDataTable.helpers({formattedRows:function(){return _.map(this.fields,function(t){return function(e){return"<tr><td><h2>"+e+"</h2></td><td>"+JSON.stringify(_.deep(t.item,e))+"</td></tr>"}}(this))}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,r,i,n,s,o,u,a;i=function(){var t,e;if(FlowRouter.subsReady())return e=Stocks.findOne({symbol:RouteUtils.currentSymbol()}),t=Funds.findOne({symbol:RouteUtils.currentSymbol()}),e||t},n=function(){var t;if(FlowRouter.subsReady())return Stocks.findOne({symbol:RouteUtils.currentSymbol()})?t=SECURITY.STOCK:Funds.findOne({symbol:RouteUtils.currentSymbol()})?t=SECURITY.FUND:void 0},Template.security.helpers({source:function(){return i()},type:function(){return n()},isStatusOkay:function(){return!i().status}}),Template.securityTitle.helpers({symbolColor:function(){return UIHelpers.securityColor.generateColors([this.source.asset_class])}}),Template.securityWithStatus.helpers({getStatusText:function(){var t,e;return e=this.source.status,t=" Try a different stock below.","ticker_delisted"===e?this.source.symbol+" is no longer listed on "+this.source.exchange+"."+t:"ticker_change"===e?this.source.symbol+" has expired."+t:"acquired"===e?this.source.symbol+" has been acquired."+t:this.source.symbol+" has no data available."+t}}),s=function(t){var e;return e=parseInt(t.replace(/[^0-9]/g,"")),e?e:1},Template.securityContent.onCreated(function(){return this.autorun(function(t){return function(){var e;return e=Meteor.user(),e?t.subscribe("portfoliosByOwnerShortId",e.profile.shortId,{fields:{relatedPortfolios:0,cachedHistory15yr:0}}):void 0}}(this))}),Template.securityContent.created=function(){return this.timelineData={period:new ReactiveVar("1yr"),benchmark:new ReactiveVar(BENCHMARK.BALANCED.symbol),weightedMergedHistory:new ReactiveVar(null),benchmarkMergedHistory:new ReactiveVar(null),highlights:new ReactiveDict},this.timelineData.highlights.set("returns",null),this.timelineData.highlights.set("risk",null),this.timelineData.highlights.set("expenses",null),this.timelineData.highlights.set("yields",null),this.isLoading=new ReactiveVar(!1)},e=function(t){return"gains_"+t},a=function(t){return"stddev_"+t},Template.securityContent.rendered=function(){var t,r;return Meteor.defer(function(t){return function(){return t.$(".js-floating").addClass("floating-done")}}(this)),t=this,r=this.timelineData,t._initialPeriodCalculated=!1,this.autorun(function(){var e,i,n,s;return n=t.data.source,r.highlights.set("expenses",n.highlights.expense_net),r.highlights.set("yields",n.dividendYield),s=n.startDate(),!t._initialPeriodCalculated&&(t._initialPeriodCalculated=!0,e=Calculations.availableYears(s),e>=1)?(i=_.max(_.filter(PERIOD.YEARS,function(t){return e>=t})),r.period.set(i+"yr")):void 0}),this.autorun(function(){var i,n,s,o,u,l,c,h,f;return c=t.data.source,o=r.period.get(),h=BenchmarkFunds.spy(),i=c.highlights&&c.highlights[e(o)],u=Calculations.returnsFromGains(i,o),r.highlights.set("returns",u),l=c.highlights&&c.highlights[a(o)],r.highlights.set("risk",l),s=Calculations.gainsPeriodInterval(o,h),n=c.mergedReinvestedHistory(),f=Calculations.truncate(n,s),r.weightedMergedHistory.set(f),r.highlights.set("yields",c.dividendYield)}),this.autorun(function(){var e,i,n,s,o,u,a,l;if(RouteUtils.subsReady("benchmarkFunds"))return a=t.data.source,u=r.period.get(),l=BenchmarkFunds.spy(),n=r.benchmark.get(),e=function(){switch(n){case"SPY":return l;case BENCHMARK.BALANCED.symbol:return new WeightedBenchmark(BENCHMARK.BALANCED.holdings);default:return BenchmarkFunds.findOne({symbol:n})}}(),s={strict:!1},o=Calculations.gainsPeriodInterval(u,BenchmarkFunds.spy()),i=e.mergedReinvestedHistory(o,s),i&&(i=Calculations.truncate(i,o)),r.benchmarkMergedHistory.set(i)})},Template.securityContent.helpers({timelineData:function(){return Template.instance().timelineData},formattedRows:function(){return _.map(this.fields,function(t){return function(e){return"<tr><td><h2>"+e+"</h2></td><td>"+JSON.stringify(_.deep(t.item,e))+"</td></tr>"}}(this))},typeIsFund:function(){return this.type===SECURITY.FUND},typeToTemplate:function(){return this.type===SECURITY.STOCK?"stockDetails":this.type===SECURITY.FUND?"fundDetails":void 0},isLoggedIn:function(){return Meteor.user()},isLoading:function(){return Template.instance().isLoading.get()},isPortfolioListVisible:function(){return RouteUtils.subsReady()?Meteor.user()&&Portfolios.find().count():!1},isDailyHistoryAvailable:function(){return this.source.dailyHistory},category:function(){return this.source.sector||this.source.fund_type},getHumanizedText:function(t){return t.replace(/\_/g," ")},getClassText:function(t){return t.toLowerCase().replace(/\ /g,"-").replace(/\./g,"")}}),r=function(t,e){return t===SECURITY.STOCK?Stocks.findOne({symbol:e}):Funds.findOne({symbol:e})},Template.securityContent.events({"click .js-new-portfolio-with-holding":function(t,e){var i;return i=_.pick(r(e.data.type,e.data.source.symbol),TB.HOLDING_FIELDS),_.extend(i,{weight:.01*parseFloat(DEFAULT_HOLDING.WEIGHT),amount:TB.DEFAULT_PORTFOLIO_AMOUNT}),AccountUIHelpers.requireSignin(EVENT.SECURITY).then(function(){return UIHelpers.portfolio.createPortfolioWithRequireOptions({holdings:[i]},function(t){return t?void 0:Analytics.event(EVENT.SECURITY.CREATE_PORTFOLIO)})})},"click .js-add-to-existing-portfolio":function(t,e){var i;return t.preventDefault(),t.stopPropagation(),Template.instance().isLoading.set(!0),$("body").addClass("modal-open"),i=_.pick(r(e.data.type,e.data.source.symbol),TB.HOLDING_FIELDS),i.weight=.01*parseFloat(DEFAULT_HOLDING.WEIGHT),UIHelpers.portfolio.addHoldingToExistingPortfolio(i,this.shortId)}}),Template.securityContent.destroyed=function(){return $("body").removeClass("modal-open")},o=function(){return _.map(PERIOD.YEARS,function(t){return t?"gains_"+t+"yr":"gains_ytd"})},u=function(){return _.map(PERIOD.YEARS,function(t){return t?"stddev_"+t+"yr":"stddev_ytd"})},Template.securityTable.helpers({getPeriods:function(){return PERIOD.LABELS},getReturns:function(){var t;return t=_.pick(this.source.highlights,o()),_.values(_.map(t,function(t,e){var r;return r=Calculations.returnsFromGains(parseFloat(t),s(e)+"yr"),{value:Util.formatPercent(r,TB.HOLDING_PERCENT_DECIMALS,{smartSuffix:!1}),key:e}}))},getRisks:function(){var t;return t=_.pick(this.source.highlights,u()),_.values(_.map(t,function(t,e){return{value:Util.formatPercent(t,TB.HOLDING_PERCENT_DECIMALS,{smartSuffix:!1}),key:e}}))},is3Yor15Y:function(t){var e;return e=parseInt(t.replace(/[^\d]/g,"")),3===e||15===e}}),Template.securityPrice.helpers({formattedLatestClose:function(){return Util.formatDollars(this.source.latestClose,2,{smartSuffix:!1})},getPointClass:function(){var t,e,r;return(e=_.last(this.source.dailyHistory,2))?(t=_.last(e).price,r=_.first(e).price,t>r?"up":r>t?"down":void 0):void 0},formattedPercentageChange:function(){var t,e;return(e=_.last(this.source.dailyHistory,2))?(t=_.last(e).price/_.first(e).price-1,Util.formatPercent(t,TB.HOLDING_PERCENT_DECIMALS,{smartSuffix:!1})):"N/A"},formattedPriceChange:function(){var t,e;return(e=_.last(this.source.dailyHistory,2))?(t=_.last(e).price-_.first(e).price,Util.formatDollars(t,2,{smartSuffix:!1,currencyPrefix:!1})):"N/A"}}),Template.securityRelatedPortfolios.helpers({getPortfolioUrl:function(){return"/portfolio/"+this.shortId+"-"+this.slug},getUsersPortfoliosWithSource:function(){var t,e;return Meteor.user()?(e=this,t=_.sortBy(Portfolios.find().fetch(),function(t){return-t.updatedAt}),_.filter(t,function(t){return _.find(t.holdings,function(t){return t.symbol===e.source.symbol})})):null},getUsersPortfoliosWithoutSource:function(){var t,e;return Meteor.user()&&this.source.dailyHistory?(e=this,t=_.sortBy(Portfolios.find().fetch(),function(t){return-t.updatedAt}),_.reject(t,function(t){return _.find(t.holdings,function(t){return t.symbol===e.source.symbol})})):null}}),Template.securityDescription.helpers({getDescription:function(){return this.source.description}}),Template.securityQuarterlyRevenue.created=function(){return this.data.highestRevenue=_.max(this.data.source.quarterlyRevenueHistory,function(t){return t.revenue}).revenue},Template.securityQuarterlyRevenue.helpers({isQuarterlyRevenueHistoryAvailable:function(){return this.source.quarterlyRevenueHistory},quarterlyRevenueHistory:function(){var t,e;return e=_.groupBy(this.source.quarterlyRevenueHistory,function(t){var e;return e=new Date(t.date),t.month=e.getMonth()+1,t.year=e.getFullYear()}),t=_.sortBy(_.toArray(e),function(t){return-t[0].year}),_.map(t,function(t){return _.sortBy(t,function(t){return-t.month})})},formatLabel:function(t){var e;return e=Util.formatDate(t,{withTime:!0}).split(" "),e[0]+" "+e[1]},formatRevenue:function(t){return Util.formatDollars(t,2,{heuristicPrecision:!1})},isFirst:function(t){return _.first(Template.parentData(1))===t},parentLength:function(){return Template.parentData(1).length},getGraphLength:function(t){return t/Template.instance().data.highestRevenue*100+"%"}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,r,e;r={market_cap:{title:"Market Cap",transform:function(t){return Util.formatDollars(t,1,{smartSuffix:!0,heuristicPrecision:!1})}},peRatio:{title:"P/E Ratio",transform:function(t){return Util.formatDollars(t,2,{smartSuffix:!1,currencyPrefix:!1})}},eps:{title:"Earnings Per Share",transform:function(t){return Util.formatDollars(t,2,{smartSuffix:!1})}},beta:{title:"Beta",transform:function(t){return Util.formatDollars(t,2,{smartSuffix:!1,currencyPrefix:!1})}},priceRange:{title:"52-Week Range",transform:function(t){return Util.formatDollars(_.first(t),2,{smartSuffix:!1})+"&ndash;"+Util.formatDollars(_.last(t),2,{smartSuffix:!1})}},headquarters:{transform:function(t){var r;return"string"==typeof t?t:(r="",t.city&&(r+=t.city),t.state&&(r+=", "+t.state),t.country&&r&&(r+="<br/>"),t.country&&(r+=t.country),r?r:void 0)}},companyUrl:{title:"Company URL","class":"url truncate-1line",transform:function(t){return"<a href='"+t+"' target='_blank'>"+t+"</a>"}}},Template.stockDetails.helpers({metadata:function(){var t;return t=Stocks.simpleSchema(),_.map(_.keys(r),function(e){return function(a){var n,i;return i=r[a],n=e.source[a],{title:i.title||t.label(a)||a,field:a,data:i.transform&&n?i.transform(n):n,"class":i["class"]?i["class"]:void 0}}}(this))}}),e=function(t){var r,e;return r=UIHelpers.portfolio.primaryAssetClasses(t),e=UIHelpers.securityColor.generateColors(r),_.each(t,function(t,r){return t.symbolColor=e[r]}),t},Template.relatedStockAndFund.created=function(){var t,r;return r=this,this.related=new ReactiveVar(null),t=_.pluck(this.data.source.related,"symbol"),Meteor.apply("holdingsBySymbols",[t,this.data.type],{wait:!1},function(t,e){if(t)throw t;return r.related.set(e)})},Template.relatedStockAndFund.helpers({isDataAvailable:function(){return Template.instance().related.get()},getRelatedStockAndFund:function(){return e(Template.instance().related.get())},getUrl:function(){return"/symbol/"+PathUtils.securitySymbolSlug(this)}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,e;e=function(){var r;return r=FlowRouter.current().params.shortId,Users.findOne({"profile.shortId":r})},Template.profile.helpers({profileUser:function(){var r;return(r=e())?new User(r):void 0},isCurrentUser:function(){var r,e,o;return o=FlowRouter.current().params.shortId,r=null!=(e=Meteor.user())?e.profile.shortId:void 0,o===r},portfolios:function(){var r;return(r=e())?Portfolios.findByOwnerId(r._id,{sort:{updatedAt:-1}}):void 0}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.userSettings.rendered=function(){return this.autorun(function(){return Meteor.userId()?void 0:RouteUtils.go("/")})},FormHelper.extendTemplateFormStatus(Template.userUpdateInfo),Template.userUpdateInfo.helpers({user:function(){return Meteor.user()},updateName:function(){return function(e,r,t){var a;return a={shortId:Meteor.user().profile.shortId,firstName:$('.js-profile-form [name="profile.firstName"]').val(),lastName:$('.js-profile-form [name="profile.lastName"]').val()},Meteor.call("saveProfile",a,function(e,r){return e?Alerts.error(e):Alerts.update("Name updated.")})}}}),FormHelper.extendTemplateFormStatus(Template.userChangePassword),Template.userChangePassword.helpers({changePassword:function(){return function(e,r,t){var a,o,s;return a=$(e),o=a.closest("[name=oldPassword]").val(),s=a.closest("[name=password]").val(),Accounts.changePassword(o,s,function(e){return e?"Incorrect password"===e.reason?Alerts.error("Current Password is wrong. Try again?"):void 0:Alerts.update("Password changed.")})}}})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;window.AppState=new ReactiveDict,Meteor.startup(function(){var e,t,o,r;return console.info("%cLove coding?\nLove investing?\nWe're hiring:\n\nhttps://lab80.typeform.com/to/IcOxyP\n\n<3 Lab80 / Seoul + SF\n","font-weight: 300; color: #ec5f3e; font-size: x-large;font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;-webkit-font-smoothing: antialiased;"),$("html").attr("lang","en-US"),("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent.match(/iPhone/i):void 0)&&(t=function(e){return"block"===e?"inline-block":"block"},OnWakeup.register(function(e){var o;return o=$("body").get(0),o.style.display=t(o.style.display)})),o=function(){return AppState.set(APP_STATE.WINDOW_WIDTH,$(window).width()),AppState.set(APP_STATE.WINDOW_HEIGHT,$(window).height())},r=function(){return AppState.set(APP_STATE.SCROLL_TOP,$(document).scrollTop())},Meteor.defer(function(){return o(),r()}),e=30,$(window).on("resize",_.throttle(o,e)),$(window).on("scroll",_.throttle(r,e)),AppState.set(APP_STATE.ZERO_CLIPBOARD_READY,!1),IRLibLoader.load("/js/ZeroClipboard.min.js",{success:function(){return ZeroClipboard.config({swfPath:"/js/ZeroClipboard.swf"}),AppState.set(APP_STATE.ZERO_CLIPBOARD_READY,!0)}}),Avatar.options=_.extend(Avatar.options,{gravatarDefault:"mm",emailHashProperty:"profile.emailHash"})}),Meteor.startup(function(){var e,t,o;return Tracker.autorun(function(e){return"portfolio"===FlowRouter.current().route.name?e.stop():FlowRouter.subsReady()?(AppState.set(APP_STATE.INITIAL_PAGE_READY,!0),e.stop()):void 0}),Tracker.autorun(function(e){var t;return(t=Meteor.user())?t.profile.emailNotAddedWith?AccountUIHelpers.requireEmail(t,function(e){return e.profile.justCreated?(UIHelpers.portfolio.createPortfolioWithRequireOptions(),Meteor.call("setJustCreatedFalse")):void 0}):t.profile.justCreated?(UIHelpers.portfolio.createPortfolioWithRequireOptions(),Meteor.call("setJustCreatedFalse")):void 0:void 0}),Tracker.autorun(function(){var e,t;return(t=Meteor.user())?(e={$name:t.fullName(),$first_name:t.profile.firstName,$last_name:t.profile.lastName,$email:t.emailAddress(),createdAt:t.createdAt},Analytics.user(t.profile.shortId,e)):void 0}),"mobile"===(null!=(t=Meteor.device)?t.type:void 0)?(e=$("body"),o=null,e.on("show.bs.modal",function(t){var r,i;return r=window.innerWidth>0?window.innerWidth:screen.width,i=$("#viewport").attr("content").replace(/(user-scalable)=([a-z]+)/,"$1=no").replace(/(width)=([0-9a-z\-]+)/,"$1="+r),$("#viewport").attr("content",i),o=e.scrollTop(),e.css({position:"fixed",left:0,right:0,top:-o})}).on("hidden.bs.modal",function(t){var r;return r=$("#viewport").attr("content").replace(/(user-scalable)=([a-z]+)/,"$1=yes").replace(/(width)=([0-9a-z\-]+)/,"$1=device-width"),$("#viewport").attr("content",r),e.css({position:"",left:"",right:"",top:""}).scrollTop(o)})):void 0})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,r;r=function(e,r,o){return Meteor.call("fundHoldingDataBySymbol",e,function(t,n){return t?(o&&o(),Alerts.error(t.reason)):(_.extend(n,{weight:1,amount:r||TB.DEFAULT_PORTFOLIO_AMOUNT}),UIHelpers.portfolio.createPortfolio({name:e+" Portfolio",description:"Made from goodbyegunstocks.com",holdings:[n]},function(e){return o&&o(),Analytics.event(e?EVENT.GUN_APP.CREATE_PORTFOLIO_FAIL:EVENT.GUN_APP.CREATE_PORTFOLIO_SUCCESS)}))})},Meteor.startup(function(){var e,o,t,n,a,u;if("goodbyegunstocks"===(null!=(n=FlowRouter.current().queryParams)?n.from:void 0))return o=FlowRouter.current().queryParams.login_token,u=FlowRouter.current().queryParams.symbol,e=parseInt(FlowRouter.current().queryParams.balance),t=Blaze.renderWithData(Template.overlayLoading,{},document.body),a=function(){return Meteor.defer(function(){return Blaze.remove(t)})},Meteor.user()&&u?r(u,e,a):Meteor.user()?(a(),Meteor.call("removeToken",o)):o?Meteor.call("trySignin",o,function(o,t){var n;return o?(a(),Alerts.error(o.reason)):(Meteor._localStorage.setItem("Meteor.loginToken",t.loginToken),Meteor._localStorage.setItem("Meteor.userId",t.userId),n=Tracker.autorun(function(o){return Meteor.user()?(Analytics.event(EVENT.GUN_APP.SIGN_IN_SUCCESS),u?r(u,e,a):a(),o.stop()):void 0}),Meteor.setTimeout(function(){return Analytics.event(EVENT.GUN_APP.SIGN_IN_FAIL),a(),n.stop()},5e3))}):a()})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare;Template.routerGo.rendered=function(){var t,e;return t=this.$("a"),this.href=this.data.url,this.href?(t.attr("href",this.href),this.data["class"]&&t.addClass(this.data["class"]),this.data.attr?(e=this.data.attr.split(" "),_.each(e,function(e){return e=e.split("="),e[1]=e[1].replace(/"|'/g,""),t.attr(e[0],e[1])})):void 0):t.children().unwrap()},Template.routerGo.events({click:function(t,e){return t.preventDefault(),e.href?"_blank"===e.data.target?window.open(e.href,"_blank"):RouteUtils.go(e.href):void 0}}),Template.registerHelper("subsReady",function(t){var e;return e=t&&t.hash.sub,RouteUtils.subsReady(e)})}).call(this);

(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,o,r,n,i,s,u,a,l=[].indexOf||function(e){for(var t=0,o=this.length;o>t;t++)if(t in this&&this[t]===e)return t;return-1};t=["/about","/privacy","/terms-of-service","/discover"],o=/^\/portfolio/,Tracker.autorun(function(){return FlowRouter.subsReady()&&!FlowRouter.current().path.match(o)?window.prerenderReady=!0:void 0}),FlowRouter.notFound={action:function(){return AppState.set(APP_STATE.ERROR_REDIRECT,NAVIGATION_ERROR),FlowRouter.go("/")}},i=!1,$(window).on("popstate",function(){return i=!0}),s=function(e){var o;if(i)return i=!1;if(o=e.route.path,!(l.call(t,o)>=0))return Meteor.defer(function(){return $("html, body").scrollTop(0)})},u=function(e){return Analytics.pageview(e.path)},FlowRouter.triggers.enter([u,s]),n={about:{title:"About - Hello Money"},discover:{ready:function(){return FlowRouter.subsReady("discoverNoindex")},data:function(){return DiscoverNoindex.findOne()},title:function(){var e;return e=FlowRouter.current().queryParams.q,e?e+" User Portfolios - Hello Money":"Discover User Portfolios - Hello Money"},meta:function(){var e,t;return t=FlowRouter.current().queryParams.q,e={description:"Search portfolios by type, risk, returns, expenses, holdings, and keywords."},this.data().noindex&&(e.robots="noindex, follow"),e}},forgot_password:{title:"Reset Password - Hello Money"},forgot_password_done:{title:"Password Email Sent - Hello Money"},home:{title:"Hello Money: Design and Share Portfolios",meta:function(){return{description:"Design your investment portfolio from 24,000+ stocks and funds, analyze it, and share it for peer and expert feedback."}}},portfolio:{ready:function(){return FlowRouter.subsReady("portfolio")},data:function(){return Portfolios.findOne({shortId:RouteUtils.currentShortId()})},title:function(){var e,t,o,r,n,i;return n=this.data(),e=5,t=UIHelpers.portfolio.getDisplayHoldings(n),i=_.first(t,e).join(", "),o=_.size(t)-e,o>0&&(i+=" + "+o+" more"),r=n.name.match(/portfolio\b/i)?n.name:n.name+" portfolio",r+" on Hello Money | "+i},meta:function(){var e,t,o,r,n,i;return n=this.data(),r={},e=n.description,o=UIHelpers.portfolio.holdingsSummary(n),t=UIHelpers.portfolio.getDisplayHoldings(n),i="Portfolio summary: "+o+". Holdings: "+t.join(" ,"),e!==TB.DEFAULT_PORTFOLIO.description&&_.size(e.trim())>10?r.description=e+"\n"+i:r.description=i,n.noindex&&(r.robots="noindex, follow"),r}},privacy:{title:"Privacy - Hello Money"},security:{ready:function(){return FlowRouter.subsReady("security")},data:function(){return Stocks.findOne({symbol:RouteUtils.currentSymbol()})||Funds.findOne({symbol:RouteUtils.currentSymbol()})},title:function(){var e;return e=this.data(),e.symbol+" "+e.name+" - Hello Money"},meta:function(){var e,t;return t=this.data(),e={},e.description=t.description,t.noindex&&(e.robots="noindex, follow"),e}},profile:{ready:function(){return FlowRouter.subsReady("profileUser")},data:function(){return Users.findOne({"profile.shortId":FlowRouter.current().params.shortId})},title:function(){var e;return e=this.data(),e.displayName()+" - Hello Money"}},reset_password:{title:"Reset Password - Hello Money"},reset_password_done:{title:"Reset Password Done - Hello Money"},search:{title:"Search - Hello Money"},settings:{title:"Settings - Hello Money"},terms_of_service:{title:"Terms of Service - Hello Money"},design:{ready:function(){return FlowRouter.subsReady("design")},data:function(){return Designs.findOne({shortId:RouteUtils.currentShortId()})},title:function(){var e;return e=this.data(),e.title+" - Hello Money Design Feedback"}}},a=function(e){var t;return t={},_.each(_.keys(e),function(o){return"ready"!==o?t[o]=_.result(e,o):void 0}),SEO.set(t)},FlowRouter.triggers.enter([function(e){var t,o,r,i;return i=null!=(r=e.route)?r.name:void 0,i&&(t=n[i],o=_.keys(e.queryParams||{}),o=_.reject(o,function(e){return/^utm_/.test(e)}),_.size(o)&&(t||(t={}),t.meta||(t.meta={}),t.meta.robots="noindex, follow"),t)?_.has(t,"ready")?Meteor.defer(function(){return Tracker.autorun(function(e){return t.ready()?t.data()?(a(t),e.stop()):e.stop():void 0})}):a(t):void 0}]),r={design:{ready:function(){return RouteUtils.subsReady("design")},data:function(){return Designs.findOne({shortId:RouteUtils.currentShortId()})},correctedParams:function(){var e;return e=this.data(),{shortIdSlug:e.shortId+"-"+Util.slugify(e.title)}}},portfolio:{ready:function(){return RouteUtils.subsReady("portfolio")},data:function(){return Portfolios.findOne({shortId:RouteUtils.currentShortId()})},correctedParams:function(){var e;return e=this.data(),{shortIdSlug:e.shortId+"-"+(null!=e?e.slug:void 0)}}},security:{ready:function(){return RouteUtils.subsReady("security")},data:function(){return Funds.findOne({symbol:RouteUtils.currentSymbol()})||Stocks.findOne({symbol:RouteUtils.currentSymbol()})},correctedParams:function(){var e;return e=this.data(),{symbolSlug:PathUtils.securitySymbolSlug(e)}}}},FlowRouter.triggers.enter([function(e){var t,o,n;return(n=null!=(t=e.route)?t.name:void 0)?(o=r[n],RouteUtils.correctParams(o)):void 0}],{only:_.keys(r)}),FlowRouter.triggers.enter([function(e){return Meteor.defer(function(){return $("#hellomoney-loading").fadeOut()})}]),FlowRouter.route("/component",{name:"componentList",action:function(){return BlazeLayout.render("componentList")}}),FlowRouter.route("/component/:componentId",{name:"component",action:function(e){var t;return t=ComponentFixtures.getFixture(e.componentId),BlazeLayout.render("component",t)}})}).call(this);

